(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function makeMap(t,e){const n=Object.create(null),r=t.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function normalizeStyle(t){if(isArray(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=isString$1(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const s in o)e[s]=o[s]}return e}else{if(isString$1(t))return t;if(isObject$3(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function normalizeClass(t){let e="";if(isString$1(t))e=t;else if(isArray(t))for(let n=0;n<t.length;n++){const r=normalizeClass(t[n]);r&&(e+=r+" ")}else if(isObject$3(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}const toDisplayString=t=>isString$1(t)?t:t==null?"":isArray(t)||isObject$3(t)&&(t.toString===objectToString||!isFunction$1(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$3(e)&&!isArray(e)&&!isPlainObject$1(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE$1=/^on[^a-z]/,isOn$1=t=>onRE$1.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty.call(t,e),isArray=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isFunction$1=t=>typeof t=="function",isString$1=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$3=t=>t!==null&&typeof t=="object",isPromise=t=>isObject$3(t)&&isFunction$1(t.then)&&isFunction$1(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$1=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString$1(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},def=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},toNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(e){if(this.active){const n=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function effectScope(t){return new EffectScope(t)}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t){activeEffectScope&&activeEffectScope.cleanups.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const o=e[r];wasTracked(o)&&!newTracked(o)?o.delete(t):e[n++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}e.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,r)}run(){if(!this.active)return this.fn();let e=activeEffect,n=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,n){if(shouldTrack&&activeEffect){let r=targetMap.get(t);r||targetMap.set(t,r=new Map);let o=r.get(n);o||r.set(n,o=createDep()),trackEffects(o)}}function trackEffects(t,e){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,n=!wasTracked(t)):n=!t.has(activeEffect),n&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,n,r,o,s){const l=targetMap.get(t);if(!l)return;let u=[];if(e==="clear")u=[...l.values()];else if(n==="length"&&isArray(t)){const d=toNumber(r);l.forEach((f,g)=>{(g==="length"||g>=d)&&u.push(f)})}else switch(n!==void 0&&u.push(l.get(n)),e){case"add":isArray(t)?isIntegerKey(n)&&u.push(l.get("length")):(u.push(l.get(ITERATE_KEY)),isMap(t)&&u.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(t)||(u.push(l.get(ITERATE_KEY)),isMap(t)&&u.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&u.push(l.get(ITERATE_KEY));break}if(u.length===1)u[0]&&triggerEffects(u[0]);else{const d=[];for(const f of u)f&&d.push(...f);triggerEffects(createDep(d))}}function triggerEffects(t,e){const n=isArray(t)?t:[...t];for(const r of n)r.computed&&triggerEffect(r);for(const r of n)r.computed||triggerEffect(r)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=toRaw(this);for(let s=0,l=this.length;s<l;s++)track(r,"get",s+"");const o=r[e](...n);return o===-1||o===!1?r[e](...n.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){pauseTracking();const r=toRaw(this)[e].apply(this,n);return resetTracking(),r}}),t}function createGetter(t=!1,e=!1){return function(r,o,s){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&s===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(r))return r;const l=isArray(r);if(!t&&l&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,s);const u=Reflect.get(r,o,s);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(t||track(r,"get",o),e)?u:isRef(u)?l&&isIntegerKey(o)?u:u.value:isObject$3(u)?t?readonly(u):reactive(u):u}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(n,r,o,s){let l=n[r];if(isReadonly(l)&&isRef(l)&&!isRef(o))return!1;if(!t&&(!isShallow(o)&&!isReadonly(o)&&(l=toRaw(l),o=toRaw(o)),!isArray(n)&&isRef(l)&&!isRef(o)))return l.value=o,!0;const u=isArray(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn(n,r),d=Reflect.set(n,r,o,s);return n===toRaw(s)&&(u?hasChanged(o,l)&&trigger(n,"set",r,o):trigger(n,"add",r,o)),d}}function deleteProperty(t,e){const n=hasOwn(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&trigger(t,"delete",e,void 0),r}function has$2(t,e){const n=Reflect.has(t,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(t,"has",e),n}function ownKeys(t){return track(t,"iterate",isArray(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get,set:set$1,deleteProperty,has:has$2,ownKeys},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get$1(t,e,n=!1,r=!1){t=t.__v_raw;const o=toRaw(t),s=toRaw(e);n||(e!==s&&track(o,"get",e),track(o,"get",s));const{has:l}=getProto(o),u=r?toShallow:n?toReadonly:toReactive;if(l.call(o,e))return u(t.get(e));if(l.call(o,s))return u(t.get(s));t!==o&&t.get(e)}function has$1$1(t,e=!1){const n=this.__v_raw,r=toRaw(n),o=toRaw(t);return e||(t!==o&&track(r,"has",t),track(r,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set$1$1(t,e){e=toRaw(e);const n=toRaw(this),{has:r,get:o}=getProto(n);let s=r.call(n,t);s||(t=toRaw(t),s=r.call(n,t));const l=o.call(n,t);return n.set(t,e),s?hasChanged(e,l)&&trigger(n,"set",t,e):trigger(n,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:n,get:r}=getProto(e);let o=n.call(e,t);o||(t=toRaw(t),o=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return o&&trigger(e,"delete",t,void 0),s}function clear(){const t=toRaw(this),e=t.size!==0,n=t.clear();return e&&trigger(t,"clear",void 0,void 0),n}function createForEach(t,e){return function(r,o){const s=this,l=s.__v_raw,u=toRaw(l),d=e?toShallow:t?toReadonly:toReactive;return!t&&track(u,"iterate",ITERATE_KEY),l.forEach((f,g)=>r.call(o,d(f),d(g),s))}}function createIterableMethod(t,e,n){return function(...r){const o=this.__v_raw,s=toRaw(o),l=isMap(s),u=t==="entries"||t===Symbol.iterator&&l,d=t==="keys"&&l,f=o[t](...r),g=n?toShallow:e?toReadonly:toReactive;return!e&&track(s,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:v,done:_}=f.next();return _?{value:v,done:_}:{value:u?[g(v[0]),g(v[1])]:g(v),done:_}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(s){return get$1(this,s)},get size(){return size(this)},has:has$1$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(s){return get$1(this,s,!1,!0)},get size(){return size(this)},has:has$1$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(s){return get$1(this,s,!0)},get size(){return size(this,!0)},has(s){return has$1$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},r={get(s){return get$1(this,s,!0,!0)},get size(){return size(this,!0)},has(s){return has$1$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=createIterableMethod(s,!1,!1),n[s]=createIterableMethod(s,!0,!1),e[s]=createIterableMethod(s,!1,!0),r[s]=createIterableMethod(s,!0,!0)}),[t,n,e,r]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const n=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(r,o,s)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(hasOwn(n,o)&&o in r?n:r,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(t,e,n,r,o){if(!isObject$3(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=o.get(t);if(s)return s;const l=getTargetType(t);if(l===0)return t;const u=new Proxy(t,l===2?r:n);return o.set(t,u),u}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$3(t)?reactive(t):t,toReadonly=t=>isObject$3(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t),t.dep&&triggerEffects(t.dep)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref$1(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:toRaw(e),this._value=n?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const n=this.__v_isShallow||isShallow(e)||isReadonly(e);e=n?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:toReactive(e),triggerRefValue(this))}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,n)=>unref(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const o=t[e];return isRef(o)&&!isRef(n)?(o.value=n,!0):Reflect.set(t,e,n,r)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}function toRefs(t){const e=isArray(t)?new Array(t.length):{};for(const n in t)e[n]=toRef(t,n);return e}class ObjectRefImpl{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function toRef(t,e,n){const r=t[e];return isRef(r)?r:new ObjectRefImpl(t,e,n)}var _a;class ComputedRefImpl{constructor(e,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[_a]=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}_a="__v_isReadonly";function computed$1(t,e,n=!1){let r,o;const s=isFunction$1(t);return s?(r=t,o=NOOP):(r=t.get,o=t.set),new ComputedRefImpl(r,o,s||!o,n)}function warn$1(t,...e){}function callWithErrorHandling(t,e,n,r){let o;try{o=r?t(...r):t()}catch(s){handleError(s,e,n)}return o}function callWithAsyncErrorHandling(t,e,n,r){if(isFunction$1(t)){const s=callWithErrorHandling(t,e,n,r);return s&&isPromise(s)&&s.catch(l=>{handleError(l,e,n)}),s}const o=[];for(let s=0;s<t.length;s++)o.push(callWithAsyncErrorHandling(t[s],e,n,r));return o}function handleError(t,e,n,r=!0){const o=e?e.vnode:null;if(e){let s=e.parent;const l=e.proxy,u=n;for(;s;){const f=s.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](t,l,u)===!1)return}s=s.parent}const d=e.appContext.config.errorHandler;if(d){callWithErrorHandling(d,null,10,[t,l,u]);return}}logError(t,n,o,r)}function logError(t,e,n,r=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,n=queue.length;for(;e<n;){const r=e+n>>>1;getId(queue[r])<t?e=r+1:n=r}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const n=queue[e];n&&n.pre&&(queue.splice(e,1),e--,n())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((n,r)=>getId(n)-getId(r)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const n=getId(t)-getId(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||EMPTY_OBJ;let o=n;const s=e.startsWith("update:"),l=s&&e.slice(7);if(l&&l in r){const g=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:_}=r[g]||EMPTY_OBJ;_&&(o=n.map(b=>isString$1(b)?b.trim():b)),v&&(o=n.map(toNumber))}let u,d=r[u=toHandlerKey(e)]||r[u=toHandlerKey(camelize(e))];!d&&s&&(d=r[u=toHandlerKey(hyphenate(e))]),d&&callWithAsyncErrorHandling(d,t,6,o);const f=r[u+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,callWithAsyncErrorHandling(f,t,6,o)}}function normalizeEmitsOptions(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(o!==void 0)return o;const s=t.emits;let l={},u=!1;if(!isFunction$1(t)){const d=f=>{const g=normalizeEmitsOptions(f,e,!0);g&&(u=!0,extend(l,g))};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!s&&!u?(isObject$3(t)&&r.set(t,null),null):(isArray(s)?s.forEach(d=>l[d]=null):extend(l,s),isObject$3(t)&&r.set(t,l),l)}function isEmitListener(t,e){return!t||!isOn$1(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function withCtx(t,e=currentRenderingInstance,n){if(!e||t._n)return t;const r=(...o)=>{r._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(e);let l;try{l=t(...o)}finally{setCurrentRenderingInstance(s),r._d&&setBlockTracking(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[l],slots:u,attrs:d,emit:f,render:g,renderCache:v,data:_,setupState:b,ctx:C,inheritAttrs:S}=t;let A,R;const I=setCurrentRenderingInstance(t);try{if(n.shapeFlag&4){const N=o||r;A=normalizeVNode(g.call(N,N,v,s,b,_,C)),R=d}else{const N=e;A=normalizeVNode(N.length>1?N(s,{attrs:d,slots:u,emit:f}):N(s,null)),R=e.props?d:getFunctionalFallthrough(d)}}catch(N){blockStack.length=0,handleError(N,t,1),A=createVNode(Comment)}let w=A;if(R&&S!==!1){const N=Object.keys(R),{shapeFlag:O}=w;N.length&&O&7&&(l&&N.some(isModelListener)&&(R=filterModelListeners(R,l)),w=cloneVNode(w,R))}return n.dirs&&(w=cloneVNode(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),A=w,setCurrentRenderingInstance(I),A}const getFunctionalFallthrough=t=>{let e;for(const n in t)(n==="class"||n==="style"||isOn$1(n))&&((e||(e={}))[n]=t[n]);return e},filterModelListeners=(t,e)=>{const n={};for(const r in t)(!isModelListener(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function shouldUpdateComponent(t,e,n){const{props:r,children:o,component:s}=t,{props:l,children:u,patchFlag:d}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return r?hasPropsChanged(r,l,f):!!l;if(d&8){const g=e.dynamicProps;for(let v=0;v<g.length;v++){const _=g[v];if(l[_]!==r[_]&&!isEmitListener(f,_))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:r===l?!1:r?l?hasPropsChanged(r,l,f):!0:!!l;return!1}function hasPropsChanged(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(e[s]!==t[s]&&!isEmitListener(n,s))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function provide(t,e){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[t]=e}}function inject$1(t,e,n=!1){const r=currentInstance||currentRenderingInstance;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&isFunction$1(e)?e.call(r.proxy):e}}function watchEffect(t,e){return doWatch(t,null,e)}const INITIAL_WATCHER_VALUE={};function watch(t,e,n){return doWatch(t,e,n)}function doWatch(t,e,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:l}=EMPTY_OBJ){const u=currentInstance;let d,f=!1,g=!1;if(isRef(t)?(d=()=>t.value,f=isShallow(t)):isReactive(t)?(d=()=>t,r=!0):isArray(t)?(g=!0,f=t.some(w=>isReactive(w)||isShallow(w)),d=()=>t.map(w=>{if(isRef(w))return w.value;if(isReactive(w))return traverse(w);if(isFunction$1(w))return callWithErrorHandling(w,u,2)})):isFunction$1(t)?e?d=()=>callWithErrorHandling(t,u,2):d=()=>{if(!(u&&u.isUnmounted))return v&&v(),callWithAsyncErrorHandling(t,u,3,[_])}:d=NOOP,e&&r){const w=d;d=()=>traverse(w())}let v,_=w=>{v=R.onStop=()=>{callWithErrorHandling(w,u,4)}},b;if(isInSSRComponentSetup)if(_=NOOP,e?n&&callWithAsyncErrorHandling(e,u,3,[d(),g?[]:void 0,_]):d(),o==="sync"){const w=useSSRContext();b=w.__watcherHandles||(w.__watcherHandles=[])}else return NOOP;let C=g?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const S=()=>{if(!!R.active)if(e){const w=R.run();(r||f||(g?w.some((N,O)=>hasChanged(N,C[O])):hasChanged(w,C)))&&(v&&v(),callWithAsyncErrorHandling(e,u,3,[w,C===INITIAL_WATCHER_VALUE?void 0:g&&C[0]===INITIAL_WATCHER_VALUE?[]:C,_]),C=w)}else R.run()};S.allowRecurse=!!e;let A;o==="sync"?A=S:o==="post"?A=()=>queuePostRenderEffect(S,u&&u.suspense):(S.pre=!0,u&&(S.id=u.uid),A=()=>queueJob(S));const R=new ReactiveEffect(d,A);e?n?S():C=R.run():o==="post"?queuePostRenderEffect(R.run.bind(R),u&&u.suspense):R.run();const I=()=>{R.stop(),u&&u.scope&&remove(u.scope.effects,R)};return b&&b.push(I),I}function instanceWatch(t,e,n){const r=this.proxy,o=isString$1(t)?t.includes(".")?createPathGetter(r,t):()=>r[t]:t.bind(r,r);let s;isFunction$1(e)?s=e:(s=e.handler,n=e);const l=currentInstance;setCurrentInstance(this);const u=doWatch(o,s.bind(r),n);return l?setCurrentInstance(l):unsetCurrentInstance(),u}function createPathGetter(t,e){const n=e.split(".");return()=>{let r=t;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function traverse(t,e){if(!isObject$3(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray(t))for(let n=0;n<t.length;n++)traverse(t[n],e);else if(isSet(t)||isMap(t))t.forEach(n=>{traverse(n,e)});else if(isPlainObject$1(t))for(const n in t)traverse(t[n],e);return t}function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(t,{slots:e}){const n=getCurrentInstance$1(),r=useTransitionState();let o;return()=>{const s=e.default&&getTransitionRawChildren(e.default(),!0);if(!s||!s.length)return;let l=s[0];if(s.length>1){for(const S of s)if(S.type!==Comment){l=S;break}}const u=toRaw(t),{mode:d}=u;if(r.isLeaving)return emptyPlaceholder(l);const f=getKeepAliveChild(l);if(!f)return emptyPlaceholder(l);const g=resolveTransitionHooks(f,u,r,n);setTransitionHooks(f,g);const v=n.subTree,_=v&&getKeepAliveChild(v);let b=!1;const{getTransitionKey:C}=f.type;if(C){const S=C();o===void 0?o=S:S!==o&&(o=S,b=!0)}if(_&&_.type!==Comment&&(!isSameVNodeType(f,_)||b)){const S=resolveTransitionHooks(_,u,r,n);if(setTransitionHooks(_,S),d==="out-in")return r.isLeaving=!0,S.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},emptyPlaceholder(l);d==="in-out"&&f.type!==Comment&&(S.delayLeave=(A,R,I)=>{const w=getLeavingNodesForType(r,_);w[String(_.key)]=_,A._leaveCb=()=>{R(),A._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=I})}return l}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function resolveTransitionHooks(t,e,n,r){const{appear:o,mode:s,persisted:l=!1,onBeforeEnter:u,onEnter:d,onAfterEnter:f,onEnterCancelled:g,onBeforeLeave:v,onLeave:_,onAfterLeave:b,onLeaveCancelled:C,onBeforeAppear:S,onAppear:A,onAfterAppear:R,onAppearCancelled:I}=e,w=String(t.key),N=getLeavingNodesForType(n,t),O=(L,W)=>{L&&callWithAsyncErrorHandling(L,r,9,W)},D=(L,W)=>{const U=W[1];O(L,W),isArray(L)?L.every(K=>K.length<=1)&&U():L.length<=1&&U()},V={mode:s,persisted:l,beforeEnter(L){let W=u;if(!n.isMounted)if(o)W=S||u;else return;L._leaveCb&&L._leaveCb(!0);const U=N[w];U&&isSameVNodeType(t,U)&&U.el._leaveCb&&U.el._leaveCb(),O(W,[L])},enter(L){let W=d,U=f,K=g;if(!n.isMounted)if(o)W=A||d,U=R||f,K=I||g;else return;let H=!1;const J=L._enterCb=q=>{H||(H=!0,q?O(K,[L]):O(U,[L]),V.delayedLeave&&V.delayedLeave(),L._enterCb=void 0)};W?D(W,[L,J]):J()},leave(L,W){const U=String(t.key);if(L._enterCb&&L._enterCb(!0),n.isUnmounting)return W();O(v,[L]);let K=!1;const H=L._leaveCb=J=>{K||(K=!0,W(),J?O(C,[L]):O(b,[L]),L._leaveCb=void 0,N[U]===t&&delete N[U])};N[U]=t,_?D(_,[L,H]):H()},clone(L){return resolveTransitionHooks(L,e,n,r)}};return V}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,n){let r=[],o=0;for(let s=0;s<t.length;s++){let l=t[s];const u=n==null?l.key:String(n)+String(l.key!=null?l.key:s);l.type===Fragment?(l.patchFlag&128&&o++,r=r.concat(getTransitionRawChildren(l.children,e,u))):(e||l.type!==Comment)&&r.push(u!=null?cloneVNode(l,{key:u}):l)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function defineComponent$1(t){return isFunction$1(t)?{setup:t,name:t.name}:t}const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,n=currentInstance){const r=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(injectHook(e,r,n),n){let o=n.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(r,e,n,o),o=o.parent}}function injectToKeepAliveRoot(t,e,n,r){const o=injectHook(e,t,r,!0);onUnmounted(()=>{remove(r[e],o)},n)}function injectHook(t,e,n=currentInstance,r=!1){if(n){const o=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const u=callWithAsyncErrorHandling(e,n,t,l);return unsetCurrentInstance(),resetTracking(),u});return r?o.unshift(s):o.push(s),s}}const createHook=t=>(e,n=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...r)=>e(...r),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}function withDirectives(t,e){const n=currentRenderingInstance;if(n===null)return t;const r=getExposeProxy(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[l,u,d,f=EMPTY_OBJ]=e[s];l&&(isFunction$1(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(u),o.push({dir:l,instance:r,value:u,oldValue:void 0,arg:d,modifiers:f}))}return t}function invokeDirectiveHook(t,e,n,r){const o=t.dirs,s=e&&e.dirs;for(let l=0;l<o.length;l++){const u=o[l];s&&(u.oldValue=s[l].value);let d=u.dir[r];d&&(pauseTracking(),callWithAsyncErrorHandling(d,n,8,[t.el,u,t,e]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(t){return isString$1(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveDirective(t){return resolveAsset(DIRECTIVES,t)}function resolveAsset(t,e,n=!0,r=!1){const o=currentRenderingInstance||currentInstance;if(o){const s=o.type;if(t===COMPONENTS){const u=getComponentName(s,!1);if(u&&(u===e||u===camelize(e)||u===capitalize(camelize(e))))return s}const l=resolve(o[t]||s[t],e)||resolve(o.appContext[t],e);return!l&&r?s:l}}function resolve(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}function renderList(t,e,n,r){let o;const s=n&&n[r];if(isArray(t)||isString$1(t)){o=new Array(t.length);for(let l=0,u=t.length;l<u;l++)o[l]=e(t[l],l,void 0,s&&s[l])}else if(typeof t=="number"){o=new Array(t);for(let l=0;l<t;l++)o[l]=e(l+1,l,void 0,s&&s[l])}else if(isObject$3(t))if(t[Symbol.iterator])o=Array.from(t,(l,u)=>e(l,u,void 0,s&&s[u]));else{const l=Object.keys(t);o=new Array(l.length);for(let u=0,d=l.length;u<d;u++){const f=l[u];o[u]=e(t[f],f,u,s&&s[u])}}else o=[];return n&&(n[r]=o),o}function createSlots(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(isArray(r))for(let o=0;o<r.length;o++)t[r[o].name]=r[o].fn;else r&&(t[r.name]=r.key?(...o)=>{const s=r.fn(...o);return s&&(s.key=r.key),s}:r.fn)}return t}function toHandlers(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:toHandlerKey(r)]=t[r];return n}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn(t,e),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:n,setupState:r,data:o,props:s,accessCache:l,type:u,appContext:d}=t;let f;if(e[0]!=="$"){const b=l[e];if(b!==void 0)switch(b){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return s[e]}else{if(hasSetupBinding(r,e))return l[e]=1,r[e];if(o!==EMPTY_OBJ&&hasOwn(o,e))return l[e]=2,o[e];if((f=t.propsOptions[0])&&hasOwn(f,e))return l[e]=3,s[e];if(n!==EMPTY_OBJ&&hasOwn(n,e))return l[e]=4,n[e];shouldCacheAccess&&(l[e]=0)}}const g=publicPropertiesMap[e];let v,_;if(g)return e==="$attrs"&&track(t,"get",e),g(t);if((v=u.__cssModules)&&(v=v[e]))return v;if(n!==EMPTY_OBJ&&hasOwn(n,e))return l[e]=4,n[e];if(_=d.config.globalProperties,hasOwn(_,e))return _[e]},set({_:t},e,n){const{data:r,setupState:o,ctx:s}=t;return hasSetupBinding(o,e)?(o[e]=n,!0):r!==EMPTY_OBJ&&hasOwn(r,e)?(r[e]=n,!0):hasOwn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:s}},l){let u;return!!n[l]||t!==EMPTY_OBJ&&hasOwn(t,l)||hasSetupBinding(e,l)||(u=s[0])&&hasOwn(u,l)||hasOwn(r,l)||hasOwn(publicPropertiesMap,l)||hasOwn(o.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:hasOwn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),n=t.proxy,r=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:l,watch:u,provide:d,inject:f,created:g,beforeMount:v,mounted:_,beforeUpdate:b,updated:C,activated:S,deactivated:A,beforeDestroy:R,beforeUnmount:I,destroyed:w,unmounted:N,render:O,renderTracked:D,renderTriggered:V,errorCaptured:L,serverPrefetch:W,expose:U,inheritAttrs:K,components:H,directives:J,filters:q}=e;if(f&&resolveInjections(f,r,null,t.appContext.config.unwrapInjectedRef),l)for(const Q in l){const de=l[Q];isFunction$1(de)&&(r[Q]=de.bind(n))}if(o){const Q=o.call(n,n);isObject$3(Q)&&(t.data=reactive(Q))}if(shouldCacheAccess=!0,s)for(const Q in s){const de=s[Q],Oe=isFunction$1(de)?de.bind(n,n):isFunction$1(de.get)?de.get.bind(n,n):NOOP,_e=!isFunction$1(de)&&isFunction$1(de.set)?de.set.bind(n):NOOP,Ce=computed({get:Oe,set:_e});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:Le=>Ce.value=Le})}if(u)for(const Q in u)createWatcher(u[Q],r,n,Q);if(d){const Q=isFunction$1(d)?d.call(n):d;Reflect.ownKeys(Q).forEach(de=>{provide(de,Q[de])})}g&&callHook$1(g,t,"c");function te(Q,de){isArray(de)?de.forEach(Oe=>Q(Oe.bind(n))):de&&Q(de.bind(n))}if(te(onBeforeMount,v),te(onMounted,_),te(onBeforeUpdate,b),te(onUpdated,C),te(onActivated,S),te(onDeactivated,A),te(onErrorCaptured,L),te(onRenderTracked,D),te(onRenderTriggered,V),te(onBeforeUnmount,I),te(onUnmounted,N),te(onServerPrefetch,W),isArray(U))if(U.length){const Q=t.exposed||(t.exposed={});U.forEach(de=>{Object.defineProperty(Q,de,{get:()=>n[de],set:Oe=>n[de]=Oe})})}else t.exposed||(t.exposed={});O&&t.render===NOOP&&(t.render=O),K!=null&&(t.inheritAttrs=K),H&&(t.components=H),J&&(t.directives=J)}function resolveInjections(t,e,n=NOOP,r=!1){isArray(t)&&(t=normalizeInject(t));for(const o in t){const s=t[o];let l;isObject$3(s)?"default"in s?l=inject$1(s.from||o,s.default,!0):l=inject$1(s.from||o):l=inject$1(s),isRef(l)&&r?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):e[o]=l}}function callHook$1(t,e,n){callWithAsyncErrorHandling(isArray(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function createWatcher(t,e,n,r){const o=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString$1(t)){const s=e[t];isFunction$1(s)&&watch(o,s)}else if(isFunction$1(t))watch(o,t.bind(n));else if(isObject$3(t))if(isArray(t))t.forEach(s=>createWatcher(s,e,n,r));else{const s=isFunction$1(t.handler)?t.handler.bind(n):e[t.handler];isFunction$1(s)&&watch(o,s,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:l}}=t.appContext,u=s.get(e);let d;return u?d=u:!o.length&&!n&&!r?d=e:(d={},o.length&&o.forEach(f=>mergeOptions$1(d,f,l,!0)),mergeOptions$1(d,e,l)),isObject$3(e)&&s.set(e,d),d}function mergeOptions$1(t,e,n,r=!1){const{mixins:o,extends:s}=e;s&&mergeOptions$1(t,s,n,!0),o&&o.forEach(l=>mergeOptions$1(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const u=internalOptionMergeStrats[l]||n&&n[l];t[l]=u?u(t[l],e[l]):e[l]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction$1(t)?t.call(this,this):t,isFunction$1(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(extend(Object.create(null),t),e):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const n=extend(Object.create(null),t);for(const r in e)n[r]=mergeAsArray(t[r],e[r]);return n}function initProps(t,e,n,r=!1){const o={},s={};def(s,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,o,s);for(const l in t.propsOptions[0])l in o||(o[l]=void 0);n?t.props=r?o:shallowReactive(o):t.type.props?t.props=o:t.props=s,t.attrs=s}function updateProps(t,e,n,r){const{props:o,attrs:s,vnode:{patchFlag:l}}=t,u=toRaw(o),[d]=t.propsOptions;let f=!1;if((r||l>0)&&!(l&16)){if(l&8){const g=t.vnode.dynamicProps;for(let v=0;v<g.length;v++){let _=g[v];if(isEmitListener(t.emitsOptions,_))continue;const b=e[_];if(d)if(hasOwn(s,_))b!==s[_]&&(s[_]=b,f=!0);else{const C=camelize(_);o[C]=resolvePropValue(d,u,C,b,t,!1)}else b!==s[_]&&(s[_]=b,f=!0)}}}else{setFullProps(t,e,o,s)&&(f=!0);let g;for(const v in u)(!e||!hasOwn(e,v)&&((g=hyphenate(v))===v||!hasOwn(e,g)))&&(d?n&&(n[v]!==void 0||n[g]!==void 0)&&(o[v]=resolvePropValue(d,u,v,void 0,t,!0)):delete o[v]);if(s!==u)for(const v in s)(!e||!hasOwn(e,v)&&!0)&&(delete s[v],f=!0)}f&&trigger(t,"set","$attrs")}function setFullProps(t,e,n,r){const[o,s]=t.propsOptions;let l=!1,u;if(e)for(let d in e){if(isReservedProp(d))continue;const f=e[d];let g;o&&hasOwn(o,g=camelize(d))?!s||!s.includes(g)?n[g]=f:(u||(u={}))[g]=f:isEmitListener(t.emitsOptions,d)||(!(d in r)||f!==r[d])&&(r[d]=f,l=!0)}if(s){const d=toRaw(n),f=u||EMPTY_OBJ;for(let g=0;g<s.length;g++){const v=s[g];n[v]=resolvePropValue(o,d,v,f[v],t,!hasOwn(f,v))}}return l}function resolvePropValue(t,e,n,r,o,s){const l=t[n];if(l!=null){const u=hasOwn(l,"default");if(u&&r===void 0){const d=l.default;if(l.type!==Function&&isFunction$1(d)){const{propsDefaults:f}=o;n in f?r=f[n]:(setCurrentInstance(o),r=f[n]=d.call(null,e),unsetCurrentInstance())}else r=d}l[0]&&(s&&!u?r=!1:l[1]&&(r===""||r===hyphenate(n))&&(r=!0))}return r}function normalizePropsOptions(t,e,n=!1){const r=e.propsCache,o=r.get(t);if(o)return o;const s=t.props,l={},u=[];let d=!1;if(!isFunction$1(t)){const g=v=>{d=!0;const[_,b]=normalizePropsOptions(v,e,!0);extend(l,_),b&&u.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!s&&!d)return isObject$3(t)&&r.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray(s))for(let g=0;g<s.length;g++){const v=camelize(s[g]);validatePropName(v)&&(l[v]=EMPTY_OBJ)}else if(s)for(const g in s){const v=camelize(g);if(validatePropName(v)){const _=s[g],b=l[v]=isArray(_)||isFunction$1(_)?{type:_}:Object.assign({},_);if(b){const C=getTypeIndex(Boolean,b.type),S=getTypeIndex(String,b.type);b[0]=C>-1,b[1]=S<0||C<S,(C>-1||hasOwn(b,"default"))&&u.push(v)}}}const f=[l,u];return isObject$3(t)&&r.set(t,f),f}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray(e)?e.findIndex(n=>isSameType(n,t)):isFunction$1(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,n)=>{if(e._n)return e;const r=withCtx((...o)=>normalizeSlotValue(e(...o)),n);return r._c=!1,r},normalizeObjectSlots=(t,e,n)=>{const r=t._ctx;for(const o in t){if(isInternalKey(o))continue;const s=t[o];if(isFunction$1(s))e[o]=normalizeSlot$1(o,s,r);else if(s!=null){const l=normalizeSlotValue(s);e[o]=()=>l}}},normalizeVNodeSlots=(t,e)=>{const n=normalizeSlotValue(e);t.slots.default=()=>n},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=toRaw(e),def(e,"_",n)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,n)=>{const{vnode:r,slots:o}=t;let s=!0,l=EMPTY_OBJ;if(r.shapeFlag&32){const u=e._;u?n&&u===1?s=!1:(extend(o,e),!n&&u===1&&delete o._):(s=!e.$stable,normalizeObjectSlots(e,o)),l=e}else e&&(normalizeVNodeSlots(t,e),l={default:1});if(s)for(const u in o)!isInternalKey(u)&&!(u in l)&&delete o[u]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(t,e){return function(r,o=null){isFunction$1(r)||(r=Object.assign({},r)),o!=null&&!isObject$3(o)&&(o=null);const s=createAppContext(),l=new Set;let u=!1;const d=s.app={_uid:uid++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:version$5,get config(){return s.config},set config(f){},use(f,...g){return l.has(f)||(f&&isFunction$1(f.install)?(l.add(f),f.install(d,...g)):isFunction$1(f)&&(l.add(f),f(d,...g))),d},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),d},component(f,g){return g?(s.components[f]=g,d):s.components[f]},directive(f,g){return g?(s.directives[f]=g,d):s.directives[f]},mount(f,g,v){if(!u){const _=createVNode(r,o);return _.appContext=s,g&&e?e(_,f):t(_,f,v),u=!0,d._container=f,f.__vue_app__=d,getExposeProxy(_.component)||_.component.proxy}},unmount(){u&&(t(null,d._container),delete d._container.__vue_app__)},provide(f,g){return s.provides[f]=g,d}};return d}}function setRef(t,e,n,r,o=!1){if(isArray(t)){t.forEach((_,b)=>setRef(_,e&&(isArray(e)?e[b]:e),n,r,o));return}if(isAsyncWrapper(r)&&!o)return;const s=r.shapeFlag&4?getExposeProxy(r.component)||r.component.proxy:r.el,l=o?null:s,{i:u,r:d}=t,f=e&&e.r,g=u.refs===EMPTY_OBJ?u.refs={}:u.refs,v=u.setupState;if(f!=null&&f!==d&&(isString$1(f)?(g[f]=null,hasOwn(v,f)&&(v[f]=null)):isRef(f)&&(f.value=null)),isFunction$1(d))callWithErrorHandling(d,u,12,[l,g]);else{const _=isString$1(d),b=isRef(d);if(_||b){const C=()=>{if(t.f){const S=_?hasOwn(v,d)?v[d]:g[d]:d.value;o?isArray(S)&&remove(S,s):isArray(S)?S.includes(s)||S.push(s):_?(g[d]=[s],hasOwn(v,d)&&(v[d]=g[d])):(d.value=[s],t.k&&(g[t.k]=d.value))}else _?(g[d]=l,hasOwn(v,d)&&(v[d]=l)):b&&(d.value=l,t.k&&(g[t.k]=l))};l?(C.id=-1,queuePostRenderEffect(C,n)):C()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const n=getGlobalThis();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:l,createText:u,createComment:d,setText:f,setElementText:g,parentNode:v,nextSibling:_,setScopeId:b=NOOP,insertStaticContent:C}=t,S=(x,F,z,X=null,ie=null,fe=null,ye=!1,pe=null,me=!!F.dynamicChildren)=>{if(x===F)return;x&&!isSameVNodeType(x,F)&&(X=he(x),Le(x,ie,fe,!0),x=null),F.patchFlag===-2&&(me=!1,F.dynamicChildren=null);const{type:se,ref:Te,shapeFlag:we}=F;switch(se){case Text:A(x,F,z,X);break;case Comment:R(x,F,z,X);break;case Static:x==null&&I(F,z,X,ye);break;case Fragment:H(x,F,z,X,ie,fe,ye,pe,me);break;default:we&1?O(x,F,z,X,ie,fe,ye,pe,me):we&6?J(x,F,z,X,ie,fe,ye,pe,me):(we&64||we&128)&&se.process(x,F,z,X,ie,fe,ye,pe,me,Be)}Te!=null&&ie&&setRef(Te,x&&x.ref,fe,F||x,!F)},A=(x,F,z,X)=>{if(x==null)r(F.el=u(F.children),z,X);else{const ie=F.el=x.el;F.children!==x.children&&f(ie,F.children)}},R=(x,F,z,X)=>{x==null?r(F.el=d(F.children||""),z,X):F.el=x.el},I=(x,F,z,X)=>{[x.el,x.anchor]=C(x.children,F,z,X,x.el,x.anchor)},w=({el:x,anchor:F},z,X)=>{let ie;for(;x&&x!==F;)ie=_(x),r(x,z,X),x=ie;r(F,z,X)},N=({el:x,anchor:F})=>{let z;for(;x&&x!==F;)z=_(x),o(x),x=z;o(F)},O=(x,F,z,X,ie,fe,ye,pe,me)=>{ye=ye||F.type==="svg",x==null?D(F,z,X,ie,fe,ye,pe,me):W(x,F,ie,fe,ye,pe,me)},D=(x,F,z,X,ie,fe,ye,pe)=>{let me,se;const{type:Te,props:we,shapeFlag:Ie,transition:xe,dirs:Ue}=x;if(me=x.el=l(x.type,fe,we&&we.is,we),Ie&8?g(me,x.children):Ie&16&&L(x.children,me,null,X,ie,fe&&Te!=="foreignObject",ye,pe),Ue&&invokeDirectiveHook(x,null,X,"created"),we){for(const Ge in we)Ge!=="value"&&!isReservedProp(Ge)&&s(me,Ge,null,we[Ge],fe,x.children,X,ie,ue);"value"in we&&s(me,"value",null,we.value),(se=we.onVnodeBeforeMount)&&invokeVNodeHook(se,X,x)}V(me,x,x.scopeId,ye,X),Ue&&invokeDirectiveHook(x,null,X,"beforeMount");const je=(!ie||ie&&!ie.pendingBranch)&&xe&&!xe.persisted;je&&xe.beforeEnter(me),r(me,F,z),((se=we&&we.onVnodeMounted)||je||Ue)&&queuePostRenderEffect(()=>{se&&invokeVNodeHook(se,X,x),je&&xe.enter(me),Ue&&invokeDirectiveHook(x,null,X,"mounted")},ie)},V=(x,F,z,X,ie)=>{if(z&&b(x,z),X)for(let fe=0;fe<X.length;fe++)b(x,X[fe]);if(ie){let fe=ie.subTree;if(F===fe){const ye=ie.vnode;V(x,ye,ye.scopeId,ye.slotScopeIds,ie.parent)}}},L=(x,F,z,X,ie,fe,ye,pe,me=0)=>{for(let se=me;se<x.length;se++){const Te=x[se]=pe?cloneIfMounted(x[se]):normalizeVNode(x[se]);S(null,Te,F,z,X,ie,fe,ye,pe)}},W=(x,F,z,X,ie,fe,ye)=>{const pe=F.el=x.el;let{patchFlag:me,dynamicChildren:se,dirs:Te}=F;me|=x.patchFlag&16;const we=x.props||EMPTY_OBJ,Ie=F.props||EMPTY_OBJ;let xe;z&&toggleRecurse(z,!1),(xe=Ie.onVnodeBeforeUpdate)&&invokeVNodeHook(xe,z,F,x),Te&&invokeDirectiveHook(F,x,z,"beforeUpdate"),z&&toggleRecurse(z,!0);const Ue=ie&&F.type!=="foreignObject";if(se?U(x.dynamicChildren,se,pe,z,X,Ue,fe):ye||de(x,F,pe,null,z,X,Ue,fe,!1),me>0){if(me&16)K(pe,F,we,Ie,z,X,ie);else if(me&2&&we.class!==Ie.class&&s(pe,"class",null,Ie.class,ie),me&4&&s(pe,"style",we.style,Ie.style,ie),me&8){const je=F.dynamicProps;for(let Ge=0;Ge<je.length;Ge++){const nt=je[Ge],yt=we[nt],Kt=Ie[nt];(Kt!==yt||nt==="value")&&s(pe,nt,yt,Kt,ie,x.children,z,X,ue)}}me&1&&x.children!==F.children&&g(pe,F.children)}else!ye&&se==null&&K(pe,F,we,Ie,z,X,ie);((xe=Ie.onVnodeUpdated)||Te)&&queuePostRenderEffect(()=>{xe&&invokeVNodeHook(xe,z,F,x),Te&&invokeDirectiveHook(F,x,z,"updated")},X)},U=(x,F,z,X,ie,fe,ye)=>{for(let pe=0;pe<F.length;pe++){const me=x[pe],se=F[pe],Te=me.el&&(me.type===Fragment||!isSameVNodeType(me,se)||me.shapeFlag&70)?v(me.el):z;S(me,se,Te,null,X,ie,fe,ye,!0)}},K=(x,F,z,X,ie,fe,ye)=>{if(z!==X){if(z!==EMPTY_OBJ)for(const pe in z)!isReservedProp(pe)&&!(pe in X)&&s(x,pe,z[pe],null,ye,F.children,ie,fe,ue);for(const pe in X){if(isReservedProp(pe))continue;const me=X[pe],se=z[pe];me!==se&&pe!=="value"&&s(x,pe,se,me,ye,F.children,ie,fe,ue)}"value"in X&&s(x,"value",z.value,X.value)}},H=(x,F,z,X,ie,fe,ye,pe,me)=>{const se=F.el=x?x.el:u(""),Te=F.anchor=x?x.anchor:u("");let{patchFlag:we,dynamicChildren:Ie,slotScopeIds:xe}=F;xe&&(pe=pe?pe.concat(xe):xe),x==null?(r(se,z,X),r(Te,z,X),L(F.children,z,Te,ie,fe,ye,pe,me)):we>0&&we&64&&Ie&&x.dynamicChildren?(U(x.dynamicChildren,Ie,z,ie,fe,ye,pe),(F.key!=null||ie&&F===ie.subTree)&&traverseStaticChildren(x,F,!0)):de(x,F,z,Te,ie,fe,ye,pe,me)},J=(x,F,z,X,ie,fe,ye,pe,me)=>{F.slotScopeIds=pe,x==null?F.shapeFlag&512?ie.ctx.activate(F,z,X,ye,me):q(F,z,X,ie,fe,ye,me):ce(x,F,me)},q=(x,F,z,X,ie,fe,ye)=>{const pe=x.component=createComponentInstance(x,X,ie);if(isKeepAlive(x)&&(pe.ctx.renderer=Be),setupComponent(pe),pe.asyncDep){if(ie&&ie.registerDep(pe,te),!x.el){const me=pe.subTree=createVNode(Comment);R(null,me,F,z)}return}te(pe,x,F,z,ie,fe,ye)},ce=(x,F,z)=>{const X=F.component=x.component;if(shouldUpdateComponent(x,F,z))if(X.asyncDep&&!X.asyncResolved){Q(X,F,z);return}else X.next=F,invalidateJob(X.update),X.update();else F.el=x.el,X.vnode=F},te=(x,F,z,X,ie,fe,ye)=>{const pe=()=>{if(x.isMounted){let{next:Te,bu:we,u:Ie,parent:xe,vnode:Ue}=x,je=Te,Ge;toggleRecurse(x,!1),Te?(Te.el=Ue.el,Q(x,Te,ye)):Te=Ue,we&&invokeArrayFns(we),(Ge=Te.props&&Te.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ge,xe,Te,Ue),toggleRecurse(x,!0);const nt=renderComponentRoot(x),yt=x.subTree;x.subTree=nt,S(yt,nt,v(yt.el),he(yt),x,ie,fe),Te.el=nt.el,je===null&&updateHOCHostEl(x,nt.el),Ie&&queuePostRenderEffect(Ie,ie),(Ge=Te.props&&Te.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ge,xe,Te,Ue),ie)}else{let Te;const{el:we,props:Ie}=F,{bm:xe,m:Ue,parent:je}=x,Ge=isAsyncWrapper(F);if(toggleRecurse(x,!1),xe&&invokeArrayFns(xe),!Ge&&(Te=Ie&&Ie.onVnodeBeforeMount)&&invokeVNodeHook(Te,je,F),toggleRecurse(x,!0),we&&De){const nt=()=>{x.subTree=renderComponentRoot(x),De(we,x.subTree,x,ie,null)};Ge?F.type.__asyncLoader().then(()=>!x.isUnmounted&&nt()):nt()}else{const nt=x.subTree=renderComponentRoot(x);S(null,nt,z,X,x,ie,fe),F.el=nt.el}if(Ue&&queuePostRenderEffect(Ue,ie),!Ge&&(Te=Ie&&Ie.onVnodeMounted)){const nt=F;queuePostRenderEffect(()=>invokeVNodeHook(Te,je,nt),ie)}(F.shapeFlag&256||je&&isAsyncWrapper(je.vnode)&&je.vnode.shapeFlag&256)&&x.a&&queuePostRenderEffect(x.a,ie),x.isMounted=!0,F=z=X=null}},me=x.effect=new ReactiveEffect(pe,()=>queueJob(se),x.scope),se=x.update=()=>me.run();se.id=x.uid,toggleRecurse(x,!0),se()},Q=(x,F,z)=>{F.component=x;const X=x.vnode.props;x.vnode=F,x.next=null,updateProps(x,F.props,X,z),updateSlots(x,F.children,z),pauseTracking(),flushPreFlushCbs(),resetTracking()},de=(x,F,z,X,ie,fe,ye,pe,me=!1)=>{const se=x&&x.children,Te=x?x.shapeFlag:0,we=F.children,{patchFlag:Ie,shapeFlag:xe}=F;if(Ie>0){if(Ie&128){_e(se,we,z,X,ie,fe,ye,pe,me);return}else if(Ie&256){Oe(se,we,z,X,ie,fe,ye,pe,me);return}}xe&8?(Te&16&&ue(se,ie,fe),we!==se&&g(z,we)):Te&16?xe&16?_e(se,we,z,X,ie,fe,ye,pe,me):ue(se,ie,fe,!0):(Te&8&&g(z,""),xe&16&&L(we,z,X,ie,fe,ye,pe,me))},Oe=(x,F,z,X,ie,fe,ye,pe,me)=>{x=x||EMPTY_ARR,F=F||EMPTY_ARR;const se=x.length,Te=F.length,we=Math.min(se,Te);let Ie;for(Ie=0;Ie<we;Ie++){const xe=F[Ie]=me?cloneIfMounted(F[Ie]):normalizeVNode(F[Ie]);S(x[Ie],xe,z,null,ie,fe,ye,pe,me)}se>Te?ue(x,ie,fe,!0,!1,we):L(F,z,X,ie,fe,ye,pe,me,we)},_e=(x,F,z,X,ie,fe,ye,pe,me)=>{let se=0;const Te=F.length;let we=x.length-1,Ie=Te-1;for(;se<=we&&se<=Ie;){const xe=x[se],Ue=F[se]=me?cloneIfMounted(F[se]):normalizeVNode(F[se]);if(isSameVNodeType(xe,Ue))S(xe,Ue,z,null,ie,fe,ye,pe,me);else break;se++}for(;se<=we&&se<=Ie;){const xe=x[we],Ue=F[Ie]=me?cloneIfMounted(F[Ie]):normalizeVNode(F[Ie]);if(isSameVNodeType(xe,Ue))S(xe,Ue,z,null,ie,fe,ye,pe,me);else break;we--,Ie--}if(se>we){if(se<=Ie){const xe=Ie+1,Ue=xe<Te?F[xe].el:X;for(;se<=Ie;)S(null,F[se]=me?cloneIfMounted(F[se]):normalizeVNode(F[se]),z,Ue,ie,fe,ye,pe,me),se++}}else if(se>Ie)for(;se<=we;)Le(x[se],ie,fe,!0),se++;else{const xe=se,Ue=se,je=new Map;for(se=Ue;se<=Ie;se++){const ht=F[se]=me?cloneIfMounted(F[se]):normalizeVNode(F[se]);ht.key!=null&&je.set(ht.key,se)}let Ge,nt=0;const yt=Ie-Ue+1;let Kt=!1,An=0;const Jt=new Array(yt);for(se=0;se<yt;se++)Jt[se]=0;for(se=xe;se<=we;se++){const ht=x[se];if(nt>=yt){Le(ht,ie,fe,!0);continue}let St;if(ht.key!=null)St=je.get(ht.key);else for(Ge=Ue;Ge<=Ie;Ge++)if(Jt[Ge-Ue]===0&&isSameVNodeType(ht,F[Ge])){St=Ge;break}St===void 0?Le(ht,ie,fe,!0):(Jt[St-Ue]=se+1,St>=An?An=St:Kt=!0,S(ht,F[St],z,null,ie,fe,ye,pe,me),nt++)}const Rn=Kt?getSequence(Jt):EMPTY_ARR;for(Ge=Rn.length-1,se=yt-1;se>=0;se--){const ht=Ue+se,St=F[ht],xn=ht+1<Te?F[ht+1].el:X;Jt[se]===0?S(null,St,z,xn,ie,fe,ye,pe,me):Kt&&(Ge<0||se!==Rn[Ge]?Ce(St,z,xn,2):Ge--)}}},Ce=(x,F,z,X,ie=null)=>{const{el:fe,type:ye,transition:pe,children:me,shapeFlag:se}=x;if(se&6){Ce(x.component.subTree,F,z,X);return}if(se&128){x.suspense.move(F,z,X);return}if(se&64){ye.move(x,F,z,Be);return}if(ye===Fragment){r(fe,F,z);for(let we=0;we<me.length;we++)Ce(me[we],F,z,X);r(x.anchor,F,z);return}if(ye===Static){w(x,F,z);return}if(X!==2&&se&1&&pe)if(X===0)pe.beforeEnter(fe),r(fe,F,z),queuePostRenderEffect(()=>pe.enter(fe),ie);else{const{leave:we,delayLeave:Ie,afterLeave:xe}=pe,Ue=()=>r(fe,F,z),je=()=>{we(fe,()=>{Ue(),xe&&xe()})};Ie?Ie(fe,Ue,je):je()}else r(fe,F,z)},Le=(x,F,z,X=!1,ie=!1)=>{const{type:fe,props:ye,ref:pe,children:me,dynamicChildren:se,shapeFlag:Te,patchFlag:we,dirs:Ie}=x;if(pe!=null&&setRef(pe,null,z,x,!0),Te&256){F.ctx.deactivate(x);return}const xe=Te&1&&Ie,Ue=!isAsyncWrapper(x);let je;if(Ue&&(je=ye&&ye.onVnodeBeforeUnmount)&&invokeVNodeHook(je,F,x),Te&6)j(x.component,z,X);else{if(Te&128){x.suspense.unmount(z,X);return}xe&&invokeDirectiveHook(x,null,F,"beforeUnmount"),Te&64?x.type.remove(x,F,z,ie,Be,X):se&&(fe!==Fragment||we>0&&we&64)?ue(se,F,z,!1,!0):(fe===Fragment&&we&384||!ie&&Te&16)&&ue(me,F,z),X&&tt(x)}(Ue&&(je=ye&&ye.onVnodeUnmounted)||xe)&&queuePostRenderEffect(()=>{je&&invokeVNodeHook(je,F,x),xe&&invokeDirectiveHook(x,null,F,"unmounted")},z)},tt=x=>{const{type:F,el:z,anchor:X,transition:ie}=x;if(F===Fragment){be(z,X);return}if(F===Static){N(x);return}const fe=()=>{o(z),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(x.shapeFlag&1&&ie&&!ie.persisted){const{leave:ye,delayLeave:pe}=ie,me=()=>ye(z,fe);pe?pe(x.el,fe,me):me()}else fe()},be=(x,F)=>{let z;for(;x!==F;)z=_(x),o(x),x=z;o(F)},j=(x,F,z)=>{const{bum:X,scope:ie,update:fe,subTree:ye,um:pe}=x;X&&invokeArrayFns(X),ie.stop(),fe&&(fe.active=!1,Le(ye,x,F,z)),pe&&queuePostRenderEffect(pe,F),queuePostRenderEffect(()=>{x.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},ue=(x,F,z,X=!1,ie=!1,fe=0)=>{for(let ye=fe;ye<x.length;ye++)Le(x[ye],F,z,X,ie)},he=x=>x.shapeFlag&6?he(x.component.subTree):x.shapeFlag&128?x.suspense.next():_(x.anchor||x.el),Ee=(x,F,z)=>{x==null?F._vnode&&Le(F._vnode,null,null,!0):S(F._vnode||null,x,F,null,null,null,z),flushPreFlushCbs(),flushPostFlushCbs(),F._vnode=x},Be={p:S,um:Le,m:Ce,r:tt,mt:q,mc:L,pc:de,pbc:U,n:he,o:t};let Xe,De;return e&&([Xe,De]=e(Be)),{render:Ee,hydrate:Xe,createApp:createAppAPI(Ee,Xe)}}function toggleRecurse({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function traverseStaticChildren(t,e,n=!1){const r=t.children,o=e.children;if(isArray(r)&&isArray(o))for(let s=0;s<r.length;s++){const l=r[s];let u=o[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[s]=cloneIfMounted(o[s]),u.el=l.el),n||traverseStaticChildren(l,u)),u.type===Text&&(u.el=l.el)}}function getSequence(t){const e=t.slice(),n=[0];let r,o,s,l,u;const d=t.length;for(r=0;r<d;r++){const f=t[r];if(f!==0){if(o=n[n.length-1],t[o]<f){e[r]=o,n.push(r);continue}for(s=0,l=n.length-1;s<l;)u=s+l>>1,t[n[u]]<f?s=u+1:l=u;f<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,l=n[s-1];s-- >0;)n[s]=l,l=e[l];return n}const isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,resolveTarget=(t,e)=>{const n=t&&t.to;return isString$1(n)?e?e(n):null:n},TeleportImpl={__isTeleport:!0,process(t,e,n,r,o,s,l,u,d,f){const{mc:g,pc:v,pbc:_,o:{insert:b,querySelector:C,createText:S,createComment:A}}=f,R=isTeleportDisabled(e.props);let{shapeFlag:I,children:w,dynamicChildren:N}=e;if(t==null){const O=e.el=S(""),D=e.anchor=S("");b(O,n,r),b(D,n,r);const V=e.target=resolveTarget(e.props,C),L=e.targetAnchor=S("");V&&(b(L,V),l=l||isTargetSVG(V));const W=(U,K)=>{I&16&&g(w,U,K,o,s,l,u,d)};R?W(n,D):V&&W(V,L)}else{e.el=t.el;const O=e.anchor=t.anchor,D=e.target=t.target,V=e.targetAnchor=t.targetAnchor,L=isTeleportDisabled(t.props),W=L?n:D,U=L?O:V;if(l=l||isTargetSVG(D),N?(_(t.dynamicChildren,N,W,o,s,l,u),traverseStaticChildren(t,e,!0)):d||v(t,e,W,U,o,s,l,u,!1),R)L||moveTeleport(e,n,O,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const K=e.target=resolveTarget(e.props,C);K&&moveTeleport(e,K,null,f,0)}else L&&moveTeleport(e,D,V,f,1)}updateCssVars(e)},remove(t,e,n,r,{um:o,o:{remove:s}},l){const{shapeFlag:u,children:d,anchor:f,targetAnchor:g,target:v,props:_}=t;if(v&&s(g),(l||!isTeleportDisabled(_))&&(s(f),u&16))for(let b=0;b<d.length;b++){const C=d[b];o(C,e,n,!0,!!C.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,n,{o:{insert:r},m:o},s=2){s===0&&r(t.targetAnchor,e,n);const{el:l,anchor:u,shapeFlag:d,children:f,props:g}=t,v=s===2;if(v&&r(l,e,n),(!v||isTeleportDisabled(g))&&d&16)for(let _=0;_<f.length;_++)o(f[_],e,n,2);v&&r(u,e,n)}function hydrateTeleport(t,e,n,r,o,s,{o:{nextSibling:l,parentNode:u,querySelector:d}},f){const g=e.target=resolveTarget(e.props,d);if(g){const v=g._lpa||g.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=f(l(t),e,u(t),n,r,o,s),e.targetAnchor=v;else{e.anchor=l(t);let _=v;for(;_;)if(_=l(_),_&&_.nodeType===8&&_.data==="teleport anchor"){e.targetAnchor=_,g._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(v,e,g,n,r,o,s)}updateCssVars(e)}return e.anchor&&l(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,n,r,o,s){return setupBlock(createBaseVNode(t,e,n,r,o,s,!0))}function createBlock(t,e,n,r,o){return setupBlock(createVNode(t,e,n,r,o,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t!=null?t:null,normalizeRef=({ref:t,ref_key:e,ref_for:n})=>t!=null?isString$1(t)||isRef(t)||isFunction$1(t)?{i:currentRenderingInstance,r:t,k:e,f:!!n}:t:null;function createBaseVNode(t,e=null,n=null,r=0,o=null,s=t===Fragment?0:1,l=!1,u=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return u?(normalizeChildren(d,n),s&128&&t.normalize(d)):n&&(d.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!l&&currentBlock&&(d.patchFlag>0||s&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode=_createVNode;function _createVNode(t,e=null,n=null,r=0,o=null,s=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const u=cloneVNode(t,e,!0);return n&&normalizeChildren(u,n),isBlockTreeEnabled>0&&!s&&currentBlock&&(u.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=u:currentBlock.push(u)),u.patchFlag|=-2,u}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:u,style:d}=e;u&&!isString$1(u)&&(e.class=normalizeClass(u)),isObject$3(d)&&(isProxy(d)&&!isArray(d)&&(d=extend({},d)),e.style=normalizeStyle(d))}const l=isString$1(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$3(t)?4:isFunction$1(t)?2:0;return createBaseVNode(t,e,n,r,o,l,s,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend({},t):t:null}function cloneVNode(t,e,n=!1){const{props:r,ref:o,patchFlag:s,children:l}=t,u=e?mergeProps(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&normalizeKey(u),ref:e&&e.ref?n&&o?isArray(o)?o.concat(normalizeRef(e)):[o,normalizeRef(e)]:normalizeRef(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(isArray(e))n=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),normalizeChildren(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$1(e)?(e={default:e,_ctx:currentRenderingInstance},n=32):(e=String(e),r&64?(n=16,e=[createTextVNode(e)]):n=8);t.children=e,t.shapeFlag|=n}function mergeProps(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=normalizeClass([e.class,r.class]));else if(o==="style")e.style=normalizeStyle([e.style,r.style]);else if(isOn$1(o)){const s=e[o],l=r[o];l&&s!==l&&!(isArray(s)&&s.includes(l))&&(e[o]=s?[].concat(s,l):l)}else o!==""&&(e[o]=r[o])}return e}function invokeVNodeHook(t,e,n,r=null){callWithAsyncErrorHandling(t,e,7,[n,r])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||emptyAppContext,s={uid:uid$1++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=emit$1.bind(null,s),t.ce&&t.ce(s),s}let currentInstance=null;const getCurrentInstance$1=()=>currentInstance||currentRenderingInstance,setCurrentInstance=t=>{currentInstance=t,t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:n,children:r}=t.vnode,o=isStatefulComponent(t);initProps(t,n,o,e),initSlots(t,r);const s=o?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:r}=n;if(r){const o=t.setupContext=r.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const s=callWithErrorHandling(r,t,0,[t.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),e)return s.then(l=>{handleSetupResult(t,l,e)}).catch(l=>{handleError(l,t,0)});t.asyncDep=s}else handleSetupResult(t,s,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,n){isFunction$1(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$3(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,n)}let compile$1;function finishComponentSetup(t,e,n){const r=t.type;if(!t.render){if(!e&&compile$1&&!r.render){const o=r.template||resolveMergedOptions(t).template;if(o){const{isCustomElement:s,compilerOptions:l}=t.appContext.config,{delimiters:u,compilerOptions:d}=r,f=extend(extend({isCustomElement:s,delimiters:u},l),d);r.render=compile$1(o,f)}}t.render=r.render||NOOP}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(t){return new Proxy(t.attrs,{get(e,n){return track(t,"get","$attrs"),e[n]}})}function createSetupContext(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(t))},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](t)},has(e,n){return n in e||n in publicPropertiesMap}}))}function getComponentName(t,e=!0){return isFunction$1(t)?t.displayName||t.name:t.name||e&&t.__name}function isClassComponent(t){return isFunction$1(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h(t,e,n){const r=arguments.length;return r===2?isObject$3(e)&&!isArray(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&isVNode(n)&&(n=[n]),createVNode(t,e,n))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject$1(ssrContextKey),version$5="3.2.45",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const o=e?doc.createElementNS(svgNS,t):doc.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,o,s){const l=n?n.previousSibling:e.lastChild;if(o&&(o===s||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{templateContainer.innerHTML=r?`<svg>${t}</svg>`:t;const u=templateContainer.content;if(r){const d=u.firstChild;for(;d.firstChild;)u.appendChild(d.firstChild);u.removeChild(d)}e.insertBefore(u,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function patchClass(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,n){const r=t.style,o=isString$1(n);if(n&&!o){for(const s in n)setStyle(r,s,n[s]);if(e&&!isString$1(e))for(const s in e)n[s]==null&&setStyle(r,s,"")}else{const s=r.display;o?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const importantRE=/\s*!important$/;function setStyle(t,e,n){if(isArray(n))n.forEach(r=>setStyle(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=autoPrefix(t,e);importantRE.test(n)?t.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):t[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const n=prefixCache[e];if(n)return n;let r=camelize(e);if(r!=="filter"&&r in t)return prefixCache[e]=r;r=capitalize(r);for(let o=0;o<prefixes.length;o++){const s=prefixes[o]+r;if(s in t)return prefixCache[e]=s}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,n,r,o){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,n);else{const s=isSpecialBooleanAttr(e);n==null||s&&!includeBooleanAttr(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function patchDOMProp(t,e,n,r,o,s,l){if(e==="innerHTML"||e==="textContent"){r&&l(r,o,s),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const d=n==null?"":n;(t.value!==d||t.tagName==="OPTION")&&(t.value=d),n==null&&t.removeAttribute(e);return}let u=!1;if(n===""||n==null){const d=typeof t[e];d==="boolean"?n=includeBooleanAttr(n):n==null&&d==="string"?(n="",u=!0):d==="number"&&(n=0,u=!0)}try{t[e]=n}catch{}u&&t.removeAttribute(e)}function addEventListener$1(t,e,n,r){t.addEventListener(e,n,r)}function removeEventListener(t,e,n,r){t.removeEventListener(e,n,r)}function patchEvent(t,e,n,r,o=null){const s=t._vei||(t._vei={}),l=s[e];if(r&&l)l.value=r;else{const[u,d]=parseName(e);if(r){const f=s[e]=createInvoker(r,o);addEventListener$1(t,u,f,d)}else l&&(removeEventListener(t,u,l,d),s[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let r;for(;r=t.match(optionsModifierRE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),e,5,[r])};return n.value=t,n.attached=getNow(),n}function patchStopImmediatePropagation(t,e){if(isArray(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,n,r,o=!1,s,l,u,d)=>{e==="class"?patchClass(t,r,o):e==="style"?patchStyle(t,n,r):isOn$1(e)?isModelListener(e)||patchEvent(t,e,n,r,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,r,o))?patchDOMProp(t,e,r,s,l,u,d):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),patchAttr(t,e,r,o))};function shouldSetAsProp(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction$1(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$1(n)?!1:e in t}const TRANSITION="transition",ANIMATION="animation",Transition=(t,{slots:e})=>h(BaseTransition,resolveTransitionProps(t),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(t,e=[])=>{isArray(t)?t.forEach(n=>n(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const H in t)H in DOMTransitionPropsValidators||(e[H]=t[H]);if(t.css===!1)return e;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:d=s,appearActiveClass:f=l,appearToClass:g=u,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=t,C=normalizeDuration(o),S=C&&C[0],A=C&&C[1],{onBeforeEnter:R,onEnter:I,onEnterCancelled:w,onLeave:N,onLeaveCancelled:O,onBeforeAppear:D=R,onAppear:V=I,onAppearCancelled:L=w}=e,W=(H,J,q)=>{removeTransitionClass(H,J?g:u),removeTransitionClass(H,J?f:l),q&&q()},U=(H,J)=>{H._isLeaving=!1,removeTransitionClass(H,v),removeTransitionClass(H,b),removeTransitionClass(H,_),J&&J()},K=H=>(J,q)=>{const ce=H?V:I,te=()=>W(J,H,q);callHook(ce,[J,te]),nextFrame(()=>{removeTransitionClass(J,H?d:s),addTransitionClass(J,H?g:u),hasExplicitCallback(ce)||whenTransitionEnds(J,r,S,te)})};return extend(e,{onBeforeEnter(H){callHook(R,[H]),addTransitionClass(H,s),addTransitionClass(H,l)},onBeforeAppear(H){callHook(D,[H]),addTransitionClass(H,d),addTransitionClass(H,f)},onEnter:K(!1),onAppear:K(!0),onLeave(H,J){H._isLeaving=!0;const q=()=>U(H,J);addTransitionClass(H,v),forceReflow(),addTransitionClass(H,_),nextFrame(()=>{!H._isLeaving||(removeTransitionClass(H,v),addTransitionClass(H,b),hasExplicitCallback(N)||whenTransitionEnds(H,r,A,q))}),callHook(N,[H,q])},onEnterCancelled(H){W(H,!1),callHook(w,[H])},onAppearCancelled(H){W(H,!0),callHook(L,[H])},onLeaveCancelled(H){U(H),callHook(O,[H])}})}function normalizeDuration(t){if(t==null)return null;if(isObject$3(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,n,r){const o=t._endId=++endId,s=()=>{o===t._endId&&r()};if(n)return setTimeout(s,n);const{type:l,timeout:u,propCount:d}=getTransitionInfo(t,e);if(!l)return r();const f=l+"end";let g=0;const v=()=>{t.removeEventListener(f,_),s()},_=b=>{b.target===t&&++g>=d&&v()};setTimeout(()=>{g<d&&v()},u+1),t.addEventListener(f,_)}function getTransitionInfo(t,e){const n=window.getComputedStyle(t),r=C=>(n[C]||"").split(", "),o=r(`${TRANSITION}Delay`),s=r(`${TRANSITION}Duration`),l=getTimeout(o,s),u=r(`${ANIMATION}Delay`),d=r(`${ANIMATION}Duration`),f=getTimeout(u,d);let g=null,v=0,_=0;e===TRANSITION?l>0&&(g=TRANSITION,v=l,_=s.length):e===ANIMATION?f>0&&(g=ANIMATION,v=f,_=d.length):(v=Math.max(l,f),g=v>0?l>f?TRANSITION:ANIMATION:null,_=g?g===TRANSITION?s.length:d.length:0);const b=g===TRANSITION&&/\b(transform|all)(,|$)/.test(r(`${TRANSITION}Property`).toString());return{type:g,timeout:v,propCount:_,hasTransform:b}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>toMs(n)+toMs(t[r])))}function toMs(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=getCurrentInstance$1(),r=useTransitionState();let o,s;return onUpdated(()=>{if(!o.length)return;const l=t.moveClass||`${t.name||"v"}-move`;if(!hasCSSTransform(o[0].el,n.vnode.el,l))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const u=o.filter(applyTranslation);forceReflow(),u.forEach(d=>{const f=d.el,g=f.style;addTransitionClass(f,l),g.transform=g.webkitTransform=g.transitionDuration="";const v=f._moveCb=_=>{_&&_.target!==f||(!_||/transform$/.test(_.propertyName))&&(f.removeEventListener("transitionend",v),f._moveCb=null,removeTransitionClass(f,l))};f.addEventListener("transitionend",v)})}),()=>{const l=toRaw(t),u=resolveTransitionProps(l);let d=l.tag||Fragment;o=s,s=e.default?getTransitionRawChildren(e.default()):[];for(let f=0;f<s.length;f++){const g=s[f];g.key!=null&&setTransitionHooks(g,resolveTransitionHooks(g,u,r,n))}if(o)for(let f=0;f<o.length;f++){const g=o[f];setTransitionHooks(g,resolveTransitionHooks(g,u,r,n)),positionMap.set(g,g.el.getBoundingClientRect())}return createVNode(d,null,s)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function recordPosition(t){newPositionMap.set(t,t.el.getBoundingClientRect())}function applyTranslation(t){const e=positionMap.get(t),n=newPositionMap.get(t),r=e.left-n.left,o=e.top-n.top;if(r||o){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${o}px)`,s.transitionDuration="0s",t}}function hasCSSTransform(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(l=>{l.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:s}=getTransitionInfo(r);return o.removeChild(r),s}const keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,e)=>n=>{if(!("key"in n))return;const r=hyphenate(n.key);if(e.some(o=>o===r||keyNames[o]===r))return t(n)},vShow={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),setDisplay(t,!0),r.enter(t)):r.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer$1;function ensureRenderer(){return renderer$1||(renderer$1=createRenderer(rendererOptions))}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=normalizeContainer(r);if(!o)return;const s=e._component;!isFunction$1(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const l=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},e};function normalizeContainer(t){return isString$1(t)?document.querySelector(t):t}var isVue2=!1;/*!
  * pinia v2.0.28
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=t=>activePinia=t,piniaSymbol=Symbol();function isPlainObject(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var MutationType;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const t=effectScope(!0),e=t.run(()=>ref$1({}));let n=[],r=[];const o=markRaw({install(s){setActivePinia(o),o._a=s,s.provide(piniaSymbol,o),s.config.globalProperties.$pinia=o,r.forEach(l=>n.push(l)),r=[]},use(s){return!this._a&&!isVue2?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const noop$2=()=>{};function addSubscription(t,e,n,r=noop$2){t.push(e);const o=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&getCurrentScope()&&onScopeDispose(o),o}function triggerSubscriptions(t,...e){t.slice().forEach(n=>{n(...e)})}function mergeReactiveObjects(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],o=t[n];isPlainObject(o)&&isPlainObject(r)&&t.hasOwnProperty(n)&&!isRef(r)&&!isReactive(r)?t[n]=mergeReactiveObjects(o,r):t[n]=r}return t}const skipHydrateSymbol=Symbol();function shouldHydrate(t){return!isPlainObject(t)||!t.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed(t){return!!(isRef(t)&&t.effect)}function createOptionsStore(t,e,n,r){const{state:o,actions:s,getters:l}=e,u=n.state.value[t];let d;function f(){u||(n.state.value[t]=o?o():{});const g=toRefs(n.state.value[t]);return assign$3(g,s,Object.keys(l||{}).reduce((v,_)=>(v[_]=markRaw(computed(()=>{setActivePinia(n);const b=n._s.get(t);return l[_].call(b,b)})),v),{}))}return d=createSetupStore(t,f,e,n,r,!0),d.$reset=function(){const v=o?o():{};this.$patch(_=>{assign$3(_,v)})},d}function createSetupStore(t,e,n={},r,o,s){let l;const u=assign$3({actions:{}},n),d={deep:!0};let f,g,v=markRaw([]),_=markRaw([]),b;const C=r.state.value[t];!s&&!C&&(r.state.value[t]={}),ref$1({});let S;function A(V){let L;f=g=!1,typeof V=="function"?(V(r.state.value[t]),L={type:MutationType.patchFunction,storeId:t,events:b}):(mergeReactiveObjects(r.state.value[t],V),L={type:MutationType.patchObject,payload:V,storeId:t,events:b});const W=S=Symbol();nextTick().then(()=>{S===W&&(f=!0)}),g=!0,triggerSubscriptions(v,L,r.state.value[t])}const R=noop$2;function I(){l.stop(),v=[],_=[],r._s.delete(t)}function w(V,L){return function(){setActivePinia(r);const W=Array.from(arguments),U=[],K=[];function H(ce){U.push(ce)}function J(ce){K.push(ce)}triggerSubscriptions(_,{args:W,name:V,store:O,after:H,onError:J});let q;try{q=L.apply(this&&this.$id===t?this:O,W)}catch(ce){throw triggerSubscriptions(K,ce),ce}return q instanceof Promise?q.then(ce=>(triggerSubscriptions(U,ce),ce)).catch(ce=>(triggerSubscriptions(K,ce),Promise.reject(ce))):(triggerSubscriptions(U,q),q)}}const N={_p:r,$id:t,$onAction:addSubscription.bind(null,_),$patch:A,$reset:R,$subscribe(V,L={}){const W=addSubscription(v,V,L.detached,()=>U()),U=l.run(()=>watch(()=>r.state.value[t],K=>{(L.flush==="sync"?g:f)&&V({storeId:t,type:MutationType.direct,events:b},K)},assign$3({},d,L)));return W},$dispose:I},O=reactive(N);r._s.set(t,O);const D=r._e.run(()=>(l=effectScope(),l.run(()=>e())));for(const V in D){const L=D[V];if(isRef(L)&&!isComputed(L)||isReactive(L))s||(C&&shouldHydrate(L)&&(isRef(L)?L.value=C[V]:mergeReactiveObjects(L,C[V])),r.state.value[t][V]=L);else if(typeof L=="function"){const W=w(V,L);D[V]=W,u.actions[V]=L}}return assign$3(O,D),assign$3(toRaw(O),D),Object.defineProperty(O,"$state",{get:()=>r.state.value[t],set:V=>{A(L=>{assign$3(L,V)})}}),r._p.forEach(V=>{assign$3(O,l.run(()=>V({store:O,app:r._a,pinia:r,options:u})))}),C&&s&&n.hydrate&&n.hydrate(O.$state,C),f=!0,g=!0,O}function defineStore(t,e,n){let r,o;const s=typeof e=="function";typeof t=="string"?(r=t,o=s?n:e):(o=t,r=t.id);function l(u,d){const f=getCurrentInstance$1();return u=u||f&&inject$1(piniaSymbol,null),u&&setActivePinia(u),u=activePinia,u._s.has(r)||(s?createSetupStore(r,e,o,u):createOptionsStore(r,o,u)),u._s.get(r)}return l.$id=r,l}function mapState(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(){return t(this.$pinia)[r]},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(){const o=t(this.$pinia),s=e[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function mapActions(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(...o){return t(this.$pinia)[r](...o)},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(...o){return t(this.$pinia)[e[r]](...o)},n),{})}function getNestedValue(t,e,n){const r=e.length-1;if(r<0)return t===void 0?n:t;for(let o=0;o<r;o++){if(t==null)return n;t=t[e[o]]}return t==null||t[e[r]]===void 0?n:t[e[r]]}function deepEqual$1(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(r=>deepEqual$1(t[r],e[r]))}function getObjectValueByPath(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),getNestedValue(t,e.split("."),n))}function getPropertyFromItem(t,e,n){if(e==null)return t===void 0?n:t;if(t!==Object(t)){if(typeof e!="function")return n;const o=e(t,n);return typeof o>"u"?n:o}if(typeof e=="string")return getObjectValueByPath(t,e,n);if(Array.isArray(e))return getNestedValue(t,e,n);if(typeof e!="function")return n;const r=e(t,n);return typeof r>"u"?n:r}function createRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,r)=>e+r)}function convertToUnit(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function isObject$2(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function isComponentInstance(t){return t==null?void 0:t.$el}const keyCodes=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),keyValues=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function keys(t){return Object.keys(t)}function pick(t,e){const n=Object.create(null),r=Object.create(null);for(const o in t)e.some(s=>s instanceof RegExp?s.test(o):s===o)?n[o]=t[o]:r[o]=t[o];return[n,r]}function omit(t,e){const n={...t};return e.forEach(r=>delete n[r]),n}function filterInputAttrs(t){return pick(t,["class","style","id",/^data-/])}function wrapInArray(t){return t==null?[]:Array.isArray(t)?t:[t]}function clamp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function padEnd(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function chunk(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<t.length;)n.push(t.substr(r,e)),r+=e;return n}function mergeDeep(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const o in t)r[o]=t[o];for(const o in e){const s=t[o],l=e[o];if(isObject$2(s)&&isObject$2(l)){r[o]=mergeDeep(s,l,n);continue}if(Array.isArray(s)&&Array.isArray(l)&&n){r[o]=n(s,l);continue}r[o]=l}return r}function flattenFragments(t){return t.map(e=>e.type===Fragment?flattenFragments(e.children):e).flat()}function toKebabCase(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase()}function findChildrenWithProvide(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>findChildrenWithProvide(t,n)).flat(1);if(Array.isArray(e.children))return e.children.map(n=>findChildrenWithProvide(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return findChildrenWithProvide(t,e.component.subTree).flat(1)}return[]}function getEventCoordinates(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function destructComputed(t){const e=reactive({}),n=computed(t);return watchEffect(()=>{for(const r in n.value)e[r]=n.value[r]},{flush:"sync"}),toRefs(e)}function includes(t,e){return t.includes(e)}const onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),EventProp=[Function,Array];function hasEvent(t,e){return e="on"+capitalize(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function callEvent(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(Array.isArray(t))for(const o of t)o(...n);else typeof t=="function"&&t(...n)}const block$2=["top","bottom"],inline$1=["start","end","left","right"];function parseAnchor(t,e){let[n,r]=t.split(" ");return r||(r=includes(block$2,n)?"start":includes(inline$1,n)?"top":"center"),{side:toPhysical(n,e),align:toPhysical(r,e)}}function toPhysical(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function flipSide(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function flipAlign(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function flipCorner(t){return{side:t.align,align:t.side}}function getAxis(t){return includes(block$2,t.side)?"y":"x"}class Box{constructor(e){let{x:n,y:r,width:o,height:s}=e;this.x=n,this.y=r,this.width=o,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function getOverflow(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function nullifyTransforms(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),r=n.transform;if(r){let o,s,l,u,d;if(r.startsWith("matrix3d("))o=r.slice(9,-1).split(/, /),s=+o[0],l=+o[5],u=+o[12],d=+o[13];else if(r.startsWith("matrix("))o=r.slice(7,-1).split(/, /),s=+o[0],l=+o[3],u=+o[4],d=+o[5];else return new Box(e);const f=n.transformOrigin,g=e.x-u-(1-s)*parseFloat(f),v=e.y-d-(1-l)*parseFloat(f.slice(f.indexOf(" ")+1)),_=s?e.width/s:t.offsetWidth+1,b=l?e.height/l:t.offsetHeight+1;return new Box({x:g,y:v,width:_,height:b})}else return new Box(e)}function animate(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};const r=t.animate(e,n);return typeof r.finished>"u"&&(r.finished=new Promise(o=>{r.onfinish=()=>{o(r)}})),r}function createMessage(t,e,n){if(n&&(e={_isVue:!0,$parent:n,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return`[Vuetify] ${t}`+(e?generateComponentTrace(e):"")}function consoleWarn(t,e,n){const r=createMessage(t,e,n);r!=null&&console.warn(r)}function consoleError(t,e,n){const r=createMessage(t,e,n);r!=null&&console.error(r)}const classifyRE=/(?:^|[-_])(\w)/g,classify=t=>t.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function formatComponentName(t,e){if(t.$root===t)return"<Root>";const n=typeof t=="function"&&t.cid!=null?t.options:t._isVue?t.$options||t.constructor.options:t||{};let r=n.name||n._componentTag;const o=n.__file;if(!r&&o){const s=o.match(/([^/\\]+)\.vue$/);r=s==null?void 0:s[1]}return(r?`<${classify(r)}>`:"<Anonymous>")+(o&&e!==!1?` at ${o}`:"")}function generateComponentTrace(t){if(t._isVue&&t.$parent){const e=[];let n=0;for(;t;){if(e.length>0){const r=e[e.length-1];if(r.constructor===t.constructor){n++,t=t.$parent;continue}else n>0&&(e[e.length-1]=[r,n],n=0)}e.push(t),t=t.$parent}return`

found in

`+e.map((r,o)=>`${o===0?"---> ":" ".repeat(5+o*2)}${Array.isArray(r)?`${formatComponentName(r[0])}... (${r[1]} recursive calls)`:formatComponentName(r)}`).join(`
`)}else return`

(found in ${formatComponentName(t)})`}const srgbForwardMatrix=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],srgbForwardTransform=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,srgbReverseMatrix=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],srgbReverseTransform=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function fromXYZ$1(t){const e=Array(3),n=srgbForwardTransform,r=srgbForwardMatrix;for(let o=0;o<3;++o)e[o]=Math.round(clamp(n(r[o][0]*t[0]+r[o][1]*t[1]+r[o][2]*t[2]))*255);return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function toXYZ$1(t){const e=[0,0,0],n=srgbReverseTransform,r=srgbReverseMatrix,o=n((t>>16&255)/255),s=n((t>>8&255)/255),l=n((t>>0&255)/255);for(let u=0;u<3;++u)e[u]=r[u][0]*o+r[u][1]*s+r[u][2]*l;return e}const delta$1=.20689655172413793,cielabForwardTransform=t=>t>delta$1**3?Math.cbrt(t):t/(3*delta$1**2)+4/29,cielabReverseTransform=t=>t>delta$1?t**3:3*delta$1**2*(t-4/29);function fromXYZ(t){const e=cielabForwardTransform,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function toXYZ(t){const e=cielabReverseTransform,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}function isCssColor(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function colorToInt(t){let e;if(typeof t=="number")e=t;else if(typeof t=="string"){let n=t.startsWith("#")?t.substring(1):t;n.length===3&&(n=n.split("").map(r=>r+r).join("")),n.length!==6&&n.length!==8&&consoleWarn(`'${t}' is not a valid rgb color`),e=parseInt(n,16)}else throw new TypeError(`Colors can only be numbers or strings, recieved ${t==null?t:t.constructor.name} instead`);return e<0?(consoleWarn(`Colors cannot be negative: '${t}'`),e=0):(e>4294967295||isNaN(e))&&(consoleWarn(`'${t}' is not a valid rgb color`),e=16777215),e}function intToHex(t){let e=t.toString(16);return e.length<6&&(e="0".repeat(6-e.length)+e),"#"+e}function HSVAtoRGBA(t){const{h:e,s:n,v:r,a:o}=t,s=u=>{const d=(u+e/60)%6;return r-r*n*Math.max(Math.min(d,4-d,1),0)},l=[s(5),s(3),s(1)].map(u=>Math.round(u*255));return{r:l[0],g:l[1],b:l[2],a:o}}function RGBAtoHSVA(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,n=t.g/255,r=t.b/255,o=Math.max(e,n,r),s=Math.min(e,n,r);let l=0;o!==s&&(o===e?l=60*(0+(n-r)/(o-s)):o===n?l=60*(2+(r-e)/(o-s)):o===r&&(l=60*(4+(e-n)/(o-s)))),l<0&&(l=l+360);const u=o===0?0:(o-s)/o,d=[l,u,o];return{h:d[0],s:d[1],v:d[2],a:t.a}}function HSVAtoHSLA(t){const{h:e,s:n,v:r,a:o}=t,s=r-r*n/2,l=s===1||s===0?0:(r-s)/Math.min(s,1-s);return{h:e,s:l,l:s,a:o}}function HSLAtoHSVA(t){const{h:e,s:n,l:r,a:o}=t,s=r+n*Math.min(r,1-r),l=s===0?0:2-2*r/s;return{h:e,s:l,v:s,a:o}}function RGBAtoCSS(t){return`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`}function HSVAtoCSS(t){return RGBAtoCSS(HSVAtoRGBA(t))}function RGBAtoHex(t){const e=n=>{const r=Math.round(n).toString(16);return("00".substr(0,2-r.length)+r).toUpperCase()};return`#${[e(t.r),e(t.g),e(t.b),e(Math.round(t.a*255))].join("")}`}function HexToRGBA(t){const e=chunk(t.slice(1),2).map(n=>parseInt(n,16));return{r:e[0],g:e[1],b:e[2],a:Math.round(e[3]/255*100)/100}}function HexToHSVA(t){const e=HexToRGBA(t);return RGBAtoHSVA(e)}function HSVAtoHex(t){return RGBAtoHex(HSVAtoRGBA(t))}function parseHex(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length===6?t=padEnd(t,8,"F"):t=padEnd(padEnd(t,6),8,"F"),`#${t}`.toUpperCase().substr(0,9)}function colorToRGB(t){const e=colorToInt(t);return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255}}function lighten(t,e){const n=fromXYZ(toXYZ$1(t));return n[0]=n[0]+e*10,fromXYZ$1(toXYZ(n))}function darken(t,e){const n=fromXYZ(toXYZ$1(t));return n[0]=n[0]-e*10,fromXYZ$1(toXYZ(n))}function getLuma(t){const e=colorToInt(t);return toXYZ$1(e)[1]}function getContrast(t,e){const n=getLuma(t),r=getLuma(e),o=Math.max(n,r),s=Math.min(n,r);return(o+.05)/(s+.05)}function getCurrentInstance(t,e){const n=getCurrentInstance$1();if(!n)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return n}function getCurrentInstanceName(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=getCurrentInstance(t).type;return toKebabCase((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let _uid=0,_map=new WeakMap;function getUid(){const t=getCurrentInstance("getUid");if(_map.has(t))return _map.get(t);{const e=_uid++;return _map.set(t,e),e}}getUid.reset=()=>{_uid=0,_map=new WeakMap};function injectSelf(t){const{provides:e}=getCurrentInstance("injectSelf");if(e&&t in e)return e[t]}function propsFactory(t,e){return n=>Object.keys(t).reduce((r,o)=>{const l=typeof t[o]=="object"&&t[o]!=null&&!Array.isArray(t[o])?t[o]:{type:t[o]};return n&&o in n?r[o]={...l,default:n[o]}:r[o]=l,e&&!r[o].source&&(r[o].source=e),r},{})}function propIsDefined(t,e){var n,r;return((n=t.props)==null?void 0:n.hasOwnProperty(e))||((r=t.props)==null?void 0:r.hasOwnProperty(toKebabCase(e)))}const defineComponent=function(e){var n,r;return e._setup=(n=e._setup)!=null?n:e.setup,e.name?(e._setup&&(e.props=(r=e.props)!=null?r:{},e.props=propsFactory(e.props,toKebabCase(e.name))(),e.props._as=String,e.setup=function(s,l){const u=getCurrentInstance$1(),d=useDefaults(),f=shallowRef(),g=shallowReactive({...toRaw(s)});watchEffect(()=>{var S,A,R;const b=d.value.global,C=d.value[(S=s._as)!=null?S:e.name];if(C){const I=Object.entries(C).filter(w=>{let[N]=w;return N.startsWith(N[0].toUpperCase())});I.length&&(f.value=Object.fromEntries(I))}for(const I of Object.keys(s)){let w=s[I];propIsDefined(u.vnode,I)||(w=(R=(A=C==null?void 0:C[I])!=null?A:b==null?void 0:b[I])!=null?R:s[I]),g[I]!==w&&(g[I]=w)}});const v=e._setup(g,l);let _;return watch(f,(b,C)=>{!b&&_?_.stop():b&&!C&&(_=effectScope(),_.run(()=>{var A;var S;provideDefaults(mergeDeep((A=(S=injectSelf(DefaultsSymbol))==null?void 0:S.value)!=null?A:{},b))}))},{immediate:!0}),v}),e):(consoleWarn("The component is missing an explicit name, unable to generate default prop value"),e)};function genericComponent(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?defineComponent:defineComponent$1)(e)}function createSimpleFunctional(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return defineComponent({name:n!=null?n:capitalize(camelize(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e}},setup(r,o){let{slots:s}=o;return()=>{var l;return h(r.tag,{class:t},(l=s.default)==null?void 0:l.call(s))}}})}function attachedRoot(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const standardEasing="cubic-bezier(0.4, 0, 0.2, 1)",deceleratedEasing="cubic-bezier(0.0, 0, 0.2, 1)",acceleratedEasing="cubic-bezier(0.4, 0, 1, 1)";function getScrollParent(t){for(;t;){if(hasScrollbar(t))return t;t=t.parentElement}return document.scrollingElement}function getScrollParents(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(hasScrollbar(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function hasScrollbar(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}const IN_BROWSER=typeof window<"u",SUPPORTS_INTERSECTION=IN_BROWSER&&"IntersectionObserver"in window,SUPPORTS_TOUCH=IN_BROWSER&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),SUPPORTS_FOCUS_VISIBLE=IN_BROWSER&&typeof CSS<"u"&&CSS.supports("selector(:focus-visible)");function isFixedPosition(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function useRender(t){const e=getCurrentInstance("useRender");e.render=t}const DefaultsSymbol=Symbol.for("vuetify:defaults");function createDefaults(t){return ref$1(t!=null?t:{})}function useDefaults(){const t=inject$1(DefaultsSymbol);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function provideDefaults(t,e){const n=useDefaults(),r=ref$1(t),o=computed(()=>{const s=unref(e==null?void 0:e.scoped),l=unref(e==null?void 0:e.reset),u=unref(e==null?void 0:e.root);let d=mergeDeep(r.value,{prev:n.value});if(s)return d;if(l||u){const f=Number(l||1/0);for(let g=0;g<=f&&d.prev;g++)d=d.prev;return d}return mergeDeep(d.prev,d)});return provide(DefaultsSymbol,o),o}const DisplaySymbol=Symbol.for("vuetify:display"),defaultDisplayOptions={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},parseDisplayOptions=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultDisplayOptions;return mergeDeep(defaultDisplayOptions,t)};function getClientWidth(t){return IN_BROWSER&&!t?window.innerWidth:0}function getClientHeight(t){return IN_BROWSER&&!t?window.innerHeight:0}function getPlatform(){const t=IN_BROWSER?window.navigator.userAgent:"ssr";function e(C){return Boolean(t.match(C))}const n=e(/android/i),r=e(/iphone|ipad|ipod/i),o=e(/cordova/i),s=e(/electron/i),l=e(/chrome/i),u=e(/edge/i),d=e(/firefox/i),f=e(/opera/i),g=e(/win/i),v=e(/mac/i),_=e(/linux/i),b=e(/ssr/i);return{android:n,ios:r,cordova:o,electron:s,chrome:l,edge:u,firefox:d,opera:f,win:g,mac:v,linux:_,touch:SUPPORTS_TOUCH,ssr:b}}function createDisplay(t,e){const{thresholds:n,mobileBreakpoint:r}=parseDisplayOptions(t),o=ref$1(getClientHeight(e)),s=getPlatform(),l=reactive({}),u=ref$1(getClientWidth(e));function d(){o.value=getClientHeight(),u.value=getClientWidth()}return watchEffect(()=>{const f=u.value<n.sm,g=u.value<n.md&&!f,v=u.value<n.lg&&!(g||f),_=u.value<n.xl&&!(v||g||f),b=u.value<n.xxl&&!(_||v||g||f),C=u.value>=n.xxl,S=f?"xs":g?"sm":v?"md":_?"lg":b?"xl":"xxl",A=typeof r=="number"?r:n[r],R=s.ssr?s.android||s.ios||s.opera:u.value<A;l.xs=f,l.sm=g,l.md=v,l.lg=_,l.xl=b,l.xxl=C,l.smAndUp=!f,l.mdAndUp=!(f||g),l.lgAndUp=!(f||g||v),l.xlAndUp=!(f||g||v||_),l.smAndDown=!(v||_||b||C),l.mdAndDown=!(_||b||C),l.lgAndDown=!(b||C),l.xlAndDown=!C,l.name=S,l.height=o.value,l.width=u.value,l.mobile=R,l.mobileBreakpoint=r,l.platform=s,l.thresholds=n}),IN_BROWSER&&window.addEventListener("resize",d,{passive:!0}),{...toRefs(l),update:d}}function useDisplay(){const t=inject$1(DisplaySymbol);if(!t)throw new Error("Could not find Vuetify display injection");return t}const aliases={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},mdi={component:t=>h(VClassIcon,{...t,class:"mdi"})},IconValue=[String,Function,Object],IconSymbol=Symbol.for("vuetify:icons"),makeIconProps=propsFactory({icon:{type:IconValue,required:!0},tag:{type:String,required:!0}},"icon"),VComponentIcon=defineComponent({name:"VComponentIcon",props:makeIconProps(),setup(t){return()=>createVNode(t.tag,null,{default:()=>[createVNode(t.icon,null,null)]})}}),VSvgIcon=defineComponent({name:"VSvgIcon",inheritAttrs:!1,props:makeIconProps(),setup(t,e){let{attrs:n}=e;return()=>createVNode(t.tag,mergeProps(n,{style:null}),{default:()=>[createVNode("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[createVNode("path",{d:t.icon},null)])]})}});defineComponent({name:"VLigatureIcon",props:makeIconProps(),setup(t){return()=>createVNode(t.tag,null,{default:()=>[t.icon]})}});const VClassIcon=defineComponent({name:"VClassIcon",props:makeIconProps(),setup(t){return()=>createVNode(t.tag,{class:t.icon},null)}}),defaultSets={svg:{component:VSvgIcon},class:{component:VClassIcon}};function createIcons(t){return mergeDeep({defaultSet:"mdi",sets:{...defaultSets,mdi},aliases},t)}const useIcon=t=>{const e=inject$1(IconSymbol);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:computed(()=>{const r=isRef(t)?t.value:t.icon;if(!r)throw new Error("Icon value is undefined or null");let o=r;if(typeof o=="string"&&(o=o.trim(),o.startsWith("$"))){var s;o=(s=e.aliases)==null?void 0:s[o.slice(1)]}if(!o)throw new Error(`Could not find aliased icon "${r}"`);if(typeof o!="string")return{component:VComponentIcon,icon:o};const l=Object.keys(e.sets).find(f=>typeof o=="string"&&o.startsWith(`${f}:`)),u=l?o.slice(l.length+1):o;return{component:e.sets[l!=null?l:e.defaultSet].component,icon:u}})}};function useToggleScope(t,e){let n;watch(t,r=>{if(r&&!n)n=effectScope(),n.run(e);else{var o;(o=n)==null||o.stop(),n=void 0}},{immediate:!0})}function useProxiedModel(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v=>v,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:v=>v;const s=getCurrentInstance("useProxiedModel"),l=ref$1(t[e]!==void 0?t[e]:n),u=toKebabCase(e),f=computed(u!==e?()=>{var v,_,b,C;return t[e],!!(((v=s.vnode.props)!=null&&v.hasOwnProperty(e)||(_=s.vnode.props)!=null&&_.hasOwnProperty(u))&&((b=s.vnode.props)!=null&&b.hasOwnProperty(`onUpdate:${e}`)||(C=s.vnode.props)!=null&&C.hasOwnProperty(`onUpdate:${u}`)))}:()=>{var v,_;return t[e],!!((v=s.vnode.props)!=null&&v.hasOwnProperty(e)&&(_=s.vnode.props)!=null&&_.hasOwnProperty(`onUpdate:${e}`))});useToggleScope(()=>!f.value,()=>{watch(()=>t[e],v=>{l.value=v})});const g=computed({get(){return r(f.value?t[e]:l.value)},set(v){const _=o(v);(f.value?t[e]:l.value)===_||r(f.value?t[e]:l.value)===v||(l.value=_,s==null||s.emit(`update:${e}`,_))}});return Object.defineProperty(g,"externalValue",{get:()=>f.value?t[e]:l.value}),g}const en={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Page {0}, Current Page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}}},LANG_PREFIX="$vuetify.",replace=(t,e)=>t.replace(/\{(\d+)\}/g,(n,r)=>String(e[+r])),createTranslateFunction=(t,e,n)=>function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];if(!r.startsWith(LANG_PREFIX))return replace(r,s);const u=r.replace(LANG_PREFIX,""),d=t.value&&n.value[t.value],f=e.value&&n.value[e.value];let g=getObjectValueByPath(d,u,null);return g||(consoleWarn(`Translation key "${r}" not found in "${t.value}", trying fallback locale`),g=getObjectValueByPath(f,u,null)),g||(consoleError(`Translation key "${r}" not found in fallback`),g=r),typeof g!="string"&&(consoleError(`Translation key "${r}" has a non-string value`),g=r),replace(g,s)};function createNumberFunction(t,e){return(n,r)=>new Intl.NumberFormat([t.value,e.value],r).format(n)}function useProvided(t,e,n){var o,s;const r=useProxiedModel(t,e,(o=t[e])!=null?o:n.value);return r.value=(s=t[e])!=null?s:n.value,watch(n,l=>{t[e]==null&&(r.value=n.value)}),r}function createProvideFunction(t){return e=>{const n=useProvided(e,"locale",t.current),r=useProvided(e,"fallback",t.fallback),o=useProvided(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:r,messages:o,t:createTranslateFunction(n,r,o),n:createNumberFunction(n,r),provide:createProvideFunction({current:n,fallback:r,messages:o})}}}function createVuetifyAdapter(t){var o,s;const e=ref$1((o=t==null?void 0:t.locale)!=null?o:"en"),n=ref$1((s=t==null?void 0:t.fallback)!=null?s:"en"),r=ref$1({en,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:r,t:createTranslateFunction(e,n,r),n:createNumberFunction(e,n),provide:createProvideFunction({current:e,fallback:n,messages:r})}}const defaultRtl={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!1,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},LocaleSymbol=Symbol.for("vuetify:locale");function isLocaleInstance(t){return t.name!=null}function createLocale(t){const e=t!=null&&t.adapter&&isLocaleInstance(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:createVuetifyAdapter(t),n=createRtl(e,t);return{...e,...n}}function useLocale(){const t=inject$1(LocaleSymbol);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function createRtl(t,e){var o;const n=ref$1((o=e==null?void 0:e.rtl)!=null?o:defaultRtl),r=computed(()=>{var s;return(s=n.value[t.current.value])!=null?s:!1});return{isRtl:r,rtl:n,rtlClasses:computed(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function useRtl(){const t=inject$1(LocaleSymbol);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const mainTRC=2.4,Rco=.2126729,Gco=.7151522,Bco=.072175,normBG=.55,normTXT=.58,revTXT=.57,revBG=.62,blkThrs=.03,blkClmp=1.45,deltaYmin=5e-4,scaleBoW=1.25,scaleWoB=1.25,loConThresh=.078,loConFactor=12.82051282051282,loConOffset=.06,loClip=.001;function APCAcontrast(t,e){const n=((t>>16&255)/255)**mainTRC,r=((t>>8&255)/255)**mainTRC,o=((t>>0&255)/255)**mainTRC,s=((e>>16&255)/255)**mainTRC,l=((e>>8&255)/255)**mainTRC,u=((e>>0&255)/255)**mainTRC;let d=n*Rco+r*Gco+o*Bco,f=s*Rco+l*Gco+u*Bco;if(d<=blkThrs&&(d+=(blkThrs-d)**blkClmp),f<=blkThrs&&(f+=(blkThrs-f)**blkClmp),Math.abs(f-d)<deltaYmin)return 0;let g;if(f>d){const v=(f**normBG-d**normTXT)*scaleBoW;g=v<loClip?0:v<loConThresh?v-v*loConFactor*loConOffset:v-loConOffset}else{const v=(f**revBG-d**revTXT)*scaleWoB;g=v>-loClip?0:v>-loConThresh?v-v*loConFactor*loConOffset:v+loConOffset}return g*100}const ThemeSymbol=Symbol.for("vuetify:theme"),makeThemeProps=propsFactory({theme:String},"theme"),defaultThemeOptions={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function parseThemeOptions(){var o;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultThemeOptions;if(!t)return{...defaultThemeOptions,isDisabled:!0};const e={};for(const[s,l]of Object.entries((o=t.themes)!=null?o:{})){var n,r;const u=l.dark||s==="dark"?(n=defaultThemeOptions.themes)==null?void 0:n.dark:(r=defaultThemeOptions.themes)==null?void 0:r.light;e[s]=mergeDeep(u,l)}return mergeDeep(defaultThemeOptions,{...t,themes:e})}function createTheme(t){const e=reactive(parseThemeOptions(t)),n=ref$1(e.defaultTheme),r=ref$1(e.themes),o=computed(()=>{const f={};for(const[g,v]of Object.entries(r.value)){const _=f[g]={...v,colors:{...v.colors}};if(e.variations)for(const b of e.variations.colors){const C=_.colors[b];if(!!C)for(const S of["lighten","darken"]){const A=S==="lighten"?lighten:darken;for(const R of createRange(e.variations[S],1))_.colors[`${b}-${S}-${R}`]=intToHex(A(colorToInt(C),R))}}for(const b of Object.keys(_.colors)){if(/^on-[a-z]/.test(b)||_.colors[`on-${b}`])continue;const C=`on-${b}`,S=colorToInt(_.colors[b]),A=Math.abs(APCAcontrast(0,S)),R=Math.abs(APCAcontrast(16777215,S));_.colors[C]=R>Math.min(A,50)?"#fff":"#000"}}return f}),s=computed(()=>o.value[n.value]),l=computed(()=>{const f=[];s.value.dark&&createCssClass(f,":root",["color-scheme: dark"]);for(const[b,C]of Object.entries(o.value)){const{variables:S,dark:A}=C;createCssClass(f,`.v-theme--${b}`,[`color-scheme: ${A?"dark":"normal"}`,...genCssVariables(C),...Object.keys(S).map(R=>{const I=S[R],w=typeof I=="string"&&I.startsWith("#")?colorToRGB(I):void 0,N=w?`${w.r}, ${w.g}, ${w.b}`:void 0;return`--v-${R}: ${N!=null?N:I}`})])}const g=[],v=[],_=new Set(Object.values(o.value).flatMap(b=>Object.keys(b.colors)));for(const b of _)/^on-[a-z]/.test(b)?createCssClass(v,`.${b}`,[`color: rgb(var(--v-theme-${b})) !important`]):(createCssClass(g,`.bg-${b}`,[`--v-theme-overlay-multiplier: var(--v-theme-${b}-overlay-multiplier)`,`background: rgb(var(--v-theme-${b})) !important`,`color: rgb(var(--v-theme-on-${b})) !important`]),createCssClass(v,`.text-${b}`,[`color: rgb(var(--v-theme-${b})) !important`]),createCssClass(v,`.border-${b}`,[`--v-border-color: var(--v-theme-${b})`]));return f.push(...g,...v),f.map((b,C)=>C===0?b:`    ${b}`).join("")});function u(f){const g=f._context.provides.usehead;if(g)g.addHeadObjs(computed(()=>{const _={children:l.value,type:"text/css",id:"vuetify-theme-stylesheet"};return e.cspNonce&&(_.nonce=e.cspNonce),{style:[_]}})),IN_BROWSER&&watchEffect(()=>g.updateDOM());else{let b=function(){if(!e.isDisabled){if(typeof document<"u"&&!_){const C=document.createElement("style");C.type="text/css",C.id="vuetify-theme-stylesheet",e.cspNonce&&C.setAttribute("nonce",e.cspNonce),_=C,document.head.appendChild(_)}_&&(_.innerHTML=l.value)}};var v=b;let _=IN_BROWSER?document.getElementById("vuetify-theme-stylesheet"):null;watch(l,b,{immediate:!0})}}const d=computed(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:u,isDisabled:e.isDisabled,name:n,themes:r,current:s,computedThemes:o,themeClasses:d,styles:l,global:{name:n,current:s}}}function provideTheme(t){getCurrentInstance("provideTheme");const e=inject$1(ThemeSymbol,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=computed(()=>{var s;return(s=t.theme)!=null?s:e==null?void 0:e.name.value}),r=computed(()=>e.isDisabled?void 0:`v-theme--${n.value}`),o={...e,name:n,themeClasses:r};return provide(ThemeSymbol,o),o}function createCssClass(t,e,n){t.push(`${e} {
`,...n.map(r=>`  ${r};
`),`}
`)}function genCssVariables(t){const e=t.dark?2:1,n=t.dark?1:2,r=[];for(const[o,s]of Object.entries(t.colors)){const l=colorToRGB(s);r.push(`--v-theme-${o}: ${l.r},${l.g},${l.b}`),o.startsWith("on-")||r.push(`--v-theme-${o}-overlay-multiplier: ${getLuma(s)>.18?e:n}`)}return r}function useResizeObserver(t){const e=ref$1(),n=ref$1();if(IN_BROWSER){const r=new ResizeObserver(o=>{t==null||t(o,r),o.length&&(n.value=o[0].contentRect)});onBeforeUnmount(()=>{r.disconnect()}),watch(e,(o,s)=>{s&&(r.unobserve(s),n.value=void 0),o&&r.observe(o)},{flush:"post"})}return{resizeRef:e,contentRect:readonly(n)}}const VuetifyLayoutKey=Symbol.for("vuetify:layout"),VuetifyLayoutItemKey=Symbol.for("vuetify:layout-item"),ROOT_ZINDEX=1e3,makeLayoutProps=propsFactory({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout");function useLayout(){const t=inject$1(VuetifyLayoutKey);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}const generateLayers=(t,e,n,r)=>{let o={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...o}}];for(const l of t){const u=e.get(l),d=n.get(l),f=r.get(l);if(!u||!d||!f)continue;const g={...o,[u.value]:parseInt(o[u.value],10)+(f.value?parseInt(d.value,10):0)};s.push({id:l,layer:g}),o=g}return s};function createLayout(t){const e=inject$1(VuetifyLayoutKey,null),n=computed(()=>e?e.rootZIndex.value-100:ROOT_ZINDEX),r=ref$1([]),o=reactive(new Map),s=reactive(new Map),l=reactive(new Map),u=reactive(new Map),d=reactive(new Map),{resizeRef:f,contentRect:g}=useResizeObserver(),v=computed(()=>{var L;const D=new Map,V=(L=t.overlaps)!=null?L:[];for(const W of V.filter(U=>U.includes(":"))){const[U,K]=W.split(":");if(!r.value.includes(U)||!r.value.includes(K))continue;const H=o.get(U),J=o.get(K),q=s.get(U),ce=s.get(K);!H||!J||!q||!ce||(D.set(K,{position:H.value,amount:parseInt(q.value,10)}),D.set(U,{position:J.value,amount:-parseInt(ce.value,10)}))}return D}),_=computed(()=>{const D=[...new Set([...l.values()].map(L=>L.value))].sort((L,W)=>L-W),V=[];for(const L of D){const W=r.value.filter(U=>{var K;return((K=l.get(U))==null?void 0:K.value)===L});V.push(...W)}return generateLayers(V,o,s,u)}),b=computed(()=>!Array.from(d.values()).some(D=>D.value)),C=computed(()=>_.value[_.value.length-1].layer),S=computed(()=>({"--v-layout-left":convertToUnit(C.value.left),"--v-layout-right":convertToUnit(C.value.right),"--v-layout-top":convertToUnit(C.value.top),"--v-layout-bottom":convertToUnit(C.value.bottom),...b.value?void 0:{transition:"none"}})),A=computed(()=>_.value.slice(1).map((D,V)=>{let{id:L}=D;const{layer:W}=_.value[V],U=s.get(L),K=o.get(L);return{id:L,...W,size:Number(U.value),position:K.value}})),R=D=>A.value.find(V=>V.id===D),I=getCurrentInstance("createLayout"),w=ref$1(!1);onMounted(()=>{w.value=!0}),provide(VuetifyLayoutKey,{register:(D,V)=>{let{id:L,order:W,position:U,layoutSize:K,elementSize:H,active:J,disableTransitions:q,absolute:ce}=V;l.set(L,W),o.set(L,U),s.set(L,K),u.set(L,J),q&&d.set(L,q);const Q=findChildrenWithProvide(VuetifyLayoutItemKey,I==null?void 0:I.vnode).indexOf(D);Q>-1?r.value.splice(Q,0,L):r.value.push(L);const de=computed(()=>A.value.findIndex(Le=>Le.id===L)),Oe=computed(()=>n.value+_.value.length*2-de.value*2),_e=computed(()=>{const Le=U.value==="left"||U.value==="right",tt=U.value==="right",be=U.value==="bottom",j={[U.value]:0,zIndex:Oe.value,transform:`translate${Le?"X":"Y"}(${(J.value?0:-110)*(tt||be?-1:1)}%)`,position:ce.value||n.value!==ROOT_ZINDEX?"absolute":"fixed",...b.value?void 0:{transition:"none"}};if(!w.value)return j;const ue=A.value[de.value];if(!ue)throw new Error(`[Vuetify] Could not find layout item "${L}"`);const he=v.value.get(L);return he&&(ue[he.position]+=he.amount),{...j,height:Le?`calc(100% - ${ue.top}px - ${ue.bottom}px)`:H.value?`${H.value}px`:void 0,left:tt?void 0:`${ue.left}px`,right:tt?`${ue.right}px`:void 0,top:U.value!=="bottom"?`${ue.top}px`:void 0,bottom:U.value!=="top"?`${ue.bottom}px`:void 0,width:Le?H.value?`${H.value}px`:void 0:`calc(100% - ${ue.left}px - ${ue.right}px)`}}),Ce=computed(()=>({zIndex:Oe.value-1}));return{layoutItemStyles:_e,layoutItemScrimStyles:Ce,zIndex:Oe}},unregister:D=>{l.delete(D),o.delete(D),s.delete(D),u.delete(D),d.delete(D),r.value=r.value.filter(V=>V!==D)},mainRect:C,mainStyles:S,getLayoutItem:R,items:A,layoutRect:g,rootZIndex:n});const N=computed(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),O=computed(()=>({zIndex:n.value,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:N,layoutStyles:O,getLayoutItem:R,items:A,layoutRect:g,layoutRef:f}}function createVuetify(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,r=mergeDeep(e,n),{aliases:o={},components:s={},directives:l={}}=r,u=createDefaults(r.defaults),d=createDisplay(r.display,r.ssr),f=createTheme(r.theme),g=createIcons(r.icons),v=createLocale(r.locale);return{install:b=>{for(const C in l)b.directive(C,l[C]);for(const C in s)b.component(C,s[C]);for(const C in o)b.component(C,defineComponent({...o[C],name:C,aliasName:o[C].name}));if(f.install(b),b.provide(DefaultsSymbol,u),b.provide(DisplaySymbol,d),b.provide(ThemeSymbol,f),b.provide(IconSymbol,g),b.provide(LocaleSymbol,v),IN_BROWSER&&r.ssr)if(b.$nuxt)b.$nuxt.hook("app:suspense:resolve",()=>{d.update()});else{const{mount:C}=b;b.mount=function(){const S=C(...arguments);return nextTick(()=>d.update()),b.mount=C,S}}getUid.reset(),b.mixin({computed:{$vuetify(){return reactive({defaults:inject.call(this,DefaultsSymbol),display:inject.call(this,DisplaySymbol),theme:inject.call(this,ThemeSymbol),icons:inject.call(this,IconSymbol),locale:inject.call(this,LocaleSymbol)})}}})},defaults:u,display:d,theme:f,icons:g,locale:v}}const version$4="3.0.1";createVuetify.version=version$4;function inject(t){var s;var e,n;const r=this.$,o=(s=(e=r.parent)==null?void 0:e.provides)!=null?s:(n=r.vnode.appContext)==null?void 0:n.provides;if(o&&t in o)return o[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const assert=function(t,e){if(!t)throw assertionError(e)},assertionError=function(t){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},byteArrayToString=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=t[n++];e[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=t[n++],l=t[n++],u=t[n++],d=((o&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|l&63)}}return e.join("")},base64$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const s=t[o],l=o+1<t.length,u=l?t[o+1]:0,d=o+2<t.length,f=d?t[o+2]:0,g=s>>2,v=(s&3)<<4|u>>4;let _=(u&15)<<2|f>>6,b=f&63;d||(b=64,l||(_=64)),r.push(n[g],n[v],n[_],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(stringToByteArray$1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):byteArrayToString(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const s=n[t.charAt(o++)],u=o<t.length?n[t.charAt(o)]:0;++o;const f=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,s==null||u==null||f==null||v==null)throw Error();const _=s<<2|u>>4;if(r.push(_),f!==64){const b=u<<4&240|f>>2;if(r.push(b),v!==64){const C=f<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},base64Encode=function(t){const e=stringToByteArray$1(t);return base64$2.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(t){return base64Encode(t).replace(/\./g,"")},base64Decode=function(t){try{return base64$2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deepCopy(t){return deepExtend(void 0,t)}function deepExtend(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!isValidKey$1(n)||(t[n]=deepExtend(t[n],e[n]));return t}function isValidKey$1(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const t=getUA();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function isNodeSdk(){return CONSTANTS.NODE_ADMIN===!0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;e(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&base64Decode(t[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},getDefaultEmulatorHost=t=>{var e,n;return(n=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},getDefaultEmulatorHostnameAndPort=t=>{const e=getDefaultEmulatorHost(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},getDefaultAppConfig=()=>{var t;return(t=getDefaults())===null||t===void 0?void 0:t.config},getExperimentalSetting=t=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[base64urlEncodeWithoutPadding(JSON.stringify(n)),base64urlEncodeWithoutPadding(JSON.stringify(l)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,s=this.errors[e],l=s?replaceTemplate(s,r):"Error",u=`${this.serviceName}: ${l} (${o}).`;return new FirebaseError(o,u,r)}}function replaceTemplate(t,e){return t.replace(PATTERN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval(t){return JSON.parse(t)}function stringify(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const decode$2=function(t){let e={},n={},r={},o="";try{const s=t.split(".");e=jsonEval(base64Decode(s[0])||""),n=jsonEval(base64Decode(s[1])||""),o=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},isValidFormat=function(t){const e=decode$2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},isAdmin=function(t){const e=decode$2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function safeGet(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function isEmpty(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function map$1(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function deepEqual(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const s=t[o],l=e[o];if(isObject$1(s)&&isObject$1(l)){if(!deepEqual(s,l))return!1}else if(s!==l)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function isObject$1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function querystringDecode(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,s]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(s)}}),e}function extractQuerystring(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)r[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const _=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],s=this.chain_[1],l=this.chain_[2],u=this.chain_[3],d=this.chain_[4],f,g;for(let v=0;v<80;v++){v<40?v<20?(f=u^s&(l^u),g=1518500249):(f=s^l^u,g=1859775393):v<60?(f=s&l|u&(s|l),g=2400959708):(f=s^l^u,g=3395469782);const _=(o<<5|o>>>27)+f+d+g+r[v]&4294967295;d=u,u=l,l=(s<<30|s>>>2)&4294967295,s=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const s=this.buf_;let l=this.inbuf_;for(;o<n;){if(l===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(s[l]=e.charCodeAt(o),++l,++o,l===this.blockSize){this.compress_(s),l=0;break}}else for(;o<n;)if(s[l]=e[o],++l,++o,l===this.blockSize){this.compress_(s),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[o]>>s&255,++r;return e}}function createSubscribe(t,e){const n=new ObserverProxy(t,e);return n.subscribe.bind(n)}class ObserverProxy{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=noop$1),o.error===void 0&&(o.error=noop$1),o.complete===void 0&&(o.complete=noop$1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function noop$1(){}function errorPrefix(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const s=o-55296;r++,assert(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;o=65536+(s<<10)+l}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},stringLength=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(t){return t&&t._delegate?t._delegate:t}class Component{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Deferred;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(o,s);const l=this.instances.get(o);return l&&e(l,o),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(t){return t===DEFAULT_ENTRY_NAME$1?void 0:t}function isComponentEager(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Provider(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=ConsoleMethod[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(t,e)=>e.some(n=>t instanceof n);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(wrap(t.result)),o()},l=()=>{r(t.error),o()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&cursorRequestMap.set(n,t)}).catch(()=>{}),reverseTransformCache.set(e,t),e}function cacheDonePromiseForTransaction(t){if(transactionDoneMap.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),o()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});transactionDoneMap.set(t,e)}let idbProxyTraps={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||transactionStoreNamesMap.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wrap(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function replaceTraps(t){idbProxyTraps=t(idbProxyTraps)}function wrapFunction(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(unwrap(this),e,...n);return transactionStoreNamesMap.set(r,e.sort?e.sort():[e]),wrap(r)}:getCursorAdvanceMethods().includes(t)?function(...e){return t.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(t.apply(unwrap(this),e))}}function transformCachableValue(t){return typeof t=="function"?wrapFunction(t):(t instanceof IDBTransaction&&cacheDonePromiseForTransaction(t),instanceOfAny(t,getIdbProxyableTypes())?new Proxy(t,idbProxyTraps):t)}function wrap(t){if(t instanceof IDBRequest)return promisifyRequest(t);if(transformCache.has(t))return transformCache.get(t);const e=transformCachableValue(t);return e!==t&&(transformCache.set(t,e),reverseTransformCache.set(e,t)),e}const unwrap=t=>reverseTransformCache.get(t);function openDB(t,e,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const l=indexedDB.open(t,e),u=wrap(l);return r&&l.addEventListener("upgradeneeded",d=>{r(wrap(l.result),d.oldVersion,d.newVersion,wrap(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),u.then(d=>{s&&d.addEventListener("close",()=>s()),o&&d.addEventListener("versionchange",()=>o())}).catch(()=>{}),u}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=writeMethods.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||readMethods.includes(n)))return;const s=async function(l,...u){const d=this.transaction(l,o?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),o&&d.done]))[0]};return cachedMethods.set(e,s),s}replaceTraps(t=>({...t,get:(e,n,r)=>getMethod(e,n)||t.get(e,n,r),has:(e,n)=>!!getMethod(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(isVersionServiceProvider(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function isVersionServiceProvider(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$3="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(t,e){try{t.container.addComponent(e)}catch(n){logger$1.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _registerComponent(t){const e=t.name;if(_components.has(e))return logger$1.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,t);for(const n of _apps.values())_addComponent(n,t);return!0}function _getProvider(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION$1=version$3;function initializeApp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw ERROR_FACTORY.create("bad-app-name",{appName:String(o)});if(n||(n=getDefaultAppConfig()),!n)throw ERROR_FACTORY.create("no-options");const s=_apps.get(o);if(s){if(deepEqual(n,s.options)&&deepEqual(r,s.config))return s;throw ERROR_FACTORY.create("duplicate-app",{appName:o})}const l=new ComponentContainer(o);for(const d of _components.values())l.addComponent(d);const u=new FirebaseAppImpl(n,r,l);return _apps.set(o,u),u}function getApp(t=DEFAULT_ENTRY_NAME){const e=_apps.get(t);if(!e&&t===DEFAULT_ENTRY_NAME)return initializeApp();if(!e)throw ERROR_FACTORY.create("no-app",{appName:t});return e}function registerVersion(t,e,n){var r;let o=(r=PLATFORM_LOG_STRING[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${o}" with version "${e}":`];s&&u.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger$1.warn(u.join(" "));return}_registerComponent(new Component(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(STORE_NAME)}}}).catch(t=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:t.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(t){try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(t))}catch(e){if(e instanceof FirebaseError)logger$1.warn(e.message);else{const n=ERROR_FACTORY.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger$1.warn(n.message)}}}async function writeHeartbeatsToIndexedDB(t,e){try{const r=(await getDbPromise()).transaction(STORE_NAME,"readwrite");return await r.objectStore(STORE_NAME).put(e,computeKey(t)),r.done}catch(n){if(n instanceof FirebaseError)logger$1.warn(n.message);else{const r=ERROR_FACTORY.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});logger$1.warn(r.message)}}}function computeKey(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=getUTCDateString(),{heartbeatsToSend:n,unsentEntries:r}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),o=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(t,e=MAX_HEADER_BYTES){const n=[];let r=t.slice();for(const o of t){const s=n.find(l=>l.agent===o.agent);if(s){if(s.dates.push(o.date),countBytes(n)>e){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),countBytes(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function countBytes(t){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(t){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,t),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$2="firebase",version$2="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$2,"app");const name$1="@firebase/database",version$1="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SDK_VERSION="";function setSDKVersion(t){SDK_VERSION=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DOMStorageWrapper{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),stringify(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:jsonEval(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return contains(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const createStoragefor=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new DOMStorageWrapper(e)}}catch{}return new MemoryStorage},PersistentStorage=createStoragefor("localStorage"),SessionStorage=createStoragefor("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient$1=new Logger("@firebase/database"),LUIDGenerator=function(){let t=1;return function(){return t++}}(),sha1=function(t){const e=stringToByteArray(t),n=new Sha1;n.update(e);const r=n.digest();return base64$2.encodeByteArray(r)},buildLogMessage_=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=buildLogMessage_.apply(null,r):typeof r=="object"?e+=stringify(r):e+=r,e+=" "}return e};let logger=null,firstLog_=!0;const enableLogging$1=function(t,e){assert(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(logClient$1.logLevel=LogLevel.VERBOSE,logger=logClient$1.log.bind(logClient$1),e&&SessionStorage.set("logging_enabled",!0)):typeof t=="function"?logger=t:(logger=null,SessionStorage.remove("logging_enabled"))},log=function(...t){if(firstLog_===!0&&(firstLog_=!1,logger===null&&SessionStorage.get("logging_enabled")===!0&&enableLogging$1(!0)),logger){const e=buildLogMessage_.apply(null,t);logger(e)}},logWrapper=function(t){return function(...e){log(t,...e)}},error=function(...t){const e="FIREBASE INTERNAL ERROR: "+buildLogMessage_(...t);logClient$1.error(e)},fatal=function(...t){const e=`FIREBASE FATAL ERROR: ${buildLogMessage_(...t)}`;throw logClient$1.error(e),new Error(e)},warn=function(...t){const e="FIREBASE WARNING: "+buildLogMessage_(...t);logClient$1.warn(e)},warnIfPageIsSecure=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},MIN_NAME="[MIN_NAME]",MAX_NAME="[MAX_NAME]",nameCompare=function(t,e){if(t===e)return 0;if(t===MIN_NAME||e===MAX_NAME)return-1;if(e===MIN_NAME||t===MAX_NAME)return 1;{const n=tryParseInt(t),r=tryParseInt(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},stringCompare=function(t,e){return t===e?0:t<e?-1:1},requireKey=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+stringify(e))},ObjectToUniqueKey=function(t){if(typeof t!="object"||t===null)return stringify(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=stringify(e[r]),n+=":",n+=ObjectToUniqueKey(t[e[r]]);return n+="}",n},splitStringBySize=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function each(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const doubleToIEEE754String=function(t){assert(!isInvalidJSONNumber(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,s,l,u,d;t===0?(s=0,l=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=u+r,l=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(s=0,l=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(d=n;d;d-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(d=e;d;d-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(o?1:0),f.reverse();const g=f.join("");let v="";for(d=0;d<64;d+=8){let _=parseInt(g.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},isChromeExtensionContentScript=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function errorForServerCode(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const INTEGER_REGEXP_=new RegExp("^-?(0*)\\d{1,10}$"),INTEGER_32_MIN=-2147483648,INTEGER_32_MAX=2147483647,tryParseInt=function(t){if(INTEGER_REGEXP_.test(t)){const e=Number(t);if(e>=INTEGER_32_MIN&&e<=INTEGER_32_MAX)return e}return null},exceptionGuard=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw warn("Exception was thrown by user callback.",n),e},Math.floor(0))}},beingCrawled=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AppCheckTokenProvider{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){warn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAuthTokenProvider{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn(e)}}class EmulatorTokenProvider{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}EmulatorTokenProvider.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PROTOCOL_VERSION="5",VERSION_PARAM="v",TRANSPORT_SESSION_PARAM="s",REFERER_PARAM="r",FORGE_REF="f",FORGE_DOMAIN_RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LAST_SESSION_PARAM="ls",APPLICATION_ID_PARAM="p",APP_CHECK_TOKEN_PARAM="ac",WEBSOCKET="websocket",LONG_POLLING="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RepoInfo{constructor(e,n,r,o,s=!1,l="",u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=PersistentStorage.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&PersistentStorage.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function repoInfoNeedsQueryParam(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function repoInfoConnectionURL(t,e,n){assert(typeof e=="string","typeof type must == string"),assert(typeof n=="object","typeof params must == object");let r;if(e===WEBSOCKET)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===LONG_POLLING)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);repoInfoNeedsQueryParam(t)&&(n.ns=t.namespace);const o=[];return each(n,(s,l)=>{o.push(s+"="+l)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsCollection{constructor(){this.counters_={}}incrementCounter(e,n=1){contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return deepCopy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const collections={},reporters={};function statsManagerGetCollection(t){const e=t.toString();return collections[e]||(collections[e]=new StatsCollection),collections[e]}function statsManagerGetOrCreateReporter(t,e){const n=t.toString();return reporters[n]||(reporters[n]=e()),reporters[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PacketReceiver{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&exceptionGuard(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4;class BrowserPollConnection{constructor(e,n,r,o,s,l,u){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper(e),this.stats_=statsManagerGetCollection(n),this.urlFn=d=>(this.appCheckToken&&(d[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),repoInfoConnectionURL(n,LONG_POLLING,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new PacketReceiver(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LP_CONNECT_TIMEOUT)),executeWhenDOMReady(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder((...s)=>{const[l,u,d,f,g]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===FIREBASE_LONGPOLL_START_PARAM)this.id=u,this.password=d;else if(l===FIREBASE_LONGPOLL_CLOSE_COMMAND)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...s)=>{const[l,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[FIREBASE_LONGPOLL_START_PARAM]="t",r[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=this.scriptTagHolder.uniqueCallbackIdentifier),r[VERSION_PARAM]=PROTOCOL_VERSION,this.transportSessionId&&(r[TRANSPORT_SESSION_PARAM]=this.transportSessionId),this.lastSessionId&&(r[LAST_SESSION_PARAM]=this.lastSessionId),this.applicationId&&(r[APPLICATION_ID_PARAM]=this.applicationId),this.appCheckToken&&(r[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(r[REFERER_PARAM]=FORGE_REF);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return BrowserPollConnection.forceAllow_?!0:!BrowserPollConnection.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!isChromeExtensionContentScript()&&!isWindowsStoreApp()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=stringify(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=base64Encode(n),o=splitStringBySize(r,MAX_PAYLOAD_SIZE);for(let s=0;s<o.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",r[FIREBASE_LONGPOLL_ID_PARAM]=e,r[FIREBASE_LONGPOLL_PW_PARAM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=stringify(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class FirebaseIFrameScriptHolder{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=e,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=n,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){log("frame writing exception"),u.stack&&log(u.stack),log(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||log("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,e[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,e[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+SEG_HEADER_SIZE+r.length<=MAX_URL_DATA_SIZE;){const l=this.pendingSegs.shift();r=r+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+o+"="+l.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+o+"="+l.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+o+"="+l.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(KEEPALIVE_REQUEST_INTERVAL)),s=()=>{clearTimeout(o),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{log("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3;let WebSocketImpl=null;typeof MozWebSocket<"u"?WebSocketImpl=MozWebSocket:typeof WebSocket<"u"&&(WebSocketImpl=WebSocket);class WebSocketConnection{constructor(e,n,r,o,s,l,u){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(n),this.connURL=WebSocketConnection.connectionURL_(n,l,u,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,s){const l={};return l[VERSION_PARAM]=PROTOCOL_VERSION,typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(l[REFERER_PARAM]=FORGE_REF),n&&(l[TRANSPORT_SESSION_PARAM]=n),r&&(l[LAST_SESSION_PARAM]=r),o&&(l[APP_CHECK_TOKEN_PARAM]=o),s&&(l[APPLICATION_ID_PARAM]=s),repoInfoConnectionURL(e,WEBSOCKET,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,PersistentStorage.set("previous_websocket_failure",!0);try{let r;isNodeSdk(),this.mySock=new WebSocketImpl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&WebSocketImpl!==null&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return PersistentStorage.isInMemoryStorage||PersistentStorage.get("previous_websocket_failure")===!0}markConnectionHealthy(){PersistentStorage.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=jsonEval(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(assert(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=stringify(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=splitStringBySize(n,WEBSOCKET_MAX_FRAME_SIZE);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}WebSocketConnection.responsesRequiredToBeHealthy=2;WebSocketConnection.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransportManager{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=WebSocketConnection&&WebSocketConnection.isAvailable();let r=n&&!WebSocketConnection.previouslyFailed();if(e.webSocketOnly&&(n||warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[WebSocketConnection];else{const o=this.transports_=[];for(const s of TransportManager.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}TransportManager.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10*1024,BYTES_RECEIVED_HEALTHY_OVERRIDE=100*1024,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h";class Connection{constructor(e,n,r,o,s,l,u,d,f,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=s,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=d,this.onKill_=f,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=setTimeoutNonBlocking(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(MESSAGE_TYPE in e){const n=e[MESSAGE_TYPE];n===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():n===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=requireKey("t",e),r=requireKey("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=requireKey("t",e),r=requireKey("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=requireKey(MESSAGE_TYPE,e);if(MESSAGE_DATA in e){const r=e[MESSAGE_DATA];if(n===SERVER_HELLO)this.onHandshake_(r);else if(n===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===CONTROL_SHUTDOWN?this.onConnectionShutdown_(r):n===CONTROL_RESET?this.onReset_(r):n===CONTROL_ERROR?error("Server Error: "+r):n===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),PROTOCOL_VERSION!==r&&warn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),setTimeoutNonBlocking(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UPGRADE_TIMEOUT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ServerActions{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventEmitter{constructor(e){this.allowedEvents_=e,this.listeners_={},assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let s=0;s<o.length;s++)if(o[s].callback===n&&(!r||r===o[s].context)){o.splice(s,1);return}}validateEventType_(e){assert(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnlineMonitor extends EventEmitter{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!isMobileCordova()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OnlineMonitor}getInitialEvent(e){return assert(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_PATH_DEPTH=32,MAX_PATH_LENGTH_BYTES=768;class Path{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function newEmptyPath(){return new Path("")}function pathGetFront(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pathGetLength(t){return t.pieces_.length-t.pieceNum_}function pathPopFront(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Path(t.pieces_,e)}function pathGetBack(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pathToUrlEncodedString(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pathSlice(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function pathParent(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Path(e,0)}function pathChild(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Path)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new Path(n,0)}function pathIsEmpty(t){return t.pieceNum_>=t.pieces_.length}function newRelativePath(t,e){const n=pathGetFront(t),r=pathGetFront(e);if(n===null)return e;if(n===r)return newRelativePath(pathPopFront(t),pathPopFront(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function pathCompare(t,e){const n=pathSlice(t,0),r=pathSlice(e,0);for(let o=0;o<n.length&&o<r.length;o++){const s=nameCompare(n[o],r[o]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function pathEquals(t,e){if(pathGetLength(t)!==pathGetLength(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function pathContains(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(pathGetLength(t)>pathGetLength(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class ValidationPath{constructor(e,n){this.errorPrefix_=n,this.parts_=pathSlice(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=stringLength(this.parts_[r]);validationPathCheckValid(this)}}function validationPathPush(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=stringLength(e),validationPathCheckValid(t)}function validationPathPop(t){const e=t.parts_.pop();t.byteLength_-=stringLength(e),t.parts_.length>0&&(t.byteLength_-=1)}function validationPathCheckValid(t){if(t.byteLength_>MAX_PATH_LENGTH_BYTES)throw new Error(t.errorPrefix_+"has a key path longer than "+MAX_PATH_LENGTH_BYTES+" bytes ("+t.byteLength_+").");if(t.parts_.length>MAX_PATH_DEPTH)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MAX_PATH_DEPTH+") or object contains a cycle "+validationPathToErrorString(t))}function validationPathToErrorString(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VisibilityMonitor extends EventEmitter{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new VisibilityMonitor}getInitialEvent(e){return assert(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=60*5*1e3,RECONNECT_MAX_DELAY_FOR_ADMINS=30*1e3,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4,SERVER_KILL_INTERRUPT_REASON="server_kill",INVALID_TOKEN_THRESHOLD=3;class PersistentConnection extends ServerActions{constructor(e,n,r,o,s,l,u,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=d,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=logWrapper("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,s={r:o,a:e,b:n};this.log_(stringify(s)),assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new Deferred,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,o){this.initConnection_();const s=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+s),this.listens.has(l)||this.listens.set(l,new Map),assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),assert(!this.listens.get(l).has(s),"listen() called twice for same path/queryId.");const u={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(l).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r},l="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(l,s,u=>{const d=u.d,f=u.s;PersistentConnection.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(f,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&contains(e,"w")){const r=safeGet(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();warn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=isValidFormat(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const s=o.s,l=o.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const s={p:e},l="n";o&&(s.q=r,s.t=o),this.sendRequest(l,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,l=>{o&&setTimeout(()=>{o(l.s,l.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,s){this.initConnection_();const l={p:n,d:r};s!==void 0&&(l.h=s),this.outstandingPuts_.push({action:e,request:l,onComplete:o}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+stringify(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):error("Unrecognized action received from server: "+stringify(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+PersistentConnection.nextConnectionId_++,s=this.lastSessionId;let l=!1,u=null;const d=function(){u?u.close():(l=!0,r())},f=function(v){assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(v)};this.realtime_={close:d,sendRequest:f};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?log("getToken() completed but was canceled"):(log("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,u=new Connection(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,b=>{warn(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(SERVER_KILL_INTERRUPT_REASON)},s))}catch(v){this.log_("Failed to get token: "+v),l||(this.repoInfo_.nodeAdmin&&warn(v),d())}}}interrupt(e){log("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){log("Resuming connection for reason: "+e),delete this.interruptReasons_[e],isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ObjectToUniqueKey(s)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new Path(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){log("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=INVALID_TOKEN_THRESHOLD&&(this.reconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){log("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=INVALID_TOKEN_THRESHOLD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+SDK_VERSION.replace(/\./g,"-")]=1,isMobileCordova()?e["framework.cordova"]=1:isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=OnlineMonitor.getInstance().currentlyOnline();return isEmpty(this.interruptReasons_)&&e}}PersistentConnection.nextPersistentConnectionId_=0;PersistentConnection.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NamedNode{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new NamedNode(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Index{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new NamedNode(MIN_NAME,e),o=new NamedNode(MIN_NAME,n);return this.compare(r,o)!==0}minPost(){return NamedNode.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __EMPTY_NODE;class KeyIndex extends Index{static get __EMPTY_NODE(){return __EMPTY_NODE}static set __EMPTY_NODE(e){__EMPTY_NODE=e}compare(e,n){return nameCompare(e.name,n.name)}isDefinedOn(e){throw assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,__EMPTY_NODE)}makePost(e,n){return assert(typeof e=="string","KeyIndex indexValue must always be a string."),new NamedNode(e,__EMPTY_NODE)}toString(){return".key"}}const KEY_INDEX=new KeyIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMapIterator{constructor(e,n,r,o,s=null){this.isReverse_=o,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,o&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class LLRBNode{constructor(e,n,r,o,s){this.key=e,this.value=n,this.color=r!=null?r:LLRBNode.RED,this.left=o!=null?o:SortedMap.EMPTY_NODE,this.right=s!=null?s:SortedMap.EMPTY_NODE}copy(e,n,r,o,s){return new LLRBNode(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const s=r(e,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):s===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return SortedMap.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}LLRBNode.RED=!0;LLRBNode.BLACK=!1;class LLRBEmptyNode{copy(e,n,r,o,s){return this}insert(e,n,r){return new LLRBNode(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class SortedMap{constructor(e,n=SortedMap.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new SortedMap(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new SortedMapIterator(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new SortedMapIterator(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new SortedMapIterator(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new SortedMapIterator(this.root_,null,this.comparator_,!0,e)}}SortedMap.EMPTY_NODE=new LLRBEmptyNode;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAME_ONLY_COMPARATOR(t,e){return nameCompare(t.name,e.name)}function NAME_COMPARATOR(t,e){return nameCompare(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MAX_NODE$2;function setMaxNode$1(t){MAX_NODE$2=t}const priorityHashText=function(t){return typeof t=="number"?"number:"+doubleToIEEE754String(t):"string:"+t},validatePriorityNode=function(t){if(t.isLeafNode()){const e=t.val();assert(typeof e=="string"||typeof e=="number"||typeof e=="object"&&contains(e,".sv"),"Priority must be a string or number.")}else assert(t===MAX_NODE$2||t.isEmpty(),"priority of unexpected type.");assert(t===MAX_NODE$2||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __childrenNodeConstructor;class LeafNode{constructor(e,n=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,assert(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}static set __childrenNodeConstructor(e){__childrenNodeConstructor=e}static get __childrenNodeConstructor(){return __childrenNodeConstructor}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new LeafNode(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pathIsEmpty(e)?this:pathGetFront(e)===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=pathGetFront(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(assert(r!==".priority"||pathGetLength(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+priorityHashText(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=doubleToIEEE754String(this.value_):e+=this.value_,this.lazyHash_=sha1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof LeafNode.__childrenNodeConstructor?-1:(assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=LeafNode.VALUE_TYPE_ORDER.indexOf(n),s=LeafNode.VALUE_TYPE_ORDER.indexOf(r);return assert(o>=0,"Unknown leaf type: "+n),assert(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nodeFromJSON$1,MAX_NODE$1;function setNodeFromJSON(t){nodeFromJSON$1=t}function setMaxNode(t){MAX_NODE$1=t}class PriorityIndex extends Index{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),s=r.compareTo(o);return s===0?nameCompare(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,new LeafNode("[PRIORITY-POST]",MAX_NODE$1))}makePost(e,n){const r=nodeFromJSON$1(e);return new NamedNode(n,new LeafNode("[PRIORITY-POST]",r))}toString(){return".priority"}}const PRIORITY_INDEX=new PriorityIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LOG_2=Math.log(2);class Base12Num{constructor(e){const n=s=>parseInt(Math.log(s)/LOG_2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const buildChildSet=function(t,e,n,r){t.sort(e);const o=function(d,f){const g=f-d;let v,_;if(g===0)return null;if(g===1)return v=t[d],_=n?n(v):v,new LLRBNode(_,v.node,LLRBNode.BLACK,null,null);{const b=parseInt(g/2,10)+d,C=o(d,b),S=o(b+1,f);return v=t[b],_=n?n(v):v,new LLRBNode(_,v.node,LLRBNode.BLACK,C,S)}},s=function(d){let f=null,g=null,v=t.length;const _=function(C,S){const A=v-C,R=v;v-=C;const I=o(A+1,R),w=t[A],N=n?n(w):w;b(new LLRBNode(N,w.node,S,null,I))},b=function(C){f?(f.left=C,f=C):(g=C,f=C)};for(let C=0;C<d.count;++C){const S=d.nextBitIsOne(),A=Math.pow(2,d.count-(C+1));S?_(A,LLRBNode.BLACK):(_(A,LLRBNode.BLACK),_(A,LLRBNode.RED))}return g},l=new Base12Num(t.length),u=s(l);return new SortedMap(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _defaultIndexMap;const fallbackObject={};class IndexMap{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return assert(fallbackObject&&PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),_defaultIndexMap=_defaultIndexMap||new IndexMap({".priority":fallbackObject},{".priority":PRIORITY_INDEX}),_defaultIndexMap}get(e){const n=safeGet(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof SortedMap?n:null}hasIndex(e){return contains(this.indexSet_,e.toString())}addIndex(e,n){assert(e!==KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const s=n.getIterator(NamedNode.Wrap);let l=s.getNext();for(;l;)o=o||e.isDefinedOn(l.node),r.push(l),l=s.getNext();let u;o?u=buildChildSet(r,e.getCompare()):u=fallbackObject;const d=e.toString(),f=Object.assign({},this.indexSet_);f[d]=e;const g=Object.assign({},this.indexes_);return g[d]=u,new IndexMap(g,f)}addToIndexes(e,n){const r=map$1(this.indexes_,(o,s)=>{const l=safeGet(this.indexSet_,s);if(assert(l,"Missing index implementation for "+s),o===fallbackObject)if(l.isDefinedOn(e.node)){const u=[],d=n.getIterator(NamedNode.Wrap);let f=d.getNext();for(;f;)f.name!==e.name&&u.push(f),f=d.getNext();return u.push(e),buildChildSet(u,l.getCompare())}else return fallbackObject;else{const u=n.get(e.name);let d=o;return u&&(d=d.remove(new NamedNode(e.name,u))),d.insert(e,e.node)}});return new IndexMap(r,this.indexSet_)}removeFromIndexes(e,n){const r=map$1(this.indexes_,o=>{if(o===fallbackObject)return o;{const s=n.get(e.name);return s?o.remove(new NamedNode(e.name,s)):o}});return new IndexMap(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EMPTY_NODE;class ChildrenNode{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return EMPTY_NODE||(EMPTY_NODE=new ChildrenNode(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||EMPTY_NODE}updatePriority(e){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?EMPTY_NODE:n}}getChild(e){const n=pathGetFront(e);return n===null?this:this.getImmediateChild(n).getChild(pathPopFront(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(assert(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new NamedNode(e,n);let o,s;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const l=o.isEmpty()?EMPTY_NODE:this.priorityNode_;return new ChildrenNode(o,l,s)}}updateChild(e,n){const r=pathGetFront(e);if(r===null)return n;{assert(pathGetFront(e)!==".priority"||pathGetLength(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(pathPopFront(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,s=!0;if(this.forEachChild(PRIORITY_INDEX,(l,u)=>{n[l]=u.val(e),r++,s&&ChildrenNode.INTEGER_REGEXP_.test(l)?o=Math.max(o,Number(l)):s=!1}),!e&&s&&o<2*r){const l=[];for(const u in n)l[u]=n[u];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(PRIORITY_INDEX,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":sha1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new NamedNode(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new NamedNode(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new NamedNode(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,NamedNode.Wrap);let s=o.peek();for(;s!=null&&n.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,NamedNode.Wrap);let s=o.peek();for(;s!=null&&n.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===MAX_NODE?-1:0}withIndex(e){if(e===KEY_INDEX||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===KEY_INDEX||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(PRIORITY_INDEX),o=n.getIterator(PRIORITY_INDEX);let s=r.getNext(),l=o.getNext();for(;s&&l;){if(s.name!==l.name||!s.node.equals(l.node))return!1;s=r.getNext(),l=o.getNext()}return s===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===KEY_INDEX?null:this.indexMap_.get(e.toString())}}ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}}const MAX_NODE=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(MIN_NAME,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(MAX_NAME,MAX_NODE)}});KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE;LeafNode.__childrenNodeConstructor=ChildrenNode;setMaxNode$1(MAX_NODE);setMaxNode(MAX_NODE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const USE_HINZE=!0;function nodeFromJSON(t,e=null){if(t===null)return ChildrenNode.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),assert(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new LeafNode(n,nodeFromJSON(e))}if(!(t instanceof Array)&&USE_HINZE){const n=[];let r=!1;if(each(t,(l,u)=>{if(l.substring(0,1)!=="."){const d=nodeFromJSON(u);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new NamedNode(l,d)))}}),n.length===0)return ChildrenNode.EMPTY_NODE;const s=buildChildSet(n,NAME_ONLY_COMPARATOR,l=>l.name,NAME_COMPARATOR);if(r){const l=buildChildSet(n,PRIORITY_INDEX.getCompare());return new ChildrenNode(s,nodeFromJSON(e),new IndexMap({".priority":l},{".priority":PRIORITY_INDEX}))}else return new ChildrenNode(s,nodeFromJSON(e),IndexMap.Default)}else{let n=ChildrenNode.EMPTY_NODE;return each(t,(r,o)=>{if(contains(t,r)&&r.substring(0,1)!=="."){const s=nodeFromJSON(o);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(nodeFromJSON(e))}}setNodeFromJSON(nodeFromJSON);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PathIndex extends Index{constructor(e){super(),this.indexPath_=e,assert(!pathIsEmpty(e)&&pathGetFront(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),s=r.compareTo(o);return s===0?nameCompare(e.name,n.name):s}makePost(e,n){const r=nodeFromJSON(e),o=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,r);return new NamedNode(n,o)}maxPost(){const e=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,MAX_NODE);return new NamedNode(MAX_NAME,e)}toString(){return pathSlice(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ValueIndex extends Index{compare(e,n){const r=e.node.compareTo(n.node);return r===0?nameCompare(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost(e,n){const r=nodeFromJSON(e);return new NamedNode(n,r)}toString(){return".value"}}const VALUE_INDEX=new ValueIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function changeValue(t){return{type:"value",snapshotNode:t}}function changeChildAdded(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function changeChildRemoved(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function changeChildChanged(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function changeChildMoved(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedFilter{constructor(e){this.index_=e}updateChild(e,n,r,o,s,l){assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(o).equals(r.getChild(o))&&u.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange(changeChildRemoved(n,u)):assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(changeChildAdded(n,r)):l.trackChildChange(changeChildChanged(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(PRIORITY_INDEX,(o,s)=>{n.hasChild(o)||r.trackChildChange(changeChildRemoved(o,s))}),n.isLeafNode()||n.forEachChild(PRIORITY_INDEX,(o,s)=>{if(e.hasChild(o)){const l=e.getImmediateChild(o);l.equals(s)||r.trackChildChange(changeChildChanged(o,s,l))}else r.trackChildChange(changeChildAdded(o,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ChildrenNode.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RangedFilter{constructor(e){this.indexedFilter_=new IndexedFilter(e.getIndex()),this.index_=e.getIndex(),this.startPost_=RangedFilter.getStartPost_(e),this.endPost_=RangedFilter.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,s,l){return this.matches(new NamedNode(n,r))||(r=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,s,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ChildrenNode.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ChildrenNode.EMPTY_NODE);const s=this;return n.forEachChild(PRIORITY_INDEX,(l,u)=>{s.matches(new NamedNode(l,u))||(o=o.updateImmediateChild(l,ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LimitedFilter{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new RangedFilter(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,s,l){return this.rangedFilter_.matches(new NamedNode(n,r))||(r=ChildrenNode.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,s,l):this.fullLimitUpdateChild_(e,n,r,s,l)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ChildrenNode.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))o=o.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ChildrenNode.EMPTY_NODE);let s;this.reverse_?s=o.getReverseIterator(this.index_):s=o.getIterator(this.index_);let l=0;for(;s.hasNext();){const u=s.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:o=o.updateImmediateChild(u.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,s){let l;if(this.reverse_){const v=this.index_.getCompare();l=(_,b)=>v(b,_)}else l=this.index_.getCompare();const u=e;assert(u.numChildren()===this.limit_,"");const d=new NamedNode(n,r),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(u.hasChild(n)){const v=u.getImmediateChild(n);let _=o.getChildAfterChild(this.index_,f,this.reverse_);for(;_!=null&&(_.name===n||u.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const b=_==null?1:l(_,d);if(g&&!r.isEmpty()&&b>=0)return s!=null&&s.trackChildChange(changeChildChanged(n,r,v)),u.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(changeChildRemoved(n,v));const S=u.updateImmediateChild(n,ChildrenNode.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(s!=null&&s.trackChildChange(changeChildAdded(_.name,_.node)),S.updateImmediateChild(_.name,_.node)):S}}else return r.isEmpty()?e:g&&l(f,d)>=0?(s!=null&&(s.trackChildChange(changeChildRemoved(f.name,f.node)),s.trackChildChange(changeChildAdded(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(f.name,ChildrenNode.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PRIORITY_INDEX}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MIN_NAME}hasEnd(){return this.endSet_}getIndexEndValue(){return assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:MAX_NAME}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===PRIORITY_INDEX}copy(){const e=new QueryParams;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function queryParamsGetNodeFilter(t){return t.loadsAllData()?new IndexedFilter(t.getIndex()):t.hasLimit()?new LimitedFilter(t):new RangedFilter(t)}function queryParamsToRestQueryStringParameters(t){const e={};if(t.isDefault())return e;let n;if(t.index_===PRIORITY_INDEX?n="$priority":t.index_===VALUE_INDEX?n="$value":t.index_===KEY_INDEX?n="$key":(assert(t.index_ instanceof PathIndex,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=stringify(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=stringify(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+stringify(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=stringify(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+stringify(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function queryParamsGetQueryObject(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==PRIORITY_INDEX&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ReadonlyRestClient extends ServerActions{constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=logWrapper("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(assert(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,o){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=ReadonlyRestClient.getListenId_(e,r),u={};this.listens_[l]=u;const d=queryParamsToRestQueryStringParameters(e._queryParams);this.restRequest_(s+".json",d,(f,g)=>{let v=g;if(f===404&&(v=null,f=null),f===null&&this.onDataUpdate_(s,v,!1,r),safeGet(this.listens_,l)===u){let _;f?f===401?_="permission_denied":_="rest_error:"+f:_="ok",o(_,null)}})}unlisten(e,n){const r=ReadonlyRestClient.getListenId_(e,n);delete this.listens_[r]}get(e){const n=queryParamsToRestQueryStringParameters(e._queryParams),r=e._path.toString(),o=new Deferred;return this.restRequest_(r+".json",n,(s,l)=>{let u=l;s===404&&(u=null,s=null),s===null?(this.onDataUpdate_(r,u,!1,null),o.resolve(u)):o.reject(new Error(u))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,s])=>{o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+querystring(n);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let d=null;if(u.status>=200&&u.status<300){try{d=jsonEval(u.responseText)}catch{warn("Failed to parse JSON response for "+l+": "+u.responseText)}r(null,d)}else u.status!==401&&u.status!==404&&warn("Got unsuccessful REST response for "+l+" Status: "+u.status),r(u.status);r=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember(t,e,n){if(pathIsEmpty(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=pathGetFront(e);t.children.has(r)||t.children.set(r,newSparseSnapshotTree());const o=t.children.get(r);e=pathPopFront(e),sparseSnapshotTreeRemember(o,e,n)}}function sparseSnapshotTreeForEachTree(t,e,n){t.value!==null?n(e,t.value):sparseSnapshotTreeForEachChild(t,(r,o)=>{const s=new Path(e.toString()+"/"+r);sparseSnapshotTreeForEachTree(o,s,n)})}function sparseSnapshotTreeForEachChild(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsListener{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&each(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIRST_STATS_MIN_TIME=10*1e3,FIRST_STATS_MAX_TIME=30*1e3,REPORT_STATS_INTERVAL=5*60*1e3;class StatsReporter{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new StatsListener(e);const r=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;each(e,(o,s)=>{s>0&&contains(this.statsToReport_,o)&&(n[o]=s,r=!0)}),r&&this.server_.reportStats(n),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(Math.random()*2*REPORT_STATS_INTERVAL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OperationType;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(OperationType||(OperationType={}));function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AckUserWrite{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=OperationType.ACK_USER_WRITE,this.source=newOperationSourceUser()}operationForChild(e){if(pathIsEmpty(this.path)){if(this.affectedTree.value!=null)return assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Path(e));return new AckUserWrite(newEmptyPath(),n,this.revert)}}else return assert(pathGetFront(this.path)===e,"operationForChild called for unrelated child."),new AckUserWrite(pathPopFront(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ListenComplete{constructor(e,n){this.source=e,this.path=n,this.type=OperationType.LISTEN_COMPLETE}operationForChild(e){return pathIsEmpty(this.path)?new ListenComplete(this.source,newEmptyPath()):new ListenComplete(this.source,pathPopFront(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overwrite{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=OperationType.OVERWRITE}operationForChild(e){return pathIsEmpty(this.path)?new Overwrite(this.source,newEmptyPath(),this.snap.getImmediateChild(e)):new Overwrite(this.source,pathPopFront(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Merge{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=OperationType.MERGE}operationForChild(e){if(pathIsEmpty(this.path)){const n=this.children.subtree(new Path(e));return n.isEmpty()?null:n.value?new Overwrite(this.source,newEmptyPath(),n.value):new Merge(this.source,newEmptyPath(),n)}else return assert(pathGetFront(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,pathPopFront(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CacheNode{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pathIsEmpty(e))return this.isFullyInitialized()&&!this.filtered_;const n=pathGetFront(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventGenerator{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function eventGeneratorGenerateEventsForChanges(t,e,n,r){const o=[],s=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(changeChildMoved(l.childName,l.snapshotNode))}),eventGeneratorGenerateEventsForType(t,o,"child_removed",e,r,n),eventGeneratorGenerateEventsForType(t,o,"child_added",e,r,n),eventGeneratorGenerateEventsForType(t,o,"child_moved",s,r,n),eventGeneratorGenerateEventsForType(t,o,"child_changed",e,r,n),eventGeneratorGenerateEventsForType(t,o,"value",e,r,n),o}function eventGeneratorGenerateEventsForType(t,e,n,r,o,s){const l=r.filter(u=>u.type===n);l.sort((u,d)=>eventGeneratorCompareChanges(t,u,d)),l.forEach(u=>{const d=eventGeneratorMaterializeSingleChange(t,u,s);o.forEach(f=>{f.respondsTo(u.type)&&e.push(f.createEvent(d,t.query_))})})}function eventGeneratorMaterializeSingleChange(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function eventGeneratorCompareChanges(t,e,n){if(e.childName==null||n.childName==null)throw assertionError("Should only compare child_ events.");const r=new NamedNode(e.childName,e.snapshotNode),o=new NamedNode(n.childName,n.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewCache(t,e){return{eventCache:t,serverCache:e}}function viewCacheUpdateEventSnap(t,e,n,r){return newViewCache(new CacheNode(e,n,r),t.serverCache)}function viewCacheUpdateServerSnap(t,e,n,r){return newViewCache(t.eventCache,new CacheNode(e,n,r))}function viewCacheGetCompleteEventSnap(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function viewCacheGetCompleteServerSnap(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let emptyChildrenSingleton;const EmptyChildren=()=>(emptyChildrenSingleton||(emptyChildrenSingleton=new SortedMap(stringCompare)),emptyChildrenSingleton);class ImmutableTree{constructor(e,n=EmptyChildren()){this.value=e,this.children=n}static fromObject(e){let n=new ImmutableTree(null);return each(e,(r,o)=>{n=n.set(new Path(r),o)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty(e))return null;{const r=pathGetFront(e),o=this.children.get(r);if(o!==null){const s=o.findRootMostMatchingPathAndValue(pathPopFront(e),n);return s!=null?{path:pathChild(new Path(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pathIsEmpty(e))return this;{const n=pathGetFront(e),r=this.children.get(n);return r!==null?r.subtree(pathPopFront(e)):new ImmutableTree(null)}}set(e,n){if(pathIsEmpty(e))return new ImmutableTree(n,this.children);{const r=pathGetFront(e),s=(this.children.get(r)||new ImmutableTree(null)).set(pathPopFront(e),n),l=this.children.insert(r,s);return new ImmutableTree(this.value,l)}}remove(e){if(pathIsEmpty(e))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{const n=pathGetFront(e),r=this.children.get(n);if(r){const o=r.remove(pathPopFront(e));let s;return o.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,o),this.value===null&&s.isEmpty()?new ImmutableTree(null):new ImmutableTree(this.value,s)}else return this}}get(e){if(pathIsEmpty(e))return this.value;{const n=pathGetFront(e),r=this.children.get(n);return r?r.get(pathPopFront(e)):null}}setTree(e,n){if(pathIsEmpty(e))return n;{const r=pathGetFront(e),s=(this.children.get(r)||new ImmutableTree(null)).setTree(pathPopFront(e),n);let l;return s.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,s),new ImmutableTree(this.value,l)}}fold(e){return this.fold_(newEmptyPath(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,s)=>{r[o]=s.fold_(pathChild(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,newEmptyPath(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(pathIsEmpty(e))return null;{const s=pathGetFront(e),l=this.children.get(s);return l?l.findOnPath_(pathPopFront(e),pathChild(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,newEmptyPath(),n)}foreachOnPath_(e,n,r){if(pathIsEmpty(e))return this;{this.value&&r(n,this.value);const o=pathGetFront(e),s=this.children.get(o);return s?s.foreachOnPath_(pathPopFront(e),pathChild(n,o),r):new ImmutableTree(null)}}foreach(e){this.foreach_(newEmptyPath(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(pathChild(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CompoundWrite{constructor(e){this.writeTree_=e}static empty(){return new CompoundWrite(new ImmutableTree(null))}}function compoundWriteAddWrite(t,e,n){if(pathIsEmpty(e))return new CompoundWrite(new ImmutableTree(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let s=r.value;const l=newRelativePath(o,e);return s=s.updateChild(l,n),new CompoundWrite(t.writeTree_.set(o,s))}else{const o=new ImmutableTree(n),s=t.writeTree_.setTree(e,o);return new CompoundWrite(s)}}}function compoundWriteAddWrites(t,e,n){let r=t;return each(n,(o,s)=>{r=compoundWriteAddWrite(r,pathChild(e,o),s)}),r}function compoundWriteRemoveWrite(t,e){if(pathIsEmpty(e))return CompoundWrite.empty();{const n=t.writeTree_.setTree(e,new ImmutableTree(null));return new CompoundWrite(n)}}function compoundWriteHasCompleteWrite(t,e){return compoundWriteGetCompleteNode(t,e)!=null}function compoundWriteGetCompleteNode(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(newRelativePath(n.path,e)):null}function compoundWriteGetCompleteChildren(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(PRIORITY_INDEX,(r,o)=>{e.push(new NamedNode(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new NamedNode(r,o.value))}),e}function compoundWriteChildCompoundWrite(t,e){if(pathIsEmpty(e))return t;{const n=compoundWriteGetCompleteNode(t,e);return n!=null?new CompoundWrite(new ImmutableTree(n)):new CompoundWrite(t.writeTree_.subtree(e))}}function compoundWriteIsEmpty(t){return t.writeTree_.isEmpty()}function compoundWriteApply(t,e){return applySubtreeWrite(newEmptyPath(),t.writeTree_,e)}function applySubtreeWrite(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,s)=>{o===".priority"?(assert(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=applySubtreeWrite(pathChild(t,o),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pathChild(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeTreeChildWrites(t,e){return newWriteTreeRef(e,t)}function writeTreeAddOverwrite(t,e,n,r,o){assert(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=compoundWriteAddWrite(t.visibleWrites,e,n)),t.lastWriteId=r}function writeTreeAddMerge(t,e,n,r){assert(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=compoundWriteAddWrites(t.visibleWrites,e,n),t.lastWriteId=r}function writeTreeGetWrite(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function writeTreeRemoveWrite(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);assert(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,s=!1,l=t.allWrites.length-1;for(;o&&l>=0;){const u=t.allWrites[l];u.visible&&(l>=n&&writeTreeRecordContainsPath_(u,r.path)?o=!1:pathContains(r.path,u.path)&&(s=!0)),l--}if(o){if(s)return writeTreeResetTree_(t),!0;if(r.snap)t.visibleWrites=compoundWriteRemoveWrite(t.visibleWrites,r.path);else{const u=r.children;each(u,d=>{t.visibleWrites=compoundWriteRemoveWrite(t.visibleWrites,pathChild(r.path,d))})}return!0}else return!1}function writeTreeRecordContainsPath_(t,e){if(t.snap)return pathContains(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&pathContains(pathChild(t.path,n),e))return!0;return!1}function writeTreeResetTree_(t){t.visibleWrites=writeTreeLayerTree_(t.allWrites,writeTreeDefaultFilter_,newEmptyPath()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function writeTreeDefaultFilter_(t){return t.visible}function writeTreeLayerTree_(t,e,n){let r=CompoundWrite.empty();for(let o=0;o<t.length;++o){const s=t[o];if(e(s)){const l=s.path;let u;if(s.snap)pathContains(n,l)?(u=newRelativePath(n,l),r=compoundWriteAddWrite(r,u,s.snap)):pathContains(l,n)&&(u=newRelativePath(l,n),r=compoundWriteAddWrite(r,newEmptyPath(),s.snap.getChild(u)));else if(s.children){if(pathContains(n,l))u=newRelativePath(n,l),r=compoundWriteAddWrites(r,u,s.children);else if(pathContains(l,n))if(u=newRelativePath(l,n),pathIsEmpty(u))r=compoundWriteAddWrites(r,newEmptyPath(),s.children);else{const d=safeGet(s.children,pathGetFront(u));if(d){const f=d.getChild(pathPopFront(u));r=compoundWriteAddWrite(r,newEmptyPath(),f)}}}else throw assertionError("WriteRecord should have .snap or .children")}}return r}function writeTreeCalcCompleteEventCache(t,e,n,r,o){if(!r&&!o){const s=compoundWriteGetCompleteNode(t.visibleWrites,e);if(s!=null)return s;{const l=compoundWriteChildCompoundWrite(t.visibleWrites,e);if(compoundWriteIsEmpty(l))return n;if(n==null&&!compoundWriteHasCompleteWrite(l,newEmptyPath()))return null;{const u=n||ChildrenNode.EMPTY_NODE;return compoundWriteApply(l,u)}}}else{const s=compoundWriteChildCompoundWrite(t.visibleWrites,e);if(!o&&compoundWriteIsEmpty(s))return n;if(!o&&n==null&&!compoundWriteHasCompleteWrite(s,newEmptyPath()))return null;{const l=function(f){return(f.visible||o)&&(!r||!~r.indexOf(f.writeId))&&(pathContains(f.path,e)||pathContains(e,f.path))},u=writeTreeLayerTree_(t.allWrites,l,e),d=n||ChildrenNode.EMPTY_NODE;return compoundWriteApply(u,d)}}}function writeTreeCalcCompleteEventChildren(t,e,n){let r=ChildrenNode.EMPTY_NODE;const o=compoundWriteGetCompleteNode(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(PRIORITY_INDEX,(s,l)=>{r=r.updateImmediateChild(s,l)}),r;if(n){const s=compoundWriteChildCompoundWrite(t.visibleWrites,e);return n.forEachChild(PRIORITY_INDEX,(l,u)=>{const d=compoundWriteApply(compoundWriteChildCompoundWrite(s,new Path(l)),u);r=r.updateImmediateChild(l,d)}),compoundWriteGetCompleteChildren(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const s=compoundWriteChildCompoundWrite(t.visibleWrites,e);return compoundWriteGetCompleteChildren(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function writeTreeCalcEventCacheAfterServerOverwrite(t,e,n,r,o){assert(r||o,"Either existingEventSnap or existingServerSnap must exist");const s=pathChild(e,n);if(compoundWriteHasCompleteWrite(t.visibleWrites,s))return null;{const l=compoundWriteChildCompoundWrite(t.visibleWrites,s);return compoundWriteIsEmpty(l)?o.getChild(n):compoundWriteApply(l,o.getChild(n))}}function writeTreeCalcCompleteChild(t,e,n,r){const o=pathChild(e,n),s=compoundWriteGetCompleteNode(t.visibleWrites,o);if(s!=null)return s;if(r.isCompleteForChild(n)){const l=compoundWriteChildCompoundWrite(t.visibleWrites,o);return compoundWriteApply(l,r.getNode().getImmediateChild(n))}else return null}function writeTreeShadowingWrite(t,e){return compoundWriteGetCompleteNode(t.visibleWrites,e)}function writeTreeCalcIndexedSlice(t,e,n,r,o,s,l){let u;const d=compoundWriteChildCompoundWrite(t.visibleWrites,e),f=compoundWriteGetCompleteNode(d,newEmptyPath());if(f!=null)u=f;else if(n!=null)u=compoundWriteApply(d,n);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const g=[],v=l.getCompare(),_=s?u.getReverseIteratorFrom(r,l):u.getIteratorFrom(r,l);let b=_.getNext();for(;b&&g.length<o;)v(b,r)!==0&&g.push(b),b=_.getNext();return g}else return[]}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache(t,e,n,r){return writeTreeCalcCompleteEventCache(t.writeTree,t.treePath,e,n,r)}function writeTreeRefCalcCompleteEventChildren(t,e){return writeTreeCalcCompleteEventChildren(t.writeTree,t.treePath,e)}function writeTreeRefCalcEventCacheAfterServerOverwrite(t,e,n,r){return writeTreeCalcEventCacheAfterServerOverwrite(t.writeTree,t.treePath,e,n,r)}function writeTreeRefShadowingWrite(t,e){return writeTreeShadowingWrite(t.writeTree,pathChild(t.treePath,e))}function writeTreeRefCalcIndexedSlice(t,e,n,r,o,s){return writeTreeCalcIndexedSlice(t.writeTree,t.treePath,e,n,r,o,s)}function writeTreeRefCalcCompleteChild(t,e,n){return writeTreeCalcCompleteChild(t.writeTree,t.treePath,e,n)}function writeTreeRefChild(t,e){return newWriteTreeRef(pathChild(t.treePath,e),t.writeTree)}function newWriteTreeRef(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;assert(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),assert(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const s=o.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,changeChildChanged(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,changeChildRemoved(r,o.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,changeChildAdded(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,changeChildChanged(r,e.snapshotNode,o.oldSnap));else throw assertionError("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NoCompleteChildSource_{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const NO_COMPLETE_CHILD_SOURCE=new NoCompleteChildSource_;class WriteTreeCompleteChildSource{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),s=writeTreeRefCalcIndexedSlice(this.writes_,o,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewProcessor(t){return{filter:t}}function viewProcessorAssertIndexed(t,e){assert(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),assert(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation(t,e,n,r,o){const s=new ChildChangeAccumulator;let l,u;if(n.type===OperationType.OVERWRITE){const f=n;f.source.fromUser?l=viewProcessorApplyUserOverwrite(t,e,f.path,f.snap,r,o,s):(assert(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered()&&!pathIsEmpty(f.path),l=viewProcessorApplyServerOverwrite(t,e,f.path,f.snap,r,o,u,s))}else if(n.type===OperationType.MERGE){const f=n;f.source.fromUser?l=viewProcessorApplyUserMerge(t,e,f.path,f.children,r,o,s):(assert(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered(),l=viewProcessorApplyServerMerge(t,e,f.path,f.children,r,o,u,s))}else if(n.type===OperationType.ACK_USER_WRITE){const f=n;f.revert?l=viewProcessorRevertUserWrite(t,e,f.path,r,o,s):l=viewProcessorAckUserWrite(t,e,f.path,f.affectedTree,r,o,s)}else if(n.type===OperationType.LISTEN_COMPLETE)l=viewProcessorListenComplete(t,e,n.path,r,s);else throw assertionError("Unknown operation type: "+n.type);const d=s.getChanges();return viewProcessorMaybeAddValueEvent(e,l,d),{viewCache:l,changes:d}}function viewProcessorMaybeAddValueEvent(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=viewCacheGetCompleteEventSnap(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(changeValue(viewCacheGetCompleteEventSnap(e)))}}function viewProcessorGenerateEventCacheAfterServerEvent(t,e,n,r,o,s){const l=e.eventCache;if(writeTreeRefShadowingWrite(r,n)!=null)return e;{let u,d;if(pathIsEmpty(n))if(assert(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=viewCacheGetCompleteServerSnap(e),g=f instanceof ChildrenNode?f:ChildrenNode.EMPTY_NODE,v=writeTreeRefCalcCompleteEventChildren(r,g);u=t.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const f=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=pathGetFront(n);if(f===".priority"){assert(pathGetLength(n)===1,"Can't have a priority with additional path components");const g=l.getNode();d=e.serverCache.getNode();const v=writeTreeRefCalcEventCacheAfterServerOverwrite(r,n,g,d);v!=null?u=t.filter.updatePriority(g,v):u=l.getNode()}else{const g=pathPopFront(n);let v;if(l.isCompleteForChild(f)){d=e.serverCache.getNode();const _=writeTreeRefCalcEventCacheAfterServerOverwrite(r,n,l.getNode(),d);_!=null?v=l.getNode().getImmediateChild(f).updateChild(g,_):v=l.getNode().getImmediateChild(f)}else v=writeTreeRefCalcCompleteChild(r,f,e.serverCache);v!=null?u=t.filter.updateChild(l.getNode(),f,v,g,o,s):u=l.getNode()}}return viewCacheUpdateEventSnap(e,u,l.isFullyInitialized()||pathIsEmpty(n),t.filter.filtersNodes())}}function viewProcessorApplyServerOverwrite(t,e,n,r,o,s,l,u){const d=e.serverCache;let f;const g=l?t.filter:t.filter.getIndexedFilter();if(pathIsEmpty(n))f=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const b=d.getNode().updateChild(n,r);f=g.updateFullNode(d.getNode(),b,null)}else{const b=pathGetFront(n);if(!d.isCompleteForPath(n)&&pathGetLength(n)>1)return e;const C=pathPopFront(n),A=d.getNode().getImmediateChild(b).updateChild(C,r);b===".priority"?f=g.updatePriority(d.getNode(),A):f=g.updateChild(d.getNode(),b,A,C,NO_COMPLETE_CHILD_SOURCE,null)}const v=viewCacheUpdateServerSnap(e,f,d.isFullyInitialized()||pathIsEmpty(n),g.filtersNodes()),_=new WriteTreeCompleteChildSource(o,v,s);return viewProcessorGenerateEventCacheAfterServerEvent(t,v,n,o,_,u)}function viewProcessorApplyUserOverwrite(t,e,n,r,o,s,l){const u=e.eventCache;let d,f;const g=new WriteTreeCompleteChildSource(o,e,s);if(pathIsEmpty(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,l),d=viewCacheUpdateEventSnap(e,f,!0,t.filter.filtersNodes());else{const v=pathGetFront(n);if(v===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),d=viewCacheUpdateEventSnap(e,f,u.isFullyInitialized(),u.isFiltered());else{const _=pathPopFront(n),b=u.getNode().getImmediateChild(v);let C;if(pathIsEmpty(_))C=r;else{const S=g.getCompleteChild(v);S!=null?pathGetBack(_)===".priority"&&S.getChild(pathParent(_)).isEmpty()?C=S:C=S.updateChild(_,r):C=ChildrenNode.EMPTY_NODE}if(b.equals(C))d=e;else{const S=t.filter.updateChild(u.getNode(),v,C,_,g,l);d=viewCacheUpdateEventSnap(e,S,u.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function viewProcessorCacheHasChild(t,e){return t.eventCache.isCompleteForChild(e)}function viewProcessorApplyUserMerge(t,e,n,r,o,s,l){let u=e;return r.foreach((d,f)=>{const g=pathChild(n,d);viewProcessorCacheHasChild(e,pathGetFront(g))&&(u=viewProcessorApplyUserOverwrite(t,u,g,f,o,s,l))}),r.foreach((d,f)=>{const g=pathChild(n,d);viewProcessorCacheHasChild(e,pathGetFront(g))||(u=viewProcessorApplyUserOverwrite(t,u,g,f,o,s,l))}),u}function viewProcessorApplyMerge(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function viewProcessorApplyServerMerge(t,e,n,r,o,s,l,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,f;pathIsEmpty(n)?f=r:f=new ImmutableTree(null).setTree(n,r);const g=e.serverCache.getNode();return f.children.inorderTraversal((v,_)=>{if(g.hasChild(v)){const b=e.serverCache.getNode().getImmediateChild(v),C=viewProcessorApplyMerge(t,b,_);d=viewProcessorApplyServerOverwrite(t,d,new Path(v),C,o,s,l,u)}}),f.children.inorderTraversal((v,_)=>{const b=!e.serverCache.isCompleteForChild(v)&&_.value===null;if(!g.hasChild(v)&&!b){const C=e.serverCache.getNode().getImmediateChild(v),S=viewProcessorApplyMerge(t,C,_);d=viewProcessorApplyServerOverwrite(t,d,new Path(v),S,o,s,l,u)}}),d}function viewProcessorAckUserWrite(t,e,n,r,o,s,l){if(writeTreeRefShadowingWrite(o,n)!=null)return e;const u=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(pathIsEmpty(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return viewProcessorApplyServerOverwrite(t,e,n,d.getNode().getChild(n),o,s,u,l);if(pathIsEmpty(n)){let f=new ImmutableTree(null);return d.getNode().forEachChild(KEY_INDEX,(g,v)=>{f=f.set(new Path(g),v)}),viewProcessorApplyServerMerge(t,e,n,f,o,s,u,l)}else return e}else{let f=new ImmutableTree(null);return r.foreach((g,v)=>{const _=pathChild(n,g);d.isCompleteForPath(_)&&(f=f.set(g,d.getNode().getChild(_)))}),viewProcessorApplyServerMerge(t,e,n,f,o,s,u,l)}}function viewProcessorListenComplete(t,e,n,r,o){const s=e.serverCache,l=viewCacheUpdateServerSnap(e,s.getNode(),s.isFullyInitialized()||pathIsEmpty(n),s.isFiltered());return viewProcessorGenerateEventCacheAfterServerEvent(t,l,n,r,NO_COMPLETE_CHILD_SOURCE,o)}function viewProcessorRevertUserWrite(t,e,n,r,o,s){let l;if(writeTreeRefShadowingWrite(r,n)!=null)return e;{const u=new WriteTreeCompleteChildSource(r,e,o),d=e.eventCache.getNode();let f;if(pathIsEmpty(n)||pathGetFront(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(e));else{const v=e.serverCache.getNode();assert(v instanceof ChildrenNode,"serverChildren would be complete if leaf node"),g=writeTreeRefCalcCompleteEventChildren(r,v)}g=g,f=t.filter.updateFullNode(d,g,s)}else{const g=pathGetFront(n);let v=writeTreeRefCalcCompleteChild(r,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=d.getImmediateChild(g)),v!=null?f=t.filter.updateChild(d,g,v,pathPopFront(n),u,s):e.eventCache.getNode().hasChild(g)?f=t.filter.updateChild(d,g,ChildrenNode.EMPTY_NODE,pathPopFront(n),u,s):f=d,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(e)),l.isLeafNode()&&(f=t.filter.updateFullNode(f,l,s)))}return l=e.serverCache.isFullyInitialized()||writeTreeRefShadowingWrite(r,newEmptyPath())!=null,viewCacheUpdateEventSnap(e,f,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class View{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new IndexedFilter(r.getIndex()),s=queryParamsGetNodeFilter(r);this.processor_=newViewProcessor(s);const l=n.serverCache,u=n.eventCache,d=o.updateFullNode(ChildrenNode.EMPTY_NODE,l.getNode(),null),f=s.updateFullNode(ChildrenNode.EMPTY_NODE,u.getNode(),null),g=new CacheNode(d,l.isFullyInitialized(),o.filtersNodes()),v=new CacheNode(f,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=newViewCache(v,g),this.eventGenerator_=new EventGenerator(this.query_)}get query(){return this.query_}}function viewGetServerCache(t){return t.viewCache_.serverCache.getNode()}function viewGetCompleteServerCache(t,e){const n=viewCacheGetCompleteServerSnap(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pathIsEmpty(e)&&!n.getImmediateChild(pathGetFront(e)).isEmpty())?n.getChild(e):null}function viewIsEmpty(t){return t.eventRegistrations_.length===0}function viewAddEventRegistration(t,e){t.eventRegistrations_.push(e)}function viewRemoveEventRegistration(t,e,n){const r=[];if(n){assert(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(n,o);l&&r.push(l)})}if(e){let o=[];for(let s=0;s<t.eventRegistrations_.length;++s){const l=t.eventRegistrations_[s];if(!l.matches(e))o.push(l);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function viewApplyOperation(t,e,n,r){e.type===OperationType.MERGE&&e.source.queryId!==null&&(assert(viewCacheGetCompleteServerSnap(t.viewCache_),"We should always have a full cache before handling merges"),assert(viewCacheGetCompleteEventSnap(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,s=viewProcessorApplyOperation(t.processor_,o,e,n,r);return viewProcessorAssertIndexed(t.processor_,s.viewCache),assert(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,viewGenerateEventsForChanges_(t,s.changes,s.viewCache.eventCache.getNode(),null)}function viewGetInitialEvents(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(PRIORITY_INDEX,(s,l)=>{r.push(changeChildAdded(s,l))}),n.isFullyInitialized()&&r.push(changeValue(n.getNode())),viewGenerateEventsForChanges_(t,r,n.getNode(),e)}function viewGenerateEventsForChanges_(t,e,n,r){const o=r?[r]:t.eventRegistrations_;return eventGeneratorGenerateEventsForChanges(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor$1;class SyncPoint{constructor(){this.views=new Map}}function syncPointSetReferenceConstructor(t){assert(!referenceConstructor$1,"__referenceConstructor has already been defined"),referenceConstructor$1=t}function syncPointGetReferenceConstructor(){return assert(referenceConstructor$1,"Reference.ts has not been loaded"),referenceConstructor$1}function syncPointIsEmpty(t){return t.views.size===0}function syncPointApplyOperation(t,e,n,r){const o=e.source.queryId;if(o!==null){const s=t.views.get(o);return assert(s!=null,"SyncTree gave us an op for an invalid query."),viewApplyOperation(s,e,n,r)}else{let s=[];for(const l of t.views.values())s=s.concat(viewApplyOperation(l,e,n,r));return s}}function syncPointGetView(t,e,n,r,o){const s=e._queryIdentifier,l=t.views.get(s);if(!l){let u=writeTreeRefCalcCompleteEventCache(n,o?r:null),d=!1;u?d=!0:r instanceof ChildrenNode?(u=writeTreeRefCalcCompleteEventChildren(n,r),d=!1):(u=ChildrenNode.EMPTY_NODE,d=!1);const f=newViewCache(new CacheNode(u,d,!1),new CacheNode(r,o,!1));return new View(e,f)}return l}function syncPointAddEventRegistration(t,e,n,r,o,s){const l=syncPointGetView(t,e,r,o,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),viewAddEventRegistration(l,n),viewGetInitialEvents(l,n)}function syncPointRemoveEventRegistration(t,e,n,r){const o=e._queryIdentifier,s=[];let l=[];const u=syncPointHasCompleteView(t);if(o==="default")for(const[d,f]of t.views.entries())l=l.concat(viewRemoveEventRegistration(f,n,r)),viewIsEmpty(f)&&(t.views.delete(d),f.query._queryParams.loadsAllData()||s.push(f.query));else{const d=t.views.get(o);d&&(l=l.concat(viewRemoveEventRegistration(d,n,r)),viewIsEmpty(d)&&(t.views.delete(o),d.query._queryParams.loadsAllData()||s.push(d.query)))}return u&&!syncPointHasCompleteView(t)&&s.push(new(syncPointGetReferenceConstructor())(e._repo,e._path)),{removed:s,events:l}}function syncPointGetQueryViews(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function syncPointGetCompleteServerCache(t,e){let n=null;for(const r of t.views.values())n=n||viewGetCompleteServerCache(r,e);return n}function syncPointViewForQuery(t,e){if(e._queryParams.loadsAllData())return syncPointGetCompleteView(t);{const r=e._queryIdentifier;return t.views.get(r)}}function syncPointViewExistsForQuery(t,e){return syncPointViewForQuery(t,e)!=null}function syncPointHasCompleteView(t){return syncPointGetCompleteView(t)!=null}function syncPointGetCompleteView(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor;function syncTreeSetReferenceConstructor(t){assert(!referenceConstructor,"__referenceConstructor has already been defined"),referenceConstructor=t}function syncTreeGetReferenceConstructor(){return assert(referenceConstructor,"Reference.ts has not been loaded"),referenceConstructor}let syncTreeNextQueryTag_=1;class SyncTree{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function syncTreeApplyUserOverwrite(t,e,n,r,o){return writeTreeAddOverwrite(t.pendingWriteTree_,e,n,r,o),o?syncTreeApplyOperationToSyncPoints_(t,new Overwrite(newOperationSourceUser(),e,n)):[]}function syncTreeApplyUserMerge(t,e,n,r){writeTreeAddMerge(t.pendingWriteTree_,e,n,r);const o=ImmutableTree.fromObject(n);return syncTreeApplyOperationToSyncPoints_(t,new Merge(newOperationSourceUser(),e,o))}function syncTreeAckUserWrite(t,e,n=!1){const r=writeTreeGetWrite(t.pendingWriteTree_,e);if(writeTreeRemoveWrite(t.pendingWriteTree_,e)){let s=new ImmutableTree(null);return r.snap!=null?s=s.set(newEmptyPath(),!0):each(r.children,l=>{s=s.set(new Path(l),!0)}),syncTreeApplyOperationToSyncPoints_(t,new AckUserWrite(r.path,s,n))}else return[]}function syncTreeApplyServerOverwrite(t,e,n){return syncTreeApplyOperationToSyncPoints_(t,new Overwrite(newOperationSourceServer(),e,n))}function syncTreeApplyServerMerge(t,e,n){const r=ImmutableTree.fromObject(n);return syncTreeApplyOperationToSyncPoints_(t,new Merge(newOperationSourceServer(),e,r))}function syncTreeApplyListenComplete(t,e){return syncTreeApplyOperationToSyncPoints_(t,new ListenComplete(newOperationSourceServer(),e))}function syncTreeApplyTaggedListenComplete(t,e,n){const r=syncTreeQueryKeyForTag_(t,n);if(r){const o=syncTreeParseQueryKey_(r),s=o.path,l=o.queryId,u=newRelativePath(s,e),d=new ListenComplete(newOperationSourceServerTaggedQuery(l),u);return syncTreeApplyTaggedOperation_(t,s,d)}else return[]}function syncTreeRemoveEventRegistration(t,e,n,r,o=!1){const s=e._path,l=t.syncPointTree_.get(s);let u=[];if(l&&(e._queryIdentifier==="default"||syncPointViewExistsForQuery(l,e))){const d=syncPointRemoveEventRegistration(l,e,n,r);syncPointIsEmpty(l)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const f=d.removed;if(u=d.events,!o){const g=f.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(s,(_,b)=>syncPointHasCompleteView(b));if(g&&!v){const _=t.syncPointTree_.subtree(s);if(!_.isEmpty()){const b=syncTreeCollectDistinctViewsForSubTree_(_);for(let C=0;C<b.length;++C){const S=b[C],A=S.query,R=syncTreeCreateListenerForView_(t,S);t.listenProvider_.startListening(syncTreeQueryForListening_(A),syncTreeTagForQuery(t,A),R.hashFn,R.onComplete)}}}!v&&f.length>0&&!r&&(g?t.listenProvider_.stopListening(syncTreeQueryForListening_(e),null):f.forEach(_=>{const b=t.queryToTagMap.get(syncTreeMakeQueryKey_(_));t.listenProvider_.stopListening(syncTreeQueryForListening_(_),b)}))}syncTreeRemoveTags_(t,f)}return u}function syncTreeApplyTaggedQueryOverwrite(t,e,n,r){const o=syncTreeQueryKeyForTag_(t,r);if(o!=null){const s=syncTreeParseQueryKey_(o),l=s.path,u=s.queryId,d=newRelativePath(l,e),f=new Overwrite(newOperationSourceServerTaggedQuery(u),d,n);return syncTreeApplyTaggedOperation_(t,l,f)}else return[]}function syncTreeApplyTaggedQueryMerge(t,e,n,r){const o=syncTreeQueryKeyForTag_(t,r);if(o){const s=syncTreeParseQueryKey_(o),l=s.path,u=s.queryId,d=newRelativePath(l,e),f=ImmutableTree.fromObject(n),g=new Merge(newOperationSourceServerTaggedQuery(u),d,f);return syncTreeApplyTaggedOperation_(t,l,g)}else return[]}function syncTreeAddEventRegistration(t,e,n,r=!1){const o=e._path;let s=null,l=!1;t.syncPointTree_.foreachOnPath(o,(_,b)=>{const C=newRelativePath(_,o);s=s||syncPointGetCompleteServerCache(b,C),l=l||syncPointHasCompleteView(b)});let u=t.syncPointTree_.get(o);u?(l=l||syncPointHasCompleteView(u),s=s||syncPointGetCompleteServerCache(u,newEmptyPath())):(u=new SyncPoint,t.syncPointTree_=t.syncPointTree_.set(o,u));let d;s!=null?d=!0:(d=!1,s=ChildrenNode.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((b,C)=>{const S=syncPointGetCompleteServerCache(C,newEmptyPath());S&&(s=s.updateImmediateChild(b,S))}));const f=syncPointViewExistsForQuery(u,e);if(!f&&!e._queryParams.loadsAllData()){const _=syncTreeMakeQueryKey_(e);assert(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const b=syncTreeGetNextQueryTag_();t.queryToTagMap.set(_,b),t.tagToQueryMap.set(b,_)}const g=writeTreeChildWrites(t.pendingWriteTree_,o);let v=syncPointAddEventRegistration(u,e,n,g,s,d);if(!f&&!l&&!r){const _=syncPointViewForQuery(u,e);v=v.concat(syncTreeSetupListener_(t,e,_))}return v}function syncTreeCalcCompleteEventCache(t,e,n){const o=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(l,u)=>{const d=newRelativePath(l,e),f=syncPointGetCompleteServerCache(u,d);if(f)return f});return writeTreeCalcCompleteEventCache(o,e,s,n,!0)}function syncTreeApplyOperationToSyncPoints_(t,e){return syncTreeApplyOperationHelper_(e,t.syncPointTree_,null,writeTreeChildWrites(t.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_(t,e,n,r){if(pathIsEmpty(t.path))return syncTreeApplyOperationDescendantsHelper_(t,e,n,r);{const o=e.get(newEmptyPath());n==null&&o!=null&&(n=syncPointGetCompleteServerCache(o,newEmptyPath()));let s=[];const l=pathGetFront(t.path),u=t.operationForChild(l),d=e.children.get(l);if(d&&u){const f=n?n.getImmediateChild(l):null,g=writeTreeRefChild(r,l);s=s.concat(syncTreeApplyOperationHelper_(u,d,f,g))}return o&&(s=s.concat(syncPointApplyOperation(o,t,r,n))),s}}function syncTreeApplyOperationDescendantsHelper_(t,e,n,r){const o=e.get(newEmptyPath());n==null&&o!=null&&(n=syncPointGetCompleteServerCache(o,newEmptyPath()));let s=[];return e.children.inorderTraversal((l,u)=>{const d=n?n.getImmediateChild(l):null,f=writeTreeRefChild(r,l),g=t.operationForChild(l);g&&(s=s.concat(syncTreeApplyOperationDescendantsHelper_(g,u,d,f)))}),o&&(s=s.concat(syncPointApplyOperation(o,t,r,n))),s}function syncTreeCreateListenerForView_(t,e){const n=e.query,r=syncTreeTagForQuery(t,n);return{hashFn:()=>(viewGetServerCache(e)||ChildrenNode.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?syncTreeApplyTaggedListenComplete(t,n._path,r):syncTreeApplyListenComplete(t,n._path);{const s=errorForServerCode(o,n);return syncTreeRemoveEventRegistration(t,n,null,s)}}}}function syncTreeTagForQuery(t,e){const n=syncTreeMakeQueryKey_(e);return t.queryToTagMap.get(n)}function syncTreeMakeQueryKey_(t){return t._path.toString()+"$"+t._queryIdentifier}function syncTreeQueryKeyForTag_(t,e){return t.tagToQueryMap.get(e)}function syncTreeParseQueryKey_(t){const e=t.indexOf("$");return assert(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Path(t.substr(0,e))}}function syncTreeApplyTaggedOperation_(t,e,n){const r=t.syncPointTree_.get(e);assert(r,"Missing sync point for query tag that we're tracking");const o=writeTreeChildWrites(t.pendingWriteTree_,e);return syncPointApplyOperation(r,n,o,null)}function syncTreeCollectDistinctViewsForSubTree_(t){return t.fold((e,n,r)=>{if(n&&syncPointHasCompleteView(n))return[syncPointGetCompleteView(n)];{let o=[];return n&&(o=syncPointGetQueryViews(n)),each(r,(s,l)=>{o=o.concat(l)}),o}})}function syncTreeQueryForListening_(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(syncTreeGetReferenceConstructor())(t._repo,t._path):t}function syncTreeRemoveTags_(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=syncTreeMakeQueryKey_(r),s=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(s)}}}function syncTreeGetNextQueryTag_(){return syncTreeNextQueryTag_++}function syncTreeSetupListener_(t,e,n){const r=e._path,o=syncTreeTagForQuery(t,e),s=syncTreeCreateListenerForView_(t,n),l=t.listenProvider_.startListening(syncTreeQueryForListening_(e),o,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(o)assert(!syncPointHasCompleteView(u.value),"If we're adding a query, it shouldn't be shadowed");else{const d=u.fold((f,g,v)=>{if(!pathIsEmpty(f)&&g&&syncPointHasCompleteView(g))return[syncPointGetCompleteView(g).query];{let _=[];return g&&(_=_.concat(syncPointGetQueryViews(g).map(b=>b.query))),each(v,(b,C)=>{_=_.concat(C)}),_}});for(let f=0;f<d.length;++f){const g=d[f];t.listenProvider_.stopListening(syncTreeQueryForListening_(g),syncTreeTagForQuery(t,g))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistingValueProvider{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ExistingValueProvider(n)}node(){return this.node_}}class DeferredValueProvider{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pathChild(this.path_,e);return new DeferredValueProvider(this.syncTree_,n)}node(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)}}const generateWithValues=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},resolveDeferredLeafValue=function(t,e,n){if(!t||typeof t!="object")return t;if(assert(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return resolveScalarDeferredValue(t[".sv"],e,n);if(typeof t[".sv"]=="object")return resolveComplexDeferredValue(t[".sv"],e);assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},resolveScalarDeferredValue=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:assert(!1,"Unexpected server value: "+t)}},resolveComplexDeferredValue=function(t,e,n){t.hasOwnProperty("increment")||assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&assert(!1,"Unexpected increment value: "+r);const o=e.node();if(assert(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const l=o.getValue();return typeof l!="number"?r:l+r},resolveDeferredValueTree=function(t,e,n,r){return resolveDeferredValue(e,new DeferredValueProvider(n,t),r)},resolveDeferredValueSnapshot=function(t,e,n){return resolveDeferredValue(t,new ExistingValueProvider(e),n)};function resolveDeferredValue(t,e,n){const r=t.getPriority().val(),o=resolveDeferredLeafValue(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const l=t,u=resolveDeferredLeafValue(l.getValue(),e,n);return u!==l.getValue()||o!==l.getPriority().val()?new LeafNode(u,nodeFromJSON(o)):t}else{const l=t;return s=l,o!==l.getPriority().val()&&(s=s.updatePriority(new LeafNode(o))),l.forEachChild(PRIORITY_INDEX,(u,d)=>{const f=resolveDeferredValue(d,e.getImmediateChild(u),n);f!==d&&(s=s.updateImmediateChild(u,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tree{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function treeSubTree(t,e){let n=e instanceof Path?e:new Path(e),r=t,o=pathGetFront(n);for(;o!==null;){const s=safeGet(r.node.children,o)||{children:{},childCount:0};r=new Tree(o,r,s),n=pathPopFront(n),o=pathGetFront(n)}return r}function treeGetValue(t){return t.node.value}function treeSetValue(t,e){t.node.value=e,treeUpdateParents(t)}function treeHasChildren(t){return t.node.childCount>0}function treeIsEmpty(t){return treeGetValue(t)===void 0&&!treeHasChildren(t)}function treeForEachChild(t,e){each(t.node.children,(n,r)=>{e(new Tree(n,t,r))})}function treeForEachDescendant(t,e,n,r){n&&!r&&e(t),treeForEachChild(t,o=>{treeForEachDescendant(o,e,!0,r)}),n&&r&&e(t)}function treeForEachAncestor(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function treeGetPath(t){return new Path(t.parent===null?t.name:treeGetPath(t.parent)+"/"+t.name)}function treeUpdateParents(t){t.parent!==null&&treeUpdateChild(t.parent,t.name,t)}function treeUpdateChild(t,e,n){const r=treeIsEmpty(n),o=contains(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,treeUpdateParents(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,treeUpdateParents(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,MAX_LEAF_SIZE_=10*1024*1024,isValidKey=function(t){return typeof t=="string"&&t.length!==0&&!INVALID_KEY_REGEX_.test(t)},isValidPathString=function(t){return typeof t=="string"&&t.length!==0&&!INVALID_PATH_REGEX_.test(t)},isValidRootPathString=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString(t)},isValidPriority=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!isInvalidJSONNumber(t)||t&&typeof t=="object"&&contains(t,".sv")},validateFirebaseDataArg=function(t,e,n,r){r&&e===void 0||validateFirebaseData(errorPrefix(t,"value"),e,n)},validateFirebaseData=function(t,e,n){const r=n instanceof Path?new ValidationPath(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+validationPathToErrorString(r));if(typeof e=="function")throw new Error(t+"contains a function "+validationPathToErrorString(r)+" with contents = "+e.toString());if(isInvalidJSONNumber(e))throw new Error(t+"contains "+e.toString()+" "+validationPathToErrorString(r));if(typeof e=="string"&&e.length>MAX_LEAF_SIZE_/3&&stringLength(e)>MAX_LEAF_SIZE_)throw new Error(t+"contains a string greater than "+MAX_LEAF_SIZE_+" utf8 bytes "+validationPathToErrorString(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,s=!1;if(each(e,(l,u)=>{if(l===".value")o=!0;else if(l!==".priority"&&l!==".sv"&&(s=!0,!isValidKey(l)))throw new Error(t+" contains an invalid key ("+l+") "+validationPathToErrorString(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);validationPathPush(r,l),validateFirebaseData(t,u,r),validationPathPop(r)}),o&&s)throw new Error(t+' contains ".value" child '+validationPathToErrorString(r)+" in addition to actual children.")}},validateFirebaseMergePaths=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=pathSlice(r);for(let l=0;l<s.length;l++)if(!(s[l]===".priority"&&l===s.length-1)){if(!isValidKey(s[l]))throw new Error(t+"contains an invalid key ("+s[l]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(pathCompare);let o=null;for(n=0;n<e.length;n++){if(r=e[n],o!==null&&pathContains(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},validateFirebaseMergeDataArg=function(t,e,n,r){if(r&&e===void 0)return;const o=errorPrefix(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const s=[];each(e,(l,u)=>{const d=new Path(l);if(validateFirebaseData(o,u,pathChild(n,d)),pathGetBack(d)===".priority"&&!isValidPriority(u))throw new Error(o+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(d)}),validateFirebaseMergePaths(o,s)},validatePathString=function(t,e,n,r){if(!(r&&n===void 0)&&!isValidPathString(n))throw new Error(errorPrefix(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},validateRootPathString=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),validatePathString(t,e,n,r)},validateWritablePath=function(t,e){if(pathGetFront(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},validateUrl=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!isValidKey(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!isValidRootPathString(n))throw new Error(errorPrefix(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eventQueueQueueEvents(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],s=o.getPath();n!==null&&!pathEquals(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(o)}n&&t.eventLists_.push(n)}function eventQueueRaiseEventsAtPath(t,e,n){eventQueueQueueEvents(t,n),eventQueueRaiseQueuedEventsMatchingPredicate(t,r=>pathEquals(r,e))}function eventQueueRaiseEventsForChangedPath(t,e,n){eventQueueQueueEvents(t,n),eventQueueRaiseQueuedEventsMatchingPredicate(t,r=>pathContains(r,e)||pathContains(e,r))}function eventQueueRaiseQueuedEventsMatchingPredicate(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const s=o.path;e(s)?(eventListRaise(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function eventListRaise(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();logger&&log("event: "+n.toString()),exceptionGuard(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INTERRUPT_REASON="repo_interrupt",MAX_TRANSACTION_RETRIES=25;class Repo{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function repoStart(t,e,n){if(t.stats_=statsManagerGetCollection(t.repoInfo_),t.forceRestClient_||beingCrawled())t.server_=new ReadonlyRestClient(t.repoInfo_,(r,o,s,l)=>{repoOnDataUpdate(t,r,o,s,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>repoOnConnectStatus(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{stringify(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new PersistentConnection(t.repoInfo_,e,(r,o,s,l)=>{repoOnDataUpdate(t,r,o,s,l)},r=>{repoOnConnectStatus(t,r)},r=>{repoOnServerInfoUpdate(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=statsManagerGetOrCreateReporter(t.repoInfo_,()=>new StatsReporter(t.stats_,t.server_)),t.infoData_=new SnapshotHolder,t.infoSyncTree_=new SyncTree({startListening:(r,o,s,l)=>{let u=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(u=syncTreeApplyServerOverwrite(t.infoSyncTree_,r._path,d),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),repoUpdateInfo(t,"connected",!1),t.serverSyncTree_=new SyncTree({startListening:(r,o,s,l)=>(t.server_.listen(r,s,o,(u,d)=>{const f=l(u,d);eventQueueRaiseEventsForChangedPath(t.eventQueue_,r._path,f)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function repoServerTime(t){const n=t.infoData_.getNode(new Path(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function repoGenerateServerValues(t){return generateWithValues({timestamp:repoServerTime(t)})}function repoOnDataUpdate(t,e,n,r,o){t.dataUpdateCount++;const s=new Path(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(o)if(r){const d=map$1(n,f=>nodeFromJSON(f));l=syncTreeApplyTaggedQueryMerge(t.serverSyncTree_,s,d,o)}else{const d=nodeFromJSON(n);l=syncTreeApplyTaggedQueryOverwrite(t.serverSyncTree_,s,d,o)}else if(r){const d=map$1(n,f=>nodeFromJSON(f));l=syncTreeApplyServerMerge(t.serverSyncTree_,s,d)}else{const d=nodeFromJSON(n);l=syncTreeApplyServerOverwrite(t.serverSyncTree_,s,d)}let u=s;l.length>0&&(u=repoRerunTransactions(t,s)),eventQueueRaiseEventsForChangedPath(t.eventQueue_,u,l)}function repoOnConnectStatus(t,e){repoUpdateInfo(t,"connected",e),e===!1&&repoRunOnDisconnectEvents(t)}function repoOnServerInfoUpdate(t,e){each(e,(n,r)=>{repoUpdateInfo(t,n,r)})}function repoUpdateInfo(t,e,n){const r=new Path("/.info/"+e),o=nodeFromJSON(n);t.infoData_.updateSnapshot(r,o);const s=syncTreeApplyServerOverwrite(t.infoSyncTree_,r,o);eventQueueRaiseEventsForChangedPath(t.eventQueue_,r,s)}function repoGetNextWriteId(t){return t.nextWriteId_++}function repoSetWithPriority(t,e,n,r,o){repoLog(t,"set",{path:e.toString(),value:n,priority:r});const s=repoGenerateServerValues(t),l=nodeFromJSON(n,r),u=syncTreeCalcCompleteEventCache(t.serverSyncTree_,e),d=resolveDeferredValueSnapshot(l,u,s),f=repoGetNextWriteId(t),g=syncTreeApplyUserOverwrite(t.serverSyncTree_,e,d,f,!0);eventQueueQueueEvents(t.eventQueue_,g),t.server_.put(e.toString(),l.val(!0),(_,b)=>{const C=_==="ok";C||warn("set at "+e+" failed: "+_);const S=syncTreeAckUserWrite(t.serverSyncTree_,f,!C);eventQueueRaiseEventsForChangedPath(t.eventQueue_,e,S),repoCallOnCompleteCallback(t,o,_,b)});const v=repoAbortTransactions(t,e);repoRerunTransactions(t,v),eventQueueRaiseEventsForChangedPath(t.eventQueue_,v,[])}function repoUpdate(t,e,n,r){repoLog(t,"update",{path:e.toString(),value:n});let o=!0;const s=repoGenerateServerValues(t),l={};if(each(n,(u,d)=>{o=!1,l[u]=resolveDeferredValueTree(pathChild(e,u),nodeFromJSON(d),t.serverSyncTree_,s)}),o)log("update() called with empty data.  Don't do anything."),repoCallOnCompleteCallback(t,r,"ok",void 0);else{const u=repoGetNextWriteId(t),d=syncTreeApplyUserMerge(t.serverSyncTree_,e,l,u);eventQueueQueueEvents(t.eventQueue_,d),t.server_.merge(e.toString(),n,(f,g)=>{const v=f==="ok";v||warn("update at "+e+" failed: "+f);const _=syncTreeAckUserWrite(t.serverSyncTree_,u,!v),b=_.length>0?repoRerunTransactions(t,e):e;eventQueueRaiseEventsForChangedPath(t.eventQueue_,b,_),repoCallOnCompleteCallback(t,r,f,g)}),each(n,f=>{const g=repoAbortTransactions(t,pathChild(e,f));repoRerunTransactions(t,g)}),eventQueueRaiseEventsForChangedPath(t.eventQueue_,e,[])}}function repoRunOnDisconnectEvents(t){repoLog(t,"onDisconnectEvents");const e=repoGenerateServerValues(t),n=newSparseSnapshotTree();sparseSnapshotTreeForEachTree(t.onDisconnect_,newEmptyPath(),(o,s)=>{const l=resolveDeferredValueTree(o,s,t.serverSyncTree_,e);sparseSnapshotTreeRemember(n,o,l)});let r=[];sparseSnapshotTreeForEachTree(n,newEmptyPath(),(o,s)=>{r=r.concat(syncTreeApplyServerOverwrite(t.serverSyncTree_,o,s));const l=repoAbortTransactions(t,o);repoRerunTransactions(t,l)}),t.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath(t.eventQueue_,newEmptyPath(),r)}function repoAddEventCallbackForQuery(t,e,n){let r;pathGetFront(e._path)===".info"?r=syncTreeAddEventRegistration(t.infoSyncTree_,e,n):r=syncTreeAddEventRegistration(t.serverSyncTree_,e,n),eventQueueRaiseEventsAtPath(t.eventQueue_,e._path,r)}function repoRemoveEventCallbackForQuery(t,e,n){let r;pathGetFront(e._path)===".info"?r=syncTreeRemoveEventRegistration(t.infoSyncTree_,e,n):r=syncTreeRemoveEventRegistration(t.serverSyncTree_,e,n),eventQueueRaiseEventsAtPath(t.eventQueue_,e._path,r)}function repoInterrupt(t){t.persistentConnection_&&t.persistentConnection_.interrupt(INTERRUPT_REASON)}function repoLog(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),log(n,...e)}function repoCallOnCompleteCallback(t,e,n,r){e&&exceptionGuard(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let s=o;r&&(s+=": "+r);const l=new Error(s);l.code=o,e(l)}})}function repoGetLatestState(t,e,n){return syncTreeCalcCompleteEventCache(t.serverSyncTree_,e,n)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions(t,e=t.transactionQueueTree_){if(e||repoPruneCompletedTransactionsBelowNode(t,e),treeGetValue(e)){const n=repoBuildTransactionQueue(t,e);assert(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&repoSendTransactionQueue(t,treeGetPath(e),n)}else treeHasChildren(e)&&treeForEachChild(e,n=>{repoSendReadyTransactions(t,n)})}function repoSendTransactionQueue(t,e,n){const r=n.map(f=>f.currentWriteId),o=repoGetLatestState(t,e,r);let s=o;const l=o.hash();for(let f=0;f<n.length;f++){const g=n[f];assert(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=newRelativePath(e,g.path);s=s.updateChild(v,g.currentOutputSnapshotRaw)}const u=s.val(!0),d=e;t.server_.put(d.toString(),u,f=>{repoLog(t,"transaction put response",{path:d.toString(),status:f});let g=[];if(f==="ok"){const v=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(syncTreeAckUserWrite(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&v.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();repoPruneCompletedTransactionsBelowNode(t,treeSubTree(t.transactionQueueTree_,e)),repoSendReadyTransactions(t,t.transactionQueueTree_),eventQueueRaiseEventsForChangedPath(t.eventQueue_,e,g);for(let _=0;_<v.length;_++)exceptionGuard(v[_])}else{if(f==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{warn("transaction at "+d.toString()+" failed: "+f);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=f}repoRerunTransactions(t,e)}},l)}function repoRerunTransactions(t,e){const n=repoGetAncestorTransactionNode(t,e),r=treeGetPath(n),o=repoBuildTransactionQueue(t,n);return repoRerunTransactionQueue(t,o,r),r}function repoRerunTransactionQueue(t,e,n){if(e.length===0)return;const r=[];let o=[];const l=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const d=e[u],f=newRelativePath(n,d.path);let g=!1,v;if(assert(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,v=d.abortReason,o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=MAX_TRANSACTION_RETRIES)g=!0,v="maxretry",o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,d.currentWriteId,!0));else{const _=repoGetLatestState(t,d.path,l);d.currentInputSnapshot=_;const b=e[u].update(_.val());if(b!==void 0){validateFirebaseData("transaction failed: Data returned ",b,d.path);let C=nodeFromJSON(b);typeof b=="object"&&b!=null&&contains(b,".priority")||(C=C.updatePriority(_.getPriority()));const A=d.currentWriteId,R=repoGenerateServerValues(t),I=resolveDeferredValueSnapshot(C,_,R);d.currentOutputSnapshotRaw=C,d.currentOutputSnapshotResolved=I,d.currentWriteId=repoGetNextWriteId(t),l.splice(l.indexOf(A),1),o=o.concat(syncTreeApplyUserOverwrite(t.serverSyncTree_,d.path,I,d.currentWriteId,d.applyLocally)),o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,A,!0))}else g=!0,v="nodata",o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,d.currentWriteId,!0))}eventQueueRaiseEventsForChangedPath(t.eventQueue_,n,o),o=[],g&&(e[u].status=2,function(_){setTimeout(_,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(v==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(v),!1,null))))}repoPruneCompletedTransactionsBelowNode(t,t.transactionQueueTree_);for(let u=0;u<r.length;u++)exceptionGuard(r[u]);repoSendReadyTransactions(t,t.transactionQueueTree_)}function repoGetAncestorTransactionNode(t,e){let n,r=t.transactionQueueTree_;for(n=pathGetFront(e);n!==null&&treeGetValue(r)===void 0;)r=treeSubTree(r,n),e=pathPopFront(e),n=pathGetFront(e);return r}function repoBuildTransactionQueue(t,e){const n=[];return repoAggregateTransactionQueuesForNode(t,e,n),n.sort((r,o)=>r.order-o.order),n}function repoAggregateTransactionQueuesForNode(t,e,n){const r=treeGetValue(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);treeForEachChild(e,o=>{repoAggregateTransactionQueuesForNode(t,o,n)})}function repoPruneCompletedTransactionsBelowNode(t,e){const n=treeGetValue(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,treeSetValue(e,n.length>0?n:void 0)}treeForEachChild(e,r=>{repoPruneCompletedTransactionsBelowNode(t,r)})}function repoAbortTransactions(t,e){const n=treeGetPath(repoGetAncestorTransactionNode(t,e)),r=treeSubTree(t.transactionQueueTree_,e);return treeForEachAncestor(r,o=>{repoAbortTransactionsOnNode(t,o)}),repoAbortTransactionsOnNode(t,r),treeForEachDescendant(r,o=>{repoAbortTransactionsOnNode(t,o)}),n}function repoAbortTransactionsOnNode(t,e){const n=treeGetValue(e);if(n){const r=[];let o=[],s=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(assert(s===l-1,"All SENT items should be at beginning of queue."),s=l,n[l].status=3,n[l].abortReason="set"):(assert(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));s===-1?treeSetValue(e,void 0):n.length=s+1,eventQueueRaiseEventsForChangedPath(t.eventQueue_,treeGetPath(e),o);for(let l=0;l<r.length;l++)exceptionGuard(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodePath(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function decodeQuery(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):warn(`Invalid query segment '${n}' in query '${t}'`)}return e}const parseRepoInfo=function(t,e){const n=parseDatabaseURL(t),r=n.namespace;n.domain==="firebase.com"&&fatal(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||warnIfPageIsSecure();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new RepoInfo(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new Path(n.pathString)}},parseDatabaseURL=function(t){let e="",n="",r="",o="",s="",l=!0,u="https",d=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(u=t.substring(0,f-1),t=t.substring(f+2));let g=t.indexOf("/");g===-1&&(g=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(g,v)),g<v&&(o=decodePath(t.substring(g,v)));const _=decodeQuery(t.substring(Math.min(t.length,v)));f=e.indexOf(":"),f>=0?(l=u==="https"||u==="wss",d=parseInt(e.substring(f+1),10)):f=e.length;const b=e.slice(0,f);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),n=e.substring(C+1),s=r}"ns"in _&&(s=_.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:l,scheme:u,pathString:o,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DataEvent{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+stringify(this.snapshot.exportVal())}}class CancelEvent{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CallbackContext{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryImpl{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){const e=queryParamsGetQueryObject(this._queryParams),n=ObjectToUniqueKey(e);return n==="{}"?"default":n}get _queryObject(){return queryParamsGetQueryObject(this._queryParams)}isEqual(e){if(e=getModularInstance(e),!(e instanceof QueryImpl))return!1;const n=this._repo===e._repo,r=pathEquals(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+pathToUrlEncodedString(this._path)}}class ReferenceImpl extends QueryImpl{constructor(e,n){super(e,n,new QueryParams,!1)}get parent(){const e=pathParent(this._path);return e===null?null:new ReferenceImpl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class DataSnapshot{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Path(e),r=child(this.ref,e);return new DataSnapshot(this._node.getChild(n),r,PRIORITY_INDEX)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new DataSnapshot(o,child(this.ref,r),PRIORITY_INDEX)))}hasChild(e){const n=new Path(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ref(t,e){return t=getModularInstance(t),t._checkNotDeleted("ref"),e!==void 0?child(t._root,e):t._root}function child(t,e){return t=getModularInstance(t),pathGetFront(t._path)===null?validateRootPathString("child","path",e,!1):validatePathString("child","path",e,!1),new ReferenceImpl(t._repo,pathChild(t._path,e))}function set(t,e){t=getModularInstance(t),validateWritablePath("set",t._path),validateFirebaseDataArg("set",e,t._path,!1);const n=new Deferred;return repoSetWithPriority(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function update(t,e){validateFirebaseMergeDataArg("update",e,t._path,!1);const n=new Deferred;return repoUpdate(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class ValueEventRegistration{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot(e.snapshotNode,new ReferenceImpl(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new CancelEvent(this,e,n):null}matches(e){return e instanceof ValueEventRegistration?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ChildEventRegistration{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new CancelEvent(this,e,n):null}createEvent(e,n){assert(e.childName!=null,"Child events should have a childName.");const r=child(new ReferenceImpl(n._repo,n._path),e.childName),o=n._queryParams.getIndex();return new DataEvent(e.type,this,new DataSnapshot(e.snapshotNode,r,o),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ChildEventRegistration?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function addEventListener(t,e,n,r,o){let s;if(typeof r=="object"&&(s=void 0,o=r),typeof r=="function"&&(s=r),o&&o.onlyOnce){const d=n,f=(g,v)=>{repoRemoveEventCallbackForQuery(t._repo,t,u),d(g,v)};f.userCallback=n.userCallback,f.context=n.context,n=f}const l=new CallbackContext(n,s||void 0),u=e==="value"?new ValueEventRegistration(l):new ChildEventRegistration(e,l);return repoAddEventCallbackForQuery(t._repo,t,u),()=>repoRemoveEventCallbackForQuery(t._repo,t,u)}function onValue(t,e,n,r){return addEventListener(t,"value",e,n,r)}syncPointSetReferenceConstructor(ReferenceImpl);syncTreeSetReferenceConstructor(ReferenceImpl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_DATABASE_EMULATOR_HOST_VAR="FIREBASE_DATABASE_EMULATOR_HOST",repos={};let useRestClient=!1;function repoManagerApplyEmulatorSettings(t,e,n,r){t.repoInfo_=new RepoInfo(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function repoManagerDatabaseFromApp(t,e,n,r,o){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=parseRepoInfo(s,o),u=l.repoInfo,d,f;typeof process<"u"&&{}&&(f={}[FIREBASE_DATABASE_EMULATOR_HOST_VAR]),f?(d=!0,s=`http://${f}?ns=${u.namespace}`,l=parseRepoInfo(s,o),u=l.repoInfo):d=!l.repoInfo.secure;const g=o&&d?new EmulatorTokenProvider(EmulatorTokenProvider.OWNER):new FirebaseAuthTokenProvider(t.name,t.options,e);validateUrl("Invalid Firebase Database URL",l),pathIsEmpty(l.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");const v=repoManagerCreateRepo(u,t,g,new AppCheckTokenProvider(t.name,n));return new Database(v,t)}function repoManagerDeleteRepo(t,e){const n=repos[e];(!n||n[t.key]!==t)&&fatal(`Database ${e}(${t.repoInfo_}) has already been deleted.`),repoInterrupt(t),delete n[t.key]}function repoManagerCreateRepo(t,e,n,r){let o=repos[e.name];o||(o={},repos[e.name]=o);let s=o[t.toURLString()];return s&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Repo(t,useRestClient,n,r),o[t.toURLString()]=s,s}class Database{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}_delete(){return this._rootInternal!==null&&(repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fatal("Cannot call "+e+" on a deleted database.")}}function getDatabase(t=getApp(),e){const n=_getProvider(t,"database").getImmediate({identifier:e}),r=getDefaultEmulatorHostnameAndPort("database");return r&&connectDatabaseEmulator(n,...r),n}function connectDatabaseEmulator(t,e,n,r={}){t=getModularInstance(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&fatal("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&fatal('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new EmulatorTokenProvider(EmulatorTokenProvider.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:createMockUserToken(r.mockUserToken,t.app.options.projectId);s=new EmulatorTokenProvider(l)}repoManagerApplyEmulatorSettings(o,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerDatabase(t){setSDKVersion(SDK_VERSION$1),_registerComponent(new Component("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return repoManagerDatabaseFromApp(r,o,s,n)},"PUBLIC").setMultipleInstances(!0)),registerVersion(name$1,version$1,t),registerVersion(name$1,version$1,"esm2017")}PersistentConnection.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};PersistentConnection.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};registerDatabase();function __rest(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function _prodErrorMap(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logError(t,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION$1}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(t,...e){throw createErrorInternal(t,...e)}function _createError(t,...e){return createErrorInternal(t,...e)}function _errorWithCustomMessage(t,e,n){const r=Object.assign(Object.assign({},prodErrorMap()),{[e]:n});return new ErrorFactory("auth","Firebase",r).create(e,{appName:t.name})}function createErrorInternal(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _DEFAULT_AUTH_ERROR_FACTORY.create(t,...e)}function _assert(t,e,...n){if(!t)throw createErrorInternal(e,...n)}function debugFail(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _logError(e),new Error(e)}function debugAssert(t,e){t||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(t){debugAssert(t instanceof Function,"Expected a class definition");let e=instanceCache.get(t);return e?(debugAssert(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,instanceCache.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(t,e){const n=_getProvider(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),s=n.getOptions();if(deepEqual(s,e!=null?e:{}))return o;_fail(o,"already-initialized")}return n.initialize({options:e})}function _initializeAuthInstance(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_getInstance);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,n){this.shortDelay=e,this.longDelay=n,debugAssert(n>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(t,e){debugAssert(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _performApiRequest(t,e,n,r,o={}){return _performFetchWithErrorHandling(t,o,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=querystring(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),FetchProvider.fetch()(_getFinalTarget(t,t.config.apiHost,n,u),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},s))})}async function _performFetchWithErrorHandling(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const o=new NetworkTimeout(t),s=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw _makeTaggedError(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw _makeTaggedError(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw _makeTaggedError(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw _errorWithCustomMessage(t,g,f);_fail(t,g)}}catch(o){if(o instanceof FirebaseError)throw o;_fail(t,"network-request-failed")}}async function _performSignInRequest(t,e,n,r,o={}){const s=await _performApiRequest(t,e,n,r,o);return"mfaPendingCredential"in s&&_fail(t,"multi-factor-auth-required",{_serverResponse:s}),s}function _getFinalTarget(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?_emulatorUrl(t.config,o):`${t.config.apiScheme}://${o}`}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=_createError(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(t,e){return _performApiRequest(t,"POST","/v1/accounts:delete",e)}async function getAccountInfo(t,e){return _performApiRequest(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(t,e=!1){const n=getModularInstance(t),r=await n.getIdToken(e),o=_parseToken(r);_assert(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s=typeof o.firebase=="object"?o.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:utcTimestampToDateString(secondsStringToMilliseconds(o.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(o.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(o.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function secondsStringToMilliseconds(t){return Number(t)*1e3}function _parseToken(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const o=base64Decode(n);return o?JSON.parse(o):(_logError("Failed to decode base64 JWT payload"),null)}catch(o){return _logError("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function _tokenExpiresIn(t){const e=_parseToken(t);return _assert(e,"internal-error"),_assert(typeof e.exp<"u","internal-error"),_assert(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof FirebaseError&&isUserInvalidated(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function isUserInvalidated({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(t){var e;const n=t.auth,r=await t.getIdToken(),o=await _logoutIfInvalidated(t,getAccountInfo(n,{idToken:r}));_assert(o==null?void 0:o.users.length,n,"internal-error");const s=o.users[0];t._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(s.providerUserInfo):[],u=mergeProviderData(t.providerData,l),d=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),g=d?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new UserMetadata(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function reload(t){const e=getModularInstance(t);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function extractProviderData(t){return t.map(e=>{var{providerId:n}=e,r=__rest(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(t,e){const n=await _performFetchWithErrorHandling(t,{},async()=>{const r=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:s}=t.config,l=_getFinalTarget(t,o,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken<"u","internal-error"),_assert(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return _assert(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:s}=await requestStsToken(e,n);this.updateTokensAndExpiration(r,o,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:s}=n,l=new StsTokenManager;return r&&(_assert(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),o&&(_assert(typeof o=="string","internal-error",{appName:e}),l.accessToken=o),s&&(_assert(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(t,e){_assert(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,s=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new UserMetadata(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,s,l,u,d,f,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(o=n.email)!==null&&o!==void 0?o:void 0,b=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(u=n.tenantId)!==null&&u!==void 0?u:void 0,A=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,R=(f=n.createdAt)!==null&&f!==void 0?f:void 0,I=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:w,emailVerified:N,isAnonymous:O,providerData:D,stsTokenManager:V}=n;_assert(w&&V,e,"internal-error");const L=StsTokenManager.fromJSON(this.name,V);_assert(typeof w=="string",e,"internal-error"),assertStringOrUndefined(v,e.name),assertStringOrUndefined(_,e.name),_assert(typeof N=="boolean",e,"internal-error"),_assert(typeof O=="boolean",e,"internal-error"),assertStringOrUndefined(b,e.name),assertStringOrUndefined(C,e.name),assertStringOrUndefined(S,e.name),assertStringOrUndefined(A,e.name),assertStringOrUndefined(R,e.name),assertStringOrUndefined(I,e.name);const W=new UserImpl({uid:w,auth:e,email:_,emailVerified:N,displayName:v,isAnonymous:O,photoURL:C,phoneNumber:b,tenantId:S,stsTokenManager:L,createdAt:R,lastLoginAt:I});return D&&Array.isArray(D)&&(W.providerData=D.map(U=>Object.assign({},U))),A&&(W._redirectEventId=A),W}static async _fromIdTokenResponse(e,n,r=!1){const o=new StsTokenManager;o.updateFromServerResponse(n);const s=new UserImpl({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await _reloadWithoutSaving(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(t,e,n){return`firebase:${t}:${e}:${n}`}class PersistenceUserManager{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:s}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,o.apiKey,s),this.fullPersistenceKey=_persistenceKeyName("persistence",o.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,r);const o=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=o[0]||_getInstance(inMemoryPersistence);const l=_persistenceKeyName(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const g=await f._get(l);if(g){const v=UserImpl._fromJSON(e,g);f!==s&&(u=v),s=f;break}}catch{}const d=o.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new PersistenceUserManager(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new PersistenceUserManager(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _isFirefox(t=getUA()){return/firefox\//i.test(t)}function _isSafari(t=getUA()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(t=getUA()){return/crios\//i.test(t)}function _isIEMobile(t=getUA()){return/iemobile/i.test(t)}function _isAndroid(t=getUA()){return/android/i.test(t)}function _isBlackBerry(t=getUA()){return/blackberry/i.test(t)}function _isWebOS(t=getUA()){return/webos/i.test(t)}function _isIOS(t=getUA()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _isIOSStandalone(t=getUA()){var e;return _isIOS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(t=getUA()){return _isIOS(t)||_isAndroid(t)||_isWebOS(t)||_isBlackBerry(t)||/windows phone/i.test(t)||_isIEMobile(t)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(t,e=[]){let n;switch(t){case"Browser":n=_getBrowserName(getUA());break;case"Worker":n=`${_getBrowserName(getUA())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${SDK_VERSION$1}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_getInstance(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d==null?void 0:d.user)&&(o=d.user,s=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(o)}catch(l){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?getModularInstance(e):null;return n&&_assert(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_getInstance(e)||this._popupRedirectResolver;_assert(n,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),l=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert(l,this,"internal-error"),l.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,o):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function _castAuth(t){return getModularInstance(t)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(n=>this.observer=n)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function connectAuthEmulator(t,e,n){const r=_castAuth(t);_assert(r._canInitEmulator,r,"emulator-config-failed"),_assert(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),s=extractProtocol(e),{host:l,port:u}=extractHostAndPort(e),d=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||emitEmulatorWarning()}function extractProtocol(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function extractHostAndPort(t){const e=extractProtocol(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const s=o[1];return{host:s,port:parsePort(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:parsePort(l)}}}function parsePort(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function emitEmulatorWarning(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,n){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function updateEmailPassword(t,e){return _performApiRequest(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}async function signInWithEmailLinkForLinking(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new EmailAuthCredential(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new EmailAuthCredential(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return signInWithPassword(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return updateEmailPassword(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:n,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_fail("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,s=__rest(n,["providerId","signInMethod"]);if(!r||!o)return null;const l=new OAuthCredential(r,o);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return signInWithIdp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,signInWithIdp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,signInWithIdp(e,n)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=querystring(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(t){const e=querystringDecode(extractQuerystring(t)).link,n=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,r=querystringDecode(extractQuerystring(t)).deep_link_id;return(r?querystringDecode(extractQuerystring(r)).link:null)||r||n||e||t}class ActionCodeURL{constructor(e){var n,r,o,s,l,u;const d=querystringDecode(extractQuerystring(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,v=parseMode((o=d.mode)!==null&&o!==void 0?o:null);_assert(f&&g&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=g,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=parseDeepLink(e);try{return new ActionCodeURL(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,n){return EmailAuthCredential._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ActionCodeURL.parseLink(n);return _assert(r,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,r.code,r.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return GoogleAuthProvider.credential(n,r)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,n){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return TwitterAuthProvider.credential(n,r)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signUp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const s=await UserImpl._fromIdTokenResponse(e,r,o),l=providerIdForResponse(r);return new UserCredentialImpl({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=providerIdForResponse(r);return new UserCredentialImpl({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function providerIdForResponse(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,n,r,o){var s;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new MultiFactorError(e,n,r,o)}}function _processCredentialSavingMfaContextIfNecessary(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(t,s,e,r):s})}async function _link$1(t,e,n=!1){const r=await _logoutIfInvalidated(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return UserCredentialImpl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(t,e,n=!1){const{auth:r}=t,o="reauthenticate";try{const s=await _logoutIfInvalidated(t,_processCredentialSavingMfaContextIfNecessary(r,o,e,t),n);_assert(s.idToken,r,"internal-error");const l=_parseToken(s.idToken);_assert(l,r,"internal-error");const{sub:u}=l;return _assert(t.uid===u,r,"user-mismatch"),UserCredentialImpl._forOperation(t,o,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_fail(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(t,e,n=!1){const r="signIn",o=await _processCredentialSavingMfaContextIfNecessary(t,r,e),s=await UserCredentialImpl._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(s.user),s}async function signInWithCredential(t,e){return _signInWithCredential(_castAuth(t),e)}async function createUserWithEmailAndPassword(t,e,n){const r=_castAuth(t),o=await signUp(r,{returnSecureToken:!0,email:e,password:n}),s=await UserCredentialImpl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function signInWithEmailAndPassword(t,e,n){return signInWithCredential(getModularInstance(t),EmailAuthProvider.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile$1(t,e){return _performApiRequest(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=getModularInstance(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await _logoutIfInvalidated(r,updateProfile$1(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function onIdTokenChanged(t,e,n,r){return getModularInstance(t).onIdTokenChanged(e,n,r)}function beforeAuthStateChanged(t,e,n){return getModularInstance(t).beforeAuthStateChanged(e,n)}function onAuthStateChanged(t,e,n,r){return getModularInstance(t).onAuthStateChanged(e,n,r)}function signOut(t){return getModularInstance(t).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const t=getUA();return _isSafari(t)||_isIOS(t)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(r);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const o=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);_isIE10()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IE10_LOCAL_STORAGE_SYNC_DELAY):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Receiver(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:s}=n.data,l=this.handlersMap[o];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const u=Array.from(l).map(async f=>f(n.origin,s)),d=await _allSettled(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const f=_generateEventId("",20);o.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:o,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(g),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),o.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[o.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(t){_window().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function getObjectStore(t,e){return t.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const t=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(t).toPromise()}function _openDatabase(){const t=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(r):(r.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(t,e,n){const r=getObjectStore(t,!0).put({[DB_DATA_KEYPATH]:e,value:n});return new DBPromise(r).toPromise()}async function getObject(t,e){const n=getObjectStore(t,!1).get(e),r=await new DBPromise(n).toPromise();return r===void 0?null:r.value}function _deleteObject(t,e){const n=getObjectStore(t,!0).delete(e);return new DBPromise(n).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_TRANSACTION_RETRY_COUNT)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_putObject(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>getObject(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_deleteObject(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const s=getObjectStore(o,!1).getAll();return new DBPromise(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:o,value:s}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const s=_createError("internal-error");s.customData=o,n(s)},r.type="text/javascript",r.charset="UTF-8",getScriptParentElement().appendChild(r)})}function _generateCallbackName(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(t,e){return e?_getInstance(e):(_assert(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return signInWithIdp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _signIn(t){return _signInWithCredential(t.auth,new IdpCredential(t),t.bypassAuthState)}function _reauth(t){const{auth:e,user:n}=t;return _assert(n,e,"internal-error"),_reauthenticate(n,new IdpCredential(t),t.bypassAuthState)}async function _link(t){const{auth:e,user:n}=t;return _assert(n,e,"internal-error"),_link$1(n,new IdpCredential(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,n,r,o,s=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,n,r,o,s){super(e,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const r=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(t,e){const n=pendingRedirectKey(e),r=resolverPersistence(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function _overrideRedirectResult(t,e){redirectOutcomeMap.set(t._key(),e)}function resolverPersistence(t){return _getInstance(t._redirectPersistence)}function pendingRedirectKey(t){return _persistenceKeyName(PENDING_REDIRECT_KEY,t.config.apiKey,t.name)}async function _getRedirectResult(t,e,n=!1){const r=_castAuth(t),o=_withDefaultResolver(r,e),l=await new RedirectAction(r,o,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!isNullRedirectEvent(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_createError(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(t,e={}){return _performApiRequest(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(t);for(const n of e)try{if(matchDomain(n))return}catch{}_fail(t,"unauthorized-domain")}function matchDomain(t){const e=_getCurrentUrl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!HTTP_REGEX.test(n))return!1;if(IP_ADDRESS_REGEX.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const t=_window().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function loadGapi(t){return new Promise((e,n)=>{var r,o,s;function l(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),n(_createError(t,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((o=(r=_window().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((s=_window().gapi)===null||s===void 0)&&s.load)l();else{const u=_generateCallbackName("iframefcb");return _window()[u]=()=>{gapi.load?l():n(_createError(t,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${u}`).catch(d=>n(d))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(t){return cachedGApiLoader=cachedGApiLoader||loadGapi(t),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(t){const e=t.config;_assert(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${t.config.authDomain}/${IFRAME_PATH}`,r={apiKey:e.apiKey,appName:t.name,v:SDK_VERSION$1},o=EID_FROM_APIHOST.get(t.config.apiHost);o&&(r.eid=o);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${querystring(r).slice(1)}`}async function _openIframe(t){const e=await _loadGapi(t),n=_window().gapi;return _assert(n,t,"internal-error"),e.open({where:document.body,url:getIframeUrl(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},r=>new Promise(async(o,s)=>{await r.restyle({setHideOnLeave:!1});const l=_createError(t,"network-request-failed"),u=_window().setTimeout(()=>{s(l)},PING_TIMEOUT.get());function d(){_window().clearTimeout(u),o(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(t,e,n,r=DEFAULT_WIDTH,o=DEFAULT_HEIGHT){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:r.toString(),height:o.toString(),top:s,left:l}),f=getUA().toLowerCase();n&&(u=_isChromeIOS(f)?TARGET_BLANK:n),_isFirefox(f)&&(e=e||FIREFOX_EMPTY_URL,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[b,C])=>`${_}${b}=${C},`,"");if(_isIOSStandalone(f)&&u!=="_self")return openAsNewWindowIOS(e||"",u),new AuthPopup(null);const v=window.open(e||"",u,g);_assert(v,t,"popup-blocked");try{v.focus()}catch{}return new AuthPopup(v)}function openAsNewWindowIOS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler";function _getRedirectUrl(t,e,n,r,o,s){_assert(t.config.authDomain,t,"auth-domain-config-required"),_assert(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:SDK_VERSION$1,eventId:o};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",isEmpty(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))l[d]=f}if(e instanceof BaseOAuthProvider){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(l.scopes=d.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const d of Object.keys(u))u[d]===void 0&&delete u[d];return`${getHandlerBase(t)}?${querystring(u).slice(1)}`}function getHandlerBase({config:t}){return t.emulator?_emulatorUrl(t,EMULATOR_WIDGET_PATH):`https://${t.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,n,r,o){var s;debugAssert((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=_getRedirectUrl(e,n,r,_getCurrentUrl(),o);return _open(e,l,_generateEventId())}async _openRedirect(e,n,r,o){return await this._originValidation(e),_setWindowLocation(_getRedirectUrl(e,n,r,_getCurrentUrl(),o)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:s}=this.eventManagers[n];return o?Promise.resolve(o):(debugAssert(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _openIframe(e),r=new AuthEventManager(e);return n.register("authEvent",o=>(_assert(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},o=>{var s;const l=(s=o==null?void 0:o[0])===null||s===void 0?void 0:s[WEB_STORAGE_SUPPORT_KEY];l!==void 0&&n(!!l),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_validateOrigin(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name="@firebase/auth",version="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth(t){_registerComponent(new Component("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),{apiKey:s,authDomain:l}=r.options;return((u,d)=>{_assert(s&&!s.includes(":"),"invalid-api-key",{appName:u.name}),_assert(!(l!=null&&l.includes(":")),"argument-error",{appName:u.name});const f={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(t)},g=new AuthImpl(u,d,f);return _initializeAuthInstance(g,n),g})(r,o)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const n=_castAuth(e.getProvider("auth").getImmediate());return(r=>new AuthInterop(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name,version,getVersionForPlatform(t)),registerVersion(name,version,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>authIdTokenMaxAge)return;const o=n==null?void 0:n.token;lastPostedIdToken!==o&&(lastPostedIdToken=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function getAuth(t=getApp()){const e=_getProvider(t,"auth");if(e.isInitialized())return e.getImmediate();const n=initializeAuth(t,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),r=getExperimentalSetting("authTokenSyncURL");if(r){const s=mintCookieFactory(r);beforeAuthStateChanged(n,s,()=>s(n.currentUser)),onIdTokenChanged(n,l=>s(l))}const o=getDefaultEmulatorHost("auth");return o&&connectAuthEmulator(n,`http://${o}`),n}registerAuth("Browser");const firebaseConfig={apiKey:"AIzaSyCIDQsbksT60mQxVsr2IDZwFsK54MyQwGA",authDomain:"legendary-randomizer-data.firebaseapp.com",databaseURL:"https://legendary-randomizer-data-default-rtdb.firebaseio.com",projectId:"legendary-randomizer-data",storageBucket:"legendary-randomizer-data.appspot.com",messagingSenderId:"330850882367",appId:"1:330850882367:web:8d2aae2fd681a3b2d0b98a"};initializeApp(firebaseConfig);const firebase={auth:getAuth(),signOut,updateProfile,onAuthStateChanged,getDatabase,ref,onValue,set,update,createUserWithEmailAndPassword,signInWithEmailAndPassword},remembered=t=>{const e=useStore();firebase.onAuthStateChanged(firebase.auth,n=>{e.userLoaded=!0,n&&(e.user=n,t.push("/dashboard"))})},logIn=async(t,{email:e,password:n})=>{const r=await firebase.signInWithEmailAndPassword(firebase.auth,e,n).catch(()=>{t.snack={visible:!0,color:"error",text:"Invalid credentials"}});r&&(t.user=r.user)},logOut=async t=>{const e=useStore();await firebase.signOut(firebase.auth),e.user=null,t.push("/")},getUserData=t=>{const e=useStore(),n=`${t}/${e.user.uid}`,r=firebase.getDatabase(),o=firebase.ref(r,n);firebase.onValue(o,s=>{!s.val()||(e[t]=s.val(),t=="game"&&e.setExpiration())}),t=="game"&&(e.gameLoaded=!0)},schemes={primary:"scheme_name"},masterminds={primary:"mastermind_name"},villains={primary:"villain_group"},henchmen={primary:"henchmen_name"},heroes={primary:"hero_name",secondary:"affiliation",colors:"colors"},tableFields={schemes,masterminds,villains,henchmen,heroes};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var lib$1={},util={};Object.defineProperty(util,"__esModule",{value:!0});util.fromObject=util.fromArray=util.weightFunc=void 0;function weightFunc(t){return Math.pow(Math.random(),1/t)}util.weightFunc=weightFunc;function fromArray(t){return t.map(function(e){return[e[0],weightFunc(e[1])]})}util.fromArray=fromArray;function fromObject(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push([n,weightFunc(t[n])]);return e}util.fromObject=fromObject;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=t.Direction=void 0;var e=util,n;(function(o){o.asc="asc",o.desc="desc"})(n=t.Direction||(t.Direction={}));function r(o,s){s===void 0&&(s=n.asc);var l=Array.isArray(o)?e.fromArray(o):e.fromObject(o);return l.sort(s===n.desc?function(u,d){return d[1]-u[1]}:function(u,d){return u[1]-d[1]}),l}t.default=r,t.shuffle=r})(lib$1);var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,g="__lodash_placeholder__",v=1,_=2,b=4,C=1,S=2,A=1,R=2,I=4,w=8,N=16,O=32,D=64,V=128,L=256,W=512,U=30,K="...",H=800,J=16,q=1,ce=2,te=3,Q=1/0,de=9007199254740991,Oe=17976931348623157e292,_e=0/0,Ce=4294967295,Le=Ce-1,tt=Ce>>>1,be=[["ary",V],["bind",A],["bindKey",R],["curry",w],["curryRight",N],["flip",W],["partial",O],["partialRight",D],["rearg",L]],j="[object Arguments]",ue="[object Array]",he="[object AsyncFunction]",Ee="[object Boolean]",Be="[object Date]",Xe="[object DOMException]",De="[object Error]",x="[object Function]",F="[object GeneratorFunction]",z="[object Map]",X="[object Number]",ie="[object Null]",fe="[object Object]",ye="[object Promise]",pe="[object Proxy]",me="[object RegExp]",se="[object Set]",Te="[object String]",we="[object Symbol]",Ie="[object Undefined]",xe="[object WeakMap]",Ue="[object WeakSet]",je="[object ArrayBuffer]",Ge="[object DataView]",nt="[object Float32Array]",yt="[object Float64Array]",Kt="[object Int8Array]",An="[object Int16Array]",Jt="[object Int32Array]",Rn="[object Uint8Array]",ht="[object Uint8ClampedArray]",St="[object Uint16Array]",xn="[object Uint32Array]",Ya=/\b__p \+= '';/g,Qa=/\b(__p \+=) '' \+/g,Xa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hs=/&(?:amp|lt|gt|quot|#39);/g,ps=/[&<>"']/g,Ja=RegExp(hs.source),Za=RegExp(ps.source),tl=/<%-([\s\S]+?)%>/g,nl=/<%([\s\S]+?)%>/g,ms=/<%=([\s\S]+?)%>/g,rl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ol=/^\w*$/,sl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eo=/[\\^$.*+?()[\]{}|]/g,il=RegExp(eo.source),to=/^\s+/,al=/\s/,cl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ul=/\{\n\/\* \[wrapped with (.+)\] \*/,dl=/,? & /,fl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hl=/[()=,{}\[\]\/\s]/,pl=/\\(\\)?/g,ml=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gs=/\w*$/,vl=/^[-+]0x[0-9a-f]+$/i,_l=/^0b[01]+$/i,yl=/^\[object .+?Constructor\]$/,bl=/^0o[0-7]+$/i,Cl=/^(?:0|[1-9]\d*)$/,El=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ar=/($^)/,Sl=/['\n\r\u2028\u2029\\]/g,lr="\\ud800-\\udfff",wl="\\u0300-\\u036f",kl="\\ufe20-\\ufe2f",Tl="\\u20d0-\\u20ff",vs=wl+kl+Tl,_s="\\u2700-\\u27bf",ys="a-z\\xdf-\\xf6\\xf8-\\xff",Il="\\xac\\xb1\\xd7\\xf7",Al="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rl="\\u2000-\\u206f",xl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bs="A-Z\\xc0-\\xd6\\xd8-\\xde",Cs="\\ufe0e\\ufe0f",Es=Il+Al+Rl+xl,no="['\u2019]",Pl="["+lr+"]",Ss="["+Es+"]",cr="["+vs+"]",ws="\\d+",Nl="["+_s+"]",ks="["+ys+"]",Ts="[^"+lr+Es+ws+_s+ys+bs+"]",ro="\\ud83c[\\udffb-\\udfff]",Ol="(?:"+cr+"|"+ro+")",Is="[^"+lr+"]",oo="(?:\\ud83c[\\udde6-\\uddff]){2}",so="[\\ud800-\\udbff][\\udc00-\\udfff]",Pn="["+bs+"]",As="\\u200d",Rs="(?:"+ks+"|"+Ts+")",Dl="(?:"+Pn+"|"+Ts+")",xs="(?:"+no+"(?:d|ll|m|re|s|t|ve))?",Ps="(?:"+no+"(?:D|LL|M|RE|S|T|VE))?",Ns=Ol+"?",Os="["+Cs+"]?",Vl="(?:"+As+"(?:"+[Is,oo,so].join("|")+")"+Os+Ns+")*",Ml="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ls=Os+Ns+Vl,$l="(?:"+[Nl,oo,so].join("|")+")"+Ls,Bl="(?:"+[Is+cr+"?",cr,oo,so,Pl].join("|")+")",ql=RegExp(no,"g"),Ul=RegExp(cr,"g"),io=RegExp(ro+"(?="+ro+")|"+Bl+Ls,"g"),Hl=RegExp([Pn+"?"+ks+"+"+xs+"(?="+[Ss,Pn,"$"].join("|")+")",Dl+"+"+Ps+"(?="+[Ss,Pn+Rs,"$"].join("|")+")",Pn+"?"+Rs+"+"+xs,Pn+"+"+Ps,Fl,Ml,ws,$l].join("|"),"g"),Wl=RegExp("["+As+lr+vs+Cs+"]"),Gl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jl=-1,et={};et[nt]=et[yt]=et[Kt]=et[An]=et[Jt]=et[Rn]=et[ht]=et[St]=et[xn]=!0,et[j]=et[ue]=et[je]=et[Ee]=et[Ge]=et[Be]=et[De]=et[x]=et[z]=et[X]=et[fe]=et[me]=et[se]=et[Te]=et[xe]=!1;var Ze={};Ze[j]=Ze[ue]=Ze[je]=Ze[Ge]=Ze[Ee]=Ze[Be]=Ze[nt]=Ze[yt]=Ze[Kt]=Ze[An]=Ze[Jt]=Ze[z]=Ze[X]=Ze[fe]=Ze[me]=Ze[se]=Ze[Te]=Ze[we]=Ze[Rn]=Ze[ht]=Ze[St]=Ze[xn]=!0,Ze[De]=Ze[x]=Ze[xe]=!1;var Kl={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Yl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ql={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jl=parseFloat,Zl=parseInt,Ds=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ec=typeof self=="object"&&self&&self.Object===Object&&self,pt=Ds||ec||Function("return this")(),ao=e&&!e.nodeType&&e,yn=ao&&!0&&t&&!t.nodeType&&t,Vs=yn&&yn.exports===ao,lo=Vs&&Ds.process,Dt=function(){try{var $=yn&&yn.require&&yn.require("util").types;return $||lo&&lo.binding&&lo.binding("util")}catch{}}(),Ms=Dt&&Dt.isArrayBuffer,Fs=Dt&&Dt.isDate,$s=Dt&&Dt.isMap,Bs=Dt&&Dt.isRegExp,qs=Dt&&Dt.isSet,Us=Dt&&Dt.isTypedArray;function At($,Y,G){switch(G.length){case 0:return $.call(Y);case 1:return $.call(Y,G[0]);case 2:return $.call(Y,G[0],G[1]);case 3:return $.call(Y,G[0],G[1],G[2])}return $.apply(Y,G)}function tc($,Y,G,Se){for(var Ve=-1,Ke=$==null?0:$.length;++Ve<Ke;){var ut=$[Ve];Y(Se,ut,G(ut),$)}return Se}function Vt($,Y){for(var G=-1,Se=$==null?0:$.length;++G<Se&&Y($[G],G,$)!==!1;);return $}function nc($,Y){for(var G=$==null?0:$.length;G--&&Y($[G],G,$)!==!1;);return $}function Hs($,Y){for(var G=-1,Se=$==null?0:$.length;++G<Se;)if(!Y($[G],G,$))return!1;return!0}function un($,Y){for(var G=-1,Se=$==null?0:$.length,Ve=0,Ke=[];++G<Se;){var ut=$[G];Y(ut,G,$)&&(Ke[Ve++]=ut)}return Ke}function ur($,Y){var G=$==null?0:$.length;return!!G&&Nn($,Y,0)>-1}function co($,Y,G){for(var Se=-1,Ve=$==null?0:$.length;++Se<Ve;)if(G(Y,$[Se]))return!0;return!1}function rt($,Y){for(var G=-1,Se=$==null?0:$.length,Ve=Array(Se);++G<Se;)Ve[G]=Y($[G],G,$);return Ve}function dn($,Y){for(var G=-1,Se=Y.length,Ve=$.length;++G<Se;)$[Ve+G]=Y[G];return $}function uo($,Y,G,Se){var Ve=-1,Ke=$==null?0:$.length;for(Se&&Ke&&(G=$[++Ve]);++Ve<Ke;)G=Y(G,$[Ve],Ve,$);return G}function rc($,Y,G,Se){var Ve=$==null?0:$.length;for(Se&&Ve&&(G=$[--Ve]);Ve--;)G=Y(G,$[Ve],Ve,$);return G}function fo($,Y){for(var G=-1,Se=$==null?0:$.length;++G<Se;)if(Y($[G],G,$))return!0;return!1}var oc=ho("length");function lc($){return $.split("")}function cc($){return $.match(fl)||[]}function Ws($,Y,G){var Se;return G($,function(Ve,Ke,ut){if(Y(Ve,Ke,ut))return Se=Ke,!1}),Se}function dr($,Y,G,Se){for(var Ve=$.length,Ke=G+(Se?1:-1);Se?Ke--:++Ke<Ve;)if(Y($[Ke],Ke,$))return Ke;return-1}function Nn($,Y,G){return Y===Y?Cc($,Y,G):dr($,Gs,G)}function uc($,Y,G,Se){for(var Ve=G-1,Ke=$.length;++Ve<Ke;)if(Se($[Ve],Y))return Ve;return-1}function Gs($){return $!==$}function zs($,Y){var G=$==null?0:$.length;return G?mo($,Y)/G:_e}function ho($){return function(Y){return Y==null?n:Y[$]}}function po($){return function(Y){return $==null?n:$[Y]}}function js($,Y,G,Se,Ve){return Ve($,function(Ke,ut,Je){G=Se?(Se=!1,Ke):Y(G,Ke,ut,Je)}),G}function dc($,Y){var G=$.length;for($.sort(Y);G--;)$[G]=$[G].value;return $}function mo($,Y){for(var G,Se=-1,Ve=$.length;++Se<Ve;){var Ke=Y($[Se]);Ke!==n&&(G=G===n?Ke:G+Ke)}return G}function go($,Y){for(var G=-1,Se=Array($);++G<$;)Se[G]=Y(G);return Se}function fc($,Y){return rt(Y,function(G){return[G,$[G]]})}function Ks($){return $&&$.slice(0,Js($)+1).replace(to,"")}function Rt($){return function(Y){return $(Y)}}function vo($,Y){return rt(Y,function(G){return $[G]})}function Gn($,Y){return $.has(Y)}function Ys($,Y){for(var G=-1,Se=$.length;++G<Se&&Nn(Y,$[G],0)>-1;);return G}function Qs($,Y){for(var G=$.length;G--&&Nn(Y,$[G],0)>-1;);return G}function hc($,Y){for(var G=$.length,Se=0;G--;)$[G]===Y&&++Se;return Se}var pc=po(Kl),mc=po(Yl);function gc($){return"\\"+Xl[$]}function vc($,Y){return $==null?n:$[Y]}function On($){return Wl.test($)}function _c($){return Gl.test($)}function yc($){for(var Y,G=[];!(Y=$.next()).done;)G.push(Y.value);return G}function _o($){var Y=-1,G=Array($.size);return $.forEach(function(Se,Ve){G[++Y]=[Ve,Se]}),G}function Xs($,Y){return function(G){return $(Y(G))}}function fn($,Y){for(var G=-1,Se=$.length,Ve=0,Ke=[];++G<Se;){var ut=$[G];(ut===Y||ut===g)&&($[G]=g,Ke[Ve++]=G)}return Ke}function fr($){var Y=-1,G=Array($.size);return $.forEach(function(Se){G[++Y]=Se}),G}function bc($){var Y=-1,G=Array($.size);return $.forEach(function(Se){G[++Y]=[Se,Se]}),G}function Cc($,Y,G){for(var Se=G-1,Ve=$.length;++Se<Ve;)if($[Se]===Y)return Se;return-1}function Ec($,Y,G){for(var Se=G+1;Se--;)if($[Se]===Y)return Se;return Se}function Ln($){return On($)?kc($):oc($)}function Ht($){return On($)?Tc($):lc($)}function Js($){for(var Y=$.length;Y--&&al.test($.charAt(Y)););return Y}var wc=po(Ql);function kc($){for(var Y=io.lastIndex=0;io.test($);)++Y;return Y}function Tc($){return $.match(io)||[]}function Ic($){return $.match(Hl)||[]}var Ac=function $(Y){Y=Y==null?pt:Dn.defaults(pt.Object(),Y,Dn.pick(pt,zl));var G=Y.Array,Se=Y.Date,Ve=Y.Error,Ke=Y.Function,ut=Y.Math,Je=Y.Object,yo=Y.RegExp,Rc=Y.String,Mt=Y.TypeError,mr=G.prototype,xc=Ke.prototype,Vn=Je.prototype,gr=Y["__core-js_shared__"],vr=xc.toString,Qe=Vn.hasOwnProperty,Pc=0,Zs=function(){var a=/[^.]+$/.exec(gr&&gr.keys&&gr.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),_r=Vn.toString,Nc=vr.call(Je),Oc=pt._,Lc=yo("^"+vr.call(Qe).replace(eo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yr=Vs?Y.Buffer:n,hn=Y.Symbol,br=Y.Uint8Array,ei=yr?yr.allocUnsafe:n,Cr=Xs(Je.getPrototypeOf,Je),ti=Je.create,ri=Vn.propertyIsEnumerable,Er=mr.splice,oi=hn?hn.isConcatSpreadable:n,zn=hn?hn.iterator:n,bn=hn?hn.toStringTag:n,Sr=function(){try{var a=kn(Je,"defineProperty");return a({},"",{}),a}catch{}}(),Dc=Y.clearTimeout!==pt.clearTimeout&&Y.clearTimeout,Vc=Se&&Se.now!==pt.Date.now&&Se.now,Mc=Y.setTimeout!==pt.setTimeout&&Y.setTimeout,kr=ut.ceil,Tr=ut.floor,bo=Je.getOwnPropertySymbols,Fc=yr?yr.isBuffer:n,si=Y.isFinite,$c=mr.join,Bc=Xs(Je.keys,Je),dt=ut.max,vt=ut.min,qc=Se.now,Uc=Y.parseInt,ai=ut.random,Hc=mr.reverse,Co=kn(Y,"DataView"),jn=kn(Y,"Map"),Eo=kn(Y,"Promise"),Mn=kn(Y,"Set"),Kn=kn(Y,"WeakMap"),Yn=kn(Je,"create"),Ir=Kn&&new Kn,Fn={},Wc=Tn(Co),Gc=Tn(jn),zc=Tn(Eo),jc=Tn(Mn),Kc=Tn(Kn),Ar=hn?hn.prototype:n,Qn=Ar?Ar.valueOf:n,li=Ar?Ar.toString:n;function k(a){if(st(a)&&!Me(a)&&!(a instanceof We)){if(a instanceof Ft)return a;if(Qe.call(a,"__wrapped__"))return ha(a)}return new Ft(a)}var $n=function(){function a(){}return function(c){if(!ot(c))return{};if(ti)return ti(c);a.prototype=c;var m=new a;return a.prototype=n,m}}();function Rr(){}function Ft(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}k.templateSettings={escape:tl,evaluate:nl,interpolate:ms,variable:"",imports:{_:k}},k.prototype=Rr.prototype,k.prototype.constructor=k,Ft.prototype=$n(Rr.prototype),Ft.prototype.constructor=Ft;function We(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}function Yc(){var a=new We(this.__wrapped__);return a.__actions__=wt(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=wt(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=wt(this.__views__),a}function Qc(){if(this.__filtered__){var a=new We(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Xc(){var a=this.__wrapped__.value(),c=this.__dir__,m=Me(a),y=c<0,E=m?a.length:0,T=pd(0,E,this.__views__),P=T.start,M=T.end,B=M-P,Z=y?M:P-1,oe=this.__iteratees__,ae=oe.length,ve=0,ke=vt(B,this.__takeCount__);if(!m||!y&&E==B&&ke==B)return Di(a,this.__actions__);var Pe=[];e:for(;B--&&ve<ke;){Z+=c;for(var $e=-1,Ne=a[Z];++$e<ae;){var He=oe[$e],ze=He.iteratee,Nt=He.type,Et=ze(Ne);if(Nt==ce)Ne=Et;else if(!Et){if(Nt==q)continue e;break e}}Pe[ve++]=Ne}return Pe}We.prototype=$n(Rr.prototype),We.prototype.constructor=We;function Cn(a){var c=-1,m=a==null?0:a.length;for(this.clear();++c<m;){var y=a[c];this.set(y[0],y[1])}}function Jc(){this.__data__=Yn?Yn(null):{},this.size=0}function Zc(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function eu(a){var c=this.__data__;if(Yn){var m=c[a];return m===d?n:m}return Qe.call(c,a)?c[a]:n}function tu(a){var c=this.__data__;return Yn?c[a]!==n:Qe.call(c,a)}function ru(a,c){var m=this.__data__;return this.size+=this.has(a)?0:1,m[a]=Yn&&c===n?d:c,this}Cn.prototype.clear=Jc,Cn.prototype.delete=Zc,Cn.prototype.get=eu,Cn.prototype.has=tu,Cn.prototype.set=ru;function Zt(a){var c=-1,m=a==null?0:a.length;for(this.clear();++c<m;){var y=a[c];this.set(y[0],y[1])}}function ou(){this.__data__=[],this.size=0}function su(a){var c=this.__data__,m=xr(c,a);if(m<0)return!1;var y=c.length-1;return m==y?c.pop():Er.call(c,m,1),--this.size,!0}function iu(a){var c=this.__data__,m=xr(c,a);return m<0?n:c[m][1]}function au(a){return xr(this.__data__,a)>-1}function lu(a,c){var m=this.__data__,y=xr(m,a);return y<0?(++this.size,m.push([a,c])):m[y][1]=c,this}Zt.prototype.clear=ou,Zt.prototype.delete=su,Zt.prototype.get=iu,Zt.prototype.has=au,Zt.prototype.set=lu;function tn(a){var c=-1,m=a==null?0:a.length;for(this.clear();++c<m;){var y=a[c];this.set(y[0],y[1])}}function cu(){this.size=0,this.__data__={hash:new Cn,map:new(jn||Zt),string:new Cn}}function uu(a){var c=Wr(this,a).delete(a);return this.size-=c?1:0,c}function du(a){return Wr(this,a).get(a)}function fu(a){return Wr(this,a).has(a)}function hu(a,c){var m=Wr(this,a),y=m.size;return m.set(a,c),this.size+=m.size==y?0:1,this}tn.prototype.clear=cu,tn.prototype.delete=uu,tn.prototype.get=du,tn.prototype.has=fu,tn.prototype.set=hu;function En(a){var c=-1,m=a==null?0:a.length;for(this.__data__=new tn;++c<m;)this.add(a[c])}function pu(a){return this.__data__.set(a,d),this}function gu(a){return this.__data__.has(a)}En.prototype.add=En.prototype.push=pu,En.prototype.has=gu;function Wt(a){var c=this.__data__=new Zt(a);this.size=c.size}function vu(){this.__data__=new Zt,this.size=0}function _u(a){var c=this.__data__,m=c.delete(a);return this.size=c.size,m}function yu(a){return this.__data__.get(a)}function bu(a){return this.__data__.has(a)}function Cu(a,c){var m=this.__data__;if(m instanceof Zt){var y=m.__data__;if(!jn||y.length<o-1)return y.push([a,c]),this.size=++m.size,this;m=this.__data__=new tn(y)}return m.set(a,c),this.size=m.size,this}Wt.prototype.clear=vu,Wt.prototype.delete=_u,Wt.prototype.get=yu,Wt.prototype.has=bu,Wt.prototype.set=Cu;function ci(a,c){var m=Me(a),y=!m&&In(a),E=!m&&!y&&_n(a),T=!m&&!y&&!E&&Hn(a),P=m||y||E||T,M=P?go(a.length,Rc):[],B=M.length;for(var Z in a)(c||Qe.call(a,Z))&&!(P&&(Z=="length"||E&&(Z=="offset"||Z=="parent")||T&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||sn(Z,B)))&&M.push(Z);return M}function ui(a){var c=a.length;return c?a[Oo(0,c-1)]:n}function Eu(a,c){return Gr(wt(a),Sn(c,0,a.length))}function Su(a){return Gr(wt(a))}function So(a,c,m){(m!==n&&!zt(a[c],m)||m===n&&!(c in a))&&nn(a,c,m)}function Xn(a,c,m){var y=a[c];(!(Qe.call(a,c)&&zt(y,m))||m===n&&!(c in a))&&nn(a,c,m)}function xr(a,c){for(var m=a.length;m--;)if(zt(a[m][0],c))return m;return-1}function wu(a,c,m,y){return pn(a,function(E,T,P){c(y,E,m(E),P)}),y}function di(a,c){return a&&Qt(c,ft(c),a)}function ku(a,c){return a&&Qt(c,Tt(c),a)}function nn(a,c,m){c=="__proto__"&&Sr?Sr(a,c,{configurable:!0,enumerable:!0,value:m,writable:!0}):a[c]=m}function wo(a,c){for(var m=-1,y=c.length,E=G(y),T=a==null;++m<y;)E[m]=T?n:os(a,c[m]);return E}function Sn(a,c,m){return a===a&&(m!==n&&(a=a<=m?a:m),c!==n&&(a=a>=c?a:c)),a}function $t(a,c,m,y,E,T){var P,M=c&v,B=c&_,Z=c&b;if(m&&(P=E?m(a,y,E,T):m(a)),P!==n)return P;if(!ot(a))return a;var oe=Me(a);if(oe){if(P=vd(a),!M)return wt(a,P)}else{var ae=_t(a),ve=ae==x||ae==F;if(_n(a))return Fi(a,M);if(ae==fe||ae==j||ve&&!E){if(P=B||ve?{}:oa(a),!M)return B?od(a,ku(P,a)):rd(a,di(P,a))}else{if(!Ze[ae])return E?a:{};P=_d(a,ae,M)}}T||(T=new Wt);var ke=T.get(a);if(ke)return ke;T.set(a,P),La(a)?a.forEach(function(Ne){P.add($t(Ne,c,m,Ne,a,T))}):Na(a)&&a.forEach(function(Ne,He){P.set(He,$t(Ne,c,m,He,a,T))});var Pe=Z?B?Wo:Ho:B?Tt:ft,$e=oe?n:Pe(a);return Vt($e||a,function(Ne,He){$e&&(He=Ne,Ne=a[He]),Xn(P,He,$t(Ne,c,m,He,a,T))}),P}function Tu(a){var c=ft(a);return function(m){return fi(m,a,c)}}function fi(a,c,m){var y=m.length;if(a==null)return!y;for(a=Je(a);y--;){var E=m[y],T=c[E],P=a[E];if(P===n&&!(E in a)||!T(P))return!1}return!0}function hi(a,c,m){if(typeof a!="function")throw new Mt(l);return sr(function(){a.apply(n,m)},c)}function Jn(a,c,m,y){var E=-1,T=ur,P=!0,M=a.length,B=[],Z=c.length;if(!M)return B;m&&(c=rt(c,Rt(m))),y?(T=co,P=!1):c.length>=o&&(T=Gn,P=!1,c=new En(c));e:for(;++E<M;){var oe=a[E],ae=m==null?oe:m(oe);if(oe=y||oe!==0?oe:0,P&&ae===ae){for(var ve=Z;ve--;)if(c[ve]===ae)continue e;B.push(oe)}else T(c,ae,y)||B.push(oe)}return B}var pn=Hi(Yt),mi=Hi(To,!0);function Iu(a,c){var m=!0;return pn(a,function(y,E,T){return m=!!c(y,E,T),m}),m}function Nr(a,c,m){for(var y=-1,E=a.length;++y<E;){var T=a[y],P=c(T);if(P!=null&&(M===n?P===P&&!Pt(P):m(P,M)))var M=P,B=T}return B}function Au(a,c,m,y){var E=a.length;for(m=Fe(m),m<0&&(m=-m>E?0:E+m),y=y===n||y>E?E:Fe(y),y<0&&(y+=E),y=m>y?0:Va(y);m<y;)a[m++]=c;return a}function gi(a,c){var m=[];return pn(a,function(y,E,T){c(y,E,T)&&m.push(y)}),m}function mt(a,c,m,y,E){var T=-1,P=a.length;for(m||(m=bd),E||(E=[]);++T<P;){var M=a[T];c>0&&m(M)?c>1?mt(M,c-1,m,y,E):dn(E,M):y||(E[E.length]=M)}return E}var ko=Wi(),vi=Wi(!0);function Yt(a,c){return a&&ko(a,c,ft)}function To(a,c){return a&&vi(a,c,ft)}function Lr(a,c){return un(c,function(m){return an(a[m])})}function wn(a,c){c=gn(c,a);for(var m=0,y=c.length;a!=null&&m<y;)a=a[Xt(c[m++])];return m&&m==y?a:n}function _i(a,c,m){var y=c(a);return Me(a)?y:dn(y,m(a))}function bt(a){return a==null?a===n?Ie:ie:bn&&bn in Je(a)?hd(a):Id(a)}function Io(a,c){return a>c}function Ru(a,c){return a!=null&&Qe.call(a,c)}function xu(a,c){return a!=null&&c in Je(a)}function Pu(a,c,m){return a>=vt(c,m)&&a<dt(c,m)}function Ao(a,c,m){for(var y=m?co:ur,E=a[0].length,T=a.length,P=T,M=G(T),B=1/0,Z=[];P--;){var oe=a[P];P&&c&&(oe=rt(oe,Rt(c))),B=vt(oe.length,B),M[P]=!m&&(c||E>=120&&oe.length>=120)?new En(P&&oe):n}oe=a[0];var ae=-1,ve=M[0];e:for(;++ae<E&&Z.length<B;){var ke=oe[ae],Pe=c?c(ke):ke;if(ke=m||ke!==0?ke:0,!(ve?Gn(ve,Pe):y(Z,Pe,m))){for(P=T;--P;){var $e=M[P];if(!($e?Gn($e,Pe):y(a[P],Pe,m)))continue e}ve&&ve.push(Pe),Z.push(ke)}}return Z}function Ou(a,c,m,y){return Yt(a,function(E,T,P){c(y,m(E),T,P)}),y}function Zn(a,c,m){c=gn(c,a),a=la(a,c);var y=a==null?a:a[Xt(qt(c))];return y==null?n:At(y,a,m)}function yi(a){return st(a)&&bt(a)==j}function Lu(a){return st(a)&&bt(a)==je}function Du(a){return st(a)&&bt(a)==Be}function er(a,c,m,y,E){return a===c?!0:a==null||c==null||!st(a)&&!st(c)?a!==a&&c!==c:Vu(a,c,m,y,er,E)}function Vu(a,c,m,y,E,T){var P=Me(a),M=Me(c),B=P?ue:_t(a),Z=M?ue:_t(c);B=B==j?fe:B,Z=Z==j?fe:Z;var oe=B==fe,ae=Z==fe,ve=B==Z;if(ve&&_n(a)){if(!_n(c))return!1;P=!0,oe=!1}if(ve&&!oe)return T||(T=new Wt),P||Hn(a)?ta(a,c,m,y,E,T):ud(a,c,B,m,y,E,T);if(!(m&C)){var ke=oe&&Qe.call(a,"__wrapped__"),Pe=ae&&Qe.call(c,"__wrapped__");if(ke||Pe){var $e=ke?a.value():a,Ne=Pe?c.value():c;return T||(T=new Wt),E($e,Ne,m,y,T)}}return ve?(T||(T=new Wt),fd(a,c,m,y,E,T)):!1}function Fu(a){return st(a)&&_t(a)==z}function Ro(a,c,m,y){var E=m.length,T=E,P=!y;if(a==null)return!T;for(a=Je(a);E--;){var M=m[E];if(P&&M[2]?M[1]!==a[M[0]]:!(M[0]in a))return!1}for(;++E<T;){M=m[E];var B=M[0],Z=a[B],oe=M[1];if(P&&M[2]){if(Z===n&&!(B in a))return!1}else{var ae=new Wt;if(y)var ve=y(Z,oe,B,a,c,ae);if(!(ve===n?er(oe,Z,C|S,y,ae):ve))return!1}}return!0}function bi(a){if(!ot(a)||Ed(a))return!1;var c=an(a)?Lc:yl;return c.test(Tn(a))}function $u(a){return st(a)&&bt(a)==me}function Bu(a){return st(a)&&_t(a)==se}function qu(a){return st(a)&&Xr(a.length)&&!!et[bt(a)]}function Ci(a){return typeof a=="function"?a:a==null?It:typeof a=="object"?Me(a)?wi(a[0],a[1]):Si(a):ja(a)}function xo(a){if(!rr(a))return Bc(a);var c=[];for(var m in Je(a))Qe.call(a,m)&&m!="constructor"&&c.push(m);return c}function Uu(a){if(!ot(a))return Td(a);var c=rr(a),m=[];for(var y in a)y=="constructor"&&(c||!Qe.call(a,y))||m.push(y);return m}function Po(a,c){return a<c}function Ei(a,c){var m=-1,y=kt(a)?G(a.length):[];return pn(a,function(E,T,P){y[++m]=c(E,T,P)}),y}function Si(a){var c=zo(a);return c.length==1&&c[0][2]?ia(c[0][0],c[0][1]):function(m){return m===a||Ro(m,a,c)}}function wi(a,c){return Ko(a)&&sa(c)?ia(Xt(a),c):function(m){var y=os(m,a);return y===n&&y===c?ss(m,a):er(c,y,C|S)}}function Dr(a,c,m,y,E){a!==c&&ko(c,function(T,P){if(E||(E=new Wt),ot(T))Hu(a,c,P,m,Dr,y,E);else{var M=y?y(Qo(a,P),T,P+"",a,c,E):n;M===n&&(M=T),So(a,P,M)}},Tt)}function Hu(a,c,m,y,E,T,P){var M=Qo(a,m),B=Qo(c,m),Z=P.get(B);if(Z){So(a,m,Z);return}var oe=T?T(M,B,m+"",a,c,P):n,ae=oe===n;if(ae){var ve=Me(B),ke=!ve&&_n(B),Pe=!ve&&!ke&&Hn(B);oe=B,ve||ke||Pe?Me(M)?oe=M:at(M)?oe=wt(M):ke?(ae=!1,oe=Fi(B,!0)):Pe?(ae=!1,oe=$i(B,!0)):oe=[]:ir(B)||In(B)?(oe=M,In(M)?oe=Ma(M):(!ot(M)||an(M))&&(oe=oa(B))):ae=!1}ae&&(P.set(B,oe),E(oe,B,y,T,P),P.delete(B)),So(a,m,oe)}function ki(a,c){var m=a.length;if(!!m)return c+=c<0?m:0,sn(c,m)?a[c]:n}function Ti(a,c,m){c.length?c=rt(c,function(T){return Me(T)?function(P){return wn(P,T.length===1?T[0]:T)}:T}):c=[It];var y=-1;c=rt(c,Rt(Ae()));var E=Ei(a,function(T,P,M){var B=rt(c,function(Z){return Z(T)});return{criteria:B,index:++y,value:T}});return dc(E,function(T,P){return nd(T,P,m)})}function Wu(a,c){return Ii(a,c,function(m,y){return ss(a,y)})}function Ii(a,c,m){for(var y=-1,E=c.length,T={};++y<E;){var P=c[y],M=wn(a,P);m(M,P)&&tr(T,gn(P,a),M)}return T}function Gu(a){return function(c){return wn(c,a)}}function No(a,c,m,y){var E=y?uc:Nn,T=-1,P=c.length,M=a;for(a===c&&(c=wt(c)),m&&(M=rt(a,Rt(m)));++T<P;)for(var B=0,Z=c[T],oe=m?m(Z):Z;(B=E(M,oe,B,y))>-1;)M!==a&&Er.call(M,B,1),Er.call(a,B,1);return a}function Ai(a,c){for(var m=a?c.length:0,y=m-1;m--;){var E=c[m];if(m==y||E!==T){var T=E;sn(E)?Er.call(a,E,1):Vo(a,E)}}return a}function Oo(a,c){return a+Tr(ai()*(c-a+1))}function zu(a,c,m,y){for(var E=-1,T=dt(kr((c-a)/(m||1)),0),P=G(T);T--;)P[y?T:++E]=a,a+=m;return P}function Lo(a,c){var m="";if(!a||c<1||c>de)return m;do c%2&&(m+=a),c=Tr(c/2),c&&(a+=a);while(c);return m}function qe(a,c){return Xo(aa(a,c,It),a+"")}function ju(a){return ui(Wn(a))}function Ku(a,c){var m=Wn(a);return Gr(m,Sn(c,0,m.length))}function tr(a,c,m,y){if(!ot(a))return a;c=gn(c,a);for(var E=-1,T=c.length,P=T-1,M=a;M!=null&&++E<T;){var B=Xt(c[E]),Z=m;if(B==="__proto__"||B==="constructor"||B==="prototype")return a;if(E!=P){var oe=M[B];Z=y?y(oe,B,M):n,Z===n&&(Z=ot(oe)?oe:sn(c[E+1])?[]:{})}Xn(M,B,Z),M=M[B]}return a}var Ri=Ir?function(a,c){return Ir.set(a,c),a}:It,Yu=Sr?function(a,c){return Sr(a,"toString",{configurable:!0,enumerable:!1,value:as(c),writable:!0})}:It;function Qu(a){return Gr(Wn(a))}function Bt(a,c,m){var y=-1,E=a.length;c<0&&(c=-c>E?0:E+c),m=m>E?E:m,m<0&&(m+=E),E=c>m?0:m-c>>>0,c>>>=0;for(var T=G(E);++y<E;)T[y]=a[y+c];return T}function Xu(a,c){var m;return pn(a,function(y,E,T){return m=c(y,E,T),!m}),!!m}function Vr(a,c,m){var y=0,E=a==null?y:a.length;if(typeof c=="number"&&c===c&&E<=tt){for(;y<E;){var T=y+E>>>1,P=a[T];P!==null&&!Pt(P)&&(m?P<=c:P<c)?y=T+1:E=T}return E}return Do(a,c,It,m)}function Do(a,c,m,y){var E=0,T=a==null?0:a.length;if(T===0)return 0;c=m(c);for(var P=c!==c,M=c===null,B=Pt(c),Z=c===n;E<T;){var oe=Tr((E+T)/2),ae=m(a[oe]),ve=ae!==n,ke=ae===null,Pe=ae===ae,$e=Pt(ae);if(P)var Ne=y||Pe;else Z?Ne=Pe&&(y||ve):M?Ne=Pe&&ve&&(y||!ke):B?Ne=Pe&&ve&&!ke&&(y||!$e):ke||$e?Ne=!1:Ne=y?ae<=c:ae<c;Ne?E=oe+1:T=oe}return vt(T,Le)}function Ni(a,c){for(var m=-1,y=a.length,E=0,T=[];++m<y;){var P=a[m],M=c?c(P):P;if(!m||!zt(M,B)){var B=M;T[E++]=P===0?0:P}}return T}function Oi(a){return typeof a=="number"?a:Pt(a)?_e:+a}function xt(a){if(typeof a=="string")return a;if(Me(a))return rt(a,xt)+"";if(Pt(a))return li?li.call(a):"";var c=a+"";return c=="0"&&1/a==-Q?"-0":c}function mn(a,c,m){var y=-1,E=ur,T=a.length,P=!0,M=[],B=M;if(m)P=!1,E=co;else if(T>=o){var Z=c?null:ld(a);if(Z)return fr(Z);P=!1,E=Gn,B=new En}else B=c?[]:M;e:for(;++y<T;){var oe=a[y],ae=c?c(oe):oe;if(oe=m||oe!==0?oe:0,P&&ae===ae){for(var ve=B.length;ve--;)if(B[ve]===ae)continue e;c&&B.push(ae),M.push(oe)}else E(B,ae,m)||(B!==M&&B.push(ae),M.push(oe))}return M}function Vo(a,c){return c=gn(c,a),a=la(a,c),a==null||delete a[Xt(qt(c))]}function Li(a,c,m,y){return tr(a,c,m(wn(a,c)),y)}function Mr(a,c,m,y){for(var E=a.length,T=y?E:-1;(y?T--:++T<E)&&c(a[T],T,a););return m?Bt(a,y?0:T,y?T+1:E):Bt(a,y?T+1:0,y?E:T)}function Di(a,c){var m=a;return m instanceof We&&(m=m.value()),uo(c,function(y,E){return E.func.apply(E.thisArg,dn([y],E.args))},m)}function Mo(a,c,m){var y=a.length;if(y<2)return y?mn(a[0]):[];for(var E=-1,T=G(y);++E<y;)for(var P=a[E],M=-1;++M<y;)M!=E&&(T[E]=Jn(T[E]||P,a[M],c,m));return mn(mt(T,1),c,m)}function Vi(a,c,m){for(var y=-1,E=a.length,T=c.length,P={};++y<E;){var M=y<T?c[y]:n;m(P,a[y],M)}return P}function Fo(a){return at(a)?a:[]}function $o(a){return typeof a=="function"?a:It}function gn(a,c){return Me(a)?a:Ko(a,c)?[a]:fa(Ye(a))}var Ju=qe;function vn(a,c,m){var y=a.length;return m=m===n?y:m,!c&&m>=y?a:Bt(a,c,m)}var Mi=Dc||function(a){return pt.clearTimeout(a)};function Fi(a,c){if(c)return a.slice();var m=a.length,y=ei?ei(m):new a.constructor(m);return a.copy(y),y}function Bo(a){var c=new a.constructor(a.byteLength);return new br(c).set(new br(a)),c}function Zu(a,c){var m=c?Bo(a.buffer):a.buffer;return new a.constructor(m,a.byteOffset,a.byteLength)}function ed(a){var c=new a.constructor(a.source,gs.exec(a));return c.lastIndex=a.lastIndex,c}function td(a){return Qn?Je(Qn.call(a)):{}}function $i(a,c){var m=c?Bo(a.buffer):a.buffer;return new a.constructor(m,a.byteOffset,a.length)}function Bi(a,c){if(a!==c){var m=a!==n,y=a===null,E=a===a,T=Pt(a),P=c!==n,M=c===null,B=c===c,Z=Pt(c);if(!M&&!Z&&!T&&a>c||T&&P&&B&&!M&&!Z||y&&P&&B||!m&&B||!E)return 1;if(!y&&!T&&!Z&&a<c||Z&&m&&E&&!y&&!T||M&&m&&E||!P&&E||!B)return-1}return 0}function nd(a,c,m){for(var y=-1,E=a.criteria,T=c.criteria,P=E.length,M=m.length;++y<P;){var B=Bi(E[y],T[y]);if(B){if(y>=M)return B;var Z=m[y];return B*(Z=="desc"?-1:1)}}return a.index-c.index}function qi(a,c,m,y){for(var E=-1,T=a.length,P=m.length,M=-1,B=c.length,Z=dt(T-P,0),oe=G(B+Z),ae=!y;++M<B;)oe[M]=c[M];for(;++E<P;)(ae||E<T)&&(oe[m[E]]=a[E]);for(;Z--;)oe[M++]=a[E++];return oe}function Ui(a,c,m,y){for(var E=-1,T=a.length,P=-1,M=m.length,B=-1,Z=c.length,oe=dt(T-M,0),ae=G(oe+Z),ve=!y;++E<oe;)ae[E]=a[E];for(var ke=E;++B<Z;)ae[ke+B]=c[B];for(;++P<M;)(ve||E<T)&&(ae[ke+m[P]]=a[E++]);return ae}function wt(a,c){var m=-1,y=a.length;for(c||(c=G(y));++m<y;)c[m]=a[m];return c}function Qt(a,c,m,y){var E=!m;m||(m={});for(var T=-1,P=c.length;++T<P;){var M=c[T],B=y?y(m[M],a[M],M,m,a):n;B===n&&(B=a[M]),E?nn(m,M,B):Xn(m,M,B)}return m}function rd(a,c){return Qt(a,jo(a),c)}function od(a,c){return Qt(a,na(a),c)}function Fr(a,c){return function(m,y){var E=Me(m)?tc:wu,T=c?c():{};return E(m,a,Ae(y,2),T)}}function Bn(a){return qe(function(c,m){var y=-1,E=m.length,T=E>1?m[E-1]:n,P=E>2?m[2]:n;for(T=a.length>3&&typeof T=="function"?(E--,T):n,P&&Ct(m[0],m[1],P)&&(T=E<3?n:T,E=1),c=Je(c);++y<E;){var M=m[y];M&&a(c,M,y,T)}return c})}function Hi(a,c){return function(m,y){if(m==null)return m;if(!kt(m))return a(m,y);for(var E=m.length,T=c?E:-1,P=Je(m);(c?T--:++T<E)&&y(P[T],T,P)!==!1;);return m}}function Wi(a){return function(c,m,y){for(var E=-1,T=Je(c),P=y(c),M=P.length;M--;){var B=P[a?M:++E];if(m(T[B],B,T)===!1)break}return c}}function sd(a,c,m){var y=c&A,E=nr(a);function T(){var P=this&&this!==pt&&this instanceof T?E:a;return P.apply(y?m:this,arguments)}return T}function Gi(a){return function(c){c=Ye(c);var m=On(c)?Ht(c):n,y=m?m[0]:c.charAt(0),E=m?vn(m,1).join(""):c.slice(1);return y[a]()+E}}function qn(a){return function(c){return uo(Ga(Wa(c).replace(ql,"")),a,"")}}function nr(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var m=$n(a.prototype),y=a.apply(m,c);return ot(y)?y:m}}function id(a,c,m){var y=nr(a);function E(){for(var T=arguments.length,P=G(T),M=T,B=Un(E);M--;)P[M]=arguments[M];var Z=T<3&&P[0]!==B&&P[T-1]!==B?[]:fn(P,B);if(T-=Z.length,T<m)return Qi(a,c,$r,E.placeholder,n,P,Z,n,n,m-T);var oe=this&&this!==pt&&this instanceof E?y:a;return At(oe,this,P)}return E}function zi(a){return function(c,m,y){var E=Je(c);if(!kt(c)){var T=Ae(m,3);c=ft(c),m=function(M){return T(E[M],M,E)}}var P=a(c,m,y);return P>-1?E[T?c[P]:P]:n}}function ji(a){return on(function(c){var m=c.length,y=m,E=Ft.prototype.thru;for(a&&c.reverse();y--;){var T=c[y];if(typeof T!="function")throw new Mt(l);if(E&&!P&&Hr(T)=="wrapper")var P=new Ft([],!0)}for(y=P?y:m;++y<m;){T=c[y];var M=Hr(T),B=M=="wrapper"?Go(T):n;B&&Yo(B[0])&&B[1]==(V|w|O|L)&&!B[4].length&&B[9]==1?P=P[Hr(B[0])].apply(P,B[3]):P=T.length==1&&Yo(T)?P[M]():P.thru(T)}return function(){var Z=arguments,oe=Z[0];if(P&&Z.length==1&&Me(oe))return P.plant(oe).value();for(var ae=0,ve=m?c[ae].apply(this,Z):oe;++ae<m;)ve=c[ae].call(this,ve);return ve}})}function $r(a,c,m,y,E,T,P,M,B,Z){var oe=c&V,ae=c&A,ve=c&R,ke=c&(w|N),Pe=c&W,$e=ve?n:nr(a);function Ne(){for(var He=arguments.length,ze=G(He),Nt=He;Nt--;)ze[Nt]=arguments[Nt];if(ke)var Et=Un(Ne),Ot=hc(ze,Et);if(y&&(ze=qi(ze,y,E,ke)),T&&(ze=Ui(ze,T,P,ke)),He-=Ot,ke&&He<Z){var ct=fn(ze,Et);return Qi(a,c,$r,Ne.placeholder,m,ze,ct,M,B,Z-He)}var jt=ae?m:this,cn=ve?jt[a]:a;return He=ze.length,M?ze=Ad(ze,M):Pe&&He>1&&ze.reverse(),oe&&B<He&&(ze.length=B),this&&this!==pt&&this instanceof Ne&&(cn=$e||nr(cn)),cn.apply(jt,ze)}return Ne}function Ki(a,c){return function(m,y){return Ou(m,a,c(y),{})}}function Br(a,c){return function(m,y){var E;if(m===n&&y===n)return c;if(m!==n&&(E=m),y!==n){if(E===n)return y;typeof m=="string"||typeof y=="string"?(m=xt(m),y=xt(y)):(m=Oi(m),y=Oi(y)),E=a(m,y)}return E}}function qo(a){return on(function(c){return c=rt(c,Rt(Ae())),qe(function(m){var y=this;return a(c,function(E){return At(E,y,m)})})})}function qr(a,c){c=c===n?" ":xt(c);var m=c.length;if(m<2)return m?Lo(c,a):c;var y=Lo(c,kr(a/Ln(c)));return On(c)?vn(Ht(y),0,a).join(""):y.slice(0,a)}function ad(a,c,m,y){var E=c&A,T=nr(a);function P(){for(var M=-1,B=arguments.length,Z=-1,oe=y.length,ae=G(oe+B),ve=this&&this!==pt&&this instanceof P?T:a;++Z<oe;)ae[Z]=y[Z];for(;B--;)ae[Z++]=arguments[++M];return At(ve,E?m:this,ae)}return P}function Yi(a){return function(c,m,y){return y&&typeof y!="number"&&Ct(c,m,y)&&(m=y=n),c=ln(c),m===n?(m=c,c=0):m=ln(m),y=y===n?c<m?1:-1:ln(y),zu(c,m,y,a)}}function Ur(a){return function(c,m){return typeof c=="string"&&typeof m=="string"||(c=Ut(c),m=Ut(m)),a(c,m)}}function Qi(a,c,m,y,E,T,P,M,B,Z){var oe=c&w,ae=oe?P:n,ve=oe?n:P,ke=oe?T:n,Pe=oe?n:T;c|=oe?O:D,c&=~(oe?D:O),c&I||(c&=~(A|R));var $e=[a,c,E,ke,ae,Pe,ve,M,B,Z],Ne=m.apply(n,$e);return Yo(a)&&ca(Ne,$e),Ne.placeholder=y,ua(Ne,a,c)}function Uo(a){var c=ut[a];return function(m,y){if(m=Ut(m),y=y==null?0:vt(Fe(y),292),y&&si(m)){var E=(Ye(m)+"e").split("e"),T=c(E[0]+"e"+(+E[1]+y));return E=(Ye(T)+"e").split("e"),+(E[0]+"e"+(+E[1]-y))}return c(m)}}var ld=Mn&&1/fr(new Mn([,-0]))[1]==Q?function(a){return new Mn(a)}:us;function Ji(a){return function(c){var m=_t(c);return m==z?_o(c):m==se?bc(c):fc(c,a(c))}}function rn(a,c,m,y,E,T,P,M){var B=c&R;if(!B&&typeof a!="function")throw new Mt(l);var Z=y?y.length:0;if(Z||(c&=~(O|D),y=E=n),P=P===n?P:dt(Fe(P),0),M=M===n?M:Fe(M),Z-=E?E.length:0,c&D){var oe=y,ae=E;y=E=n}var ve=B?n:Go(a),ke=[a,c,m,y,E,oe,ae,T,P,M];if(ve&&kd(ke,ve),a=ke[0],c=ke[1],m=ke[2],y=ke[3],E=ke[4],M=ke[9]=ke[9]===n?B?0:a.length:dt(ke[9]-Z,0),!M&&c&(w|N)&&(c&=~(w|N)),!c||c==A)var Pe=sd(a,c,m);else c==w||c==N?Pe=id(a,c,M):(c==O||c==(A|O))&&!E.length?Pe=ad(a,c,m,y):Pe=$r.apply(n,ke);var $e=ve?Ri:ca;return ua($e(Pe,ke),a,c)}function Zi(a,c,m,y){return a===n||zt(a,Vn[m])&&!Qe.call(y,m)?c:a}function ea(a,c,m,y,E,T){return ot(a)&&ot(c)&&(T.set(c,a),Dr(a,c,n,ea,T),T.delete(c)),a}function cd(a){return ir(a)?n:a}function ta(a,c,m,y,E,T){var P=m&C,M=a.length,B=c.length;if(M!=B&&!(P&&B>M))return!1;var Z=T.get(a),oe=T.get(c);if(Z&&oe)return Z==c&&oe==a;var ae=-1,ve=!0,ke=m&S?new En:n;for(T.set(a,c),T.set(c,a);++ae<M;){var Pe=a[ae],$e=c[ae];if(y)var Ne=P?y($e,Pe,ae,c,a,T):y(Pe,$e,ae,a,c,T);if(Ne!==n){if(Ne)continue;ve=!1;break}if(ke){if(!fo(c,function(He,ze){if(!Gn(ke,ze)&&(Pe===He||E(Pe,He,m,y,T)))return ke.push(ze)})){ve=!1;break}}else if(!(Pe===$e||E(Pe,$e,m,y,T))){ve=!1;break}}return T.delete(a),T.delete(c),ve}function ud(a,c,m,y,E,T,P){switch(m){case Ge:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case je:return!(a.byteLength!=c.byteLength||!T(new br(a),new br(c)));case Ee:case Be:case X:return zt(+a,+c);case De:return a.name==c.name&&a.message==c.message;case me:case Te:return a==c+"";case z:var M=_o;case se:var B=y&C;if(M||(M=fr),a.size!=c.size&&!B)return!1;var Z=P.get(a);if(Z)return Z==c;y|=S,P.set(a,c);var oe=ta(M(a),M(c),y,E,T,P);return P.delete(a),oe;case we:if(Qn)return Qn.call(a)==Qn.call(c)}return!1}function fd(a,c,m,y,E,T){var P=m&C,M=Ho(a),B=M.length,Z=Ho(c),oe=Z.length;if(B!=oe&&!P)return!1;for(var ae=B;ae--;){var ve=M[ae];if(!(P?ve in c:Qe.call(c,ve)))return!1}var ke=T.get(a),Pe=T.get(c);if(ke&&Pe)return ke==c&&Pe==a;var $e=!0;T.set(a,c),T.set(c,a);for(var Ne=P;++ae<B;){ve=M[ae];var He=a[ve],ze=c[ve];if(y)var Nt=P?y(ze,He,ve,c,a,T):y(He,ze,ve,a,c,T);if(!(Nt===n?He===ze||E(He,ze,m,y,T):Nt)){$e=!1;break}Ne||(Ne=ve=="constructor")}if($e&&!Ne){var Et=a.constructor,Ot=c.constructor;Et!=Ot&&"constructor"in a&&"constructor"in c&&!(typeof Et=="function"&&Et instanceof Et&&typeof Ot=="function"&&Ot instanceof Ot)&&($e=!1)}return T.delete(a),T.delete(c),$e}function on(a){return Xo(aa(a,n,ga),a+"")}function Ho(a){return _i(a,ft,jo)}function Wo(a){return _i(a,Tt,na)}var Go=Ir?function(a){return Ir.get(a)}:us;function Hr(a){for(var c=a.name+"",m=Fn[c],y=Qe.call(Fn,c)?m.length:0;y--;){var E=m[y],T=E.func;if(T==null||T==a)return E.name}return c}function Un(a){var c=Qe.call(k,"placeholder")?k:a;return c.placeholder}function Ae(){var a=k.iteratee||ls;return a=a===ls?Ci:a,arguments.length?a(arguments[0],arguments[1]):a}function Wr(a,c){var m=a.__data__;return Cd(c)?m[typeof c=="string"?"string":"hash"]:m.map}function zo(a){for(var c=ft(a),m=c.length;m--;){var y=c[m],E=a[y];c[m]=[y,E,sa(E)]}return c}function kn(a,c){var m=vc(a,c);return bi(m)?m:n}function hd(a){var c=Qe.call(a,bn),m=a[bn];try{a[bn]=n;var y=!0}catch{}var E=_r.call(a);return y&&(c?a[bn]=m:delete a[bn]),E}var jo=bo?function(a){return a==null?[]:(a=Je(a),un(bo(a),function(c){return ri.call(a,c)}))}:ds,na=bo?function(a){for(var c=[];a;)dn(c,jo(a)),a=Cr(a);return c}:ds,_t=bt;(Co&&_t(new Co(new ArrayBuffer(1)))!=Ge||jn&&_t(new jn)!=z||Eo&&_t(Eo.resolve())!=ye||Mn&&_t(new Mn)!=se||Kn&&_t(new Kn)!=xe)&&(_t=function(a){var c=bt(a),m=c==fe?a.constructor:n,y=m?Tn(m):"";if(y)switch(y){case Wc:return Ge;case Gc:return z;case zc:return ye;case jc:return se;case Kc:return xe}return c});function pd(a,c,m){for(var y=-1,E=m.length;++y<E;){var T=m[y],P=T.size;switch(T.type){case"drop":a+=P;break;case"dropRight":c-=P;break;case"take":c=vt(c,a+P);break;case"takeRight":a=dt(a,c-P);break}}return{start:a,end:c}}function gd(a){var c=a.match(ul);return c?c[1].split(dl):[]}function ra(a,c,m){c=gn(c,a);for(var y=-1,E=c.length,T=!1;++y<E;){var P=Xt(c[y]);if(!(T=a!=null&&m(a,P)))break;a=a[P]}return T||++y!=E?T:(E=a==null?0:a.length,!!E&&Xr(E)&&sn(P,E)&&(Me(a)||In(a)))}function vd(a){var c=a.length,m=new a.constructor(c);return c&&typeof a[0]=="string"&&Qe.call(a,"index")&&(m.index=a.index,m.input=a.input),m}function oa(a){return typeof a.constructor=="function"&&!rr(a)?$n(Cr(a)):{}}function _d(a,c,m){var y=a.constructor;switch(c){case je:return Bo(a);case Ee:case Be:return new y(+a);case Ge:return Zu(a,m);case nt:case yt:case Kt:case An:case Jt:case Rn:case ht:case St:case xn:return $i(a,m);case z:return new y;case X:case Te:return new y(a);case me:return ed(a);case se:return new y;case we:return td(a)}}function yd(a,c){var m=c.length;if(!m)return a;var y=m-1;return c[y]=(m>1?"& ":"")+c[y],c=c.join(m>2?", ":" "),a.replace(cl,`{
/* [wrapped with `+c+`] */
`)}function bd(a){return Me(a)||In(a)||!!(oi&&a&&a[oi])}function sn(a,c){var m=typeof a;return c=c==null?de:c,!!c&&(m=="number"||m!="symbol"&&Cl.test(a))&&a>-1&&a%1==0&&a<c}function Ct(a,c,m){if(!ot(m))return!1;var y=typeof c;return(y=="number"?kt(m)&&sn(c,m.length):y=="string"&&c in m)?zt(m[c],a):!1}function Ko(a,c){if(Me(a))return!1;var m=typeof a;return m=="number"||m=="symbol"||m=="boolean"||a==null||Pt(a)?!0:ol.test(a)||!rl.test(a)||c!=null&&a in Je(c)}function Cd(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function Yo(a){var c=Hr(a),m=k[c];if(typeof m!="function"||!(c in We.prototype))return!1;if(a===m)return!0;var y=Go(m);return!!y&&a===y[0]}function Ed(a){return!!Zs&&Zs in a}var Sd=gr?an:fs;function rr(a){var c=a&&a.constructor,m=typeof c=="function"&&c.prototype||Vn;return a===m}function sa(a){return a===a&&!ot(a)}function ia(a,c){return function(m){return m==null?!1:m[a]===c&&(c!==n||a in Je(m))}}function wd(a){var c=Yr(a,function(y){return m.size===f&&m.clear(),y}),m=c.cache;return c}function kd(a,c){var m=a[1],y=c[1],E=m|y,T=E<(A|R|V),P=y==V&&m==w||y==V&&m==L&&a[7].length<=c[8]||y==(V|L)&&c[7].length<=c[8]&&m==w;if(!(T||P))return a;y&A&&(a[2]=c[2],E|=m&A?0:I);var M=c[3];if(M){var B=a[3];a[3]=B?qi(B,M,c[4]):M,a[4]=B?fn(a[3],g):c[4]}return M=c[5],M&&(B=a[5],a[5]=B?Ui(B,M,c[6]):M,a[6]=B?fn(a[5],g):c[6]),M=c[7],M&&(a[7]=M),y&V&&(a[8]=a[8]==null?c[8]:vt(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=E,a}function Td(a){var c=[];if(a!=null)for(var m in Je(a))c.push(m);return c}function Id(a){return _r.call(a)}function aa(a,c,m){return c=dt(c===n?a.length-1:c,0),function(){for(var y=arguments,E=-1,T=dt(y.length-c,0),P=G(T);++E<T;)P[E]=y[c+E];E=-1;for(var M=G(c+1);++E<c;)M[E]=y[E];return M[c]=m(P),At(a,this,M)}}function la(a,c){return c.length<2?a:wn(a,Bt(c,0,-1))}function Ad(a,c){for(var m=a.length,y=vt(c.length,m),E=wt(a);y--;){var T=c[y];a[y]=sn(T,m)?E[T]:n}return a}function Qo(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var ca=da(Ri),sr=Mc||function(a,c){return pt.setTimeout(a,c)},Xo=da(Yu);function ua(a,c,m){var y=c+"";return Xo(a,yd(y,Rd(gd(y),m)))}function da(a){var c=0,m=0;return function(){var y=qc(),E=J-(y-m);if(m=y,E>0){if(++c>=H)return arguments[0]}else c=0;return a.apply(n,arguments)}}function Gr(a,c){var m=-1,y=a.length,E=y-1;for(c=c===n?y:c;++m<c;){var T=Oo(m,E),P=a[T];a[T]=a[m],a[m]=P}return a.length=c,a}var fa=wd(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(sl,function(m,y,E,T){c.push(E?T.replace(pl,"$1"):y||m)}),c});function Xt(a){if(typeof a=="string"||Pt(a))return a;var c=a+"";return c=="0"&&1/a==-Q?"-0":c}function Tn(a){if(a!=null){try{return vr.call(a)}catch{}try{return a+""}catch{}}return""}function Rd(a,c){return Vt(be,function(m){var y="_."+m[0];c&m[1]&&!ur(a,y)&&a.push(y)}),a.sort()}function ha(a){if(a instanceof We)return a.clone();var c=new Ft(a.__wrapped__,a.__chain__);return c.__actions__=wt(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function xd(a,c,m){(m?Ct(a,c,m):c===n)?c=1:c=dt(Fe(c),0);var y=a==null?0:a.length;if(!y||c<1)return[];for(var E=0,T=0,P=G(kr(y/c));E<y;)P[T++]=Bt(a,E,E+=c);return P}function Pd(a){for(var c=-1,m=a==null?0:a.length,y=0,E=[];++c<m;){var T=a[c];T&&(E[y++]=T)}return E}function Nd(){var a=arguments.length;if(!a)return[];for(var c=G(a-1),m=arguments[0],y=a;y--;)c[y-1]=arguments[y];return dn(Me(m)?wt(m):[m],mt(c,1))}var Od=qe(function(a,c){return at(a)?Jn(a,mt(c,1,at,!0)):[]}),Ld=qe(function(a,c){var m=qt(c);return at(m)&&(m=n),at(a)?Jn(a,mt(c,1,at,!0),Ae(m,2)):[]}),Dd=qe(function(a,c){var m=qt(c);return at(m)&&(m=n),at(a)?Jn(a,mt(c,1,at,!0),n,m):[]});function Vd(a,c,m){var y=a==null?0:a.length;return y?(c=m||c===n?1:Fe(c),Bt(a,c<0?0:c,y)):[]}function Md(a,c,m){var y=a==null?0:a.length;return y?(c=m||c===n?1:Fe(c),c=y-c,Bt(a,0,c<0?0:c)):[]}function Fd(a,c){return a&&a.length?Mr(a,Ae(c,3),!0,!0):[]}function $d(a,c){return a&&a.length?Mr(a,Ae(c,3),!0):[]}function Bd(a,c,m,y){var E=a==null?0:a.length;return E?(m&&typeof m!="number"&&Ct(a,c,m)&&(m=0,y=E),Au(a,c,m,y)):[]}function pa(a,c,m){var y=a==null?0:a.length;if(!y)return-1;var E=m==null?0:Fe(m);return E<0&&(E=dt(y+E,0)),dr(a,Ae(c,3),E)}function ma(a,c,m){var y=a==null?0:a.length;if(!y)return-1;var E=y-1;return m!==n&&(E=Fe(m),E=m<0?dt(y+E,0):vt(E,y-1)),dr(a,Ae(c,3),E,!0)}function ga(a){var c=a==null?0:a.length;return c?mt(a,1):[]}function qd(a){var c=a==null?0:a.length;return c?mt(a,Q):[]}function Ud(a,c){var m=a==null?0:a.length;return m?(c=c===n?1:Fe(c),mt(a,c)):[]}function Hd(a){for(var c=-1,m=a==null?0:a.length,y={};++c<m;){var E=a[c];y[E[0]]=E[1]}return y}function va(a){return a&&a.length?a[0]:n}function Wd(a,c,m){var y=a==null?0:a.length;if(!y)return-1;var E=m==null?0:Fe(m);return E<0&&(E=dt(y+E,0)),Nn(a,c,E)}function Gd(a){var c=a==null?0:a.length;return c?Bt(a,0,-1):[]}var zd=qe(function(a){var c=rt(a,Fo);return c.length&&c[0]===a[0]?Ao(c):[]}),jd=qe(function(a){var c=qt(a),m=rt(a,Fo);return c===qt(m)?c=n:m.pop(),m.length&&m[0]===a[0]?Ao(m,Ae(c,2)):[]}),Kd=qe(function(a){var c=qt(a),m=rt(a,Fo);return c=typeof c=="function"?c:n,c&&m.pop(),m.length&&m[0]===a[0]?Ao(m,n,c):[]});function Yd(a,c){return a==null?"":$c.call(a,c)}function qt(a){var c=a==null?0:a.length;return c?a[c-1]:n}function Qd(a,c,m){var y=a==null?0:a.length;if(!y)return-1;var E=y;return m!==n&&(E=Fe(m),E=E<0?dt(y+E,0):vt(E,y-1)),c===c?Ec(a,c,E):dr(a,Gs,E,!0)}function Xd(a,c){return a&&a.length?ki(a,Fe(c)):n}var Jd=qe(ya);function ya(a,c){return a&&a.length&&c&&c.length?No(a,c):a}function Zd(a,c,m){return a&&a.length&&c&&c.length?No(a,c,Ae(m,2)):a}function ef(a,c,m){return a&&a.length&&c&&c.length?No(a,c,n,m):a}var tf=on(function(a,c){var m=a==null?0:a.length,y=wo(a,c);return Ai(a,rt(c,function(E){return sn(E,m)?+E:E}).sort(Bi)),y});function nf(a,c){var m=[];if(!(a&&a.length))return m;var y=-1,E=[],T=a.length;for(c=Ae(c,3);++y<T;){var P=a[y];c(P,y,a)&&(m.push(P),E.push(y))}return Ai(a,E),m}function Jo(a){return a==null?a:Hc.call(a)}function rf(a,c,m){var y=a==null?0:a.length;return y?(m&&typeof m!="number"&&Ct(a,c,m)?(c=0,m=y):(c=c==null?0:Fe(c),m=m===n?y:Fe(m)),Bt(a,c,m)):[]}function of(a,c){return Vr(a,c)}function sf(a,c,m){return Do(a,c,Ae(m,2))}function lf(a,c){var m=a==null?0:a.length;if(m){var y=Vr(a,c);if(y<m&&zt(a[y],c))return y}return-1}function cf(a,c){return Vr(a,c,!0)}function uf(a,c,m){return Do(a,c,Ae(m,2),!0)}function df(a,c){var m=a==null?0:a.length;if(m){var y=Vr(a,c,!0)-1;if(zt(a[y],c))return y}return-1}function ff(a){return a&&a.length?Ni(a):[]}function hf(a,c){return a&&a.length?Ni(a,Ae(c,2)):[]}function pf(a){var c=a==null?0:a.length;return c?Bt(a,1,c):[]}function mf(a,c,m){return a&&a.length?(c=m||c===n?1:Fe(c),Bt(a,0,c<0?0:c)):[]}function gf(a,c,m){var y=a==null?0:a.length;return y?(c=m||c===n?1:Fe(c),c=y-c,Bt(a,c<0?0:c,y)):[]}function vf(a,c){return a&&a.length?Mr(a,Ae(c,3),!1,!0):[]}function _f(a,c){return a&&a.length?Mr(a,Ae(c,3)):[]}var yf=qe(function(a){return mn(mt(a,1,at,!0))}),bf=qe(function(a){var c=qt(a);return at(c)&&(c=n),mn(mt(a,1,at,!0),Ae(c,2))}),Cf=qe(function(a){var c=qt(a);return c=typeof c=="function"?c:n,mn(mt(a,1,at,!0),n,c)});function Ef(a){return a&&a.length?mn(a):[]}function Sf(a,c){return a&&a.length?mn(a,Ae(c,2)):[]}function wf(a,c){return c=typeof c=="function"?c:n,a&&a.length?mn(a,n,c):[]}function Zo(a){if(!(a&&a.length))return[];var c=0;return a=un(a,function(m){if(at(m))return c=dt(m.length,c),!0}),go(c,function(m){return rt(a,ho(m))})}function ba(a,c){if(!(a&&a.length))return[];var m=Zo(a);return c==null?m:rt(m,function(y){return At(c,n,y)})}var kf=qe(function(a,c){return at(a)?Jn(a,c):[]}),Tf=qe(function(a){return Mo(un(a,at))}),If=qe(function(a){var c=qt(a);return at(c)&&(c=n),Mo(un(a,at),Ae(c,2))}),Af=qe(function(a){var c=qt(a);return c=typeof c=="function"?c:n,Mo(un(a,at),n,c)}),Rf=qe(Zo);function xf(a,c){return Vi(a||[],c||[],Xn)}function Pf(a,c){return Vi(a||[],c||[],tr)}var Nf=qe(function(a){var c=a.length,m=c>1?a[c-1]:n;return m=typeof m=="function"?(a.pop(),m):n,ba(a,m)});function Ca(a){var c=k(a);return c.__chain__=!0,c}function Of(a,c){return c(a),a}function zr(a,c){return c(a)}var Lf=on(function(a){var c=a.length,m=c?a[0]:0,y=this.__wrapped__,E=function(T){return wo(T,a)};return c>1||this.__actions__.length||!(y instanceof We)||!sn(m)?this.thru(E):(y=y.slice(m,+m+(c?1:0)),y.__actions__.push({func:zr,args:[E],thisArg:n}),new Ft(y,this.__chain__).thru(function(T){return c&&!T.length&&T.push(n),T}))});function Df(){return Ca(this)}function Vf(){return new Ft(this.value(),this.__chain__)}function Mf(){this.__values__===n&&(this.__values__=Da(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function Ff(){return this}function $f(a){for(var c,m=this;m instanceof Rr;){var y=ha(m);y.__index__=0,y.__values__=n,c?E.__wrapped__=y:c=y;var E=y;m=m.__wrapped__}return E.__wrapped__=a,c}function Bf(){var a=this.__wrapped__;if(a instanceof We){var c=a;return this.__actions__.length&&(c=new We(this)),c=c.reverse(),c.__actions__.push({func:zr,args:[Jo],thisArg:n}),new Ft(c,this.__chain__)}return this.thru(Jo)}function qf(){return Di(this.__wrapped__,this.__actions__)}var Uf=Fr(function(a,c,m){Qe.call(a,m)?++a[m]:nn(a,m,1)});function Hf(a,c,m){var y=Me(a)?Hs:Iu;return m&&Ct(a,c,m)&&(c=n),y(a,Ae(c,3))}function Wf(a,c){var m=Me(a)?un:gi;return m(a,Ae(c,3))}var Gf=zi(pa),zf=zi(ma);function jf(a,c){return mt(jr(a,c),1)}function Kf(a,c){return mt(jr(a,c),Q)}function Yf(a,c,m){return m=m===n?1:Fe(m),mt(jr(a,c),m)}function Ea(a,c){var m=Me(a)?Vt:pn;return m(a,Ae(c,3))}function Sa(a,c){var m=Me(a)?nc:mi;return m(a,Ae(c,3))}var Qf=Fr(function(a,c,m){Qe.call(a,m)?a[m].push(c):nn(a,m,[c])});function Xf(a,c,m,y){a=kt(a)?a:Wn(a),m=m&&!y?Fe(m):0;var E=a.length;return m<0&&(m=dt(E+m,0)),Jr(a)?m<=E&&a.indexOf(c,m)>-1:!!E&&Nn(a,c,m)>-1}var Jf=qe(function(a,c,m){var y=-1,E=typeof c=="function",T=kt(a)?G(a.length):[];return pn(a,function(P){T[++y]=E?At(c,P,m):Zn(P,c,m)}),T}),Zf=Fr(function(a,c,m){nn(a,m,c)});function jr(a,c){var m=Me(a)?rt:Ei;return m(a,Ae(c,3))}function eh(a,c,m,y){return a==null?[]:(Me(c)||(c=c==null?[]:[c]),m=y?n:m,Me(m)||(m=m==null?[]:[m]),Ti(a,c,m))}var th=Fr(function(a,c,m){a[m?0:1].push(c)},function(){return[[],[]]});function nh(a,c,m){var y=Me(a)?uo:js,E=arguments.length<3;return y(a,Ae(c,4),m,E,pn)}function rh(a,c,m){var y=Me(a)?rc:js,E=arguments.length<3;return y(a,Ae(c,4),m,E,mi)}function oh(a,c){var m=Me(a)?un:gi;return m(a,Qr(Ae(c,3)))}function sh(a){var c=Me(a)?ui:ju;return c(a)}function ih(a,c,m){(m?Ct(a,c,m):c===n)?c=1:c=Fe(c);var y=Me(a)?Eu:Ku;return y(a,c)}function ah(a){var c=Me(a)?Su:Qu;return c(a)}function lh(a){if(a==null)return 0;if(kt(a))return Jr(a)?Ln(a):a.length;var c=_t(a);return c==z||c==se?a.size:xo(a).length}function ch(a,c,m){var y=Me(a)?fo:Xu;return m&&Ct(a,c,m)&&(c=n),y(a,Ae(c,3))}var uh=qe(function(a,c){if(a==null)return[];var m=c.length;return m>1&&Ct(a,c[0],c[1])?c=[]:m>2&&Ct(c[0],c[1],c[2])&&(c=[c[0]]),Ti(a,mt(c,1),[])}),Kr=Vc||function(){return pt.Date.now()};function dh(a,c){if(typeof c!="function")throw new Mt(l);return a=Fe(a),function(){if(--a<1)return c.apply(this,arguments)}}function wa(a,c,m){return c=m?n:c,c=a&&c==null?a.length:c,rn(a,V,n,n,n,n,c)}function ka(a,c){var m;if(typeof c!="function")throw new Mt(l);return a=Fe(a),function(){return--a>0&&(m=c.apply(this,arguments)),a<=1&&(c=n),m}}var es=qe(function(a,c,m){var y=A;if(m.length){var E=fn(m,Un(es));y|=O}return rn(a,y,c,m,E)}),Ta=qe(function(a,c,m){var y=A|R;if(m.length){var E=fn(m,Un(Ta));y|=O}return rn(c,y,a,m,E)});function Ia(a,c,m){c=m?n:c;var y=rn(a,w,n,n,n,n,n,c);return y.placeholder=Ia.placeholder,y}function Aa(a,c,m){c=m?n:c;var y=rn(a,N,n,n,n,n,n,c);return y.placeholder=Aa.placeholder,y}function Ra(a,c,m){var y,E,T,P,M,B,Z=0,oe=!1,ae=!1,ve=!0;if(typeof a!="function")throw new Mt(l);c=Ut(c)||0,ot(m)&&(oe=!!m.leading,ae="maxWait"in m,T=ae?dt(Ut(m.maxWait)||0,c):T,ve="trailing"in m?!!m.trailing:ve);function ke(ct){var jt=y,cn=E;return y=E=n,Z=ct,P=a.apply(cn,jt),P}function Pe(ct){return Z=ct,M=sr(He,c),oe?ke(ct):P}function $e(ct){var jt=ct-B,cn=ct-Z,Ka=c-jt;return ae?vt(Ka,T-cn):Ka}function Ne(ct){var jt=ct-B,cn=ct-Z;return B===n||jt>=c||jt<0||ae&&cn>=T}function He(){var ct=Kr();if(Ne(ct))return ze(ct);M=sr(He,$e(ct))}function ze(ct){return M=n,ve&&y?ke(ct):(y=E=n,P)}function Nt(){M!==n&&Mi(M),Z=0,y=B=E=M=n}function Et(){return M===n?P:ze(Kr())}function Ot(){var ct=Kr(),jt=Ne(ct);if(y=arguments,E=this,B=ct,jt){if(M===n)return Pe(B);if(ae)return Mi(M),M=sr(He,c),ke(B)}return M===n&&(M=sr(He,c)),P}return Ot.cancel=Nt,Ot.flush=Et,Ot}var fh=qe(function(a,c){return hi(a,1,c)}),hh=qe(function(a,c,m){return hi(a,Ut(c)||0,m)});function ph(a){return rn(a,W)}function Yr(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new Mt(l);var m=function(){var y=arguments,E=c?c.apply(this,y):y[0],T=m.cache;if(T.has(E))return T.get(E);var P=a.apply(this,y);return m.cache=T.set(E,P)||T,P};return m.cache=new(Yr.Cache||tn),m}Yr.Cache=tn;function Qr(a){if(typeof a!="function")throw new Mt(l);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function mh(a){return ka(2,a)}var gh=Ju(function(a,c){c=c.length==1&&Me(c[0])?rt(c[0],Rt(Ae())):rt(mt(c,1),Rt(Ae()));var m=c.length;return qe(function(y){for(var E=-1,T=vt(y.length,m);++E<T;)y[E]=c[E].call(this,y[E]);return At(a,this,y)})}),ts=qe(function(a,c){var m=fn(c,Un(ts));return rn(a,O,n,c,m)}),xa=qe(function(a,c){var m=fn(c,Un(xa));return rn(a,D,n,c,m)}),vh=on(function(a,c){return rn(a,L,n,n,n,c)});function _h(a,c){if(typeof a!="function")throw new Mt(l);return c=c===n?c:Fe(c),qe(a,c)}function yh(a,c){if(typeof a!="function")throw new Mt(l);return c=c==null?0:dt(Fe(c),0),qe(function(m){var y=m[c],E=vn(m,0,c);return y&&dn(E,y),At(a,this,E)})}function bh(a,c,m){var y=!0,E=!0;if(typeof a!="function")throw new Mt(l);return ot(m)&&(y="leading"in m?!!m.leading:y,E="trailing"in m?!!m.trailing:E),Ra(a,c,{leading:y,maxWait:c,trailing:E})}function Ch(a){return wa(a,1)}function Eh(a,c){return ts($o(c),a)}function Sh(){if(!arguments.length)return[];var a=arguments[0];return Me(a)?a:[a]}function wh(a){return $t(a,b)}function kh(a,c){return c=typeof c=="function"?c:n,$t(a,b,c)}function Th(a){return $t(a,v|b)}function Ih(a,c){return c=typeof c=="function"?c:n,$t(a,v|b,c)}function Ah(a,c){return c==null||fi(a,c,ft(c))}function zt(a,c){return a===c||a!==a&&c!==c}var Rh=Ur(Io),xh=Ur(function(a,c){return a>=c}),In=yi(function(){return arguments}())?yi:function(a){return st(a)&&Qe.call(a,"callee")&&!ri.call(a,"callee")},Me=G.isArray,Ph=Ms?Rt(Ms):Lu;function kt(a){return a!=null&&Xr(a.length)&&!an(a)}function at(a){return st(a)&&kt(a)}function Nh(a){return a===!0||a===!1||st(a)&&bt(a)==Ee}var _n=Fc||fs,Oh=Fs?Rt(Fs):Du;function Lh(a){return st(a)&&a.nodeType===1&&!ir(a)}function Dh(a){if(a==null)return!0;if(kt(a)&&(Me(a)||typeof a=="string"||typeof a.splice=="function"||_n(a)||Hn(a)||In(a)))return!a.length;var c=_t(a);if(c==z||c==se)return!a.size;if(rr(a))return!xo(a).length;for(var m in a)if(Qe.call(a,m))return!1;return!0}function Vh(a,c){return er(a,c)}function Mh(a,c,m){m=typeof m=="function"?m:n;var y=m?m(a,c):n;return y===n?er(a,c,n,m):!!y}function ns(a){if(!st(a))return!1;var c=bt(a);return c==De||c==Xe||typeof a.message=="string"&&typeof a.name=="string"&&!ir(a)}function Fh(a){return typeof a=="number"&&si(a)}function an(a){if(!ot(a))return!1;var c=bt(a);return c==x||c==F||c==he||c==pe}function Pa(a){return typeof a=="number"&&a==Fe(a)}function Xr(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=de}function ot(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function st(a){return a!=null&&typeof a=="object"}var Na=$s?Rt($s):Fu;function $h(a,c){return a===c||Ro(a,c,zo(c))}function Bh(a,c,m){return m=typeof m=="function"?m:n,Ro(a,c,zo(c),m)}function qh(a){return Oa(a)&&a!=+a}function Uh(a){if(Sd(a))throw new Ve(s);return bi(a)}function Hh(a){return a===null}function Wh(a){return a==null}function Oa(a){return typeof a=="number"||st(a)&&bt(a)==X}function ir(a){if(!st(a)||bt(a)!=fe)return!1;var c=Cr(a);if(c===null)return!0;var m=Qe.call(c,"constructor")&&c.constructor;return typeof m=="function"&&m instanceof m&&vr.call(m)==Nc}var rs=Bs?Rt(Bs):$u;function Gh(a){return Pa(a)&&a>=-de&&a<=de}var La=qs?Rt(qs):Bu;function Jr(a){return typeof a=="string"||!Me(a)&&st(a)&&bt(a)==Te}function Pt(a){return typeof a=="symbol"||st(a)&&bt(a)==we}var Hn=Us?Rt(Us):qu;function zh(a){return a===n}function jh(a){return st(a)&&_t(a)==xe}function Kh(a){return st(a)&&bt(a)==Ue}var Yh=Ur(Po),Qh=Ur(function(a,c){return a<=c});function Da(a){if(!a)return[];if(kt(a))return Jr(a)?Ht(a):wt(a);if(zn&&a[zn])return yc(a[zn]());var c=_t(a),m=c==z?_o:c==se?fr:Wn;return m(a)}function ln(a){if(!a)return a===0?a:0;if(a=Ut(a),a===Q||a===-Q){var c=a<0?-1:1;return c*Oe}return a===a?a:0}function Fe(a){var c=ln(a),m=c%1;return c===c?m?c-m:c:0}function Va(a){return a?Sn(Fe(a),0,Ce):0}function Ut(a){if(typeof a=="number")return a;if(Pt(a))return _e;if(ot(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=ot(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=Ks(a);var m=_l.test(a);return m||bl.test(a)?Zl(a.slice(2),m?2:8):vl.test(a)?_e:+a}function Ma(a){return Qt(a,Tt(a))}function Xh(a){return a?Sn(Fe(a),-de,de):a===0?a:0}function Ye(a){return a==null?"":xt(a)}var Jh=Bn(function(a,c){if(rr(c)||kt(c)){Qt(c,ft(c),a);return}for(var m in c)Qe.call(c,m)&&Xn(a,m,c[m])}),Fa=Bn(function(a,c){Qt(c,Tt(c),a)}),Zr=Bn(function(a,c,m,y){Qt(c,Tt(c),a,y)}),Zh=Bn(function(a,c,m,y){Qt(c,ft(c),a,y)}),ep=on(wo);function tp(a,c){var m=$n(a);return c==null?m:di(m,c)}var np=qe(function(a,c){a=Je(a);var m=-1,y=c.length,E=y>2?c[2]:n;for(E&&Ct(c[0],c[1],E)&&(y=1);++m<y;)for(var T=c[m],P=Tt(T),M=-1,B=P.length;++M<B;){var Z=P[M],oe=a[Z];(oe===n||zt(oe,Vn[Z])&&!Qe.call(a,Z))&&(a[Z]=T[Z])}return a}),rp=qe(function(a){return a.push(n,ea),At($a,n,a)});function op(a,c){return Ws(a,Ae(c,3),Yt)}function sp(a,c){return Ws(a,Ae(c,3),To)}function ip(a,c){return a==null?a:ko(a,Ae(c,3),Tt)}function lp(a,c){return a==null?a:vi(a,Ae(c,3),Tt)}function cp(a,c){return a&&Yt(a,Ae(c,3))}function up(a,c){return a&&To(a,Ae(c,3))}function dp(a){return a==null?[]:Lr(a,ft(a))}function fp(a){return a==null?[]:Lr(a,Tt(a))}function os(a,c,m){var y=a==null?n:wn(a,c);return y===n?m:y}function hp(a,c){return a!=null&&ra(a,c,Ru)}function ss(a,c){return a!=null&&ra(a,c,xu)}var pp=Ki(function(a,c,m){c!=null&&typeof c.toString!="function"&&(c=_r.call(c)),a[c]=m},as(It)),gp=Ki(function(a,c,m){c!=null&&typeof c.toString!="function"&&(c=_r.call(c)),Qe.call(a,c)?a[c].push(m):a[c]=[m]},Ae),vp=qe(Zn);function ft(a){return kt(a)?ci(a):xo(a)}function Tt(a){return kt(a)?ci(a,!0):Uu(a)}function _p(a,c){var m={};return c=Ae(c,3),Yt(a,function(y,E,T){nn(m,c(y,E,T),y)}),m}function yp(a,c){var m={};return c=Ae(c,3),Yt(a,function(y,E,T){nn(m,E,c(y,E,T))}),m}var bp=Bn(function(a,c,m){Dr(a,c,m)}),$a=Bn(function(a,c,m,y){Dr(a,c,m,y)}),Cp=on(function(a,c){var m={};if(a==null)return m;var y=!1;c=rt(c,function(T){return T=gn(T,a),y||(y=T.length>1),T}),Qt(a,Wo(a),m),y&&(m=$t(m,v|_|b,cd));for(var E=c.length;E--;)Vo(m,c[E]);return m});function Ep(a,c){return Ba(a,Qr(Ae(c)))}var Sp=on(function(a,c){return a==null?{}:Wu(a,c)});function Ba(a,c){if(a==null)return{};var m=rt(Wo(a),function(y){return[y]});return c=Ae(c),Ii(a,m,function(y,E){return c(y,E[0])})}function kp(a,c,m){c=gn(c,a);var y=-1,E=c.length;for(E||(E=1,a=n);++y<E;){var T=a==null?n:a[Xt(c[y])];T===n&&(y=E,T=m),a=an(T)?T.call(a):T}return a}function Tp(a,c,m){return a==null?a:tr(a,c,m)}function Ip(a,c,m,y){return y=typeof y=="function"?y:n,a==null?a:tr(a,c,m,y)}var qa=Ji(ft),Ua=Ji(Tt);function Ap(a,c,m){var y=Me(a),E=y||_n(a)||Hn(a);if(c=Ae(c,4),m==null){var T=a&&a.constructor;E?m=y?new T:[]:ot(a)?m=an(T)?$n(Cr(a)):{}:m={}}return(E?Vt:Yt)(a,function(P,M,B){return c(m,P,M,B)}),m}function Rp(a,c){return a==null?!0:Vo(a,c)}function xp(a,c,m){return a==null?a:Li(a,c,$o(m))}function Pp(a,c,m,y){return y=typeof y=="function"?y:n,a==null?a:Li(a,c,$o(m),y)}function Wn(a){return a==null?[]:vo(a,ft(a))}function Np(a){return a==null?[]:vo(a,Tt(a))}function Op(a,c,m){return m===n&&(m=c,c=n),m!==n&&(m=Ut(m),m=m===m?m:0),c!==n&&(c=Ut(c),c=c===c?c:0),Sn(Ut(a),c,m)}function Lp(a,c,m){return c=ln(c),m===n?(m=c,c=0):m=ln(m),a=Ut(a),Pu(a,c,m)}function Dp(a,c,m){if(m&&typeof m!="boolean"&&Ct(a,c,m)&&(c=m=n),m===n&&(typeof c=="boolean"?(m=c,c=n):typeof a=="boolean"&&(m=a,a=n)),a===n&&c===n?(a=0,c=1):(a=ln(a),c===n?(c=a,a=0):c=ln(c)),a>c){var y=a;a=c,c=y}if(m||a%1||c%1){var E=ai();return vt(a+E*(c-a+Jl("1e-"+((E+"").length-1))),c)}return Oo(a,c)}var Vp=qn(function(a,c,m){return c=c.toLowerCase(),a+(m?Ha(c):c)});function Ha(a){return is(Ye(a).toLowerCase())}function Wa(a){return a=Ye(a),a&&a.replace(El,pc).replace(Ul,"")}function Mp(a,c,m){a=Ye(a),c=xt(c);var y=a.length;m=m===n?y:Sn(Fe(m),0,y);var E=m;return m-=c.length,m>=0&&a.slice(m,E)==c}function Fp(a){return a=Ye(a),a&&Za.test(a)?a.replace(ps,mc):a}function $p(a){return a=Ye(a),a&&il.test(a)?a.replace(eo,"\\$&"):a}var Bp=qn(function(a,c,m){return a+(m?"-":"")+c.toLowerCase()}),qp=qn(function(a,c,m){return a+(m?" ":"")+c.toLowerCase()}),Up=Gi("toLowerCase");function Hp(a,c,m){a=Ye(a),c=Fe(c);var y=c?Ln(a):0;if(!c||y>=c)return a;var E=(c-y)/2;return qr(Tr(E),m)+a+qr(kr(E),m)}function Wp(a,c,m){a=Ye(a),c=Fe(c);var y=c?Ln(a):0;return c&&y<c?a+qr(c-y,m):a}function Gp(a,c,m){a=Ye(a),c=Fe(c);var y=c?Ln(a):0;return c&&y<c?qr(c-y,m)+a:a}function zp(a,c,m){return m||c==null?c=0:c&&(c=+c),Uc(Ye(a).replace(to,""),c||0)}function jp(a,c,m){return(m?Ct(a,c,m):c===n)?c=1:c=Fe(c),Lo(Ye(a),c)}function Kp(){var a=arguments,c=Ye(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var Yp=qn(function(a,c,m){return a+(m?"_":"")+c.toLowerCase()});function Qp(a,c,m){return m&&typeof m!="number"&&Ct(a,c,m)&&(c=m=n),m=m===n?Ce:m>>>0,m?(a=Ye(a),a&&(typeof c=="string"||c!=null&&!rs(c))&&(c=xt(c),!c&&On(a))?vn(Ht(a),0,m):a.split(c,m)):[]}var Xp=qn(function(a,c,m){return a+(m?" ":"")+is(c)});function Jp(a,c,m){return a=Ye(a),m=m==null?0:Sn(Fe(m),0,a.length),c=xt(c),a.slice(m,m+c.length)==c}function Zp(a,c,m){var y=k.templateSettings;m&&Ct(a,c,m)&&(c=n),a=Ye(a),c=Zr({},c,y,Zi);var E=Zr({},c.imports,y.imports,Zi),T=ft(E),P=vo(E,T),M,B,Z=0,oe=c.interpolate||ar,ae="__p += '",ve=yo((c.escape||ar).source+"|"+oe.source+"|"+(oe===ms?ml:ar).source+"|"+(c.evaluate||ar).source+"|$","g"),ke="//# sourceURL="+(Qe.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jl+"]")+`
`;a.replace(ve,function(Ne,He,ze,Nt,Et,Ot){return ze||(ze=Nt),ae+=a.slice(Z,Ot).replace(Sl,gc),He&&(M=!0,ae+=`' +
__e(`+He+`) +
'`),Et&&(B=!0,ae+=`';
`+Et+`;
__p += '`),ze&&(ae+=`' +
((__t = (`+ze+`)) == null ? '' : __t) +
'`),Z=Ot+Ne.length,Ne}),ae+=`';
`;var Pe=Qe.call(c,"variable")&&c.variable;if(!Pe)ae=`with (obj) {
`+ae+`
}
`;else if(hl.test(Pe))throw new Ve(u);ae=(B?ae.replace(Ya,""):ae).replace(Qa,"$1").replace(Xa,"$1;"),ae="function("+(Pe||"obj")+`) {
`+(Pe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(M?", __e = _.escape":"")+(B?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ae+`return __p
}`;var $e=za(function(){return Ke(T,ke+"return "+ae).apply(n,P)});if($e.source=ae,ns($e))throw $e;return $e}function em(a){return Ye(a).toLowerCase()}function tm(a){return Ye(a).toUpperCase()}function nm(a,c,m){if(a=Ye(a),a&&(m||c===n))return Ks(a);if(!a||!(c=xt(c)))return a;var y=Ht(a),E=Ht(c),T=Ys(y,E),P=Qs(y,E)+1;return vn(y,T,P).join("")}function rm(a,c,m){if(a=Ye(a),a&&(m||c===n))return a.slice(0,Js(a)+1);if(!a||!(c=xt(c)))return a;var y=Ht(a),E=Qs(y,Ht(c))+1;return vn(y,0,E).join("")}function om(a,c,m){if(a=Ye(a),a&&(m||c===n))return a.replace(to,"");if(!a||!(c=xt(c)))return a;var y=Ht(a),E=Ys(y,Ht(c));return vn(y,E).join("")}function sm(a,c){var m=U,y=K;if(ot(c)){var E="separator"in c?c.separator:E;m="length"in c?Fe(c.length):m,y="omission"in c?xt(c.omission):y}a=Ye(a);var T=a.length;if(On(a)){var P=Ht(a);T=P.length}if(m>=T)return a;var M=m-Ln(y);if(M<1)return y;var B=P?vn(P,0,M).join(""):a.slice(0,M);if(E===n)return B+y;if(P&&(M+=B.length-M),rs(E)){if(a.slice(M).search(E)){var Z,oe=B;for(E.global||(E=yo(E.source,Ye(gs.exec(E))+"g")),E.lastIndex=0;Z=E.exec(oe);)var ae=Z.index;B=B.slice(0,ae===n?M:ae)}}else if(a.indexOf(xt(E),M)!=M){var ve=B.lastIndexOf(E);ve>-1&&(B=B.slice(0,ve))}return B+y}function im(a){return a=Ye(a),a&&Ja.test(a)?a.replace(hs,wc):a}var am=qn(function(a,c,m){return a+(m?" ":"")+c.toUpperCase()}),is=Gi("toUpperCase");function Ga(a,c,m){return a=Ye(a),c=m?n:c,c===n?_c(a)?Ic(a):cc(a):a.match(c)||[]}var za=qe(function(a,c){try{return At(a,n,c)}catch(m){return ns(m)?m:new Ve(m)}}),lm=on(function(a,c){return Vt(c,function(m){m=Xt(m),nn(a,m,es(a[m],a))}),a});function cm(a){var c=a==null?0:a.length,m=Ae();return a=c?rt(a,function(y){if(typeof y[1]!="function")throw new Mt(l);return[m(y[0]),y[1]]}):[],qe(function(y){for(var E=-1;++E<c;){var T=a[E];if(At(T[0],this,y))return At(T[1],this,y)}})}function um(a){return Tu($t(a,v))}function as(a){return function(){return a}}function dm(a,c){return a==null||a!==a?c:a}var fm=ji(),hm=ji(!0);function It(a){return a}function ls(a){return Ci(typeof a=="function"?a:$t(a,v))}function mm(a){return Si($t(a,v))}function gm(a,c){return wi(a,$t(c,v))}var vm=qe(function(a,c){return function(m){return Zn(m,a,c)}}),_m=qe(function(a,c){return function(m){return Zn(a,m,c)}});function cs(a,c,m){var y=ft(c),E=Lr(c,y);m==null&&!(ot(c)&&(E.length||!y.length))&&(m=c,c=a,a=this,E=Lr(c,ft(c)));var T=!(ot(m)&&"chain"in m)||!!m.chain,P=an(a);return Vt(E,function(M){var B=c[M];a[M]=B,P&&(a.prototype[M]=function(){var Z=this.__chain__;if(T||Z){var oe=a(this.__wrapped__),ae=oe.__actions__=wt(this.__actions__);return ae.push({func:B,args:arguments,thisArg:a}),oe.__chain__=Z,oe}return B.apply(a,dn([this.value()],arguments))})}),a}function ym(){return pt._===this&&(pt._=Oc),this}function us(){}function bm(a){return a=Fe(a),qe(function(c){return ki(c,a)})}var Cm=qo(rt),Em=qo(Hs),Sm=qo(fo);function ja(a){return Ko(a)?ho(Xt(a)):Gu(a)}function wm(a){return function(c){return a==null?n:wn(a,c)}}var km=Yi(),Tm=Yi(!0);function ds(){return[]}function fs(){return!1}function Am(){return{}}function Rm(){return""}function xm(){return!0}function Pm(a,c){if(a=Fe(a),a<1||a>de)return[];var m=Ce,y=vt(a,Ce);c=Ae(c),a-=Ce;for(var E=go(y,c);++m<a;)c(m);return E}function Nm(a){return Me(a)?rt(a,Xt):Pt(a)?[a]:wt(fa(Ye(a)))}function Om(a){var c=++Pc;return Ye(a)+c}var Lm=Br(function(a,c){return a+c},0),Dm=Uo("ceil"),Vm=Br(function(a,c){return a/c},1),Mm=Uo("floor");function Fm(a){return a&&a.length?Nr(a,It,Io):n}function $m(a,c){return a&&a.length?Nr(a,Ae(c,2),Io):n}function Bm(a){return zs(a,It)}function qm(a,c){return zs(a,Ae(c,2))}function Um(a){return a&&a.length?Nr(a,It,Po):n}function Hm(a,c){return a&&a.length?Nr(a,Ae(c,2),Po):n}var Wm=Br(function(a,c){return a*c},1),Gm=Uo("round"),zm=Br(function(a,c){return a-c},0);function jm(a){return a&&a.length?mo(a,It):0}function Km(a,c){return a&&a.length?mo(a,Ae(c,2)):0}return k.after=dh,k.ary=wa,k.assign=Jh,k.assignIn=Fa,k.assignInWith=Zr,k.assignWith=Zh,k.at=ep,k.before=ka,k.bind=es,k.bindAll=lm,k.bindKey=Ta,k.castArray=Sh,k.chain=Ca,k.chunk=xd,k.compact=Pd,k.concat=Nd,k.cond=cm,k.conforms=um,k.constant=as,k.countBy=Uf,k.create=tp,k.curry=Ia,k.curryRight=Aa,k.debounce=Ra,k.defaults=np,k.defaultsDeep=rp,k.defer=fh,k.delay=hh,k.difference=Od,k.differenceBy=Ld,k.differenceWith=Dd,k.drop=Vd,k.dropRight=Md,k.dropRightWhile=Fd,k.dropWhile=$d,k.fill=Bd,k.filter=Wf,k.flatMap=jf,k.flatMapDeep=Kf,k.flatMapDepth=Yf,k.flatten=ga,k.flattenDeep=qd,k.flattenDepth=Ud,k.flip=ph,k.flow=fm,k.flowRight=hm,k.fromPairs=Hd,k.functions=dp,k.functionsIn=fp,k.groupBy=Qf,k.initial=Gd,k.intersection=zd,k.intersectionBy=jd,k.intersectionWith=Kd,k.invert=pp,k.invertBy=gp,k.invokeMap=Jf,k.iteratee=ls,k.keyBy=Zf,k.keys=ft,k.keysIn=Tt,k.map=jr,k.mapKeys=_p,k.mapValues=yp,k.matches=mm,k.matchesProperty=gm,k.memoize=Yr,k.merge=bp,k.mergeWith=$a,k.method=vm,k.methodOf=_m,k.mixin=cs,k.negate=Qr,k.nthArg=bm,k.omit=Cp,k.omitBy=Ep,k.once=mh,k.orderBy=eh,k.over=Cm,k.overArgs=gh,k.overEvery=Em,k.overSome=Sm,k.partial=ts,k.partialRight=xa,k.partition=th,k.pick=Sp,k.pickBy=Ba,k.property=ja,k.propertyOf=wm,k.pull=Jd,k.pullAll=ya,k.pullAllBy=Zd,k.pullAllWith=ef,k.pullAt=tf,k.range=km,k.rangeRight=Tm,k.rearg=vh,k.reject=oh,k.remove=nf,k.rest=_h,k.reverse=Jo,k.sampleSize=ih,k.set=Tp,k.setWith=Ip,k.shuffle=ah,k.slice=rf,k.sortBy=uh,k.sortedUniq=ff,k.sortedUniqBy=hf,k.split=Qp,k.spread=yh,k.tail=pf,k.take=mf,k.takeRight=gf,k.takeRightWhile=vf,k.takeWhile=_f,k.tap=Of,k.throttle=bh,k.thru=zr,k.toArray=Da,k.toPairs=qa,k.toPairsIn=Ua,k.toPath=Nm,k.toPlainObject=Ma,k.transform=Ap,k.unary=Ch,k.union=yf,k.unionBy=bf,k.unionWith=Cf,k.uniq=Ef,k.uniqBy=Sf,k.uniqWith=wf,k.unset=Rp,k.unzip=Zo,k.unzipWith=ba,k.update=xp,k.updateWith=Pp,k.values=Wn,k.valuesIn=Np,k.without=kf,k.words=Ga,k.wrap=Eh,k.xor=Tf,k.xorBy=If,k.xorWith=Af,k.zip=Rf,k.zipObject=xf,k.zipObjectDeep=Pf,k.zipWith=Nf,k.entries=qa,k.entriesIn=Ua,k.extend=Fa,k.extendWith=Zr,cs(k,k),k.add=Lm,k.attempt=za,k.camelCase=Vp,k.capitalize=Ha,k.ceil=Dm,k.clamp=Op,k.clone=wh,k.cloneDeep=Th,k.cloneDeepWith=Ih,k.cloneWith=kh,k.conformsTo=Ah,k.deburr=Wa,k.defaultTo=dm,k.divide=Vm,k.endsWith=Mp,k.eq=zt,k.escape=Fp,k.escapeRegExp=$p,k.every=Hf,k.find=Gf,k.findIndex=pa,k.findKey=op,k.findLast=zf,k.findLastIndex=ma,k.findLastKey=sp,k.floor=Mm,k.forEach=Ea,k.forEachRight=Sa,k.forIn=ip,k.forInRight=lp,k.forOwn=cp,k.forOwnRight=up,k.get=os,k.gt=Rh,k.gte=xh,k.has=hp,k.hasIn=ss,k.head=va,k.identity=It,k.includes=Xf,k.indexOf=Wd,k.inRange=Lp,k.invoke=vp,k.isArguments=In,k.isArray=Me,k.isArrayBuffer=Ph,k.isArrayLike=kt,k.isArrayLikeObject=at,k.isBoolean=Nh,k.isBuffer=_n,k.isDate=Oh,k.isElement=Lh,k.isEmpty=Dh,k.isEqual=Vh,k.isEqualWith=Mh,k.isError=ns,k.isFinite=Fh,k.isFunction=an,k.isInteger=Pa,k.isLength=Xr,k.isMap=Na,k.isMatch=$h,k.isMatchWith=Bh,k.isNaN=qh,k.isNative=Uh,k.isNil=Wh,k.isNull=Hh,k.isNumber=Oa,k.isObject=ot,k.isObjectLike=st,k.isPlainObject=ir,k.isRegExp=rs,k.isSafeInteger=Gh,k.isSet=La,k.isString=Jr,k.isSymbol=Pt,k.isTypedArray=Hn,k.isUndefined=zh,k.isWeakMap=jh,k.isWeakSet=Kh,k.join=Yd,k.kebabCase=Bp,k.last=qt,k.lastIndexOf=Qd,k.lowerCase=qp,k.lowerFirst=Up,k.lt=Yh,k.lte=Qh,k.max=Fm,k.maxBy=$m,k.mean=Bm,k.meanBy=qm,k.min=Um,k.minBy=Hm,k.stubArray=ds,k.stubFalse=fs,k.stubObject=Am,k.stubString=Rm,k.stubTrue=xm,k.multiply=Wm,k.nth=Xd,k.noConflict=ym,k.noop=us,k.now=Kr,k.pad=Hp,k.padEnd=Wp,k.padStart=Gp,k.parseInt=zp,k.random=Dp,k.reduce=nh,k.reduceRight=rh,k.repeat=jp,k.replace=Kp,k.result=kp,k.round=Gm,k.runInContext=$,k.sample=sh,k.size=lh,k.snakeCase=Yp,k.some=ch,k.sortedIndex=of,k.sortedIndexBy=sf,k.sortedIndexOf=lf,k.sortedLastIndex=cf,k.sortedLastIndexBy=uf,k.sortedLastIndexOf=df,k.startCase=Xp,k.startsWith=Jp,k.subtract=zm,k.sum=jm,k.sumBy=Km,k.template=Zp,k.times=Pm,k.toFinite=ln,k.toInteger=Fe,k.toLength=Va,k.toLower=em,k.toNumber=Ut,k.toSafeInteger=Xh,k.toString=Ye,k.toUpper=tm,k.trim=nm,k.trimEnd=rm,k.trimStart=om,k.truncate=sm,k.unescape=im,k.uniqueId=Om,k.upperCase=am,k.upperFirst=is,k.each=Ea,k.eachRight=Sa,k.first=va,cs(k,function(){var a={};return Yt(k,function(c,m){Qe.call(k.prototype,m)||(a[m]=c)}),a}(),{chain:!1}),k.VERSION=r,Vt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){k[a].placeholder=k}),Vt(["drop","take"],function(a,c){We.prototype[a]=function(m){m=m===n?1:dt(Fe(m),0);var y=this.__filtered__&&!c?new We(this):this.clone();return y.__filtered__?y.__takeCount__=vt(m,y.__takeCount__):y.__views__.push({size:vt(m,Ce),type:a+(y.__dir__<0?"Right":"")}),y},We.prototype[a+"Right"]=function(m){return this.reverse()[a](m).reverse()}}),Vt(["filter","map","takeWhile"],function(a,c){var m=c+1,y=m==q||m==te;We.prototype[a]=function(E){var T=this.clone();return T.__iteratees__.push({iteratee:Ae(E,3),type:m}),T.__filtered__=T.__filtered__||y,T}}),Vt(["head","last"],function(a,c){var m="take"+(c?"Right":"");We.prototype[a]=function(){return this[m](1).value()[0]}}),Vt(["initial","tail"],function(a,c){var m="drop"+(c?"":"Right");We.prototype[a]=function(){return this.__filtered__?new We(this):this[m](1)}}),We.prototype.compact=function(){return this.filter(It)},We.prototype.find=function(a){return this.filter(a).head()},We.prototype.findLast=function(a){return this.reverse().find(a)},We.prototype.invokeMap=qe(function(a,c){return typeof a=="function"?new We(this):this.map(function(m){return Zn(m,a,c)})}),We.prototype.reject=function(a){return this.filter(Qr(Ae(a)))},We.prototype.slice=function(a,c){a=Fe(a);var m=this;return m.__filtered__&&(a>0||c<0)?new We(m):(a<0?m=m.takeRight(-a):a&&(m=m.drop(a)),c!==n&&(c=Fe(c),m=c<0?m.dropRight(-c):m.take(c-a)),m)},We.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},We.prototype.toArray=function(){return this.take(Ce)},Yt(We.prototype,function(a,c){var m=/^(?:filter|find|map|reject)|While$/.test(c),y=/^(?:head|last)$/.test(c),E=k[y?"take"+(c=="last"?"Right":""):c],T=y||/^find/.test(c);!E||(k.prototype[c]=function(){var P=this.__wrapped__,M=y?[1]:arguments,B=P instanceof We,Z=M[0],oe=B||Me(P),ae=function(He){var ze=E.apply(k,dn([He],M));return y&&ve?ze[0]:ze};oe&&m&&typeof Z=="function"&&Z.length!=1&&(B=oe=!1);var ve=this.__chain__,ke=!!this.__actions__.length,Pe=T&&!ve,$e=B&&!ke;if(!T&&oe){P=$e?P:new We(this);var Ne=a.apply(P,M);return Ne.__actions__.push({func:zr,args:[ae],thisArg:n}),new Ft(Ne,ve)}return Pe&&$e?a.apply(this,M):(Ne=this.thru(ae),Pe?y?Ne.value()[0]:Ne.value():Ne)})}),Vt(["pop","push","shift","sort","splice","unshift"],function(a){var c=mr[a],m=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",y=/^(?:pop|shift)$/.test(a);k.prototype[a]=function(){var E=arguments;if(y&&!this.__chain__){var T=this.value();return c.apply(Me(T)?T:[],E)}return this[m](function(P){return c.apply(Me(P)?P:[],E)})}}),Yt(We.prototype,function(a,c){var m=k[c];if(m){var y=m.name+"";Qe.call(Fn,y)||(Fn[y]=[]),Fn[y].push({name:c,func:m})}}),Fn[$r(n,R).name]=[{name:"wrapper",func:n}],We.prototype.clone=Yc,We.prototype.reverse=Qc,We.prototype.value=Xc,k.prototype.at=Lf,k.prototype.chain=Df,k.prototype.commit=Vf,k.prototype.next=Mf,k.prototype.plant=$f,k.prototype.reverse=Bf,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=qf,k.prototype.first=k.prototype.head,zn&&(k.prototype[zn]=Ff),k},Dn=Ac();yn?((yn.exports=Dn)._=Dn,ao._=Dn):pt._=Dn}).call(commonjsGlobal)})(lodash,lodash.exports);var base64$1={exports:{}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */(function(t,e){(function(n){var r=e,o=t&&t.exports==r&&t,s=typeof commonjsGlobal=="object"&&commonjsGlobal;(s.global===s||s.window===s)&&(n=s);var l=function(C){this.message=C};l.prototype=new Error,l.prototype.name="InvalidCharacterError";var u=function(C){throw new l(C)},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,g=function(C){C=String(C).replace(f,"");var S=C.length;S%4==0&&(C=C.replace(/==?$/,""),S=C.length),(S%4==1||/[^+a-zA-Z0-9/]/.test(C))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var A=0,R,I,w="",N=-1;++N<S;)I=d.indexOf(C.charAt(N)),R=A%4?R*64+I:I,A++%4&&(w+=String.fromCharCode(255&R>>(-2*A&6)));return w},v=function(C){C=String(C),/[^\0-\xFF]/.test(C)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var S=C.length%3,A="",R=-1,I,w,N,O,D=C.length-S;++R<D;)I=C.charCodeAt(R)<<16,w=C.charCodeAt(++R)<<8,N=C.charCodeAt(++R),O=I+w+N,A+=d.charAt(O>>18&63)+d.charAt(O>>12&63)+d.charAt(O>>6&63)+d.charAt(O&63);return S==2?(I=C.charCodeAt(R)<<8,w=C.charCodeAt(++R),O=I+w,A+=d.charAt(O>>10)+d.charAt(O>>4&63)+d.charAt(O<<2&63)+"="):S==1&&(O=C.charCodeAt(R),A+=d.charAt(O>>2)+d.charAt(O<<4&63)+"=="),A},_={encode:v,decode:g,version:"1.0.0"};if(r&&!r.nodeType)if(o)o.exports=_;else for(var b in _)_.hasOwnProperty(b)&&(r[b]=_[b]);else n.base64=_})(commonjsGlobal)})(base64$1,base64$1.exports);const base64=base64$1.exports,runHandler=({setup,deck,candidates,itemName,alwaysLeadsExtra=!1})=>{const store=useStore(),handlerName=lodash.exports.camelCase(itemName);let code=store.handlers[handlerName];if(!code)return[];code=base64.decode(code);const handlerFn=eval(code),criteria=handlerFn({store,setup,deck,candidates,alwaysLeadsExtra})||[];for(let t of criteria)getItems(deck,setup,candidates,t)},getAlwaysLeads=({setup:t,deck:e,candidates:n,alwaysLeadsExtra:r=!1,item:o})=>{if(o.always_leads=="*"){runHandler({setup:t,deck:e,candidates:n,itemName:lodash.exports.camelCase(o.mastermind_name),alwaysLeadsExtra:r});return}const s=o.always_leads;[...e.villains,...e.henchmen,...e.heroes].map(u=>u.primary).includes(s)||getItems(e,t,n,{table:"villains",field:"villain_group",value:s})||getItems(e,t,n,{table:"henchmen",field:"henchmen_name",value:s})},getItems=(t,e,n,{table:r,field:o,value:s,append:l=r,special:u=!1,num:d=1,removeAll:f=!1,retrieveAlwaysLeads:g=!1,alwaysLeadsExtra:v=!1,canRepeat:_=!1})=>{const b=useStore();if(t[l]&&t[l].length>=e[l]||d<=0)return;const C=n[r].map(I=>b.userSettings.usePlayedCount?[I.id,I.played[b.user.uid]]:[I.id,1]);let A=lib$1.shuffle(C,"asc").map(I=>n[r].filter(({id:w})=>w==I[0]).shift());if(o&&s&&(A=s instanceof RegExp?n[r].filter(I=>s.test(I[o])):n[r].filter(I=>I[o]==s)),A.length==0)return!1;let R=[];if(_)for(let I=0;I<d;I++)R.push(lib$1.shuffle(A).shift());if(_||(R=A.splice(0,d)),R=R.map(I=>{I.special=u,g&&getAlwaysLeads({setup:e,deck:t,candidates:n,alwaysLeadsExtra:v,item:I});const w=tableFields[r];let N=[];r=="heroes"&&(N=I.colors,typeof N=="string"&&(N=JSON.parse(N)));const O=I.played[b.user.uid];return{primary:I[w.primary],secondary:I[w.secondary]||!1,colors:N,special:u,id:I.id,played:O}}),t[l]||(t[l]=[]),t[l]=[...t[l],...R],!_)for(let I of R)n[r]=n[r].filter(({id:w})=>w!=I.id)},defaultSetups={1:{players:1,schemes:1,masterminds:1,villains:3,henchmen:1,heroes:3,bystanders:1},2:{players:2,schemes:1,masterminds:1,villains:2,henchmen:1,heroes:5,bystanders:2},3:{players:3,schemes:1,masterminds:1,villains:3,henchmen:1,heroes:5,bystanders:8},4:{players:4,schemes:1,masterminds:1,villains:3,henchmen:2,heroes:5,bystanders:8},5:{players:5,schemes:1,masterminds:1,villains:4,henchmen:2,heroes:6,bystanders:12}},buildDeck=({numPlayers:t=2,schemeName:e=null})=>{const n=useStore();if(!n.userSettings.expansions||n.userSettings.expansions.length==0){n.snack={visible:!0,color:"error",text:"No Expansions Found. Go to Settings and select your expansions."};return}const r=n.userSettings.expansions.map(f=>n.expansionList[f].expansion);let o={schemes:[],masterminds:[],villains:[],henchmen:[],heroes:[]},s={...defaultSetups[t]},l={};for(let f of["schemes","masterminds","villains","henchmen","heroes"])l[f]=n[f].filter(g=>f=="masterminds"&&!n.userSettings.useEpics&&/^Epic/.test(g.mastermind_name)?!1:r.includes(g.expansion));const u=e?{field:"scheme_name",value:e}:{};o.schemes=[],getItems(o,s,l,{table:"schemes",field:u.field,value:u}),runHandler({setup:s,deck:o,candidates:l,itemName:o.schemes[0].primary}),getItems(o,s,l,{table:"masterminds",retrieveAlwaysLeads:!0}),getItems(o,s,l,{table:"villains",num:s.villains-o.villains.length}),getItems(o,s,l,{table:"henchmen",num:s.henchmen-o.henchmen.length}),getItems(o,s,l,{table:"heroes",num:s.heroes-o.heroes.length}),s.expires=new Date().getTime()+9e5;const d={deck:o,setup:s};n.updateGame(d)},tables=["expansionList","handlers","henchmen","heroes","keywords","masterminds","schemes","villains"],getUniversalData=()=>{const t=useStore(),e=firebase.getDatabase();tables.forEach(n=>{const r=firebase.ref(e,n);firebase.onValue(r,o=>{!o.val()||(t[n]=n!="handlers"?Object.values(o.val()):o.val())})})},markPlayed=()=>{const t=firebase.getDatabase(),e=useStore(),n=lodash.exports.cloneDeep(e.game.deck);e.game=null,firebase.set(firebase.ref(t,`game/${e.user.uid}`),null);for(let r of Object.keys(n))for(let o of n[r]){if(!o.id)continue;const s=`${r}/${o.id}/played/${e.user.uid}`,l=o.played+1;firebase.set(firebase.ref(t,s),l)}},setExpiration=()=>{const t=useStore();clearTimeout(t.smpTimer),setTimeout(()=>{t.showMarkPlayed=!0},t.game.setup.expires-new Date().getTime())},updateGame=t=>{const n=`game/${useStore().user.uid}`,r=firebase.getDatabase(),o=firebase.ref(r,n);firebase.set(o,t)},updateSettings=()=>{const t=useStore(),e=`userSettings/${t.user.uid}`,n=firebase.getDatabase(),r=firebase.ref(n,e);firebase.set(r,t.userSettings)},useStore=defineStore("store",{state:()=>({smpTimer:null,showMarkPlayed:!1,user:null,userLoaded:!1,snack:{visible:!1,color:"",text:""},expansionList:[],handlers:[],henchmen:[],heroes:[],keywords:[],masterminds:[],schemes:[],villains:[],game:null,display:{},gameLoaded:!1,userSettings:{usePlayedCount:!0,useEpics:!0,bgColors:{henchmen:"grey",heroes:"white",masterminds:"blue",schemes:"blue-grey",villains:"red"},textColors:{henchmen:"white",heroes:"black",masterminds:"white",schemes:"white",villains:"white"},enemiesLayout:["masterminds","villains","henchmen","schemes"]}}),actions:{getUniversalData,async getUserData(t){return getUserData(t)},setDisplay(){this.display=useDisplay()},remembered(t){remembered(t)},async logIn({email:t,password:e}){logIn(this,{email:t,password:e})},logOut(t){logOut(t)},buildDeck(t){buildDeck({numPlayers:t})},markPlayed,setExpiration(t){setExpiration()},updateGame(t){updateGame(t)},updateSettings}}),_export_sfc=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n},VApp$1="",VApp=defineComponent({name:"VApp",props:{...makeLayoutProps({fullHeight:!0}),...makeThemeProps()},setup(t,e){let{slots:n}=e;const r=provideTheme(t),{layoutClasses:o,layoutStyles:s,getLayoutItem:l,items:u,layoutRef:d}=createLayout(t),{rtlClasses:f}=useRtl();return useRender(()=>{var g;return createVNode("div",{ref:d,class:["v-application",r.themeClasses.value,o.value,f.value],style:s.value},[createVNode("div",{class:"v-application__wrap"},[(g=n.default)==null?void 0:g.call(n)])])}),{getLayoutItem:l,items:u,theme:r}}}),VMain$1="",makeTagProps=propsFactory({tag:{type:String,default:"div"}},"tag");function useSsrBoot(){const t=ref$1(!1);return onMounted(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:computed(()=>t.value?void 0:{transition:"none !important"}),isBooted:readonly(t)}}const VMain=defineComponent({name:"VMain",props:{scrollable:Boolean,...makeTagProps({tag:"main"})},setup(t,e){let{slots:n}=e;const{mainStyles:r}=useLayout(),{ssrBootStyles:o}=useSsrBoot();return useRender(()=>{var s,l;return createVNode(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable}],style:[r.value,o.value]},{default:()=>[t.scrollable?createVNode("div",{class:"v-main__scroller"},[(s=n.default)==null?void 0:s.call(n)]):(l=n.default)==null?void 0:l.call(n)]})}),{}}}),VSnackbar$1="",VDefaultsProvider=defineComponent$1({name:"VDefaultsProvider",props:{defaults:Object,reset:[Number,String],root:Boolean,scoped:Boolean},setup(t,e){let{slots:n}=e;const{defaults:r,reset:o,root:s,scoped:l}=toRefs(t);return provideDefaults(r,{reset:o,root:s,scoped:l}),()=>{var u;return(u=n.default)==null?void 0:u.call(n)}}}),VOverlay$1="",makeDelayProps=propsFactory({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function useDelay(t,e){const n={},r=o=>()=>{if(!IN_BROWSER)return Promise.resolve(!0);const s=o==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(l=>{var d;const u=parseInt((d=t[o])!=null?d:0,10);n[o]=window.setTimeout(()=>{e==null||e(s),l(s)},u)})};return{runCloseDelay:r("closeDelay"),runOpenDelay:r("openDelay")}}const VMenuSymbol=Symbol.for("vuetify:v-menu"),makeActivatorProps=propsFactory({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...makeDelayProps()},"v-overlay-activator");function useActivator(t,e){let{isActive:n,isTop:r}=e;const o=ref$1();let s=!1,l=!1,u=!0;const d=computed(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),f=computed(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!d.value),{runOpenDelay:g,runCloseDelay:v}=useDelay(t,w=>{w===(t.openOnHover&&s||d.value&&l)&&!(t.openOnHover&&n.value&&!r.value)&&(n.value!==w&&(u=!0),n.value=w)}),_={click:w=>{w.stopPropagation(),o.value=w.currentTarget||w.target,n.value=!n.value},mouseenter:w=>{s=!0,o.value=w.currentTarget||w.target,g()},mouseleave:w=>{s=!1,v()},focus:w=>{SUPPORTS_FOCUS_VISIBLE&&!w.target.matches(":focus-visible")||(l=!0,w.stopPropagation(),o.value=w.currentTarget||w.target,g())},blur:w=>{l=!1,w.stopPropagation(),v()}},b=computed(()=>{const w={};return f.value&&(w.click=_.click),t.openOnHover&&(w.mouseenter=_.mouseenter,w.mouseleave=_.mouseleave),d.value&&(w.focus=_.focus,w.blur=_.blur),w}),C=computed(()=>{const w={};if(t.openOnHover&&(w.mouseenter=()=>{s=!0,g()},w.mouseleave=()=>{s=!1,v()}),t.closeOnContentClick){const N=inject$1(VMenuSymbol,null);w.click=()=>{n.value=!1,N==null||N.closeParents()}}return w}),S=computed(()=>{const w={};return t.openOnHover&&(w.mouseenter=()=>{u&&(s=!0,u=!1,g())},w.mouseleave=()=>{s=!1,v()}),w});watch(r,w=>{w&&(t.openOnHover&&!s&&(!d.value||!l)||d.value&&!l&&(!t.openOnHover||!s))&&(n.value=!1)});const A=ref$1();watchEffect(()=>{!A.value||nextTick(()=>{const w=A.value;o.value=isComponentInstance(w)?w.$el:w})});const R=getCurrentInstance("useActivator");let I;return watch(()=>!!t.activator,w=>{w&&IN_BROWSER?(I=effectScope(),I.run(()=>{_useActivator(t,R,{activatorEl:o,activatorEvents:b})})):I&&I.stop()},{flush:"post",immediate:!0}),{activatorEl:o,activatorRef:A,activatorEvents:b,contentEvents:C,scrimEvents:S}}function _useActivator(t,e,n){let{activatorEl:r,activatorEvents:o}=n;watch(()=>t.activator,(d,f)=>{if(f&&d!==f){const g=u(f);g&&l(g)}d&&nextTick(()=>s())},{immediate:!0}),watch(()=>t.activatorProps,()=>{s()}),onScopeDispose(()=>{l()});function s(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;!d||(Object.entries(o.value).forEach(g=>{let[v,_]=g;d.addEventListener(v,_)}),Object.keys(f).forEach(g=>{f[g]==null?d.removeAttribute(g):d.setAttribute(g,f[g])}))}function l(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;!d||(Object.entries(o.value).forEach(g=>{let[v,_]=g;d.removeEventListener(v,_)}),Object.keys(f).forEach(g=>{d.removeAttribute(g)}))}function u(){var d;let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator,g;if(f)if(f==="parent"){var v,_;let b=e==null||(v=e.proxy)==null||(_=v.$el)==null?void 0:_.parentNode;for(;b.hasAttribute("data-no-activator");)b=b.parentNode;g=b}else typeof f=="string"?g=document.querySelector(f):"$el"in f?g=f.$el:g=f;return r.value=((d=g)==null?void 0:d.nodeType)===Node.ELEMENT_NODE?g:null,r.value}}const makeDimensionProps=propsFactory({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function useDimension(t){return{dimensionStyles:computed(()=>({height:convertToUnit(t.height),maxHeight:convertToUnit(t.maxHeight),maxWidth:convertToUnit(t.maxWidth),minHeight:convertToUnit(t.minHeight),minWidth:convertToUnit(t.minWidth),width:convertToUnit(t.width)}))}}const makeLazyProps=propsFactory({eager:Boolean},"lazy");function useLazy(t,e){const n=ref$1(!1),r=computed(()=>n.value||t.eager||e.value);watch(e,()=>n.value=!0);function o(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:o}}function elementToViewport(t,e){return{x:t.x+e.x,y:t.y+e.y}}function getOffset$1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function anchorToPoint(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:r}=t,o=r==="left"?0:r==="center"?e.width/2:r==="right"?e.width:r,s=n==="top"?0:n==="bottom"?e.height:n;return elementToViewport({x:o,y:s},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:r}=t,o=n==="left"?0:n==="right"?e.width:n,s=r==="top"?0:r==="center"?e.height/2:r==="bottom"?e.height:r;return elementToViewport({x:o,y:s},e)}return elementToViewport({x:e.width/2,y:e.height/2},e)}const locationStrategies={static:staticLocationStrategy,connected:connectedLocationStrategy},makeLocationStrategyProps=propsFactory({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in locationStrategies},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"v-overlay-location-strategies");function useLocationStrategies(t,e){const n=ref$1({}),r=ref$1();let o;watchEffect(async()=>{var l;(l=o)==null||l.stop(),r.value=void 0,IN_BROWSER&&e.isActive.value&&t.locationStrategy&&(o=effectScope(),await nextTick(),o.run(()=>{if(typeof t.locationStrategy=="function"){var u;r.value=(u=t.locationStrategy(e,t,n))==null?void 0:u.updateLocation}else{var d;r.value=(d=locationStrategies[t.locationStrategy](e,t,n))==null?void 0:d.updateLocation}}))}),IN_BROWSER&&window.addEventListener("resize",s,{passive:!0}),onScopeDispose(()=>{var l;IN_BROWSER&&window.removeEventListener("resize",s),r.value=void 0,(l=o)==null||l.stop()});function s(l){var u;(u=r.value)==null||u.call(r,l)}return{contentStyles:n,updateLocation:r}}function staticLocationStrategy(){}function getIntrinsicSize(t){const e=nullifyTransforms(t);return e.x-=parseFloat(t.style.left||0),e.y-=parseFloat(t.style.top||0),e}function connectedLocationStrategy(t,e,n){const r=isFixedPosition(t.activatorEl.value);r&&Object.assign(n.value,{position:"fixed"});const{preferredAnchor:o,preferredOrigin:s}=destructComputed(()=>{const C=parseAnchor(e.location,t.isRtl.value),S=e.origin==="overlap"?C:e.origin==="auto"?flipSide(C):parseAnchor(e.origin,t.isRtl.value);return C.side===S.side&&C.align===flipAlign(S).align?{preferredAnchor:flipCorner(C),preferredOrigin:flipCorner(S)}:{preferredAnchor:C,preferredOrigin:S}}),[l,u,d,f]=["minWidth","minHeight","maxWidth","maxHeight"].map(C=>computed(()=>{const S=parseFloat(e[C]);return isNaN(S)?1/0:S})),g=computed(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const C=e.offset.split(" ").map(parseFloat);return C.length<2&&C.push(0),C}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let v=!1;const _=new ResizeObserver(()=>{v&&b()});watch([t.activatorEl,t.contentEl],(C,S)=>{let[A,R]=C,[I,w]=S;I&&_.unobserve(I),A&&_.observe(A),w&&_.unobserve(w),R&&_.observe(R)},{immediate:!0}),onScopeDispose(()=>{_.disconnect()});function b(){if(v=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>v=!0)}),!t.activatorEl.value||!t.contentEl.value)return;const C=t.activatorEl.value.getBoundingClientRect(),S=getIntrinsicSize(t.contentEl.value),A=getScrollParents(t.contentEl.value),R=12;A.length||(A.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(S.x+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),S.y+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const I=A.reduce((K,H)=>{const J=H.getBoundingClientRect(),q=new Box({x:H===document.documentElement?0:J.x,y:H===document.documentElement?0:J.y,width:H.clientWidth,height:H.clientHeight});return K?new Box({x:Math.max(K.left,q.left),y:Math.max(K.top,q.top),width:Math.min(K.right,q.right)-Math.max(K.left,q.left),height:Math.min(K.bottom,q.bottom)-Math.max(K.top,q.top)}):q},void 0);I.x+=R,I.y+=R,I.width-=R*2,I.height-=R*2;let w={anchor:o.value,origin:s.value};function N(K){const H=new Box(S),J=anchorToPoint(K.anchor,C),q=anchorToPoint(K.origin,H);let{x:ce,y:te}=getOffset$1(J,q);switch(K.anchor.side){case"top":te-=g.value[0];break;case"bottom":te+=g.value[0];break;case"left":ce-=g.value[0];break;case"right":ce+=g.value[0];break}switch(K.anchor.align){case"top":te-=g.value[1];break;case"bottom":te+=g.value[1];break;case"left":ce-=g.value[1];break;case"right":ce+=g.value[1];break}return H.x+=ce,H.y+=te,H.width=Math.min(H.width,d.value),H.height=Math.min(H.height,f.value),{overflows:getOverflow(H,I),x:ce,y:te}}let O=0,D=0;const V={x:0,y:0},L={x:!1,y:!1};let W=-1;for(;;){if(W++>10){consoleError("Infinite loop detected in connectedLocationStrategy");break}const{x:K,y:H,overflows:J}=N(w);O+=K,D+=H,S.x+=K,S.y+=H;{const q=getAxis(w.anchor),ce=J.x.before||J.x.after,te=J.y.before||J.y.after;let Q=!1;if(["x","y"].forEach(de=>{if(de==="x"&&ce&&!L.x||de==="y"&&te&&!L.y){const Oe={anchor:{...w.anchor},origin:{...w.origin}},_e=de==="x"?q==="y"?flipAlign:flipSide:q==="y"?flipSide:flipAlign;Oe.anchor=_e(Oe.anchor),Oe.origin=_e(Oe.origin);const{overflows:Ce}=N(Oe);(Ce[de].before<=J[de].before&&Ce[de].after<=J[de].after||Ce[de].before+Ce[de].after<(J[de].before+J[de].after)/2)&&(w=Oe,Q=L[de]=!0)}}),Q)continue}J.x.before&&(O+=J.x.before,S.x+=J.x.before),J.x.after&&(O-=J.x.after,S.x-=J.x.after),J.y.before&&(D+=J.y.before,S.y+=J.y.before),J.y.after&&(D-=J.y.after,S.y-=J.y.after);{const q=getOverflow(S,I);V.x=I.width-q.x.before-q.x.after,V.y=I.height-q.y.before-q.y.after,O+=q.x.before,S.x+=q.x.before,D+=q.y.before,S.y+=q.y.before}break}const U=getAxis(w.anchor);Object.assign(n.value,{"--v-overlay-anchor-origin":`${w.anchor.side} ${w.anchor.align}`,transformOrigin:`${w.origin.side} ${w.origin.align}`,top:convertToUnit(pixelRound(D)),left:convertToUnit(pixelRound(O)),minWidth:convertToUnit(U==="y"?Math.min(l.value,C.width):l.value),maxWidth:convertToUnit(pixelCeil(clamp(V.x,l.value===1/0?0:l.value,d.value))),maxHeight:convertToUnit(pixelCeil(clamp(V.y,u.value===1/0?0:u.value,f.value)))})}return watch(()=>[o.value,s.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>b(),{immediate:!r}),r&&nextTick(()=>b()),requestAnimationFrame(()=>{n.value.maxHeight&&b()}),{updateLocation:b}}function pixelRound(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function pixelCeil(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let clean=!0;const frames=[];function requestNewFrame(t){!clean||frames.length?(frames.push(t),run()):(clean=!1,t(),run())}let raf=-1;function run(){cancelAnimationFrame(raf),raf=requestAnimationFrame(()=>{const t=frames.shift();t&&t(),frames.length?run():clean=!0})}const scrollStrategies={none:null,close:closeScrollStrategy,block:blockScrollStrategy,reposition:repositionScrollStrategy},makeScrollStrategyProps=propsFactory({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in scrollStrategies}},"v-overlay-scroll-strategies");function useScrollStrategies(t,e){if(!IN_BROWSER)return;let n;watchEffect(async()=>{var r;(r=n)==null||r.stop(),e.isActive.value&&t.scrollStrategy&&(n=effectScope(),await nextTick(),n.run(()=>{if(typeof t.scrollStrategy=="function")t.scrollStrategy(e,t);else{var o;(o=scrollStrategies[t.scrollStrategy])==null||o.call(scrollStrategies,e,t)}}))})}function closeScrollStrategy(t){var n;function e(r){t.isActive.value=!1}bindScroll((n=t.activatorEl.value)!=null?n:t.contentEl.value,e)}function blockScrollStrategy(t,e){var n;const r=(n=t.root.value)==null?void 0:n.offsetParent,o=[...new Set([...getScrollParents(t.activatorEl.value,e.contained?r:void 0),...getScrollParents(t.contentEl.value,e.contained?r:void 0)])].filter(u=>!u.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,l=(u=>hasScrollbar(u)&&u)(r||document.documentElement);l&&t.root.value.classList.add("v-overlay--scroll-blocked"),o.forEach((u,d)=>{u.style.setProperty("--v-body-scroll-x",convertToUnit(-u.scrollLeft)),u.style.setProperty("--v-body-scroll-y",convertToUnit(-u.scrollTop)),u.style.setProperty("--v-scrollbar-offset",convertToUnit(s)),u.classList.add("v-overlay-scroll-blocked")}),onScopeDispose(()=>{o.forEach((u,d)=>{const f=parseFloat(u.style.getPropertyValue("--v-body-scroll-x")),g=parseFloat(u.style.getPropertyValue("--v-body-scroll-y"));u.style.removeProperty("--v-body-scroll-x"),u.style.removeProperty("--v-body-scroll-y"),u.style.removeProperty("--v-scrollbar-offset"),u.classList.remove("v-overlay-scroll-blocked"),u.scrollLeft=-f,u.scrollTop=-g}),l&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function repositionScrollStrategy(t){var o;let e=!1,n=-1;function r(s){requestNewFrame(()=>{var l,u;const d=performance.now();(l=(u=t.updateLocation).value)==null||l.call(u,s),e=(performance.now()-d)/(1e3/60)>2})}bindScroll((o=t.activatorEl.value)!=null?o:t.contentEl.value,s=>{e?(cancelAnimationFrame(n),n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{r(s)})})):r(s)})}function bindScroll(t,e){const n=[document,...getScrollParents(t)];n.forEach(r=>{r.addEventListener("scroll",e,{passive:!0})}),onScopeDispose(()=>{n.forEach(r=>{r.removeEventListener("scroll",e)})})}const makeTransitionProps=propsFactory({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),MaybeTransition=(t,e)=>{let{slots:n}=e;const{transition:r,...o}=t,{component:s=Transition,...l}=typeof r=="object"?r:{};return h(s,mergeProps(typeof r=="string"?{name:r}:l,o),n)};function useRouter(){var t,e;return(t=getCurrentInstance("useRouter"))==null||(e=t.proxy)==null?void 0:e.$router}function useLink$1(t,e){const n=resolveDynamicComponent("RouterLink"),r=computed(()=>!!(t.href||t.to)),o=computed(()=>(r==null?void 0:r.value)||hasEvent(e,"click")||hasEvent(t,"click"));if(typeof n=="string")return{isLink:r,isClickable:o,href:toRef(t,"href")};const s=t.to?n.useLink(t):void 0;return{isLink:r,isClickable:o,route:s==null?void 0:s.route,navigate:s==null?void 0:s.navigate,isActive:s&&computed(()=>{var l,u;return t.exact?(l=s.isExactActive)==null?void 0:l.value:(u=s.isActive)==null?void 0:u.value}),href:computed(()=>t.to?s==null?void 0:s.route.value.href:t.href)}}const makeRouterProps=propsFactory({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let inTransition=!1;function useBackButton(t,e){let n=!1,r,o;IN_BROWSER&&(nextTick(()=>{window.addEventListener("popstate",s),r=t==null?void 0:t.beforeEach((l,u,d)=>{inTransition?n?e(d):d():setTimeout(()=>n?e(d):d()),inTransition=!0}),o=t==null?void 0:t.afterEach(()=>{inTransition=!1})}),onScopeDispose(()=>{var l,u;window.removeEventListener("popstate",s),(l=r)==null||l(),(u=o)==null||u()}));function s(l){var u;(u=l.state)!=null&&u.replaced||(n=!0,setTimeout(()=>n=!1))}}function useColor(t){return destructComputed(()=>{const e=[],n={};return t.value.background&&(isCssColor(t.value.background)?n.backgroundColor=t.value.background:e.push(`bg-${t.value.background}`)),t.value.text&&(isCssColor(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function useTextColor(t,e){const n=computed(()=>({text:isRef(t)?t.value:e?t[e]:null})),{colorClasses:r,colorStyles:o}=useColor(n);return{textColorClasses:r,textColorStyles:o}}function useBackgroundColor(t,e){const n=computed(()=>({background:isRef(t)?t.value:e?t[e]:null})),{colorClasses:r,colorStyles:o}=useColor(n);return{backgroundColorClasses:r,backgroundColorStyles:o}}function useHydration(){var t,e,n;if(!IN_BROWSER)return ref$1(!1);const r=getCurrentInstance("useHydration"),o=r==null||(t=r.root)==null||(e=t.appContext)==null||(n=e.app)==null?void 0:n._container,s=ref$1(!!(o!=null&&o.__vue_app__));return s.value||onMounted(()=>s.value=!0),s}const StackSymbol=Symbol.for("vuetify:stack"),globalStack=reactive([]);function useStack(t,e){const n=getCurrentInstance("useStack"),r=inject$1(StackSymbol,void 0),o=reactive({activeChildren:new Set});provide(StackSymbol,o);const s=ref$1(+e.value);useToggleScope(t,()=>{var d;const f=(d=globalStack.at(-1))==null?void 0:d[1];s.value=f?f+10:+e.value,globalStack.push([n.uid,s.value]),r==null||r.activeChildren.add(n.uid),onScopeDispose(()=>{const g=globalStack.findIndex(v=>v[0]===n.uid);globalStack.splice(g,1),r==null||r.activeChildren.delete(n.uid)})});const l=ref$1(!0);watchEffect(()=>{var d;const f=((d=globalStack.at(-1))==null?void 0:d[0])===n.uid;setTimeout(()=>l.value=f)});const u=computed(()=>!o.activeChildren.size);return{globalTop:readonly(l),localTop:u,stackStyles:computed(()=>({zIndex:s.value}))}}function useTeleport(t){return{teleportTarget:computed(()=>{const n=t.value;if(n===!0||!IN_BROWSER)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r!=null){if(!useTeleport.cache.has(r)){const o=document.createElement("div");o.className="v-overlay-container",r.appendChild(o),useTeleport.cache.set(r,o)}return useTeleport.cache.get(r)}})}}useTeleport.cache=new WeakMap;function defaultConditional(){return!0}function checkEvent(t,e,n){if(!t||checkIsActive(t,n)===!1)return!1;const r=attachedRoot(e);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===t.target)return!1;const o=(typeof n.value=="object"&&n.value.include||(()=>[]))();return o.push(e),!o.some(s=>s==null?void 0:s.contains(t.target))}function checkIsActive(t,e){return(typeof e.value=="object"&&e.value.closeConditional||defaultConditional)(t)}function directive(t,e,n){const r=typeof n.value=="function"?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&checkEvent(t,e,n)&&setTimeout(()=>{checkIsActive(t,n)&&r&&r(t)},0)}function handleShadow(t,e){const n=attachedRoot(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const ClickOutside={mounted(t,e){const n=o=>directive(o,t,e),r=o=>{t._clickOutside.lastMousedownWasOutside=checkEvent(o,t,e)};handleShadow(t,o=>{o.addEventListener("click",n,!0),o.addEventListener("mousedown",r,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!0}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(t,e){!t._clickOutside||(handleShadow(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:o,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",o,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function Scrim(t){const{modelValue:e,color:n,...r}=t;return createVNode(Transition,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&createVNode("div",mergeProps({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},r),null)]})}const makeVOverlayProps=propsFactory({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...makeActivatorProps(),...makeDimensionProps(),...makeLazyProps(),...makeLocationStrategyProps(),...makeScrollStrategyProps(),...makeThemeProps(),...makeTransitionProps()},"v-overlay"),VOverlay=genericComponent()({name:"VOverlay",directives:{ClickOutside},inheritAttrs:!1,props:makeVOverlayProps(),emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:r,emit:o}=e;const s=useProxiedModel(t,"modelValue"),l=computed({get:()=>s.value,set:de=>{de&&t.disabled||(s.value=de)}}),{teleportTarget:u}=useTeleport(computed(()=>t.attach||t.contained)),{themeClasses:d}=provideTheme(t),{rtlClasses:f,isRtl:g}=useRtl(),{hasContent:v,onAfterLeave:_}=useLazy(t,l),b=useBackgroundColor(computed(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:C,localTop:S,stackStyles:A}=useStack(l,toRef(t,"zIndex")),{activatorEl:R,activatorRef:I,activatorEvents:w,contentEvents:N,scrimEvents:O}=useActivator(t,{isActive:l,isTop:S}),{dimensionStyles:D}=useDimension(t),V=useHydration();watch(()=>t.disabled,de=>{de&&(l.value=!1)});const L=ref$1(),W=ref$1(),{contentStyles:U,updateLocation:K}=useLocationStrategies(t,{isRtl:g,contentEl:W,activatorEl:R,isActive:l});useScrollStrategies(t,{root:L,contentEl:W,activatorEl:R,isActive:l,updateLocation:K});function H(de){o("click:outside",de),t.persistent?Q():l.value=!1}function J(){return l.value&&C.value}IN_BROWSER&&watch(l,de=>{de?window.addEventListener("keydown",q):window.removeEventListener("keydown",q)},{immediate:!0});function q(de){de.key==="Escape"&&C.value&&(t.persistent?Q():l.value=!1)}const ce=useRouter();useToggleScope(()=>t.closeOnBack,()=>{useBackButton(ce,de=>{C.value&&l.value?(de(!1),t.persistent?Q():l.value=!1):de()})});const te=ref$1();watch(()=>l.value&&(t.absolute||t.contained)&&u.value==null,de=>{if(de){const Oe=getScrollParent(L.value);Oe&&Oe!==document.scrollingElement&&(te.value=Oe.scrollTop)}});function Q(){t.noClickAnimation||W.value&&animate(W.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:standardEasing})}return useRender(()=>{var de,Oe;return createVNode(Fragment,null,[(de=n.activator)==null?void 0:de.call(n,{isActive:l.value,props:mergeProps({ref:I},toHandlers(w.value),t.activatorProps)}),V.value&&createVNode(Teleport,{disabled:!u.value,to:u.value},{default:()=>[v.value&&createVNode("div",mergeProps({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":l.value,"v-overlay--contained":t.contained},d.value,f.value],style:[A.value,{top:convertToUnit(te.value)}],ref:L},r),[createVNode(Scrim,mergeProps({color:b,modelValue:l.value&&!!t.scrim},toHandlers(O.value)),null),createVNode(MaybeTransition,{appear:!0,persisted:!0,transition:t.transition,target:R.value,onAfterLeave:()=>{_(),o("afterLeave")}},{default:()=>[withDirectives(createVNode("div",mergeProps({ref:W,class:["v-overlay__content",t.contentClass],style:[D.value,U.value]},toHandlers(N.value),t.contentProps),[(Oe=n.default)==null?void 0:Oe.call(n,{isActive:l})]),[[vShow,l.value],[resolveDirective("click-outside"),{handler:H,closeConditional:J,include:()=>[R.value]}]])]})])]})])}),{activatorEl:R,animateClick:Q,contentEl:W,globalTop:C,localTop:S,updateLocation:K}}});function filterVOverlayProps(t){return pick(t,Object.keys(VOverlay.props))}const allowedVariants$2=["elevated","flat","tonal","outlined","text","plain"];function genOverlays(t,e){return createVNode(Fragment,null,[t&&createVNode("span",{key:"overlay",class:`${e}__overlay`},null),createVNode("span",{key:"underlay",class:`${e}__underlay`},null)])}const makeVariantProps=propsFactory({color:String,variant:{type:String,default:"elevated",validator:t=>allowedVariants$2.includes(t)}},"variant");function useVariant(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const n=computed(()=>{const{variant:s}=unref(t);return`${e}--variant-${s}`}),{colorClasses:r,colorStyles:o}=useColor(computed(()=>{const{variant:s,color:l}=unref(t);return{[["elevated","flat"].includes(s)?"background":"text"]:l}}));return{colorClasses:r,colorStyles:o,variantClasses:n}}const oppositeMap={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},makeLocationProps=propsFactory({location:String},"location");function useLocation(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=useRtl();return{locationStyles:computed(()=>{if(!t.location)return{};const{side:s,align:l}=parseAnchor(t.location.split(" ").length>1?t.location:`${t.location} center`,r.value);function u(f){return n?n(f):0}const d={};return s!=="center"&&(e?d[oppositeMap[s]]=`calc(100% - ${u(s)}px)`:d[s]=0),l!=="center"?e?d[oppositeMap[l]]=`calc(100% - ${u(l)}px)`:d[l]=0:(s==="center"?d.top=d.left="50%":d[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",d.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),d})}}const positionValues=["static","relative","fixed","absolute","sticky"],makePositionProps=propsFactory({position:{type:String,validator:t=>positionValues.includes(t)}},"position");function usePosition(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{positionClasses:computed(()=>t.position?`${e}--${t.position}`:void 0)}}const makeRoundedProps=propsFactory({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function useRounded(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{roundedClasses:computed(()=>{const r=isRef(t)?t.value:t.rounded,o=[];if(r===!0||r==="")o.push(`${e}--rounded`);else if(typeof r=="string"||r===0)for(const s of String(r).split(" "))o.push(`rounded-${s}`);return o})}}function useScopeId(){const e=getCurrentInstance("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const Refs=Symbol("Forwarded refs");function forwardRefs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t[Refs]=n,new Proxy(t,{get(o,s){if(Reflect.has(o,s))return Reflect.get(o,s);for(const l of n)if(l.value&&Reflect.has(l.value,s)){const u=Reflect.get(l.value,s);return typeof u=="function"?u.bind(l.value):u}},getOwnPropertyDescriptor(o,s){const l=Reflect.getOwnPropertyDescriptor(o,s);if(l)return l;if(!(typeof s=="symbol"||s.startsWith("__"))){for(const u of n){if(!u.value)continue;const d=Reflect.getOwnPropertyDescriptor(u.value,s);if(d)return d;if("_"in u.value&&"setupState"in u.value._){const f=Reflect.getOwnPropertyDescriptor(u.value._.setupState,s);if(f)return f}}for(const u of n){let d=u.value&&Object.getPrototypeOf(u.value);for(;d;){const f=Reflect.getOwnPropertyDescriptor(d,s);if(f)return f;d=Object.getPrototypeOf(d)}}for(const u of n){const d=u.value&&u.value[Refs];if(!d)continue;const f=d.slice();for(;f.length;){const g=f.shift(),v=Reflect.getOwnPropertyDescriptor(g.value,s);if(v)return v;const _=g.value&&g.value[Refs];_&&f.push(..._)}}}}})}const VSnackbar=genericComponent()({name:"VSnackbar",props:{multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...makeLocationProps({location:"bottom"}),...makePositionProps(),...makeRoundedProps(),...makeVariantProps(),...omit(makeVOverlayProps({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),{locationStyles:o}=useLocation(t),{positionClasses:s}=usePosition(t),{scopeId:l}=useScopeId(),{colorClasses:u,colorStyles:d,variantClasses:f}=useVariant(t),{roundedClasses:g}=useRounded(t),v=ref$1();watch(r,b),watch(()=>t.timeout,b),onMounted(()=>{r.value&&b()});let _=-1;function b(){window.clearTimeout(_);const S=Number(t.timeout);!r.value||S===-1||(_=window.setTimeout(()=>{r.value=!1},S))}function C(){window.clearTimeout(_)}return useRender(()=>{const[S]=filterVOverlayProps(t);return createVNode(VOverlay,mergeProps({ref:v,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--vertical":t.vertical},s.value]},S,{modelValue:r.value,"onUpdate:modelValue":A=>r.value=A,contentProps:mergeProps({style:o.value},S.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none"},l),{default:()=>[createVNode("div",{class:["v-snackbar__wrapper",u.value,g.value,f.value],style:[d.value],onPointerenter:C,onPointerleave:b},[genOverlays(!1,"v-snackbar"),n.default&&createVNode("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.default()]),n.actions&&createVNode(VDefaultsProvider,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[createVNode("div",{class:"v-snackbar__actions"},[n.actions()])]})])],activator:n.activator})}),forwardRefs({},v)}}),_sfc_main$c={computed:{...mapState(useStore,["user","userLoaded","display","snack"])},methods:{...mapActions(useStore,["remembered","setDisplay"])},mounted(){this.setDisplay(),!this.user&&!this.userLoaded&&this.remembered(this.$router)}};function _sfc_render$c(t,e,n,r,o,s){const l=resolveComponent("router-view");return openBlock(),createBlock(VApp,null,{default:withCtx(()=>[createVNode(VMain,null,{default:withCtx(()=>[t.userLoaded?(openBlock(),createBlock(l,{key:0})):createCommentVNode("",!0)]),_:1}),createVNode(VSnackbar,{modelValue:t.snack.visible,"onUpdate:modelValue":e[0]||(e[0]=u=>t.snack.visible=u),color:t.snack.color},{default:withCtx(()=>[createTextVNode(toDisplayString(t.snack.text),1)]),_:1},8,["modelValue","color"])]),_:1})}const App=_export_sfc(_sfc_main$c,[["render",_sfc_render$c]]),scriptRel="modulepreload",assetsURL=function(t){return"/"+t},seen={},__vitePreload=function t(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=assetsURL(s),s in seen)return;seen[s]=!0;const l=s.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!r)for(let g=o.length-1;g>=0;g--){const v=o[g];if(v.href===s&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":scriptRel,l||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),l)return new Promise((g,v)=>{f.addEventListener("load",g),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};async function loadFonts(){(await __vitePreload(()=>import("./webfontloader.b777d690.js").then(e=>e.w),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}const materialdesignicons="",main="",vuetify=createVuetify({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});function registerPlugins(t){loadFonts(),t.use(vuetify)}/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const hasSymbol=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",PolySymbol=t=>hasSymbol?Symbol(t):"_vr_"+t,matchedRouteKey=PolySymbol("rvlm"),viewDepthKey=PolySymbol("rvd"),routerKey=PolySymbol("r"),routeLocationKey=PolySymbol("rl"),routerViewLocationKey=PolySymbol("rvl"),isBrowser=typeof window<"u";function isESModule(t){return t.__esModule||hasSymbol&&t[Symbol.toStringTag]==="Module"}const assign$2=Object.assign;function applyToParams(t,e){const n={};for(const r in e){const o=e[r];n[r]=Array.isArray(o)?o.map(t):t(o)}return n}const noop=()=>{},TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,n="/"){let r,o={},s="",l="";const u=e.indexOf("?"),d=e.indexOf("#",u>-1?u:0);return u>-1&&(r=e.slice(0,u),s=e.slice(u+1,d>-1?d:e.length),o=t(s)),d>-1&&(r=r||e.slice(0,d),l=e.slice(d,e.length)),r=resolveRelativePath(r!=null?r:e,n),{fullPath:r+(s&&"?")+s+l,path:r,query:o,hash:l}}function stringifyURL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,n){const r=e.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&isSameRouteRecord(e.matched[r],n.matched[o])&&isSameRouteLocationParams(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!isSameRouteLocationParamsValue(t[n],e[n]))return!1;return!0}function isSameRouteLocationParamsValue(t,e){return Array.isArray(t)?isEquivalentArray(t,e):Array.isArray(e)?isEquivalentArray(e,t):t===e}function isEquivalentArray(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let o=n.length-1,s,l;for(s=0;s<r.length;s++)if(l=r[s],!(o===1||l==="."))if(l==="..")o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=getElementPosition(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,e){const{pathname:n,search:r,hash:o}=e,s=t.indexOf("#");if(s>-1){let u=o.includes(t.slice(s))?t.slice(s).length:1,d=o.slice(u);return d[0]!=="/"&&(d="/"+d),stripBase(d,"")}return stripBase(n,t)+r+o}function useHistoryListeners(t,e,n,r){let o=[],s=[],l=null;const u=({state:_})=>{const b=createCurrentLocation(t,location),C=n.value,S=e.value;let A=0;if(_){if(n.value=b,e.value=_,l&&l===C){l=null;return}A=S?_.position-S.position:0}else r(b);o.forEach(R=>{R(n.value,C,{delta:A,type:NavigationType.pop,direction:A?A>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function d(){l=n.value}function f(_){o.push(_);const b=()=>{const C=o.indexOf(_);C>-1&&o.splice(C,1)};return s.push(b),b}function g(){const{history:_}=window;!_.state||_.replaceState(assign$2({},_.state,{scroll:computeScrollPosition()}),"")}function v(){for(const _ of s)_();s=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",g),{pauseListeners:d,listen:f,destroy:v}}function buildState(t,e,n,r=!1,o=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:o?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:n}=window,r={value:createCurrentLocation(t,n)},o={value:e.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(d,f,g){const v=t.indexOf("#"),_=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+d:createBaseLocation()+t+d;try{e[g?"replaceState":"pushState"](f,"",_),o.value=f}catch(b){console.error(b),n[g?"replace":"assign"](_)}}function l(d,f){const g=assign$2({},e.state,buildState(o.value.back,d,o.value.forward,!0),f,{position:o.value.position});s(d,g,!0),r.value=d}function u(d,f){const g=assign$2({},o.value,e.state,{forward:d,scroll:computeScrollPosition()});s(g.current,g,!0);const v=assign$2({},buildState(r.value,d,null),{position:g.position+1},f);s(d,v,!1),r.value=d}return{location:r,state:o,push:u,replace:l}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),n=useHistoryListeners(t,e.state,e.location,e.replace);function r(s,l=!0){l||n.pauseListeners(),history.go(s)}const o=assign$2({location:"",base:t,go:r,createHref:createHref.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=PolySymbol("nf");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,e){return assign$2(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const n=assign$2({},BASE_PATH_PARSER_OPTIONS,e),r=[];let o=n.start?"^":"";const s=[];for(const f of t){const g=f.length?[]:[90];n.strict&&!f.length&&(o+="/");for(let v=0;v<f.length;v++){const _=f[v];let b=40+(n.sensitive?.25:0);if(_.type===0)v||(o+="/"),o+=_.value.replace(REGEX_CHARS_RE,"\\$&"),b+=40;else if(_.type===1){const{value:C,repeatable:S,optional:A,regexp:R}=_;s.push({name:C,repeatable:S,optional:A});const I=R||BASE_PARAM_PATTERN;if(I!==BASE_PARAM_PATTERN){b+=10;try{new RegExp(`(${I})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${C}" (${I}): `+N.message)}}let w=S?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;v||(w=A&&f.length<2?`(?:/${w})`:"/"+w),A&&(w+="?"),o+=w,b+=20,A&&(b+=-8),S&&(b+=-20),I===".*"&&(b+=-50)}g.push(b)}r.push(g)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const l=new RegExp(o,n.sensitive?"":"i");function u(f){const g=f.match(l),v={};if(!g)return null;for(let _=1;_<g.length;_++){const b=g[_]||"",C=s[_-1];v[C.name]=b&&C.repeatable?b.split("/"):b}return v}function d(f){let g="",v=!1;for(const _ of t){(!v||!g.endsWith("/"))&&(g+="/"),v=!1;for(const b of _)if(b.type===0)g+=b.value;else if(b.type===1){const{value:C,repeatable:S,optional:A}=b,R=C in f?f[C]:"";if(Array.isArray(R)&&!S)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const I=Array.isArray(R)?R.join("/"):R;if(!I)if(A)_.length<2&&(g.endsWith("/")?g=g.slice(0,-1):v=!0);else throw new Error(`Missing required param "${C}"`);g+=I}}return g}return{re:l,score:r,keys:s,parse:u,stringify:d}}function compareScoreArray(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(t,e){let n=0;const r=t.score,o=e.score;for(;n<r.length&&n<o.length;){const s=compareScoreArray(r[n],o[n]);if(s)return s;n++}return o.length-r.length}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${f}": ${b}`)}let n=0,r=n;const o=[];let s;function l(){s&&o.push(s),s=[]}let u=0,d,f="",g="";function v(){!f||(n===0?s.push({type:0,value:f}):n===1||n===2||n===3?(s.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:f,regexp:g,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),f="")}function _(){f+=d}for(;u<t.length;){if(d=t[u++],d==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:d==="/"?(f&&v(),l()):d===":"?(v(),n=1):_();break;case 4:_(),n=r;break;case 1:d==="("?n=2:VALID_PARAM_RE.test(d)?_():(v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&u--);break;case 2:d===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+d:n=3:g+=d;break;case 3:v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&u--,g="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),l(),o}function createRouteRecordMatcher(t,e,n){const r=tokensToParser(tokenizePath(t.path),n),o=assign$2(r,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function createRouterMatcher(t,e){const n=[],r=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function o(g){return r.get(g)}function s(g,v,_){const b=!_,C=normalizeRouteRecord(g);C.aliasOf=_&&_.record;const S=mergeOptions(e,g),A=[C];if("alias"in g){const w=typeof g.alias=="string"?[g.alias]:g.alias;for(const N of w)A.push(assign$2({},C,{components:_?_.record.components:C.components,path:N,aliasOf:_?_.record:C}))}let R,I;for(const w of A){const{path:N}=w;if(v&&N[0]!=="/"){const O=v.record.path,D=O[O.length-1]==="/"?"":"/";w.path=v.record.path+(N&&D+N)}if(R=createRouteRecordMatcher(w,v,S),_?_.alias.push(R):(I=I||R,I!==R&&I.alias.push(R),b&&g.name&&!isAliasRecord(R)&&l(g.name)),"children"in C){const O=C.children;for(let D=0;D<O.length;D++)s(O[D],R,_&&_.children[D])}_=_||R,d(R)}return I?()=>{l(I)}:noop}function l(g){if(isRouteName(g)){const v=r.get(g);v&&(r.delete(g),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(g);v>-1&&(n.splice(v,1),g.record.name&&r.delete(g.record.name),g.children.forEach(l),g.alias.forEach(l))}}function u(){return n}function d(g){let v=0;for(;v<n.length&&comparePathParserScore(g,n[v])>=0&&(g.record.path!==n[v].record.path||!isRecordChildOf(g,n[v]));)v++;n.splice(v,0,g),g.record.name&&!isAliasRecord(g)&&r.set(g.record.name,g)}function f(g,v){let _,b={},C,S;if("name"in g&&g.name){if(_=r.get(g.name),!_)throw createRouterError(1,{location:g});S=_.record.name,b=assign$2(paramsFromLocation(v.params,_.keys.filter(I=>!I.optional).map(I=>I.name)),g.params),C=_.stringify(b)}else if("path"in g)C=g.path,_=n.find(I=>I.re.test(C)),_&&(b=_.parse(C),S=_.record.name);else{if(_=v.name?r.get(v.name):n.find(I=>I.re.test(v.path)),!_)throw createRouterError(1,{location:g,currentLocation:v});S=_.record.name,b=assign$2({},v.params,g.params),C=_.stringify(b)}const A=[];let R=_;for(;R;)A.unshift(R.record),R=R.parent;return{name:S,path:C,params:b,matched:A,meta:mergeMetaFields(A)}}return t.forEach(g=>s(g)),{addRoute:s,resolve:f,removeRoute:l,getRoutes:u,getRecordMatcher:o}}function paramsFromLocation(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function normalizeRouteRecord(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function normalizeRecordProps(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,n)=>assign$2(e,n.meta),{})}function mergeOptions(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function isRecordChildOf(t,e){return e.children.some(n=>n===t||isRecordChildOf(t,n))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode$1(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function parseQuery(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(PLUS_RE," "),l=s.indexOf("="),u=decode$1(l<0?s:s.slice(0,l)),d=l<0?null:decode$1(s.slice(l+1));if(u in e){let f=e[u];Array.isArray(f)||(f=e[u]=[f]),f.push(d)}else e[u]=d}return e}function stringifyQuery(t){let e="";for(let n in t){const r=t[n];if(n=encodeQueryKey(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(r)?r.map(s=>s&&encodeQueryValue(s)):[r&&encodeQueryValue(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function normalizeQuery(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Array.isArray(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}function useCallbacks(){let t=[];function e(r){return t.push(r),()=>{const o=t.indexOf(r);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function guardToPromiseFn(t,e,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((l,u)=>{const d=v=>{v===!1?u(createRouterError(4,{from:n,to:e})):v instanceof Error?u(v):isRouteLocation(v)?u(createRouterError(2,{from:e,to:v})):(s&&r.enterCallbacks[o]===s&&typeof v=="function"&&s.push(v),l())},f=t.call(r&&r.instances[o],e,n,d);let g=Promise.resolve(f);t.length<3&&(g=g.then(d)),g.catch(v=>u(v))})}function extractComponentsGuards(t,e,n,r){const o=[];for(const s of t)for(const l in s.components){let u=s.components[l];if(!(e!=="beforeRouteEnter"&&!s.instances[l]))if(isRouteComponent(u)){const f=(u.__vccOpts||u)[e];f&&o.push(guardToPromiseFn(f,n,r,s,l))}else{let d=u();o.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${s.path}"`));const g=isESModule(f)?f.default:f;s.components[l]=g;const _=(g.__vccOpts||g)[e];return _&&guardToPromiseFn(_,n,r,s,l)()}))}}return o}function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function useLink(t){const e=inject$1(routerKey),n=inject$1(routeLocationKey),r=computed(()=>e.resolve(unref(t.to))),o=computed(()=>{const{matched:d}=r.value,{length:f}=d,g=d[f-1],v=n.matched;if(!g||!v.length)return-1;const _=v.findIndex(isSameRouteRecord.bind(null,g));if(_>-1)return _;const b=getOriginalPath(d[f-2]);return f>1&&getOriginalPath(g)===b&&v[v.length-1].path!==b?v.findIndex(isSameRouteRecord.bind(null,d[f-2])):_}),s=computed(()=>o.value>-1&&includesParams(n.params,r.value.params)),l=computed(()=>o.value>-1&&o.value===n.matched.length-1&&isSameRouteLocationParams(n.params,r.value.params));function u(d={}){return guardEvent(d)?e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop):Promise.resolve()}return{route:r,href:computed(()=>r.value.href),isActive:s,isExactActive:l,navigate:u}}const RouterLinkImpl=defineComponent$1({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(t,{slots:e}){const n=reactive(useLink(t)),{options:r}=inject$1(routerKey),o=computed(()=>({[getLinkClass(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[getLinkClass(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:h("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,e){for(const n in e){const r=e[n],o=t[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some((s,l)=>s!==o[l]))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,n)=>t!=null?t:e!=null?e:n,RouterViewImpl=defineComponent$1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=inject$1(routerViewLocationKey),o=computed(()=>t.route||r.value),s=inject$1(viewDepthKey,0),l=computed(()=>o.value.matched[s]);provide(viewDepthKey,s+1),provide(matchedRouteKey,l),provide(routerViewLocationKey,o);const u=ref$1();return watch(()=>[u.value,l.value,t.name],([d,f,g],[v,_,b])=>{f&&(f.instances[g]=d,_&&_!==f&&d&&d===v&&(f.leaveGuards.size||(f.leaveGuards=_.leaveGuards),f.updateGuards.size||(f.updateGuards=_.updateGuards))),d&&f&&(!_||!isSameRouteRecord(f,_)||!v)&&(f.enterCallbacks[g]||[]).forEach(C=>C(d))},{flush:"post"}),()=>{const d=o.value,f=l.value,g=f&&f.components[t.name],v=t.name;if(!g)return normalizeSlot(n.default,{Component:g,route:d});const _=f.props[t.name],b=_?_===!0?d.params:typeof _=="function"?_(d):_:null,S=h(g,assign$2({},b,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(f.instances[v]=null)},ref:u}));return normalizeSlot(n.default,{Component:S,route:d})||S}}});function normalizeSlot(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const RouterView=RouterViewImpl;function createRouter(t){const e=createRouterMatcher(t.routes,t),n=t.parseQuery||parseQuery,r=t.stringifyQuery||stringifyQuery,o=t.history,s=useCallbacks(),l=useCallbacks(),u=useCallbacks(),d=shallowRef(START_LOCATION_NORMALIZED);let f=START_LOCATION_NORMALIZED;isBrowser&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=applyToParams.bind(null,j=>""+j),v=applyToParams.bind(null,encodeParam),_=applyToParams.bind(null,decode$1);function b(j,ue){let he,Ee;return isRouteName(j)?(he=e.getRecordMatcher(j),Ee=ue):Ee=j,e.addRoute(Ee,he)}function C(j){const ue=e.getRecordMatcher(j);ue&&e.removeRoute(ue)}function S(){return e.getRoutes().map(j=>j.record)}function A(j){return!!e.getRecordMatcher(j)}function R(j,ue){if(ue=assign$2({},ue||d.value),typeof j=="string"){const x=parseURL(n,j,ue.path),F=e.resolve({path:x.path},ue),z=o.createHref(x.fullPath);return assign$2(x,F,{params:_(F.params),hash:decode$1(x.hash),redirectedFrom:void 0,href:z})}let he;if("path"in j)he=assign$2({},j,{path:parseURL(n,j.path,ue.path).path});else{const x=assign$2({},j.params);for(const F in x)x[F]==null&&delete x[F];he=assign$2({},j,{params:v(j.params)}),ue.params=v(ue.params)}const Ee=e.resolve(he,ue),Be=j.hash||"";Ee.params=g(_(Ee.params));const Xe=stringifyURL(r,assign$2({},j,{hash:encodeHash(Be),path:Ee.path})),De=o.createHref(Xe);return assign$2({fullPath:Xe,hash:Be,query:r===stringifyQuery?normalizeQuery(j.query):j.query||{}},Ee,{redirectedFrom:void 0,href:De})}function I(j){return typeof j=="string"?parseURL(n,j,d.value.path):assign$2({},j)}function w(j,ue){if(f!==j)return createRouterError(8,{from:ue,to:j})}function N(j){return V(j)}function O(j){return N(assign$2(I(j),{replace:!0}))}function D(j){const ue=j.matched[j.matched.length-1];if(ue&&ue.redirect){const{redirect:he}=ue;let Ee=typeof he=="function"?he(j):he;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=I(Ee):{path:Ee},Ee.params={}),assign$2({query:j.query,hash:j.hash,params:j.params},Ee)}}function V(j,ue){const he=f=R(j),Ee=d.value,Be=j.state,Xe=j.force,De=j.replace===!0,x=D(he);if(x)return V(assign$2(I(x),{state:Be,force:Xe,replace:De}),ue||he);const F=he;F.redirectedFrom=ue;let z;return!Xe&&isSameRouteLocation(r,Ee,he)&&(z=createRouterError(16,{to:F,from:Ee}),_e(Ee,Ee,!0,!1)),(z?Promise.resolve(z):W(F,Ee)).catch(X=>isNavigationFailure(X)?isNavigationFailure(X,2)?X:Oe(X):Q(X,F,Ee)).then(X=>{if(X){if(isNavigationFailure(X,2))return V(assign$2(I(X.to),{state:Be,force:Xe,replace:De}),ue||F)}else X=K(F,Ee,!0,De,Be);return U(F,Ee,X),X})}function L(j,ue){const he=w(j,ue);return he?Promise.reject(he):Promise.resolve()}function W(j,ue){let he;const[Ee,Be,Xe]=extractChangingRecords(j,ue);he=extractComponentsGuards(Ee.reverse(),"beforeRouteLeave",j,ue);for(const x of Ee)x.leaveGuards.forEach(F=>{he.push(guardToPromiseFn(F,j,ue))});const De=L.bind(null,j,ue);return he.push(De),runGuardQueue(he).then(()=>{he=[];for(const x of s.list())he.push(guardToPromiseFn(x,j,ue));return he.push(De),runGuardQueue(he)}).then(()=>{he=extractComponentsGuards(Be,"beforeRouteUpdate",j,ue);for(const x of Be)x.updateGuards.forEach(F=>{he.push(guardToPromiseFn(F,j,ue))});return he.push(De),runGuardQueue(he)}).then(()=>{he=[];for(const x of j.matched)if(x.beforeEnter&&!ue.matched.includes(x))if(Array.isArray(x.beforeEnter))for(const F of x.beforeEnter)he.push(guardToPromiseFn(F,j,ue));else he.push(guardToPromiseFn(x.beforeEnter,j,ue));return he.push(De),runGuardQueue(he)}).then(()=>(j.matched.forEach(x=>x.enterCallbacks={}),he=extractComponentsGuards(Xe,"beforeRouteEnter",j,ue),he.push(De),runGuardQueue(he))).then(()=>{he=[];for(const x of l.list())he.push(guardToPromiseFn(x,j,ue));return he.push(De),runGuardQueue(he)}).catch(x=>isNavigationFailure(x,8)?x:Promise.reject(x))}function U(j,ue,he){for(const Ee of u.list())Ee(j,ue,he)}function K(j,ue,he,Ee,Be){const Xe=w(j,ue);if(Xe)return Xe;const De=ue===START_LOCATION_NORMALIZED,x=isBrowser?history.state:{};he&&(Ee||De?o.replace(j.fullPath,assign$2({scroll:De&&x&&x.scroll},Be)):o.push(j.fullPath,Be)),d.value=j,_e(j,ue,he,De),Oe()}let H;function J(){H=o.listen((j,ue,he)=>{const Ee=R(j),Be=D(Ee);if(Be){V(assign$2(Be,{replace:!0}),Ee).catch(noop);return}f=Ee;const Xe=d.value;isBrowser&&saveScrollPosition(getScrollKey(Xe.fullPath,he.delta),computeScrollPosition()),W(Ee,Xe).catch(De=>isNavigationFailure(De,12)?De:isNavigationFailure(De,2)?(V(De.to,Ee).then(x=>{isNavigationFailure(x,20)&&!he.delta&&he.type===NavigationType.pop&&o.go(-1,!1)}).catch(noop),Promise.reject()):(he.delta&&o.go(-he.delta,!1),Q(De,Ee,Xe))).then(De=>{De=De||K(Ee,Xe,!1),De&&(he.delta?o.go(-he.delta,!1):he.type===NavigationType.pop&&isNavigationFailure(De,20)&&o.go(-1,!1)),U(Ee,Xe,De)}).catch(noop)})}let q=useCallbacks(),ce=useCallbacks(),te;function Q(j,ue,he){Oe(j);const Ee=ce.list();return Ee.length?Ee.forEach(Be=>Be(j,ue,he)):console.error(j),Promise.reject(j)}function de(){return te&&d.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((j,ue)=>{q.add([j,ue])})}function Oe(j){return te||(te=!j,J(),q.list().forEach(([ue,he])=>j?he(j):ue()),q.reset()),j}function _e(j,ue,he,Ee){const{scrollBehavior:Be}=t;if(!isBrowser||!Be)return Promise.resolve();const Xe=!he&&getSavedScrollPosition(getScrollKey(j.fullPath,0))||(Ee||!he)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Be(j,ue,Xe)).then(De=>De&&scrollToPosition(De)).catch(De=>Q(De,j,ue))}const Ce=j=>o.go(j);let Le;const tt=new Set;return{currentRoute:d,addRoute:b,removeRoute:C,hasRoute:A,getRoutes:S,resolve:R,options:t,push:N,replace:O,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:s.add,beforeResolve:l.add,afterEach:u.add,onError:ce.add,isReady:de,install(j){const ue=this;j.component("RouterLink",RouterLink),j.component("RouterView",RouterView),j.config.globalProperties.$router=ue,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(d)}),isBrowser&&!Le&&d.value===START_LOCATION_NORMALIZED&&(Le=!0,N(o.location).catch(Be=>{}));const he={};for(const Be in START_LOCATION_NORMALIZED)he[Be]=computed(()=>d.value[Be]);j.provide(routerKey,ue),j.provide(routeLocationKey,reactive(he)),j.provide(routerViewLocationKey,d);const Ee=j.unmount;tt.add(j),j.unmount=function(){tt.delete(j),tt.size<1&&(f=START_LOCATION_NORMALIZED,H&&H(),d.value=START_LOCATION_NORMALIZED,Le=!1,te=!1),Ee()}}}}function runGuardQueue(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function extractChangingRecords(t,e){const n=[],r=[],o=[],s=Math.max(e.matched.length,t.matched.length);for(let l=0;l<s;l++){const u=e.matched[l];u&&(t.matched.find(f=>isSameRouteRecord(f,u))?r.push(u):n.push(u));const d=t.matched[l];d&&(e.matched.find(f=>isSameRouteRecord(f,d))||o.push(d))}return[n,r,o]}const VBtn$1="",VBtnToggle="",VBtnGroup$1="",makeBorderProps=propsFactory({border:[Boolean,Number,String]},"border");function useBorder(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{borderClasses:computed(()=>{const r=isRef(t)?t.value:t.border,o=[];if(r===!0||r==="")o.push(`${e}--border`);else if(typeof r=="string"||r===0)for(const s of String(r).split(" "))o.push(`border-${s}`);return o})}}const allowedDensities$1=[null,"default","comfortable","compact"],makeDensityProps=propsFactory({density:{type:String,default:"default",validator:t=>allowedDensities$1.includes(t)}},"density");function useDensity(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{densityClasses:computed(()=>`${e}--density-${t.density}`)}}const makeElevationProps=propsFactory({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function useElevation(t){return{elevationClasses:computed(()=>{const n=isRef(t)?t.value:t.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const VBtnGroup=defineComponent({name:"VBtnGroup",props:{divided:Boolean,...makeBorderProps(),...makeDensityProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps()},setup(t,e){let{slots:n}=e;const{themeClasses:r}=provideTheme(t),{densityClasses:o}=useDensity(t),{borderClasses:s}=useBorder(t),{elevationClasses:l}=useElevation(t),{roundedClasses:u}=useRounded(t);provideDefaults({VBtn:{height:"auto",color:toRef(t,"color"),density:toRef(t,"density"),flat:!0,variant:toRef(t,"variant")}}),useRender(()=>createVNode(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},r.value,s.value,o.value,l.value,u.value]},n))}}),makeGroupProps=propsFactory({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),makeGroupItemProps=propsFactory({value:null,disabled:Boolean,selectedClass:String},"group-item");function useGroupItem(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=getCurrentInstance("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const o=getUid();provide(Symbol.for(`${e.description}:id`),o);const s=inject$1(e,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const l=toRef(t,"value"),u=computed(()=>s.disabled.value||t.disabled);s.register({id:o,value:l,disabled:u},r),onBeforeUnmount(()=>{s.unregister(o)});const d=computed(()=>s.isSelected(o)),f=computed(()=>d.value&&[s.selectedClass.value,t.selectedClass]);return watch(d,g=>{r.emit("group:selected",{value:g})}),{id:o,isSelected:d,toggle:()=>s.select(o,!d.value),select:g=>s.select(o,g),selectedClass:f,value:l,disabled:u,group:s}}function useGroup(t,e){let n=!1;const r=reactive([]),o=useProxiedModel(t,"modelValue",[],_=>_==null?[]:getIds(r,wrapInArray(_)),_=>{const b=getValues(r,_);return t.multiple?b:b[0]}),s=getCurrentInstance("useGroup");function l(_,b){const C=_,S=Symbol.for(`${e.description}:id`),R=findChildrenWithProvide(S,s==null?void 0:s.vnode).indexOf(b);R>-1?r.splice(R,0,C):r.push(C)}function u(_){if(n)return;d();const b=r.findIndex(C=>C.id===_);r.splice(b,1)}function d(){const _=r.find(b=>!b.disabled);_&&t.mandatory==="force"&&!o.value.length&&(o.value=[_.id])}onMounted(()=>{d()}),onBeforeUnmount(()=>{n=!0});function f(_,b){const C=r.find(S=>S.id===_);if(!(b&&C!=null&&C.disabled))if(t.multiple){const S=o.value.slice(),A=S.findIndex(I=>I===_),R=~A;if(b=b!=null?b:!R,R&&t.mandatory&&S.length<=1||!R&&t.max!=null&&S.length+1>t.max)return;A<0&&b?S.push(_):A>=0&&!b&&S.splice(A,1),o.value=S}else{const S=o.value.includes(_);if(t.mandatory&&S)return;o.value=(b!=null?b:!S)?[_]:[]}}function g(_){if(t.multiple&&consoleWarn('This method is not supported when using "multiple" prop'),o.value.length){const b=o.value[0],C=r.findIndex(R=>R.id===b);let S=(C+_)%r.length,A=r[S];for(;A.disabled&&S!==C;)S=(S+_)%r.length,A=r[S];if(A.disabled)return;o.value=[r[S].id]}else{const b=r.find(C=>!C.disabled);b&&(o.value=[b.id])}}const v={register:l,unregister:u,selected:o,select:f,disabled:toRef(t,"disabled"),prev:()=>g(r.length-1),next:()=>g(1),isSelected:_=>o.value.includes(_),selectedClass:computed(()=>t.selectedClass),items:computed(()=>r),getItemIndex:_=>getItemIndex(r,_)};return provide(e,v),v}function getItemIndex(t,e){const n=getIds(t,[e]);return n.length?t.findIndex(r=>r.id===n[0]):-1}function getIds(t,e){const n=[];for(let r=0;r<t.length;r++){const o=t[r];o.value!=null?e.find(s=>deepEqual$1(s,o.value))!=null&&n.push(o.id):e.includes(r)&&n.push(o.id)}return n}function getValues(t,e){const n=[];for(let r=0;r<t.length;r++){const o=t[r];e.includes(o.id)&&n.push(o.value!=null?o.value:r)}return n}const VBtnToggleSymbol=Symbol.for("vuetify:v-btn-toggle");genericComponent()({name:"VBtnToggle",props:makeGroupProps(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:r,next:o,prev:s,select:l,selected:u}=useGroup(t,VBtnToggleSymbol);return useRender(()=>{var d;return createVNode(VBtnGroup,{class:"v-btn-toggle"},{default:()=>[(d=n.default)==null?void 0:d.call(n,{isSelected:r,next:o,prev:s,select:l,selected:u})]})}),{next:o,prev:s,select:l}}});const VIcon$1="",predefinedSizes=["x-small","small","default","large","x-large"],makeSizeProps=propsFactory({size:{type:[String,Number],default:"default"}},"size");function useSize(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return destructComputed(()=>{let n,r;return includes(predefinedSizes,t.size)?n=`${e}--size-${t.size}`:t.size&&(r={width:convertToUnit(t.size),height:convertToUnit(t.size)}),{sizeClasses:n,sizeStyles:r}})}const makeVIconProps=propsFactory({color:String,start:Boolean,end:Boolean,icon:IconValue,...makeSizeProps(),...makeTagProps({tag:"i"}),...makeThemeProps()},"v-icon"),VIcon=defineComponent({name:"VIcon",props:makeVIconProps(),setup(t,e){let{attrs:n,slots:r}=e,o;r.default&&(o=computed(()=>{var g,v;const _=(g=r.default)==null?void 0:g.call(r);if(!!_)return(v=flattenFragments(_).filter(b=>b.children&&typeof b.children=="string")[0])==null?void 0:v.children}));const{themeClasses:s}=provideTheme(t),{iconData:l}=useIcon(o||t),{sizeClasses:u}=useSize(t),{textColorClasses:d,textColorStyles:f}=useTextColor(toRef(t,"color"));return useRender(()=>createVNode(l.value.component,{tag:t.tag,icon:l.value.icon,class:["v-icon","notranslate",s.value,u.value,d.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":t.start,"v-icon--end":t.end}],style:[u.value?void 0:{fontSize:convertToUnit(t.size),height:convertToUnit(t.size),width:convertToUnit(t.size)},f.value],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},null)),{}}}),VProgressCircular$1="";function useIntersectionObserver(t){const e=ref$1(),n=ref$1(!1);if(SUPPORTS_INTERSECTION){const r=new IntersectionObserver(o=>{t==null||t(o,r),n.value=!!o.find(s=>s.isIntersecting)});onBeforeUnmount(()=>{r.disconnect()}),watch(e,(o,s)=>{s&&(r.unobserve(s),n.value=!1),o&&r.observe(o)},{flush:"post"})}return{intersectionRef:e,isIntersecting:n}}const VProgressCircular=defineComponent({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...makeSizeProps(),...makeTagProps({tag:"div"}),...makeThemeProps()},setup(t,e){let{slots:n}=e;const r=20,o=2*Math.PI*r,s=ref$1(),{themeClasses:l}=provideTheme(t),{sizeClasses:u,sizeStyles:d}=useSize(t),{textColorClasses:f,textColorStyles:g}=useTextColor(toRef(t,"color")),{textColorClasses:v,textColorStyles:_}=useTextColor(toRef(t,"bgColor")),{intersectionRef:b,isIntersecting:C}=useIntersectionObserver(),{resizeRef:S,contentRect:A}=useResizeObserver(),R=computed(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),I=computed(()=>Number(t.width)),w=computed(()=>d.value?Number(t.size):A.value?A.value.width:Math.max(I.value,32)),N=computed(()=>r/(1-I.value/w.value)*2),O=computed(()=>I.value/w.value*N.value),D=computed(()=>convertToUnit((100-R.value)/100*o));return watchEffect(()=>{b.value=s.value,S.value=s.value}),useRender(()=>createVNode(t.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":C.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},l.value,u.value,f.value],style:[d.value,g.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:R.value},{default:()=>[createVNode("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${N.value} ${N.value}`},[createVNode("circle",{class:["v-progress-circular__underlay",v.value],style:_.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":O.value,"stroke-dasharray":o,"stroke-dashoffset":0},null),createVNode("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":O.value,"stroke-dasharray":o,"stroke-dashoffset":D.value},null)]),n.default&&createVNode("div",{class:"v-progress-circular__content"},[n.default({value:R.value})])]})),{}}}),VRipple="",stopSymbol=Symbol("rippleStop"),DELAY_RIPPLE=80;function transform(t,e){t.style.transform=e,t.style.webkitTransform=e}function opacity(t,e){t.style.opacity=`calc(${e} * var(--v-theme-overlay-multiplier))`}function isTouchEvent(t){return t.constructor.name==="TouchEvent"}function isKeyboardEvent(t){return t.constructor.name==="KeyboardEvent"}const calculate=function(t,e){var n;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=0,s=0;if(!isKeyboardEvent(t)){const _=e.getBoundingClientRect(),b=isTouchEvent(t)?t.touches[t.touches.length-1]:t;o=b.clientX-_.left,s=b.clientY-_.top}let l=0,u=.3;(n=e._ripple)!=null&&n.circle?(u=.15,l=e.clientWidth/2,l=r.center?l:l+Math.sqrt((o-l)**2+(s-l)**2)/4):l=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const d=`${(e.clientWidth-l*2)/2}px`,f=`${(e.clientHeight-l*2)/2}px`,g=r.center?d:`${o-l}px`,v=r.center?f:`${s-l}px`;return{radius:l,scale:u,x:g,y:v,centerX:d,centerY:f}},ripples={show(t,e){var n;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(e!=null&&(n=e._ripple)!=null&&n.enabled))return;const o=document.createElement("span"),s=document.createElement("span");o.appendChild(s),o.className="v-ripple__container",r.class&&(o.className+=` ${r.class}`);const{radius:l,scale:u,x:d,y:f,centerX:g,centerY:v}=calculate(t,e,r),_=`${l*2}px`;s.className="v-ripple__animation",s.style.width=_,s.style.height=_,e.appendChild(o);const b=window.getComputedStyle(e);b&&b.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),transform(s,`translate(${d}, ${f}) scale3d(${u},${u},${u})`),opacity(s,0),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),transform(s,`translate(${g}, ${v}) scale3d(1,1,1)`),opacity(s,.08)},0)},hide(t){var e;if(!(t!=null&&(e=t._ripple)!=null&&e.enabled))return;const n=t.getElementsByClassName("v-ripple__animation");if(n.length===0)return;const r=n[n.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const o=performance.now()-Number(r.dataset.activated),s=Math.max(250-o,0);setTimeout(()=>{r.classList.remove("v-ripple__animation--in"),r.classList.add("v-ripple__animation--out"),opacity(r,0),setTimeout(()=>{t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),r.parentNode&&t.removeChild(r.parentNode)},300)},s)}};function isRippleEnabled(t){return typeof t>"u"||!!t}function rippleShow(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[stopSymbol])){if(t[stopSymbol]=!0,isTouchEvent(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||isKeyboardEvent(t),n._ripple.class&&(e.class=n._ripple.class),isTouchEvent(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{ripples.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var r;n!=null&&(r=n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},DELAY_RIPPLE)}else ripples.show(t,n,e)}}function rippleStop(t){t[stopSymbol]=!0}function rippleHide(t){const e=t.currentTarget;if(!(!e||!e._ripple)){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{rippleHide(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),ripples.hide(e)}}function rippleCancelShow(t){const e=t.currentTarget;!e||!e._ripple||(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let keyboardRipple=!1;function keyboardRippleShow(t){!keyboardRipple&&(t.keyCode===keyCodes.enter||t.keyCode===keyCodes.space)&&(keyboardRipple=!0,rippleShow(t))}function keyboardRippleHide(t){keyboardRipple=!1,rippleHide(t)}function focusRippleHide(t){keyboardRipple&&(keyboardRipple=!1,rippleHide(t))}function updateRipple(t,e,n){var l;const{value:r,modifiers:o}=e,s=isRippleEnabled(r);if(s||ripples.hide(t),t._ripple=(l=t._ripple)!=null?l:{},t._ripple.enabled=s,t._ripple.centered=o.center,t._ripple.circle=o.circle,isObject$2(r)&&r.class&&(t._ripple.class=r.class),s&&!n){if(o.stop){t.addEventListener("touchstart",rippleStop,{passive:!0}),t.addEventListener("mousedown",rippleStop);return}t.addEventListener("touchstart",rippleShow,{passive:!0}),t.addEventListener("touchend",rippleHide,{passive:!0}),t.addEventListener("touchmove",rippleCancelShow,{passive:!0}),t.addEventListener("touchcancel",rippleHide),t.addEventListener("mousedown",rippleShow),t.addEventListener("mouseup",rippleHide),t.addEventListener("mouseleave",rippleHide),t.addEventListener("keydown",keyboardRippleShow),t.addEventListener("keyup",keyboardRippleHide),t.addEventListener("blur",focusRippleHide),t.addEventListener("dragstart",rippleHide,{passive:!0})}else!s&&n&&removeListeners(t)}function removeListeners(t){t.removeEventListener("mousedown",rippleShow),t.removeEventListener("touchstart",rippleShow),t.removeEventListener("touchend",rippleHide),t.removeEventListener("touchmove",rippleCancelShow),t.removeEventListener("touchcancel",rippleHide),t.removeEventListener("mouseup",rippleHide),t.removeEventListener("mouseleave",rippleHide),t.removeEventListener("keydown",keyboardRippleShow),t.removeEventListener("keyup",keyboardRippleHide),t.removeEventListener("dragstart",rippleHide),t.removeEventListener("blur",focusRippleHide)}function mounted$2(t,e){updateRipple(t,e,!1)}function unmounted$2(t){delete t._ripple,removeListeners(t)}function updated(t,e){if(e.value===e.oldValue)return;const n=isRippleEnabled(e.oldValue);updateRipple(t,e,n)}const Ripple={mounted:mounted$2,unmounted:unmounted$2,updated},VProgressLinear$1="",VProgressLinear=defineComponent({name:"VProgressLinear",props:{active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),{isRtl:o}=useRtl(),{themeClasses:s}=provideTheme(t),{textColorClasses:l,textColorStyles:u}=useTextColor(t,"color"),{backgroundColorClasses:d,backgroundColorStyles:f}=useBackgroundColor(computed(()=>t.bgColor||t.color)),{backgroundColorClasses:g,backgroundColorStyles:v}=useBackgroundColor(t,"color"),{roundedClasses:_}=useRounded(t),{intersectionRef:b,isIntersecting:C}=useIntersectionObserver(),S=computed(()=>parseInt(t.max,10)),A=computed(()=>parseInt(t.height,10)),R=computed(()=>parseFloat(t.bufferValue)/S.value*100),I=computed(()=>parseFloat(r.value)/S.value*100),w=computed(()=>o.value!==t.reverse),N=computed(()=>t.indeterminate?"fade-transition":"slide-x-transition"),O=computed(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function D(V){if(!b.value)return;const{left:L,right:W,width:U}=b.value.getBoundingClientRect(),K=w.value?U-V.clientX+(W-U):V.clientX-L;r.value=Math.round(K/U*S.value)}return useRender(()=>createVNode(t.tag,{ref:b,class:["v-progress-linear",{"v-progress-linear--active":t.active&&C.value,"v-progress-linear--reverse":w.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},_.value,s.value],style:{height:t.active?convertToUnit(A.value):0,"--v-progress-linear-height":convertToUnit(A.value)},role:"progressbar","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:I.value,onClick:t.clickable&&D},{default:()=>[t.stream&&createVNode("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[w.value?"left":"right"]:convertToUnit(-A.value),borderTop:`${convertToUnit(A.value/2)} dotted`,opacity:O.value,top:`calc(50% - ${convertToUnit(A.value/4)})`,width:convertToUnit(100-R.value,"%"),"--v-progress-linear-stream-to":convertToUnit(A.value*(w.value?1:-1))}},null),createVNode("div",{class:["v-progress-linear__background",d.value],style:[f.value,{opacity:O.value,width:convertToUnit(t.stream?R.value:100,"%")}]},null),createVNode(Transition,{name:N.value},{default:()=>[t.indeterminate?createVNode("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(V=>createVNode("div",{key:V,class:["v-progress-linear__indeterminate",V,g.value],style:v.value},null))]):createVNode("div",{class:["v-progress-linear__determinate",g.value],style:[v.value,{width:convertToUnit(I.value,"%")}]},null)]}),n.default&&createVNode("div",{class:"v-progress-linear__content"},[n.default({value:I.value,buffer:R.value})])]})),{}}}),makeLoaderProps=propsFactory({loading:Boolean},"loader");function useLoader(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{loaderClasses:computed(()=>({[`${e}--loading`]:t.loading}))}}function LoaderSlot(t,e){var n;let{slots:r}=e;return createVNode("div",{class:`${t.name}__loader`},[((n=r.default)==null?void 0:n.call(r,{color:t.color,isActive:t.active}))||createVNode(VProgressLinear,{active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}function useSelectLink(t,e){watch(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&nextTick(()=>{e(!0)})},{immediate:!0})}const VBtn=defineComponent({name:"VBtn",directives:{Ripple},props:{active:{type:Boolean,default:void 0},symbol:{type:null,default:VBtnToggleSymbol},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:IconValue,appendIcon:IconValue,block:Boolean,stacked:Boolean,ripple:{type:Boolean,default:!0},...makeBorderProps(),...makeRoundedProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeGroupItemProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"button"}),...makeThemeProps(),...makeVariantProps({variant:"elevated"})},emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:o}=provideTheme(t),{borderClasses:s}=useBorder(t),{colorClasses:l,colorStyles:u,variantClasses:d}=useVariant(t),{densityClasses:f}=useDensity(t),{dimensionStyles:g}=useDimension(t),{elevationClasses:v}=useElevation(t),{loaderClasses:_}=useLoader(t),{locationStyles:b}=useLocation(t),{positionClasses:C}=usePosition(t),{roundedClasses:S}=useRounded(t),{sizeClasses:A,sizeStyles:R}=useSize(t),I=useGroupItem(t,t.symbol,!1),w=useLink$1(t,n),N=computed(()=>{var V;return t.active!==!1&&(t.active||((V=w.isActive)==null?void 0:V.value)||(I==null?void 0:I.isSelected.value))}),O=computed(()=>(I==null?void 0:I.disabled.value)||t.disabled),D=computed(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border));return useSelectLink(w,I==null?void 0:I.select),useRender(()=>{var V,L,W,U;const K=w.isLink.value?"a":t.tag,H=!I||I.isSelected.value,J=!!(t.prependIcon||r.prepend),q=!!(t.appendIcon||r.append),ce=!!(t.icon&&t.icon!==!0);return withDirectives(createVNode(K,{type:K==="a"?void 0:"button",class:["v-btn",I==null?void 0:I.selectedClass.value,{"v-btn--active":N.value,"v-btn--block":t.block,"v-btn--disabled":O.value,"v-btn--elevated":D.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--stacked":t.stacked},o.value,s.value,H?l.value:void 0,f.value,v.value,_.value,C.value,S.value,A.value,d.value],style:[H?u.value:void 0,g.value,b.value,R.value],disabled:O.value||void 0,href:w.href.value,onClick:te=>{var Q;O.value||((Q=w.navigate)==null||Q.call(w,te),I==null||I.toggle())}},{default:()=>{var te;return[genOverlays(!0,"v-btn"),!t.icon&&J&&createVNode(VDefaultsProvider,{key:"prepend",defaults:{VIcon:{icon:t.prependIcon}}},{default:()=>{var Q;return[createVNode("span",{class:"v-btn__prepend"},[(Q=(V=r.prepend)==null?void 0:V.call(r))!=null?Q:createVNode(VIcon,null,null)])]}}),createVNode("span",{class:"v-btn__content","data-no-activator":""},[createVNode(VDefaultsProvider,{key:"content",defaults:{VIcon:{icon:ce?t.icon:void 0}}},{default:()=>{var Q;return[(Q=(L=r.default)==null?void 0:L.call(r))!=null?Q:ce&&createVNode(VIcon,{key:"icon"},null)]}})]),!t.icon&&q&&createVNode(VDefaultsProvider,{key:"append",defaults:{VIcon:{icon:t.appendIcon}}},{default:()=>{var Q;return[createVNode("span",{class:"v-btn__append"},[(Q=(W=r.append)==null?void 0:W.call(r))!=null?Q:createVNode(VIcon,null,null)])]}}),!!t.loading&&createVNode("span",{key:"loader",class:"v-btn__loader"},[(te=(U=r.loader)==null?void 0:U.call(r))!=null?te:createVNode(VProgressCircular,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[resolveDirective("ripple"),!O.value&&t.ripple,null]])}),{}}}),VGrid="",VContainer=defineComponent({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...makeTagProps()},setup(t,e){let{slots:n}=e;return useRender(()=>createVNode(t.tag,{class:["v-container",{"v-container--fluid":t.fluid}]},n)),{}}}),breakpoints$1=["sm","md","lg","xl","xxl"],breakpointProps=(()=>breakpoints$1.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),offsetProps=(()=>breakpoints$1.reduce((t,e)=>(t["offset"+capitalize(e)]={type:[String,Number],default:null},t),{}))(),orderProps=(()=>breakpoints$1.reduce((t,e)=>(t["order"+capitalize(e)]={type:[String,Number],default:null},t),{}))(),propMap$1={col:Object.keys(breakpointProps),offset:Object.keys(offsetProps),order:Object.keys(orderProps)};function breakpointClass$1(t,e,n){let r=t;if(!(n==null||n===!1)){if(e){const o=e.replace(t,"");r+=`-${o}`}return t==="col"&&(r="v-"+r),t==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const ALIGN_SELF_VALUES=["auto","start","end","center","baseline","stretch"],VCol=defineComponent({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...breakpointProps,offset:{type:[String,Number],default:null},...offsetProps,order:{type:[String,Number],default:null},...orderProps,alignSelf:{type:String,default:null,validator:t=>ALIGN_SELF_VALUES.includes(t)},...makeTagProps()},setup(t,e){let{slots:n}=e;const r=computed(()=>{const o=[];let s;for(s in propMap$1)propMap$1[s].forEach(u=>{const d=t[u],f=breakpointClass$1(s,u,d);f&&o.push(f)});const l=o.some(u=>u.startsWith("v-col-"));return o.push({"v-col":!l||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),o});return()=>{var o;return h(t.tag,{class:r.value},(o=n.default)==null?void 0:o.call(n))}}}),breakpoints=["sm","md","lg","xl","xxl"],ALIGNMENT=["start","end","center"],SPACE=["space-between","space-around","space-evenly"];function makeRowProps(t,e){return breakpoints.reduce((n,r)=>(n[t+capitalize(r)]=e(),n),{})}const ALIGN_VALUES=[...ALIGNMENT,"baseline","stretch"],alignValidator=t=>ALIGN_VALUES.includes(t),alignProps=makeRowProps("align",()=>({type:String,default:null,validator:alignValidator})),JUSTIFY_VALUES=[...ALIGNMENT,...SPACE],justifyValidator=t=>JUSTIFY_VALUES.includes(t),justifyProps=makeRowProps("justify",()=>({type:String,default:null,validator:justifyValidator})),ALIGN_CONTENT_VALUES=[...ALIGNMENT,...SPACE,"stretch"],alignContentValidator=t=>ALIGN_CONTENT_VALUES.includes(t),alignContentProps=makeRowProps("alignContent",()=>({type:String,default:null,validator:alignContentValidator})),propMap={align:Object.keys(alignProps),justify:Object.keys(justifyProps),alignContent:Object.keys(alignContentProps)},classMap={align:"align",justify:"justify",alignContent:"align-content"};function breakpointClass(t,e,n){let r=classMap[t];if(n!=null){if(e){const o=e.replace(t,"");r+=`-${o}`}return r+=`-${n}`,r.toLowerCase()}}const VRow=defineComponent({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:alignValidator},...alignProps,justify:{type:String,default:null,validator:justifyValidator},...justifyProps,alignContent:{type:String,default:null,validator:alignContentValidator},...alignContentProps,...makeTagProps()},setup(t,e){let{slots:n}=e;const r=computed(()=>{const o=[];let s;for(s in propMap)propMap[s].forEach(l=>{const u=t[l],d=breakpointClass(s,l,u);d&&o.push(d)});return o.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),o});return()=>{var o;return h(t.tag,{class:["v-row",r.value]},(o=n.default)==null?void 0:o.call(n))}}}),VSpacer=createSimpleFunctional("flex-grow-1","div","VSpacer"),VTextField$1="",VField$1="";function createCssTransition(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top center 0",n=arguments.length>2?arguments[2]:void 0;return defineComponent({name:t,props:{group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:n},origin:{type:String,default:e}},setup(r,o){let{slots:s}=o;return()=>{const l=r.group?TransitionGroup:Transition;return h(l,{name:t,mode:r.mode,onBeforeEnter(u){u.style.transformOrigin=r.origin},onLeave(u){if(r.leaveAbsolute){const{offsetTop:d,offsetLeft:f,offsetWidth:g,offsetHeight:v}=u;u._transitionInitialStyles={position:u.style.position,top:u.style.top,left:u.style.left,width:u.style.width,height:u.style.height},u.style.position="absolute",u.style.top=`${d}px`,u.style.left=`${f}px`,u.style.width=`${g}px`,u.style.height=`${v}px`}r.hideOnLeave&&u.style.setProperty("display","none","important")},onAfterLeave(u){if(r.leaveAbsolute&&u!=null&&u._transitionInitialStyles){const{position:d,top:f,left:g,width:v,height:_}=u._transitionInitialStyles;delete u._transitionInitialStyles,u.style.position=d||"",u.style.top=f||"",u.style.left=g||"",u.style.width=v||"",u.style.height=_||""}}},s.default)}}})}function createJavascriptTransition(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return defineComponent({name:t,props:{mode:{type:String,default:n}},setup(r,o){let{slots:s}=o;return()=>h(Transition,{name:t,...e},s.default)}})}function ExpandTransitionGenerator(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=camelize(`offset-${n}`);return{onBeforeEnter(l){l._parent=l.parentNode,l._initialStyle={transition:l.style.transition,overflow:l.style.overflow,[n]:l.style[n]}},onEnter(l){const u=l._initialStyle;l.style.setProperty("transition","none","important"),l.style.overflow="hidden";const d=`${l[r]}px`;l.style[n]="0",l.offsetHeight,l.style.transition=u.transition,t&&l._parent&&l._parent.classList.add(t),requestAnimationFrame(()=>{l.style[n]=d})},onAfterEnter:s,onEnterCancelled:s,onLeave(l){l._initialStyle={transition:"",overflow:l.style.overflow,[n]:l.style[n]},l.style.overflow="hidden",l.style[n]=`${l[r]}px`,l.offsetHeight,requestAnimationFrame(()=>l.style[n]="0")},onAfterLeave:o,onLeaveCancelled:o};function o(l){t&&l._parent&&l._parent.classList.remove(t),s(l)}function s(l){const u=l._initialStyle[n];l.style.overflow=l._initialStyle.overflow,u!=null&&(l.style[n]=u),delete l._initialStyle}}const VDialogTransition=defineComponent({name:"VDialogTransition",props:{target:Object},setup(t,e){let{slots:n}=e;const r={onBeforeEnter(o){o.style.pointerEvents="none",o.style.visibility="hidden"},async onEnter(o,s){var l;await new Promise(b=>requestAnimationFrame(b)),await new Promise(b=>requestAnimationFrame(b)),o.style.visibility="";const{x:u,y:d,sx:f,sy:g,speed:v}=getDimensions(t.target,o),_=animate(o,[{transform:`translate(${u}px, ${d}px) scale(${f}, ${g})`,opacity:0},{transform:""}],{duration:225*v,easing:deceleratedEasing});(l=getChildren(o))==null||l.forEach(b=>{animate(b,[{opacity:0},{opacity:0,offset:.33},{opacity:1}],{duration:225*2*v,easing:standardEasing})}),_.finished.then(()=>s())},onAfterEnter(o){o.style.removeProperty("pointer-events")},onBeforeLeave(o){o.style.pointerEvents="none"},async onLeave(o,s){var l;await new Promise(b=>requestAnimationFrame(b));const{x:u,y:d,sx:f,sy:g,speed:v}=getDimensions(t.target,o);animate(o,[{transform:""},{transform:`translate(${u}px, ${d}px) scale(${f}, ${g})`,opacity:0}],{duration:125*v,easing:acceleratedEasing}).finished.then(()=>s()),(l=getChildren(o))==null||l.forEach(b=>{animate(b,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*v,easing:standardEasing})})},onAfterLeave(o){o.style.removeProperty("pointer-events")}};return()=>t.target?createVNode(Transition,mergeProps({name:"dialog-transition"},r,{css:!1}),n):createVNode(Transition,{name:"dialog-transition"},n)}});function getChildren(t){var e;const n=(e=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:e.children;return n&&[...n]}function getDimensions(t,e){const n=t.getBoundingClientRect(),r=nullifyTransforms(e),[o,s]=getComputedStyle(e).transformOrigin.split(" ").map(R=>parseFloat(R)),[l,u]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=n.left+n.width/2;l==="left"||u==="left"?d-=n.width/2:(l==="right"||u==="right")&&(d+=n.width/2);let f=n.top+n.height/2;l==="top"||u==="top"?f-=n.height/2:(l==="bottom"||u==="bottom")&&(f+=n.height/2);const g=n.width/r.width,v=n.height/r.height,_=Math.max(1,g,v),b=g/_,C=v/_,S=r.width*r.height/(window.innerWidth*window.innerHeight),A=S>.12?Math.min(1.5,(S-.12)*10+1):1;return{x:d-(o+r.left),y:f-(s+r.top),sx:b,sy:C,speed:A}}createCssTransition("fab-transition","center center","out-in");createCssTransition("dialog-bottom-transition");createCssTransition("dialog-top-transition");const VFadeTransition=createCssTransition("fade-transition"),VScaleTransition=createCssTransition("scale-transition");createCssTransition("scroll-x-transition");createCssTransition("scroll-x-reverse-transition");createCssTransition("scroll-y-transition");createCssTransition("scroll-y-reverse-transition");createCssTransition("slide-x-transition");createCssTransition("slide-x-reverse-transition");const VSlideYTransition=createCssTransition("slide-y-transition");createCssTransition("slide-y-reverse-transition");const VExpandTransition=createJavascriptTransition("expand-transition",ExpandTransitionGenerator()),VExpandXTransition=createJavascriptTransition("expand-x-transition",ExpandTransitionGenerator("",!0));function useInputIcon(t){const{t:e}=useLocale();function n(r){var d;let{name:o}=r;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],l=t[`onClick:${o}`],u=l&&s?e(`$vuetify.input.${s}`,(d=t.label)!=null?d:""):void 0;return createVNode(VIcon,{icon:t[`${o}Icon`],"aria-label":u,onClick:l},null)}return{InputIcon:n}}const VLabel$1="",VLabel=defineComponent({name:"VLabel",props:{text:String,clickable:Boolean,...makeThemeProps()},setup(t,e){let{slots:n}=e;return useRender(()=>{var r;return createVNode("label",{class:["v-label",{"v-label--clickable":t.clickable}]},[t.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),VFieldLabel=defineComponent({name:"VFieldLabel",props:{floating:Boolean},setup(t,e){let{slots:n}=e;return useRender(()=>createVNode(VLabel,{class:["v-field-label",{"v-field-label--floating":t.floating}],"aria-hidden":t.floating||void 0},n)),{}}}),makeFocusProps=propsFactory({focused:Boolean},"focus");function useFocus(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const n=useProxiedModel(t,"focused"),r=computed(()=>({[`${e}--focused`]:n.value}));function o(){n.value=!0}function s(){n.value=!1}return{focusClasses:r,isFocused:n,focus:o,blur:s}}const allowedVariants$1=["underlined","outlined","filled","solo","plain"],makeVFieldProps=propsFactory({appendInnerIcon:IconValue,bgColor:String,clearable:Boolean,clearIcon:{type:IconValue,default:"$clear"},active:Boolean,color:String,dirty:Boolean,disabled:Boolean,error:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:IconValue,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>allowedVariants$1.includes(t)},"onClick:clear":EventProp,"onClick:appendInner":EventProp,"onClick:prependInner":EventProp,...makeThemeProps(),...makeLoaderProps()},"v-field"),VField=genericComponent()({name:"VField",inheritAttrs:!1,props:{id:String,...makeFocusProps(),...makeVFieldProps()},emits:{"click:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{themeClasses:s}=provideTheme(t),{loaderClasses:l}=useLoader(t),{focusClasses:u,isFocused:d,focus:f,blur:g}=useFocus(t),{InputIcon:v}=useInputIcon(t),_=computed(()=>t.dirty||t.active),b=computed(()=>!t.singleLine&&!!(t.label||o.label)),C=getUid(),S=computed(()=>t.id||`input-${C}`),A=ref$1(),R=ref$1(),I=ref$1(),{backgroundColorClasses:w,backgroundColorStyles:N}=useBackgroundColor(toRef(t,"bgColor")),{textColorClasses:O,textColorStyles:D}=useTextColor(computed(()=>_.value&&d.value&&!t.error&&!t.disabled?t.color:void 0));watch(_,W=>{if(b.value){const U=A.value.$el,K=R.value.$el,H=nullifyTransforms(U),J=K.getBoundingClientRect(),q=J.x-H.x,ce=J.y-H.y-(H.height/2-J.height/2),te=J.width/.75,Q=Math.abs(te-H.width)>1?{maxWidth:convertToUnit(te)}:void 0,de=getComputedStyle(U),Oe=getComputedStyle(K),_e=parseFloat(de.transitionDuration)*1e3||150,Ce=parseFloat(Oe.getPropertyValue("--v-field-label-scale")),Le=Oe.getPropertyValue("color");U.style.visibility="visible",K.style.visibility="hidden",animate(U,{transform:`translate(${q}px, ${ce}px) scale(${Ce})`,color:Le,...Q},{duration:_e,easing:standardEasing,direction:W?"normal":"reverse"}).finished.then(()=>{U.style.removeProperty("visibility"),K.style.removeProperty("visibility")})}},{flush:"post"});const V=computed(()=>({isActive:_,isFocused:d,controlRef:I,blur:g,focus:f}));function L(W){W.target!==document.activeElement&&W.preventDefault(),r("click:control",W)}return useRender(()=>{var W,U,K;const H=t.variant==="outlined",J=o["prepend-inner"]||t.prependInnerIcon,q=!!(t.clearable||o.clear),ce=!!(o["append-inner"]||t.appendInnerIcon||q),te=o.label?o.label({label:t.label,props:{for:S.value}}):t.label;return createVNode("div",mergeProps({class:["v-field",{"v-field--active":_.value,"v-field--appended":ce,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":J,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!te,[`v-field--variant-${t.variant}`]:!0},s.value,w.value,u.value,l.value],style:[N.value,D.value],onClick:L},n),[createVNode("div",{class:"v-field__overlay"},null),createVNode(LoaderSlot,{name:"v-field",active:t.loading,color:t.error?"error":t.color},{default:o.loader}),J&&createVNode("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&createVNode(v,{key:"prepend-icon",name:"prependInner"},null),(W=o["prepend-inner"])==null?void 0:W.call(o,V.value)]),createVNode("div",{class:"v-field__field","data-no-activator":""},[["solo","filled"].includes(t.variant)&&b.value&&createVNode(VFieldLabel,{key:"floating-label",ref:R,class:[O.value],floating:!0,for:S.value},{default:()=>[te]}),createVNode(VFieldLabel,{ref:A,for:S.value},{default:()=>[te]}),(U=o.default)==null?void 0:U.call(o,{...V.value,props:{id:S.value,class:"v-field__input"},focus:f,blur:g})]),q&&createVNode(VExpandXTransition,{key:"clear"},{default:()=>[withDirectives(createVNode("div",{class:"v-field__clearable"},[o.clear?o.clear():createVNode(v,{name:"clear"},null)]),[[vShow,t.dirty]])]}),ce&&createVNode("div",{key:"append",class:"v-field__append-inner"},[(K=o["append-inner"])==null?void 0:K.call(o,V.value),t.appendInnerIcon&&createVNode(v,{key:"append-icon",name:"appendInner"},null)]),createVNode("div",{class:["v-field__outline",O.value]},[H&&createVNode(Fragment,null,[createVNode("div",{class:"v-field__outline__start"},null),b.value&&createVNode("div",{class:"v-field__outline__notch"},[createVNode(VFieldLabel,{ref:R,floating:!0,for:S.value},{default:()=>[te]})]),createVNode("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(t.variant)&&b.value&&createVNode(VFieldLabel,{ref:R,floating:!0,for:S.value},{default:()=>[te]})])])}),{controlRef:I}}});function filterFieldProps(t){const e=Object.keys(VField.props).filter(n=>!isOn(n));return pick(t,e)}const VInput$1="",VMessages$1="",VMessages=defineComponent({name:"VMessages",props:{active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...makeTransitionProps({transition:{component:VSlideYTransition,leaveAbsolute:!0,group:!0}})},setup(t,e){let{slots:n}=e;const r=computed(()=>wrapInArray(t.messages)),{textColorClasses:o,textColorStyles:s}=useTextColor(computed(()=>t.color));return useRender(()=>createVNode(MaybeTransition,{transition:t.transition,tag:"div",class:["v-messages",o.value],style:s.value},{default:()=>[t.active&&r.value.map((l,u)=>createVNode("div",{class:"v-messages__message",key:`${u}-${r.value}`},[n.message?n.message({message:l}):l]))]})),{}}}),FormKey=Symbol.for("vuetify:form");function useForm(){return inject$1(FormKey,null)}const makeValidationProps=propsFactory({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...makeFocusProps()},"validation");function useValidation(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:getUid();const r=useProxiedModel(t,"modelValue"),o=computed(()=>t.validationValue===void 0?r.value:t.validationValue),s=useForm(),l=ref$1([]),u=ref$1(!0),d=computed(()=>!!(wrapInArray(r.value===""?null:r.value).length||wrapInArray(o.value===""?null:o.value).length)),f=computed(()=>!!(t.disabled||s!=null&&s.isDisabled.value)),g=computed(()=>!!(t.readonly||s!=null&&s.isReadonly.value)),v=computed(()=>t.errorMessages.length?wrapInArray(t.errorMessages):l.value),_=computed(()=>t.error||v.value.length?!1:t.rules.length&&u.value?null:!0),b=ref$1(!1),C=computed(()=>({[`${e}--error`]:_.value===!1,[`${e}--dirty`]:d.value,[`${e}--disabled`]:f.value,[`${e}--readonly`]:g.value})),S=computed(()=>{var N;return(N=t.name)!=null?N:unref(n)});onBeforeMount(()=>{s==null||s.register({id:S.value,validate:w,reset:R,resetValidation:I})}),onBeforeUnmount(()=>{s==null||s.unregister(S.value)});const A=computed(()=>t.validateOn||(s==null?void 0:s.validateOn.value)||"input");onMounted(()=>s==null?void 0:s.update(S.value,_.value,v.value)),useToggleScope(()=>A.value==="input",()=>{watch(o,()=>{if(o.value!=null)w();else if(t.focused){const N=watch(()=>t.focused,O=>{O||w(),N()})}})}),useToggleScope(()=>A.value==="blur",()=>{watch(()=>t.focused,N=>{N||w()})}),watch(_,()=>{s==null||s.update(S.value,_.value,v.value)});function R(){I(),r.value=null}function I(){u.value=!0,l.value=[]}async function w(){const N=[];b.value=!0;for(const O of t.rules){if(N.length>=(t.maxErrors||1))break;const V=await(typeof O=="function"?O:()=>O)(o.value);if(V!==!0){if(typeof V!="string"){console.warn(`${V} is not a valid value. Rule functions must return boolean true or a string.`);continue}N.push(V)}}return l.value=N,b.value=!1,u.value=!1,l.value}return{errorMessages:v,isDirty:d,isDisabled:f,isReadonly:g,isPristine:u,isValid:_,isValidating:b,reset:R,resetValidation:I,validate:w,validationClasses:C}}const makeVInputProps=propsFactory({id:String,appendIcon:IconValue,prependIcon:IconValue,hideDetails:[Boolean,String],messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":EventProp,"onClick:append":EventProp,...makeDensityProps(),...makeValidationProps()},"v-input"),VInput=genericComponent()({name:"VInput",props:{...makeVInputProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r,emit:o}=e;const{densityClasses:s}=useDensity(t),{InputIcon:l}=useInputIcon(t),u=getUid(),d=computed(()=>t.id||`input-${u}`),{errorMessages:f,isDirty:g,isDisabled:v,isReadonly:_,isPristine:b,isValid:C,isValidating:S,reset:A,resetValidation:R,validate:I,validationClasses:w}=useValidation(t,"v-input",d),N=computed(()=>({id:d,isDirty:g,isDisabled:v,isReadonly:_,isPristine:b,isValid:C,isValidating:S,reset:A,resetValidation:R,validate:I}));return useRender(()=>{var O,D,V,L,W;const U=!!(r.prepend||t.prependIcon),K=!!(r.append||t.appendIcon),H=!!((O=t.messages)!=null&&O.length||f.value.length),J=!t.hideDetails||t.hideDetails==="auto"&&(H||!!r.details);return createVNode("div",{class:["v-input",`v-input--${t.direction}`,s.value,w.value]},[U&&createVNode("div",{key:"prepend",class:"v-input__prepend"},[(D=r.prepend)==null?void 0:D.call(r,N.value),t.prependIcon&&createVNode(l,{key:"prepend-icon",name:"prepend"},null)]),r.default&&createVNode("div",{class:"v-input__control"},[(V=r.default)==null?void 0:V.call(r,N.value)]),K&&createVNode("div",{key:"append",class:"v-input__append"},[t.appendIcon&&createVNode(l,{key:"append-icon",name:"append"},null),(L=r.append)==null?void 0:L.call(r,N.value)]),J&&createVNode("div",{class:"v-input__details"},[createVNode(VMessages,{active:H,messages:f.value.length>0?f.value:t.messages},{message:r.message}),(W=r.details)==null?void 0:W.call(r,N.value)])])}),{reset:A,resetValidation:R,validate:I}}});function filterInputProps(t){const e=Object.keys(VInput.props).filter(n=>!isOn(n));return pick(t,e)}const VCounter$1="",VCounter=defineComponent({name:"VCounter",functional:!0,props:{active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...makeTransitionProps({transition:{component:VSlideYTransition}})},setup(t,e){let{slots:n}=e;const r=computed(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return useRender(()=>createVNode(MaybeTransition,{transition:t.transition},{default:()=>[withDirectives(createVNode("div",{class:"v-counter"},[n.default?n.default({counter:r.value,max:t.max,value:t.value}):r.value]),[[vShow,t.active]])]})),{}}});function mounted$1(t,e){if(!SUPPORTS_INTERSECTION)return;const n=e.modifiers||{},r=e.value,{handler:o,options:s}=typeof r=="object"?r:{handler:r,options:{}},l=new IntersectionObserver(function(){var u;let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0;const g=(u=t._observe)==null?void 0:u[e.instance.$.uid];if(!g)return;const v=d.some(_=>_.isIntersecting);o&&(!n.quiet||g.init)&&(!n.once||v||g.init)&&o(v,d,f),v&&n.once?unmounted$1(t,e):g.init=!0},s);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:l},l.observe(t)}function unmounted$1(t,e){var n;const r=(n=t._observe)==null?void 0:n[e.instance.$.uid];!r||(r.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const Intersect={mounted:mounted$1,unmounted:unmounted$1},intersect=Intersect,activeTypes=["color","file","time","date","datetime-local","week","month"],makeVTextFieldProps=propsFactory({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},...makeVInputProps(),...makeVFieldProps()},"v-text-field"),VTextField=genericComponent()({name:"VTextField",directives:{Intersect:intersect},inheritAttrs:!1,props:makeVTextFieldProps(),emits:{"click:control":t=>!0,"click:input":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const s=useProxiedModel(t,"modelValue"),{isFocused:l,focus:u,blur:d}=useFocus(t),f=computed(()=>{var O;return typeof t.counterValue=="function"?t.counterValue(s.value):((O=s.value)!=null?O:"").toString().length}),g=computed(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function v(O,D){var V,L;!t.autofocus||!O||(V=D[0].target)==null||(L=V.focus)==null||L.call(V)}const _=ref$1(),b=ref$1(),C=ref$1(),S=computed(()=>activeTypes.includes(t.type)||t.persistentPlaceholder||l.value),A=computed(()=>t.messages.length?t.messages:l.value||t.persistentHint?t.hint:"");function R(){if(C.value!==document.activeElement){var O;(O=C.value)==null||O.focus()}l.value||u()}function I(O){R(),r("click:control",O)}function w(O){O.stopPropagation(),R(),nextTick(()=>{s.value=null,callEvent(t["onClick:clear"],O)})}function N(O){s.value=O.target.value}return useRender(()=>{const O=!!(o.counter||t.counter||t.counterValue),D=!!(O||o.details),[V,L]=filterInputAttrs(n),[{modelValue:W,...U}]=filterInputProps(t),[K]=filterFieldProps(t);return createVNode(VInput,mergeProps({ref:_,modelValue:s.value,"onUpdate:modelValue":H=>s.value=H,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-text-field--flush-details":["plain","underlined"].includes(t.variant)}],"onClick:prepend":t["onClick:prepend"],"onClick:append":t["onClick:append"]},V,U,{focused:l.value,messages:A.value}),{...o,default:H=>{let{id:J,isDisabled:q,isDirty:ce,isReadonly:te,isValid:Q}=H;return createVNode(VField,mergeProps({ref:b,onMousedown:de=>{de.target!==C.value&&de.preventDefault()},"onClick:control":I,"onClick:clear":w,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:"textbox"},K,{id:J.value,active:S.value||ce.value,dirty:ce.value||t.dirty,focused:l.value,error:Q.value===!1}),{...o,default:de=>{let{props:{class:Oe,..._e}}=de;const Ce=withDirectives(createVNode("input",mergeProps({ref:C,value:s.value,onInput:N,autofocus:t.autofocus,readonly:te.value,disabled:q.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:R,onBlur:d},_e,L),null),[[resolveDirective("intersect"),{handler:v},null,{once:!0}]]);return createVNode(Fragment,null,[t.prefix&&createVNode("span",{class:"v-text-field__prefix"},[t.prefix]),o.default?createVNode("div",{class:Oe,onClick:Le=>r("click:input",Le),"data-no-activator":""},[o.default(),Ce]):cloneVNode(Ce,{class:Oe}),t.suffix&&createVNode("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:D?H=>{var J;return createVNode(Fragment,null,[(J=o.details)==null?void 0:J.call(o,H),O&&createVNode(Fragment,null,[createVNode("span",null,null),createVNode(VCounter,{active:t.persistentCounter||l.value,value:f.value,max:g.value},o.counter)])])}:void 0})}),forwardRefs({},_,b,C)}});function filterVTextFieldProps(t){return pick(t,Object.keys(VTextField.props))}const VToolbar$1="",VImg$1="",VResponsive$1="";function useAspectStyles(t){return{aspectStyles:computed(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const VResponsive=defineComponent({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...makeDimensionProps()},setup(t,e){let{slots:n}=e;const{aspectStyles:r}=useAspectStyles(t),{dimensionStyles:o}=useDimension(t);return useRender(()=>{var s;return createVNode("div",{class:"v-responsive",style:o.value},[createVNode("div",{class:"v-responsive__sizer",style:r.value},null),(s=n.additional)==null?void 0:s.call(n),n.default&&createVNode("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}}),VImg=defineComponent({name:"VImg",directives:{intersect},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...makeTransitionProps()},emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:r}=e;const o=ref$1(""),s=ref$1(),l=ref$1(t.eager?"loading":"idle"),u=ref$1(),d=ref$1(),f=computed(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),g=computed(()=>f.value.aspect||u.value/d.value||0);watch(()=>t.src,()=>{v(l.value!=="idle")}),onBeforeMount(()=>v());function v(V){if(!(t.eager&&V)&&!(SUPPORTS_INTERSECTION&&!V&&!t.eager)){if(l.value="loading",f.value.lazySrc){const L=new Image;L.src=f.value.lazySrc,S(L,null)}!f.value.src||nextTick(()=>{var L,W;if(n("loadstart",((L=s.value)==null?void 0:L.currentSrc)||f.value.src),(W=s.value)!=null&&W.complete){if(s.value.naturalWidth||b(),l.value==="error")return;g.value||S(s.value,null),_()}else g.value||S(s.value),C()})}}function _(){var V;C(),l.value="loaded",n("load",((V=s.value)==null?void 0:V.currentSrc)||f.value.src)}function b(){var V;l.value="error",n("error",((V=s.value)==null?void 0:V.currentSrc)||f.value.src)}function C(){const V=s.value;V&&(o.value=V.currentSrc||V.src)}function S(V){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const W=()=>{const{naturalHeight:U,naturalWidth:K}=V;U||K?(u.value=K,d.value=U):!V.complete&&l.value==="loading"&&L!=null?setTimeout(W,L):(V.currentSrc.endsWith(".svg")||V.currentSrc.startsWith("data:image/svg+xml"))&&(u.value=1,d.value=1)};W()}const A=computed(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),R=()=>{var V;if(!f.value.src||l.value==="idle")return null;const L=createVNode("img",{class:["v-img__img",A.value],src:f.value.src,srcset:f.value.srcset,alt:"",sizes:t.sizes,ref:s,onLoad:_,onError:b},null),W=(V=r.sources)==null?void 0:V.call(r);return createVNode(MaybeTransition,{transition:t.transition,appear:!0},{default:()=>[withDirectives(W?createVNode("picture",{class:"v-img__picture"},[W,L]):L,[[vShow,l.value==="loaded"]])]})},I=()=>createVNode(MaybeTransition,{transition:t.transition},{default:()=>[f.value.lazySrc&&l.value!=="loaded"&&createVNode("img",{class:["v-img__img","v-img__img--preload",A.value],src:f.value.lazySrc,alt:""},null)]}),w=()=>r.placeholder?createVNode(MaybeTransition,{transition:t.transition,appear:!0},{default:()=>[(l.value==="loading"||l.value==="error"&&!r.error)&&createVNode("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,N=()=>r.error?createVNode(MaybeTransition,{transition:t.transition,appear:!0},{default:()=>[l.value==="error"&&createVNode("div",{class:"v-img__error"},[r.error()])]}):null,O=()=>t.gradient?createVNode("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,D=ref$1(!1);{const V=watch(g,L=>{L&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{D.value=!0})}),V())})}return useRender(()=>withDirectives(createVNode(VResponsive,{class:["v-img",{"v-img--booting":!D.value}],style:{width:convertToUnit(t.width==="auto"?u.value:t.width)},aspectRatio:g.value,"aria-label":t.alt,role:t.alt?"img":void 0},{additional:()=>createVNode(Fragment,null,[createVNode(R,null,null),createVNode(I,null,null),createVNode(O,null,null),createVNode(w,null,null),createVNode(N,null,null)]),default:r.default}),[[resolveDirective("intersect"),{handler:v,options:t.options},null,{once:!0}]])),{currentSrc:o,image:s,state:l,naturalWidth:u,naturalHeight:d}}}),VToolbarTitle=genericComponent()({name:"VToolbarTitle",props:{text:String,...makeTagProps()},setup(t,e){let{slots:n}=e;return useRender(()=>{var r;const o=!!(n.default||n.text||t.text);return createVNode(t.tag,{class:"v-toolbar-title"},{default:()=>[o&&createVNode("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(r=n.default)==null?void 0:r.call(n)])]})}),{}}}),allowedDensities=[null,"prominent","default","comfortable","compact"],makeVToolbarProps=propsFactory({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>allowedDensities.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...makeBorderProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps({tag:"header"}),...makeThemeProps()},"v-toolbar"),VToolbar=genericComponent()({name:"VToolbar",props:makeVToolbarProps(),setup(t,e){var n;let{slots:r}=e;const{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(toRef(t,"color")),{borderClasses:l}=useBorder(t),{elevationClasses:u}=useElevation(t),{roundedClasses:d}=useRounded(t),{themeClasses:f}=provideTheme(t),g=ref$1(!!(t.extended||(n=r.extension)!=null&&n.call(r))),v=computed(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),_=computed(()=>g.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>{var b,C,S,A,R;const I=!!(t.title||r.title),w=!!(r.image||t.image),N=(b=r.extension)==null?void 0:b.call(r);return g.value=!!(t.extended||N),createVNode(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},o.value,l.value,u.value,d.value,f.value],style:[s.value]},{default:()=>[w&&createVNode("div",{key:"image",class:"v-toolbar__image"},[createVNode(VDefaultsProvider,{defaults:{VImg:{cover:!0,src:t.image}}},{default:()=>[r.image?(C=r.image)==null?void 0:C.call(r):createVNode(VImg,null,null)]})]),createVNode("div",{class:"v-toolbar__content",style:{height:convertToUnit(v.value)}},[r.prepend&&createVNode("div",{class:"v-toolbar__prepend"},[(S=r.prepend)==null?void 0:S.call(r)]),I&&createVNode(VToolbarTitle,{key:"title",text:t.title},{text:r.title}),(A=r.default)==null?void 0:A.call(r),r.append&&createVNode("div",{class:"v-toolbar__append"},[(R=r.append)==null?void 0:R.call(r)])]),createVNode(VExpandTransition,null,{default:()=>[g.value&&createVNode("div",{class:"v-toolbar__extension",style:{height:convertToUnit(_.value)}},[N])]})]})}),{contentHeight:v,extensionHeight:_}}}),_sfc_main$b={data:()=>({email:"",password:"",showPass:!1}),computed:{...mapState(useStore,["user","gameLoaded"])},methods:{...mapActions(useStore,["logIn"])}};function _sfc_render$b(t,e,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{color:"grey",density:"compact"},{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(" Legendary Randomizer ")]),_:1})]),_:1}),createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VTextField,{label:"E-Mail",modelValue:t.email,"onUpdate:modelValue":e[0]||(e[0]=l=>t.email=l)},null,8,["modelValue"]),createVNode(VTextField,{label:"Password",modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=l=>t.password=l),type:t.showPass?"text":"password","append-inner-icon":t.showPass?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[2]||(e[2]=l=>t.showPass=!t.showPass)},null,8,["modelValue","type","append-inner-icon"]),createVNode(VBtn,{onClick:e[3]||(e[3]=l=>t.logIn({email:t.email,password:t.password}))},{default:withCtx(()=>[createTextVNode("Sign In")]),_:1})]),_:1})])}const Home=_export_sfc(_sfc_main$b,[["render",_sfc_render$b]]),VList$1="",VDivider$1="",VDivider=defineComponent({name:"VDivider",props:{color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...makeThemeProps()},setup(t,e){let{attrs:n}=e;const{themeClasses:r}=provideTheme(t),{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(toRef(t,"color")),l=computed(()=>{const u={};return t.length&&(u[t.vertical?"maxHeight":"maxWidth"]=convertToUnit(t.length)),t.thickness&&(u[t.vertical?"borderRightWidth":"borderTopWidth"]=convertToUnit(t.thickness)),u});return useRender(()=>createVNode("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},r.value,o.value],style:[l.value,s.value],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}}),ListKey=Symbol.for("vuetify:list");function createList(){const t=inject$1(ListKey,{hasPrepend:ref$1(!1),updateHasPrepend:()=>null}),e={hasPrepend:ref$1(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return provide(ListKey,e),t}function useList(){return inject$1(ListKey,null)}const singleOpenStrategy={open:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(n){const s=new Set;s.add(e);let l=o.get(e);for(;l!=null;)s.add(l),l=o.get(l);return s}else return r.delete(e),r},select:()=>null},multipleOpenStrategy={open:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(n){let s=o.get(e);for(r.add(e);s!=null&&s!==e;)r.add(s),s=o.get(s);return r}else r.delete(e);return r},select:()=>null},listOpenStrategy={open:multipleOpenStrategy.open,select:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(!n)return r;const s=[];let l=o.get(e);for(;l!=null;)s.push(l),l=o.get(l);return new Set(s)}},independentSelectStrategy=t=>{const e={select:n=>{let{id:r,value:o,selected:s}=n;if(t&&!o){const l=Array.from(s.entries()).reduce((u,d)=>{let[f,g]=d;return g==="on"?[...u,f]:u},[]);if(l.length===1&&l[0]===r)return s}return s.set(r,o?"on":"off"),s},in:(n,r,o)=>{let s=new Map;for(const l of n||[])s=e.select({id:l,value:!0,selected:new Map(s),children:r,parents:o});return s},out:n=>{const r=[];for(const[o,s]of n.entries())s==="on"&&r.push(o);return r}};return e},independentSingleSelectStrategy=t=>{const e=independentSelectStrategy(t);return{select:r=>{let{selected:o,id:s,...l}=r;const u=o.has(s)?new Map([[s,o.get(s)]]):new Map;return e.select({...l,id:s,selected:u})},in:(r,o,s)=>{let l=new Map;return r!=null&&r.length&&(l=e.in(r.slice(0,1),o,s)),l},out:(r,o,s)=>e.out(r,o,s)}},leafSelectStrategy=t=>{const e=independentSelectStrategy(t);return{select:r=>{let{id:o,selected:s,children:l,...u}=r;return l.has(o)?s:e.select({id:o,selected:s,children:l,...u})},in:e.in,out:e.out}},leafSingleSelectStrategy=t=>{const e=independentSingleSelectStrategy(t);return{select:r=>{let{id:o,selected:s,children:l,...u}=r;return l.has(o)?s:e.select({id:o,selected:s,children:l,...u})},in:e.in,out:e.out}},classicSelectStrategy=t=>{const e={select:n=>{let{id:r,value:o,selected:s,children:l,parents:u}=n;const d=new Map(s),f=[r];for(;f.length;){const v=f.shift();s.set(v,o?"on":"off"),l.has(v)&&f.push(...l.get(v))}let g=u.get(r);for(;g;){const v=l.get(g),_=v.every(C=>s.get(C)==="on"),b=v.every(C=>!s.has(C)||s.get(C)==="off");s.set(g,_?"on":b?"off":"indeterminate"),g=u.get(g)}return t&&!o&&Array.from(s.entries()).reduce((_,b)=>{let[C,S]=b;return S==="on"?[..._,C]:_},[]).length===0?d:s},in:(n,r,o)=>{let s=new Map;for(const l of n||[])s=e.select({id:l,value:!0,selected:new Map(s),children:r,parents:o});return s},out:(n,r)=>{const o=[];for(const[s,l]of n.entries())l==="on"&&!r.has(s)&&o.push(s);return o}};return e},VNestedSymbol=Symbol.for("vuetify:nested"),emptyNested={id:ref$1(),root:{register:()=>null,unregister:()=>null,parents:ref$1(new Map),children:ref$1(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:ref$1(new Set),selected:ref$1(new Map),selectedValues:ref$1([])}},makeNestedProps=propsFactory({selectStrategy:[String,Function],openStrategy:[String,Function],opened:Array,selected:Array,mandatory:Boolean},"nested"),useNested=t=>{let e=!1;const n=ref$1(new Map),r=ref$1(new Map),o=useProxiedModel(t,"opened",t.opened,v=>new Set(v),v=>[...v.values()]),s=computed(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single-leaf":return leafSingleSelectStrategy(t.mandatory);case"leaf":return leafSelectStrategy(t.mandatory);case"independent":return independentSelectStrategy(t.mandatory);case"single-independent":return independentSingleSelectStrategy(t.mandatory);case"classic":default:return classicSelectStrategy(t.mandatory)}}),l=computed(()=>{if(typeof t.openStrategy=="function")return t.openStrategy;switch(t.openStrategy){case"list":return listOpenStrategy;case"single":return singleOpenStrategy;case"multiple":default:return multipleOpenStrategy}}),u=useProxiedModel(t,"selected",t.selected,v=>s.value.in(v,n.value,r.value),v=>s.value.out(v,n.value,r.value));onBeforeUnmount(()=>{e=!0});function d(v){const _=[];let b=v;for(;b!=null;)_.unshift(b),b=r.value.get(b);return _}const f=getCurrentInstance("nested"),g={id:ref$1(),root:{opened:o,selected:u,selectedValues:computed(()=>{const v=[];for(const[_,b]of u.value.entries())b==="on"&&v.push(_);return v}),register:(v,_,b)=>{_&&v!==_&&r.value.set(v,_),b&&n.value.set(v,[]),_!=null&&n.value.set(_,[...n.value.get(_)||[],v])},unregister:v=>{var b;if(e)return;n.value.delete(v);const _=r.value.get(v);if(_){const C=(b=n.value.get(_))!=null?b:[];n.value.set(_,C.filter(S=>S!==v))}r.value.delete(v),o.value.delete(v)},open:(v,_,b)=>{f.emit("click:open",{id:v,value:_,path:d(v),event:b});const C=l.value.open({id:v,value:_,opened:new Set(o.value),children:n.value,parents:r.value,event:b});C&&(o.value=C)},openOnSelect:(v,_,b)=>{const C=l.value.select({id:v,value:_,selected:new Map(u.value),opened:new Set(o.value),children:n.value,parents:r.value,event:b});C&&(o.value=C)},select:(v,_,b)=>{f.emit("click:select",{id:v,value:_,path:d(v),event:b});const C=s.value.select({id:v,value:_,selected:new Map(u.value),children:n.value,parents:r.value,event:b});C&&(u.value=C),g.root.openOnSelect(v,_,b)},children:n,parents:r}};return provide(VNestedSymbol,g),g.root},useNestedItem=(t,e)=>{const n=inject$1(VNestedSymbol,emptyNested),r=computed(()=>{var s;return(s=t.value)!=null?s:Symbol(getUid())}),o={...n,id:r,open:(s,l)=>n.root.open(r.value,s,l),openOnSelect:(s,l)=>n.root.openOnSelect(r.value,s,l),isOpen:computed(()=>n.root.opened.value.has(r.value)),parent:computed(()=>n.root.parents.value.get(r.value)),select:(s,l)=>n.root.select(r.value,s,l),isSelected:computed(()=>n.root.selected.value.get(r.value)==="on"),isIndeterminate:computed(()=>n.root.selected.value.get(r.value)==="indeterminate"),isLeaf:computed(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(r.value,n.id.value,e),onBeforeUnmount(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),e&&provide(VNestedSymbol,o),o},useNestedGroupActivator=()=>{const t=inject$1(VNestedSymbol,emptyNested);provide(VNestedSymbol,{...t,isGroupActivator:!0})},VListGroupActivator=defineComponent({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return useNestedGroupActivator(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),makeVListGroupProps=propsFactory({activeColor:String,color:String,collapseIcon:{type:IconValue,default:"$collapse"},expandIcon:{type:IconValue,default:"$expand"},prependIcon:IconValue,appendIcon:IconValue,fluid:Boolean,subgroup:Boolean,value:null,...makeTagProps()},"v-list-group"),VListGroup=genericComponent()({name:"VListGroup",props:{title:String,...makeVListGroupProps()},setup(t,e){let{slots:n}=e;const{isOpen:r,open:o,id:s}=useNestedItem(toRef(t,"value"),!0),l=computed(()=>`v-list-group--id-${String(s.value)}`),u=useList();function d(v){o(!r.value,v)}const f=computed(()=>({onClick:d,class:"v-list-group__header",id:l.value})),g=computed(()=>r.value?t.collapseIcon:t.expandIcon);return useRender(()=>{var v;return createVNode(t.tag,{class:["v-list-group",{"v-list-group--prepend":u==null?void 0:u.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup}]},{default:()=>[n.activator&&createVNode(VDefaultsProvider,{defaults:{VListItem:{active:r.value,activeColor:t.activeColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&g.value,appendIcon:t.appendIcon||!t.subgroup&&g.value,title:t.title,value:t.value}}},{default:()=>[createVNode(VListGroupActivator,null,{default:()=>[n.activator({props:f.value,isOpen:r})]})]}),createVNode(VExpandTransition,null,{default:()=>[withDirectives(createVNode("div",{class:"v-list-group__items",role:"group","aria-labelledby":l.value},[(v=n.default)==null?void 0:v.call(n)]),[[vShow,r.value]])]})]})}),{}}});function filterListGroupProps(t){return pick(t,Object.keys(VListGroup.props))}const VListItem$1="",VAvatar$1="",makeVAvatarProps=propsFactory({start:Boolean,end:Boolean,icon:IconValue,image:String,...makeDensityProps(),...makeRoundedProps(),...makeSizeProps(),...makeTagProps(),...makeVariantProps({variant:"flat"})},"v-avatar"),VAvatar=defineComponent({name:"VAvatar",props:makeVAvatarProps(),setup(t,e){let{slots:n}=e;const{colorClasses:r,colorStyles:o,variantClasses:s}=useVariant(t),{densityClasses:l}=useDensity(t),{roundedClasses:u}=useRounded(t),{sizeClasses:d,sizeStyles:f}=useSize(t);return useRender(()=>{var g;return createVNode(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},r.value,l.value,u.value,d.value,s.value],style:[o.value,f.value]},{default:()=>[t.image?createVNode(VImg,{key:"image",src:t.image,alt:""},null):t.icon?createVNode(VIcon,{key:"icon",icon:t.icon},null):(g=n.default)==null?void 0:g.call(n),genOverlays(!1,"v-avatar")]})}),{}}}),VListItemSubtitle=createSimpleFunctional("v-list-item-subtitle"),VListItemTitle=createSimpleFunctional("v-list-item-title"),VListItem=genericComponent()({name:"VListItem",directives:{Ripple},props:{active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:IconValue,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:IconValue,subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:EventProp,onClickOnce:EventProp,...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:r,emit:o}=e;const s=useLink$1(t,n),l=computed(()=>{var Q;return(Q=t.value)!=null?Q:s.href.value}),{select:u,isSelected:d,isIndeterminate:f,isGroupActivator:g,root:v,parent:_,openOnSelect:b}=useNestedItem(l,!1),C=useList(),S=computed(()=>{var Q;return t.active!==!1&&(t.active||((Q=s.isActive)==null?void 0:Q.value)||d.value)}),A=computed(()=>t.link!==!1&&s.isLink.value),R=computed(()=>!t.disabled&&t.link!==!1&&(t.link||s.isClickable.value||t.value!=null&&!!C)),I=computed(()=>t.rounded||t.nav),w=computed(()=>{var Q;return{color:S.value&&(Q=t.activeColor)!=null?Q:t.color,variant:t.variant}});watch(()=>{var Q;return(Q=s.isActive)==null?void 0:Q.value},Q=>{Q&&_.value!=null&&v.open(_.value,!0),Q&&b(Q)},{immediate:!0});const{themeClasses:N}=provideTheme(t),{borderClasses:O}=useBorder(t),{colorClasses:D,colorStyles:V,variantClasses:L}=useVariant(w),{densityClasses:W}=useDensity(t),{dimensionStyles:U}=useDimension(t),{elevationClasses:K}=useElevation(t),{roundedClasses:H}=useRounded(I),J=computed(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),q=computed(()=>({isActive:S.value,select:u,isSelected:d.value,isIndeterminate:f.value}));function ce(Q){var de;o("click",Q),!(g||!R.value)&&((de=s.navigate)==null||de.call(s,Q),t.value!=null&&u(!d.value,Q))}function te(Q){(Q.key==="Enter"||Q.key===" ")&&(Q.preventDefault(),ce(Q))}return useRender(()=>{var Q,de,Oe,_e,Ce;const Le=A.value?"a":t.tag,tt=!C||d.value||S.value,be=r.title||t.title,j=r.subtitle||t.subtitle,ue=!!(r.append||t.appendAvatar||t.appendIcon),he=!!(r.prepend||t.prependAvatar||t.prependIcon);return C==null||C.updateHasPrepend(he),withDirectives(createVNode(Le,{class:["v-list-item",{"v-list-item--active":S.value,"v-list-item--disabled":t.disabled,"v-list-item--link":R.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!he&&(C==null?void 0:C.hasPrepend.value),[`${t.activeClass}`]:t.activeClass&&S.value},N.value,O.value,tt?D.value:void 0,W.value,K.value,J.value,H.value,L.value],style:[tt?V.value:void 0,U.value],href:s.href.value,tabindex:R.value?0:void 0,onClick:ce,onKeydown:R.value&&!A.value&&te},{default:()=>[genOverlays(R.value||S.value,"v-list-item"),he&&createVNode(VDefaultsProvider,{key:"prepend",defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>[createVNode("div",{class:"v-list-item__prepend"},[t.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar"},null),t.prependIcon&&createVNode(VIcon,{key:"prepend-icon"},null),(Q=r.prepend)==null?void 0:Q.call(r,q.value)])]}),createVNode("div",{class:"v-list-item__content"},[be&&createVNode(VListItemTitle,{key:"title"},{default:()=>{var Ee;return[(Ee=(de=r.title)==null?void 0:de.call(r,{title:t.title}))!=null?Ee:t.title]}}),j&&createVNode(VListItemSubtitle,{key:"subtitle"},{default:()=>{var Ee;return[(Ee=(Oe=r.subtitle)==null?void 0:Oe.call(r,{subtitle:t.subtitle}))!=null?Ee:t.subtitle]}}),(_e=r.default)==null?void 0:_e.call(r,q.value)]),ue&&createVNode(VDefaultsProvider,{key:"append",defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>[createVNode("div",{class:"v-list-item__append"},[(Ce=r.append)==null?void 0:Ce.call(r,q.value),t.appendIcon&&createVNode(VIcon,{key:"append-icon"},null),t.appendAvatar&&createVNode(VAvatar,{key:"append-avatar"},null)])]})]}),[[resolveDirective("ripple"),R.value]])}),{}}}),VListSubheader=defineComponent({name:"VListSubheader",props:{color:String,inset:Boolean,sticky:Boolean,title:String,...makeTagProps()},setup(t,e){let{slots:n}=e;const{textColorClasses:r,textColorStyles:o}=useTextColor(toRef(t,"color"));return useRender(()=>{var s;const l=!!(n.default||t.title);return createVNode(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},r.value],style:{textColorStyles:o}},{default:()=>{var u;return[l&&createVNode("div",{class:"v-list-subheader__text"},[(u=(s=n.default)==null?void 0:s.call(n))!=null?u:t.title])]}})}),{}}}),VListChildren=genericComponent()({name:"VListChildren",props:{items:Array},setup(t,e){let{slots:n}=e;return createList(),()=>{var s;var r,o;return(s=(r=n.default)==null?void 0:r.call(n))!=null?s:(o=t.items)==null?void 0:o.map(l=>{var A,R;let{children:u,props:d,type:f,raw:g}=l;if(f==="divider"){var v;return(A=(v=n.divider)==null?void 0:v.call(n,{props:d}))!=null?A:createVNode(VDivider,d,null)}if(f==="subheader"){var _;return(R=(_=n.subheader)==null?void 0:_.call(n,{props:d}))!=null?R:createVNode(VListSubheader,d,{default:n.subheader})}const b={subtitle:n.subtitle?I=>{var w;return(w=n.subtitle)==null?void 0:w.call(n,{...I,item:g})}:void 0,prepend:n.prepend?I=>{var w;return(w=n.prepend)==null?void 0:w.call(n,{...I,item:g})}:void 0,append:n.append?I=>{var w;return(w=n.append)==null?void 0:w.call(n,{...I,item:g})}:void 0,default:n.default?I=>{var w;return(w=n.default)==null?void 0:w.call(n,{...I,item:g})}:void 0,title:n.title?I=>{var w;return(w=n.title)==null?void 0:w.call(n,{...I,item:g})}:void 0},[C,S]=filterListGroupProps(d);return u?createVNode(VListGroup,mergeProps({value:d==null?void 0:d.value},C),{activator:I=>{let{props:w}=I;return n.header?n.header({...d,...w}):createVNode(VListItem,mergeProps(d,w),b)},default:()=>createVNode(VListChildren,{items:u},n)}):n.item?n.item(d):createVNode(VListItem,d,b)})}}}),makeItemsProps=propsFactory({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"item");function transformItem$1(t,e){var u;const n=getPropertyFromItem(e,t.itemTitle,e),r=t.returnObject?e:getPropertyFromItem(e,t.itemValue,n),o=getPropertyFromItem(e,t.itemChildren),s=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?pick(e,["children"])[1]:e:void 0:getPropertyFromItem(e,t.itemProps),l={title:n,value:r,...s};return{title:String((u=l.title)!=null?u:""),value:l.value,props:l,children:Array.isArray(o)?transformItems$1(t,o):void 0,raw:e}}function transformItems$1(t,e){const n=[];for(const r of e)n.push(transformItem$1(t,r));return n}function useItems(t){const e=computed(()=>transformItems$1(t,t.items));function n(o){return o.map(s=>transformItem$1(t,s))}function r(o){return o.map(s=>{let{props:l}=s;return l.value})}return{items:e,transformIn:n,transformOut:r}}function transformItem(t,e){const n=getPropertyFromItem(e,t.itemType,"item"),r=typeof e=="string"?e:getPropertyFromItem(e,t.itemTitle),o=getPropertyFromItem(e,t.itemValue,void 0),s=getPropertyFromItem(e,t.itemChildren),l=t.itemProps===!0?pick(e,["children"])[1]:getPropertyFromItem(e,t.itemProps),u={title:r,value:o,...l};return{type:n,title:u.title,value:u.value,props:u,children:n==="item"&&s?transformItems(t,s):void 0,raw:e}}function transformItems(t,e){const n=[];for(const r of e)n.push(transformItem(t,r));return n}function useListItems(t){return{items:computed(()=>transformItems(t,t.items))}}const VList=genericComponent()({name:"VList",props:{activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...makeNestedProps({selectStrategy:"single-leaf",openStrategy:"list"}),...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),itemType:{type:String,default:"type"},...makeItemsProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},emits:{"update:selected":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:r}=useListItems(t),{themeClasses:o}=provideTheme(t),{backgroundColorClasses:s,backgroundColorStyles:l}=useBackgroundColor(toRef(t,"bgColor")),{borderClasses:u}=useBorder(t),{densityClasses:d}=useDensity(t),{dimensionStyles:f}=useDimension(t),{elevationClasses:g}=useElevation(t),{roundedClasses:v}=useRounded(t),{open:_,select:b}=useNested(t),C=computed(()=>t.lines?`v-list--${t.lines}-line`:void 0),S=toRef(t,"activeColor"),A=toRef(t,"color");createList(),provideDefaults({VListGroup:{activeColor:S,color:A},VListItem:{activeClass:toRef(t,"activeClass"),activeColor:S,color:A,density:toRef(t,"density"),disabled:toRef(t,"disabled"),lines:toRef(t,"lines"),nav:toRef(t,"nav"),variant:toRef(t,"variant")}});const R=ref$1(!1),I=ref$1();function w(L){R.value=!0}function N(L){R.value=!1}function O(L){var W;!R.value&&!(L.relatedTarget&&(W=I.value)!=null&&W.contains(L.relatedTarget))&&V()}function D(L){if(!!I.value){if(L.key==="ArrowDown")V("next");else if(L.key==="ArrowUp")V("prev");else if(L.key==="Home")V("first");else if(L.key==="End")V("last");else return;L.preventDefault()}}function V(L){if(!I.value)return;const W=[...I.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(q=>!q.hasAttribute("disabled")),U=W.indexOf(document.activeElement);if(L)if(L==="first"){var H;(H=W[0])==null||H.focus()}else if(L==="last"){var J;(J=W.at(-1))==null||J.focus()}else{let q,ce=U;const te=L==="next"?1:-1;do ce+=te,q=W[ce];while((!q||q.offsetParent==null)&&ce<W.length&&ce>=0);q?q.focus():V(L==="next"?"first":"last")}else{var K;(K=W[0])==null||K.focus()}}return useRender(()=>createVNode(t.tag,{ref:I,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav},o.value,s.value,u.value,d.value,g.value,C.value,v.value],style:[l.value,f.value],role:"listbox","aria-activedescendant":void 0,onFocusin:w,onFocusout:N,onFocus:O,onKeydown:D},{default:()=>[createVNode(VListChildren,{items:r.value},n)]})),{open:_,select:b,focus:V}}}),_sfc_main$a={computed:{...mapState(useStore,["game","userSettings","display"])}};function _sfc_render$a(t,e,n,r,o,s){return openBlock(),createBlock(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.game.deck.heroes,l=>(openBlock(),createBlock(VCol,{cols:t.display.xs?12:6},{default:withCtx(()=>[createVNode(VListItem,null,createSlots({default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(l.primary),1)]),_:2},1024),createVNode(VListItemSubtitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(l.secondary),1)]),_:2},1024),createVNode(VListItemSubtitle,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.colors,u=>(openBlock(),createBlock(VIcon,{color:u},{default:withCtx(()=>[createTextVNode(" mdi-circle ")]),_:2},1032,["color"]))),256))]),_:2},1024)]),_:2},[l.special?{name:"append",fn:withCtx(()=>[createVNode(VIcon,{color:"error"},{default:withCtx(()=>[createTextVNode("mdi-star")]),_:1})]),key:"0"}:void 0]),1024)]),_:2},1032,["cols"]))),256))]),_:1})]),_:1})}const Heroes=_export_sfc(_sfc_main$a,[["render",_sfc_render$a]]),EnemySection_vue_vue_type_style_index_0_lang="",_sfc_main$9={props:["enemy","section"],computed:{...mapState(useStore,["userSettings"]),label(){return lodash.exports.startCase(this.section)}}},_hoisted_1$4={class:"mb-3"},_hoisted_2$2={class:"mx-1 px-1"};function _sfc_render$9(t,e,n,r,o,s){return openBlock(),createElementBlock("fieldset",_hoisted_1$4,[createBaseVNode("legend",_hoisted_2$2,toDisplayString(s.label),1),createVNode(VList,{density:"compact","bg-color":t.userSettings.bgColors?t.userSettings.bgColors[n.section]:"",class:normalizeClass(t.userSettings.textColors?`text-${t.userSettings.textColors[n.section]}`:"")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.enemy,l=>(openBlock(),createBlock(VListItem,null,createSlots({default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-black",style:normalizeStyle(`color:${t.userSettings.textColors[n.section]}`)},{default:withCtx(()=>[createTextVNode(toDisplayString(l.primary),1)]),_:2},1032,["style"]),l.secondary?(openBlock(),createBlock(VListItemSubtitle,{key:0},{default:withCtx(()=>[createTextVNode(toDisplayString(l.secondary),1)]),_:2},1024)):createCommentVNode("",!0),l.colors?(openBlock(),createBlock(VListItemSubtitle,{key:1},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.colors,u=>(openBlock(),createBlock(VIcon,{color:u},{default:withCtx(()=>[createTextVNode(" mdi-circle ")]),_:2},1032,["color"]))),256))]),_:2},1024)):createCommentVNode("",!0)]),_:2},[l.special?{name:"append",fn:withCtx(()=>[createVNode(VIcon,{color:"black"},{default:withCtx(()=>[createTextVNode("mdi-star")]),_:1})]),key:"0"}:void 0]),1024))),256))]),_:1},8,["bg-color","class"])])}const EnemySection=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]),_sfc_main$8={components:{EnemySection},computed:{...mapState(useStore,["game","userSettings"])}};function _sfc_render$8(t,e,n,r,o,s){const l=resolveComponent("enemy-section");return openBlock(),createBlock(VContainer,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.userSettings.enemiesLayout,u=>(openBlock(),createElementBlock("div",null,[createVNode(l,{section:u,enemy:t.game.deck[u]},null,8,["section","enemy"])]))),256))]),_:1})}const Enemies=_export_sfc(_sfc_main$8,[["render",_sfc_render$8]]),VCard$1="",VCardActions=defineComponent({name:"VCardActions",setup(t,e){let{slots:n}=e;return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>{var r;return createVNode("div",{class:"v-card-actions"},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),VCardSubtitle=createSimpleFunctional("v-card-subtitle"),VCardTitle=createSimpleFunctional("v-card-title"),VCardItem=defineComponent$1({name:"VCardItem",props:{appendAvatar:String,appendIcon:IconValue,prependAvatar:String,prependIcon:IconValue,subtitle:String,title:String,...makeDensityProps()},setup(t,e){let{slots:n}=e;return useRender(()=>{var r,o,s,l,u;const d=!!(t.prependAvatar||t.prependIcon||n.prepend),f=!!(t.appendAvatar||t.appendIcon||n.append),g=!!(t.title||n.title),v=!!(t.subtitle||n.subtitle);return createVNode("div",{class:"v-card-item"},[d&&createVNode(VDefaultsProvider,{key:"prepend",defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},{default:()=>{var _;return[createVNode("div",{class:"v-card-item__prepend"},[(_=(r=n.prepend)==null?void 0:r.call(n))!=null?_:createVNode(VAvatar,null,null)])]}}),createVNode("div",{class:"v-card-item__content"},[g&&createVNode(VCardTitle,{key:"title"},{default:()=>{var _;return[(_=(o=n.title)==null?void 0:o.call(n))!=null?_:t.title]}}),v&&createVNode(VCardSubtitle,{key:"subtitle"},{default:()=>{var _;return[(_=(s=n.subtitle)==null?void 0:s.call(n))!=null?_:t.subtitle]}}),(l=n.default)==null?void 0:l.call(n)]),f&&createVNode(VDefaultsProvider,{key:"append",defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},{default:()=>{var _;return[createVNode("div",{class:"v-card-item__append"},[(_=(u=n.append)==null?void 0:u.call(n))!=null?_:createVNode(VAvatar,null,null)])]}})])}),{}}}),VCardText=createSimpleFunctional("v-card-text"),VCard=defineComponent({name:"VCard",directives:{Ripple},props:{appendAvatar:String,appendIcon:IconValue,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:IconValue,ripple:Boolean,subtitle:String,text:String,title:String,...makeThemeProps(),...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeVariantProps({variant:"elevated"})},setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:o}=provideTheme(t),{borderClasses:s}=useBorder(t),{colorClasses:l,colorStyles:u,variantClasses:d}=useVariant(t),{densityClasses:f}=useDensity(t),{dimensionStyles:g}=useDimension(t),{elevationClasses:v}=useElevation(t),{loaderClasses:_}=useLoader(t),{locationStyles:b}=useLocation(t),{positionClasses:C}=usePosition(t),{roundedClasses:S}=useRounded(t),A=useLink$1(t,n),R=computed(()=>t.link!==!1&&A.isLink.value),I=computed(()=>!t.disabled&&t.link!==!1&&(t.link||A.isClickable.value));return useRender(()=>{var w,N,O;const D=R.value?"a":t.tag,V=!!(r.title||t.title),L=!!(r.subtitle||t.subtitle),W=V||L,U=!!(r.append||t.appendAvatar||t.appendIcon),K=!!(r.prepend||t.prependAvatar||t.prependIcon),H=!!(r.image||t.image),J=W||K||U,q=!!(r.text||t.text);return withDirectives(createVNode(D,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":I.value},o.value,s.value,l.value,f.value,v.value,_.value,C.value,S.value,d.value],style:[u.value,g.value,b.value],href:A.href.value,onClick:I.value&&A.navigate},{default:()=>[H&&createVNode(VDefaultsProvider,{key:"image",defaults:{VImg:{cover:!0,src:t.image}}},{default:()=>{var ce;return[createVNode("div",{class:"v-card__image"},[(ce=(w=r.image)==null?void 0:w.call(r))!=null?ce:createVNode(VImg,null,null)])]}}),createVNode(LoaderSlot,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:r.loader}),J&&createVNode(VCardItem,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),q&&createVNode(VCardText,{key:"text"},{default:()=>{var ce;return[(ce=(N=r.text)==null?void 0:N.call(r))!=null?ce:t.text]}}),(O=r.default)==null?void 0:O.call(r),r.actions&&createVNode(VCardActions,null,{default:r.actions}),genOverlays(I.value,"v-card")]}),[[resolveDirective("ripple"),I.value]])}),{}}}),VMenu$1="",VMenu=genericComponent()({name:"VMenu",props:{id:String,...omit(makeVOverlayProps({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:VDialogTransition}}),["absolute"])},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),{scopeId:o}=useScopeId(),s=getUid(),l=computed(()=>t.id||`v-menu-${s}`),u=ref$1(),d=inject$1(VMenuSymbol,null);let f=0;provide(VMenuSymbol,{register(){++f},unregister(){--f},closeParents(){setTimeout(()=>{f||(r.value=!1,d==null||d.closeParents())},40)}}),watch(r,v=>{v?d==null||d.register():d==null||d.unregister()});function g(){d==null||d.closeParents()}return useRender(()=>{const[v]=filterVOverlayProps(t);return createVNode(VOverlay,mergeProps({ref:u,class:["v-menu"]},v,{modelValue:r.value,"onUpdate:modelValue":_=>r.value=_,absolute:!0,activatorProps:mergeProps({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":l.value},t.activatorProps),"onClick:outside":g},o),{activator:n.activator,default:function(){for(var _,b=arguments.length,C=new Array(b),S=0;S<b;S++)C[S]=arguments[S];return createVNode(VDefaultsProvider,{root:!0},{default:()=>[(_=n.default)==null?void 0:_.call(n,...C)]})}})}),forwardRefs({id:l},u)}}),VTabs$1="",VSlideGroup$1="";function bias(t){const n=Math.abs(t);return Math.sign(t)*(n/((1/.501-2)*(1-n)+1))}function calculateUpdatedOffset(t){let{selectedElement:e,containerSize:n,contentSize:r,isRtl:o,currentScrollOffset:s,isHorizontal:l}=t;const u=l?e.clientWidth:e.clientHeight,d=l?e.offsetLeft:e.offsetTop,f=o&&l?r-d-u:d,g=n+s,v=u+f,_=u*.4;return f<=s?s=Math.max(f-_,0):g<=v&&(s=Math.min(s-(g-v-_),r-n)),s}function calculateCenteredOffset(t){let{selectedElement:e,containerSize:n,contentSize:r,isRtl:o,isHorizontal:s}=t;const l=s?e.clientWidth:e.clientHeight,u=s?e.offsetLeft:e.offsetTop,d=o&&s?r-u-l/2-n/2:u+l/2-n/2;return Math.min(r-n,Math.max(0,d))}const VSlideGroupSymbol=Symbol.for("vuetify:v-slide-group"),VSlideGroup=genericComponent()({name:"VSlideGroup",props:{centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:VSlideGroupSymbol},nextIcon:{type:IconValue,default:"$next"},prevIcon:{type:IconValue,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...makeTagProps(),...makeGroupProps({selectedClass:"v-slide-group-item--active"})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:r}=useRtl(),{mobile:o}=useDisplay(),s=useGroup(t,t.symbol),l=ref$1(!1),u=ref$1(0),d=ref$1(0),f=ref$1(0),g=computed(()=>t.direction==="horizontal"),{resizeRef:v,contentRect:_}=useResizeObserver(),{resizeRef:b,contentRect:C}=useResizeObserver(),S=computed(()=>s.selected.value.length?s.items.value.findIndex(_e=>_e.id===s.selected.value[0]):-1),A=computed(()=>s.selected.value.length?s.items.value.findIndex(_e=>_e.id===s.selected.value[s.selected.value.length-1]):-1);if(IN_BROWSER){let _e=-1;watch(()=>[s.selected.value,_.value,C.value,g.value],()=>{cancelAnimationFrame(_e),_e=requestAnimationFrame(()=>{if(_.value&&C.value){const Ce=g.value?"width":"height";d.value=_.value[Ce],f.value=C.value[Ce],l.value=d.value+1<f.value}if(S.value>=0&&b.value){const Ce=b.value.children[A.value];S.value===0||!l.value?u.value=0:t.centerActive?u.value=calculateCenteredOffset({selectedElement:Ce,containerSize:d.value,contentSize:f.value,isRtl:r.value,isHorizontal:g.value}):l.value&&(u.value=calculateUpdatedOffset({selectedElement:Ce,containerSize:d.value,contentSize:f.value,isRtl:r.value,currentScrollOffset:u.value,isHorizontal:g.value}))}})})}const R=ref$1(!1);let I=0,w=0;function N(_e){const Ce=g.value?"clientX":"clientY";w=(r.value&&g.value?-1:1)*u.value,I=_e.touches[0][Ce],R.value=!0}function O(_e){if(!l.value)return;const Ce=g.value?"clientX":"clientY",Le=r.value&&g.value?-1:1;u.value=Le*(w+I-_e.touches[0][Ce])}function D(_e){const Ce=f.value-d.value;u.value<0||!l.value?u.value=0:u.value>=Ce&&(u.value=Ce),R.value=!1}function V(){!v.value||(v.value[g.value?"scrollLeft":"scrollTop"]=0)}const L=ref$1(!1);function W(_e){if(L.value=!0,!(!l.value||!b.value)){for(const Ce of _e.composedPath())for(const Le of b.value.children)if(Le===Ce){u.value=calculateUpdatedOffset({selectedElement:Le,containerSize:d.value,contentSize:f.value,isRtl:r.value,currentScrollOffset:u.value,isHorizontal:g.value});return}}}function U(_e){L.value=!1}function K(_e){var Ce;!L.value&&!(_e.relatedTarget&&(Ce=b.value)!=null&&Ce.contains(_e.relatedTarget))&&J()}function H(_e){!b.value||(g.value?_e.key==="ArrowRight"?J(r.value?"prev":"next"):_e.key==="ArrowLeft"&&J(r.value?"next":"prev"):_e.key==="ArrowDown"?J("next"):_e.key==="ArrowUp"&&J("prev"),_e.key==="Home"?J("first"):_e.key==="End"&&J("last"))}function J(_e){if(!!b.value)if(_e){if(_e==="next"){var Le;const ue=(Le=b.value.querySelector(":focus"))==null?void 0:Le.nextElementSibling;ue?ue.focus():J("first")}else if(_e==="prev"){var tt;const ue=(tt=b.value.querySelector(":focus"))==null?void 0:tt.previousElementSibling;ue?ue.focus():J("last")}else if(_e==="first"){var be;(be=b.value.firstElementChild)==null||be.focus()}else if(_e==="last"){var j;(j=b.value.lastElementChild)==null||j.focus()}}else{var Ce;(Ce=[...b.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(he=>!he.hasAttribute("disabled"))[0])==null||Ce.focus()}}function q(_e){const Ce=u.value+(_e==="prev"?-1:1)*d.value;u.value=clamp(Ce,0,f.value-d.value)}const ce=computed(()=>{let _e=u.value>f.value-d.value?-(f.value-d.value)+bias(f.value-d.value-u.value):-u.value;u.value<=0&&(_e=bias(-u.value));const Ce=r.value&&g.value?-1:1;return{transform:`translate${g.value?"X":"Y"}(${Ce*_e}px)`,transition:R.value?"none":"",willChange:R.value?"transform":""}}),te=computed(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),Q=computed(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!o.value;case!0:return l.value||Math.abs(u.value)>0;case"mobile":return o.value||l.value||Math.abs(u.value)>0;default:return!o.value&&(l.value||Math.abs(u.value)>0)}}),de=computed(()=>Math.abs(u.value)>0),Oe=computed(()=>f.value>Math.abs(u.value)+d.value);return useRender(()=>{var _e,Ce,Le;return createVNode(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!g.value,"v-slide-group--has-affixes":Q.value,"v-slide-group--is-overflowing":l.value}],tabindex:L.value||s.selected.value.length?-1:0,onFocus:K},{default:()=>{var tt,be;return[Q.value&&createVNode("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!de.value}],onClick:()=>q("prev")},[(tt=(_e=n.prev)==null?void 0:_e.call(n,te.value))!=null?tt:createVNode(VFadeTransition,null,{default:()=>[createVNode(VIcon,{icon:r.value?t.nextIcon:t.prevIcon},null)]})]),createVNode("div",{key:"container",ref:v,class:"v-slide-group__container",onScroll:V},[createVNode("div",{ref:b,class:"v-slide-group__content",style:ce.value,onTouchstartPassive:N,onTouchmovePassive:O,onTouchendPassive:D,onFocusin:W,onFocusout:U,onKeydown:H},[(Ce=n.default)==null?void 0:Ce.call(n,te.value)])]),Q.value&&createVNode("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Oe.value}],onClick:()=>q("next")},[(be=(Le=n.next)==null?void 0:Le.call(n,te.value))!=null?be:createVNode(VFadeTransition,null,{default:()=>[createVNode(VIcon,{icon:r.value?t.prevIcon:t.nextIcon},null)]})])]}})}),{selected:s.selected,scrollTo:q,scrollOffset:u,focus:J}}}),VTab$1="",VTabsSymbol=Symbol.for("vuetify:v-tabs"),VTab=defineComponent({name:"VTab",props:{fixed:Boolean,icon:[Boolean,String,Function,Object],prependIcon:IconValue,appendIcon:IconValue,stacked:Boolean,title:String,ripple:{type:Boolean,default:!0},color:String,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...makeTagProps(),...makeRouterProps(),...makeGroupItemProps({selectedClass:"v-tab--selected"}),...makeThemeProps()},setup(t,e){let{slots:n,attrs:r}=e;const{textColorClasses:o,textColorStyles:s}=useTextColor(t,"sliderColor"),l=computed(()=>t.direction==="horizontal"),u=ref$1(!1),d=ref$1(),f=ref$1();function g(v){let{value:_}=v;if(u.value=_,_){var b,C;const S=(b=d.value)==null||(C=b.$el.parentElement)==null?void 0:C.querySelector(".v-tab--selected .v-tab__slider"),A=f.value;if(!S||!A)return;const R=getComputedStyle(S).color,I=S.getBoundingClientRect(),w=A.getBoundingClientRect(),N=l.value?"x":"y",O=l.value?"X":"Y",D=l.value?"right":"bottom",V=l.value?"width":"height",L=I[N],W=w[N],U=L>W?I[D]-w[D]:I[N]-w[N],K=Math.sign(U)>0?l.value?"right":"bottom":Math.sign(U)<0?l.value?"left":"top":"center",J=(Math.abs(U)+(Math.sign(U)<0?I[V]:w[V]))/Math.max(I[V],w[V]),q=I[V]/w[V],ce=1.5;animate(A,{backgroundColor:[R,""],transform:[`translate${O}(${U}px) scale${O}(${q})`,`translate${O}(${U/ce}px) scale${O}(${(J-1)/ce+1})`,""],transformOrigin:Array(3).fill(K)},{duration:225,easing:standardEasing})}}return useRender(()=>{const[v]=pick(t,["href","to","replace","icon","stacked","prependIcon","appendIcon","ripple","theme","disabled","selectedClass","value","color"]);return createVNode(VBtn,mergeProps({_as:"VTab",symbol:VTabsSymbol,ref:d,class:["v-tab"],tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1,block:t.fixed,maxWidth:t.fixed?300:void 0,variant:"text",rounded:0},v,r,{"onGroup:selected":g}),{default:()=>[n.default?n.default():t.title,!t.hideSlider&&createVNode("div",{ref:f,class:["v-tab__slider",o.value],style:s.value},null)]})}),{}}});function parseItems(t){return t?t.map(e=>typeof e=="string"?{title:e,value:e}:e):[]}const VTabs=defineComponent({name:"VTabs",props:{alignTabs:{type:String,default:"start"},color:String,direction:{type:String,default:"horizontal"},fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,modelValue:null,mandatory:{type:[Boolean,String],default:"force"},...makeDensityProps(),...makeTagProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),o=computed(()=>parseItems(t.items)),{densityClasses:s}=useDensity(t),{backgroundColorClasses:l,backgroundColorStyles:u}=useBackgroundColor(toRef(t,"bgColor"));return provideDefaults({VTab:{color:toRef(t,"color"),direction:toRef(t,"direction"),stacked:toRef(t,"stacked"),fixed:toRef(t,"fixedTabs"),sliderColor:toRef(t,"sliderColor"),hideSlider:toRef(t,"hideSlider")}}),useRender(()=>createVNode(VSlideGroup,{modelValue:r.value,"onUpdate:modelValue":d=>r.value=d,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},s.value,l.value],style:[{"--v-tabs-height":convertToUnit(t.height)},u.value],role:"tablist",symbol:VTabsSymbol,mandatory:t.mandatory,direction:t.direction},{default:()=>[n.default?n.default():o.value.map(d=>createVNode(VTab,mergeProps(d,{key:d.title}),null))]})),{}}}),VWindow$1="",handleGesture=t=>{const{touchstartX:e,touchendX:n,touchstartY:r,touchendY:o}=t,s=.5,l=16;t.offsetX=n-e,t.offsetY=o-r,Math.abs(t.offsetY)<s*Math.abs(t.offsetX)&&(t.left&&n<e-l&&t.left(t),t.right&&n>e+l&&t.right(t)),Math.abs(t.offsetX)<s*Math.abs(t.offsetY)&&(t.up&&o<r-l&&t.up(t),t.down&&o>r+l&&t.down(t))};function touchstart(t,e){var n;const r=t.changedTouches[0];e.touchstartX=r.clientX,e.touchstartY=r.clientY,(n=e.start)==null||n.call(e,{originalEvent:t,...e})}function touchend(t,e){var n;const r=t.changedTouches[0];e.touchendX=r.clientX,e.touchendY=r.clientY,(n=e.end)==null||n.call(e,{originalEvent:t,...e}),handleGesture(e)}function touchmove(t,e){var n;const r=t.changedTouches[0];e.touchmoveX=r.clientX,e.touchmoveY=r.clientY,(n=e.move)==null||n.call(e,{originalEvent:t,...e})}function createHandlers(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>touchstart(n,e),touchend:n=>touchend(n,e),touchmove:n=>touchmove(n,e)}}function mounted(t,e){var d,f;var n;const r=e.value,o=r!=null&&r.parent?t.parentElement:t,s=(d=r==null?void 0:r.options)!=null?d:{passive:!0},l=(n=e.instance)==null?void 0:n.$.uid;if(!o||!l)return;const u=createHandlers(e.value);o._touchHandlers=(f=o._touchHandlers)!=null?f:Object.create(null),o._touchHandlers[l]=u,keys(u).forEach(g=>{o.addEventListener(g,u[g],s)})}function unmounted(t,e){var n,r;const o=(n=e.value)!=null&&n.parent?t.parentElement:t,s=(r=e.instance)==null?void 0:r.$.uid;if(!(o!=null&&o._touchHandlers)||!s)return;const l=o._touchHandlers[s];keys(l).forEach(u=>{o.removeEventListener(u,l[u])}),delete o._touchHandlers[s]}const Touch={mounted,unmounted},Touch$1=Touch,VWindowSymbol=Symbol.for("vuetify:v-window"),VWindowGroupSymbol=Symbol.for("vuetify:v-window-group"),VWindow=genericComponent()({name:"VWindow",directives:{Touch},props:{continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...makeTagProps(),...makeThemeProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:r}=provideTheme(t),{isRtl:o}=useRtl(),{t:s}=useLocale(),l=useGroup(t,VWindowGroupSymbol),u=ref$1(),d=computed(()=>o.value?!t.reverse:t.reverse),f=ref$1(!1),g=computed(()=>{const N=t.direction==="vertical"?"y":"x",D=(d.value?!f.value:f.value)?"-reverse":"";return`v-window-${N}${D}-transition`}),v=ref$1(0),_=ref$1(void 0),b=computed(()=>l.items.value.findIndex(N=>l.selected.value.includes(N.id)));watch(b,(N,O)=>{const D=l.items.value.length,V=D-1;D<=2?f.value=N<O:N===V&&O===0?f.value=!0:N===0&&O===V?f.value=!1:f.value=N<O}),provide(VWindowSymbol,{transition:g,isReversed:f,transitionCount:v,transitionHeight:_,rootRef:u});const C=computed(()=>t.continuous||b.value!==0),S=computed(()=>t.continuous||b.value!==l.items.value.length-1);function A(){C.value&&l.prev()}function R(){S.value&&l.next()}const I=computed(()=>{const N=[],O={icon:o.value?t.nextIcon:t.prevIcon,class:`v-window__${d.value?"right":"left"}`,onClick:l.prev,ariaLabel:s("$vuetify.carousel.prev")};N.push(C.value?n.prev?n.prev({props:O}):createVNode(VBtn,O,null):createVNode("div",null,null));const D={icon:o.value?t.prevIcon:t.nextIcon,class:`v-window__${d.value?"left":"right"}`,onClick:l.next,ariaLabel:s("$vuetify.carousel.next")};return N.push(S.value?n.next?n.next({props:D}):createVNode(VBtn,D,null):createVNode("div",null,null)),N}),w=computed(()=>t.touch===!1?t.touch:{...{left:()=>{d.value?A():R()},right:()=>{d.value?R():A()},start:O=>{let{originalEvent:D}=O;D.stopPropagation()}},...t.touch===!0?{}:t.touch});return useRender(()=>{var N,O;return withDirectives(createVNode(t.tag,{ref:u,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},r.value]},{default:()=>[createVNode("div",{class:"v-window__container",style:{height:_.value}},[(N=n.default)==null?void 0:N.call(n,{group:l}),t.showArrows!==!1&&createVNode("div",{class:"v-window__controls"},[I.value])]),(O=n.additional)==null?void 0:O.call(n,{group:l})]}),[[resolveDirective("touch"),w.value]])}),{group:l}}}),VWindowItem=defineComponent({name:"VWindowItem",directives:{Touch:Touch$1},props:{reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...makeGroupItemProps(),...makeLazyProps()},emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const r=inject$1(VWindowSymbol),o=useGroupItem(t,VWindowGroupSymbol),{isBooted:s}=useSsrBoot();if(!r||!o)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const l=ref$1(!1),u=computed(()=>r.isReversed.value?t.reverseTransition!==!1:t.transition!==!1);function d(){!l.value||!r||(l.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function f(){if(!(l.value||!r)){if(l.value=!0,r.transitionCount.value===0){var C;r.transitionHeight.value=convertToUnit((C=r.rootRef.value)==null?void 0:C.clientHeight)}r.transitionCount.value+=1}}function g(){d()}function v(C){!l.value||nextTick(()=>{!u.value||!l.value||!r||(r.transitionHeight.value=convertToUnit(C.clientHeight))})}const _=computed(()=>{const C=r.isReversed.value?t.reverseTransition:t.transition;return u.value?{name:typeof C!="string"?r.transition.value:C,onBeforeEnter:f,onAfterEnter:d,onEnterCancelled:g,onBeforeLeave:f,onAfterLeave:d,onLeaveCancelled:g,onEnter:v}:!1}),{hasContent:b}=useLazy(t,o.isSelected);return useRender(()=>{var C;return createVNode(MaybeTransition,{transition:s.value&&_.value},{default:()=>[withDirectives(createVNode("div",{class:["v-window-item",o.selectedClass.value]},[b.value&&((C=n.default)==null?void 0:C.call(n))]),[[vShow,o.isSelected.value]])]})}),{}}}),_sfc_main$7={components:{Heroes,Enemies},data(){return{tab:0,menuItems:[{name:"Keywords",icon:"mdi-key",path:"/keywords"},{name:"Settings",icon:"mdi-cogs",path:"/settings"},{name:"Sign Out",icon:"mdi-logout",action:()=>{this.logOut(this.$router)}}]}},computed:{...mapState(useStore,["display","gameLoaded","game","showMarkPlayed"])},methods:{...mapActions(useStore,["getUniversalData","getUserData","logOut","buildDeck","markPlayed"])},mounted(){this.getUserData("game").then(()=>{this.getUserData("userSettings")}).then(()=>{this.getUniversalData()})}},_hoisted_1$3={key:0,class:"text-center"},_hoisted_2$1={key:0,class:"mr-2"};function _sfc_render$7(t,e,n,r,o,s){const l=resolveComponent("heroes"),u=resolveComponent("enemies");return openBlock(),createElementBlock(Fragment,null,[createVNode(VToolbar,{density:"compact",color:"grey"},{default:withCtx(()=>[createVNode(VBtnGroup,{density:"compact",class:"ml-1"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(5,d=>createVNode(VBtn,{color:"grey",size:"small",class:"text-white font-weight-black",onClick:f=>t.buildDeck(d)},{default:withCtx(()=>[createTextVNode(toDisplayString(d),1)]),_:2},1032,["onClick"])),64))]),_:1}),createVNode(VSpacer),t.showMarkPlayed?(openBlock(),createBlock(VBtn,{key:0,icon:"mdi-check-outline",size:"small",onClick:t.markPlayed},null,8,["onClick"])):createCommentVNode("",!0),createVNode(VSpacer),createVNode(VMenu,null,{activator:withCtx(({props:d})=>[createVNode(VBtn,mergeProps(d,{icon:"mdi-dots-vertical"}),null,16)]),default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.menuItems,d=>(openBlock(),createBlock(VListItem,{to:d.path||"",onClick:d.action},{prepend:withCtx(()=>[createVNode(VIcon,{icon:d.icon},null,8,["icon"])]),default:withCtx(()=>[createVNode(VListItemTitle,{textContent:toDisplayString(d.name)},null,8,["textContent"])]),_:2},1032,["to","onClick"]))),256))]),_:1})]),_:1})]),_:1})]),_:1}),!t.game&&t.gameLoaded?(openBlock(),createElementBlock("div",_hoisted_1$3,"Select the number of players.")):createCommentVNode("",!0),t.game&&t.gameLoaded?(openBlock(),createBlock(VToolbar,{key:1,flat:"",color:"transparent",density:"compact"},{default:withCtx(()=>[createVNode(VTabs,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=d=>o.tab=d),density:"compact"},{default:withCtx(()=>[createVNode(VTab,null,{default:withCtx(()=>[createTextVNode("Heroes")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode("Enemies")]),_:1})]),_:1},8,["modelValue"]),createVNode(VSpacer),t.game?(openBlock(),createElementBlock("div",_hoisted_2$1,"Bystanders: "+toDisplayString(t.game.setup.bystanders),1)):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),t.game&&t.gameLoaded?(openBlock(),createBlock(VWindow,{key:2,modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=d=>o.tab=d)},{default:withCtx(()=>[createVNode(VWindowItem,null,{default:withCtx(()=>[t.game?(openBlock(),createBlock(l,{key:0})):createCommentVNode("",!0)]),_:1}),createVNode(VWindowItem,null,{default:withCtx(()=>[t.game?(openBlock(),createBlock(u,{key:0})):createCommentVNode("",!0)]),_:1})]),_:1},8,["modelValue"])):createCommentVNode("",!0)],64)}const Dashboard=_export_sfc(_sfc_main$7,[["render",_sfc_render$7]]),VColorPicker$1="",VColorPickerCanvas$1="",VColorPickerCanvas=defineComponent({name:"VColorPickerCanvas",props:{color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300}},emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,e){let{emit:n}=e;const r=ref$1(!1),o=ref$1(!1),s=ref$1({x:0,y:0}),l=computed(()=>{const{x:C,y:S}=s.value,A=parseInt(t.dotSize,10)/2;return{width:convertToUnit(t.dotSize),height:convertToUnit(t.dotSize),transform:`translate(${convertToUnit(C-A)}, ${convertToUnit(S-A)})`}}),u=ref$1();function d(C,S,A){const{left:R,top:I,width:w,height:N}=A;s.value={x:clamp(C-R,0,w),y:clamp(S-I,0,N)}}function f(C){t.disabled||!u.value||d(C.clientX,C.clientY,u.value.getBoundingClientRect())}function g(C){C.preventDefault(),!t.disabled&&(r.value=!0,window.addEventListener("mousemove",v),window.addEventListener("mouseup",_),window.addEventListener("touchmove",v),window.addEventListener("touchend",_))}function v(C){if(t.disabled||!u.value)return;r.value=!0;const S=getEventCoordinates(C);d(S.clientX,S.clientY,u.value.getBoundingClientRect())}function _(){window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",_),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",_)}watch(s,()=>{var N,O;var C,S;if(o.value){o.value=!1;return}if(!u.value)return;const{width:A,height:R}=u.value.getBoundingClientRect(),{x:I,y:w}=s.value;n("update:color",{h:(N=(C=t.color)==null?void 0:C.h)!=null?N:0,s:clamp(I,0,A)/A,v:1-clamp(w,0,R)/R,a:(O=(S=t.color)==null?void 0:S.a)!=null?O:1})});function b(){var w;var C;if(!u.value)return;const S=u.value,A=S.getContext("2d");if(!A)return;const R=A.createLinearGradient(0,0,S.width,0);R.addColorStop(0,"hsla(0, 0%, 100%, 1)"),R.addColorStop(1,`hsla(${(w=(C=t.color)==null?void 0:C.h)!=null?w:0}, 100%, 50%, 1)`),A.fillStyle=R,A.fillRect(0,0,S.width,S.height);const I=A.createLinearGradient(0,0,0,S.height);I.addColorStop(0,"hsla(0, 0%, 100%, 0)"),I.addColorStop(1,"hsla(0, 0%, 0%, 1)"),A.fillStyle=I,A.fillRect(0,0,S.width,S.height)}return watch(()=>{var C;return(C=t.color)==null?void 0:C.h},b,{immediate:!0}),watch(()=>t.color,()=>{if(r.value){r.value=!1;return}!t.color||(o.value=!0,s.value={x:t.color.s*parseInt(t.width,10),y:(1-t.color.v)*parseInt(t.height,10)})},{deep:!0,immediate:!0}),onMounted(()=>b()),useRender(()=>createVNode("div",{class:"v-color-picker-canvas",style:{width:convertToUnit(t.width),height:convertToUnit(t.height)},onClick:f,onMousedown:g,onTouchstart:g},[createVNode("canvas",{ref:u,width:t.width,height:t.height},null),createVNode("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:l.value},null)])),{}}}),VColorPickerEdit$1="";var _rgba$inputs;function has$1(t,e){return e.every(n=>t.hasOwnProperty(n))}function parseColor(t){var n;if(!t)return null;let e=null;if(typeof t=="string"){const r=parseHex(t);e=HexToHSVA(r)}return typeof t=="object"&&(has$1(t,["r","g","b"])?e=RGBAtoHSVA(t):has$1(t,["h","s","l"])?e=HSLAtoHSVA(t):has$1(t,["h","s","v"])&&(e=t)),e!=null?{...e,a:(n=e.a)!=null?n:1}:null}function stripAlpha(t,e){if(e){const{a:n,...r}=t;return r}return t}function extractColor(t,e){if(e==null||typeof e=="string"){const n=HSVAtoHex(t);return t.a===1?n.slice(0,7):n}if(typeof e=="object"){let n;return has$1(e,["r","g","b"])?n=HSVAtoRGBA(t):has$1(e,["h","s","l"])?n=HSVAtoHSLA(t):has$1(e,["h","s","v"])&&(n=t),stripAlpha(n,!has$1(e,["a"]))}return t}const nullColor={h:0,s:0,v:1,a:1},rgba={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,e)=>({...t,r:Number(e)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,e)=>({...t,g:Number(e)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,e)=>({...t,b:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>Math.round(t.a*100)/100,getColor:(t,e)=>({...t,a:Number(e)})}],to:HSVAtoRGBA,from:RGBAtoHSVA},rgb={...rgba,inputs:(_rgba$inputs=rgba.inputs)==null?void 0:_rgba$inputs.slice(0,3)},hsla={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,e)=>({...t,h:Number(e)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,e)=>({...t,s:Number(e)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,e)=>({...t,l:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>Math.round(t.a*100)/100,getColor:(t,e)=>({...t,a:Number(e)})}],to:HSVAtoHSLA,from:HSLAtoHSVA},hsl={...hsla,inputs:hsla.inputs.slice(0,3)},hexa={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,e)=>e}],to:HSVAtoHex,from:HexToHSVA},hex={...hexa,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,e)=>e}]},modes={rgb,rgba,hsl,hsla,hex,hexa},VColorPickerInput=t=>{let{label:e,...n}=t;return createVNode("div",{class:"v-color-picker-edit__input"},[createVNode("input",n,null),createVNode("span",null,[e])])},VColorPickerEdit=defineComponent({name:"VColorPickerEdit",props:{color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(modes).includes(t)},modes:{type:Array,default:()=>Object.keys(modes),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(modes).includes(e))}},emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,e){let{emit:n}=e;const r=computed(()=>t.modes.map(s=>({...modes[s],name:s}))),o=computed(()=>{var s;const l=r.value.find(d=>d.name===t.mode);if(!l)return[];const u=t.color?l.to(t.color):{};return(s=l.inputs)==null?void 0:s.map(d=>{let{getValue:f,getColor:g,...v}=d;return{...l.inputProps,...v,disabled:t.disabled,value:f(u),onChange:_=>{const b=_.target;!b||n("update:color",l.from(g(u,b.value)))}}})});return useRender(()=>{var s;return createVNode("div",{class:"v-color-picker-edit"},[(s=o.value)==null?void 0:s.map(l=>createVNode(VColorPickerInput,l,null)),r.value.length>1&&createVNode(VBtn,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const l=r.value.findIndex(u=>u.name===t.mode);n("update:mode",r.value[(l+1)%r.value.length].name)}},null)])}),{}}}),VColorPickerPreview$1="",VSlider$1="",VSliderThumb$1="",VSliderSymbol=Symbol.for("vuetify:v-slider");function getOffset(t,e,n){const r=n==="vertical",o=e.getBoundingClientRect(),s="touches"in t?t.touches[0]:t;return r?s.clientY-(o.top+o.height/2):s.clientX-(o.left+o.width/2)}function getPosition(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const makeSliderProps=propsFactory({disabled:Boolean,error:Boolean,readonly:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...makeRoundedProps(),...makeElevationProps({elevation:2})},"slider"),useSlider=t=>{let{props:e,handleSliderMouseUp:n,handleMouseMove:r,getActiveThumb:o}=t;const{isRtl:s}=useRtl(),l=computed(()=>s.value!==e.reverse),u=computed(()=>{let be=s.value?"rtl":"ltr";return e.reverse&&(be=be==="rtl"?"ltr":"rtl"),be}),d=computed(()=>parseFloat(e.min)),f=computed(()=>parseFloat(e.max)),g=computed(()=>e.step>0?parseFloat(e.step):0),v=computed(()=>{const be=g.value.toString().trim();return be.includes(".")?be.length-be.indexOf(".")-1:0}),_=computed(()=>parseInt(e.thumbSize,10)),b=computed(()=>parseInt(e.tickSize,10)),C=computed(()=>parseInt(e.trackSize,10)),S=computed(()=>(f.value-d.value)/g.value),A=toRef(e,"disabled"),R=computed(()=>e.direction==="vertical"),I=computed(()=>{var be;return e.error||e.disabled?void 0:(be=e.thumbColor)!=null?be:e.color}),w=computed(()=>{var be;return e.error||e.disabled?void 0:(be=e.trackColor)!=null?be:e.color}),N=computed(()=>{var be;return e.error||e.disabled?void 0:(be=e.trackFillColor)!=null?be:e.color}),O=ref$1(!1),D=ref$1(0),V=ref$1(),L=ref$1();function W(be){if(g.value<=0)return be;const j=clamp(be,d.value,f.value),ue=d.value%g.value,he=Math.round((j-ue)/g.value)*g.value+ue;return parseFloat(Math.min(he,f.value).toFixed(v.value))}function U(be){var j;const ue=e.direction==="vertical",he=ue?"top":"left",Ee=ue?"height":"width",Be=ue?"clientY":"clientX",{[he]:Xe,[Ee]:De}=(j=V.value)==null?void 0:j.$el.getBoundingClientRect(),x=getPosition(be,Be);let F=Math.min(Math.max((x-Xe-D.value)/De,0),1)||0;return(ue||l.value)&&(F=1-F),W(d.value+F*(f.value-d.value))}let K=!1;const H=be=>{K||(D.value=0,n(U(be))),O.value=!1,K=!1,D.value=0},J=be=>{L.value=o(be),L.value&&(L.value.focus(),O.value=!0,L.value.contains(be.target)?(K=!0,D.value=getOffset(be,L.value,e.direction)):(D.value=0,r(U(be))))},q={passive:!0,capture:!0};function ce(be){K=!0,r(U(be))}function te(be){be.stopPropagation(),be.preventDefault(),H(be),window.removeEventListener("mousemove",ce,q),window.removeEventListener("mouseup",te)}function Q(be){var j;H(be),window.removeEventListener("touchmove",ce,q),(j=be.target)==null||j.removeEventListener("touchend",Q)}function de(be){var j;J(be),window.addEventListener("touchmove",ce,q),(j=be.target)==null||j.addEventListener("touchend",Q,{passive:!1})}function Oe(be){be.preventDefault(),J(be),window.addEventListener("mousemove",ce,q),window.addEventListener("mouseup",te,{passive:!1})}const _e=be=>{const j=(be-d.value)/(f.value-d.value)*100;return clamp(isNaN(j)?0:j,0,100)},Ce=computed(()=>e.ticks?Array.isArray(e.ticks)?e.ticks.map(be=>({value:be,position:_e(be),label:be.toString()})):Object.keys(e.ticks).map(be=>({value:parseFloat(be),position:_e(parseFloat(be)),label:e.ticks[be]})):S.value!==1/0?createRange(S.value+1).map(be=>{const j=d.value+be*g.value;return{value:j,position:_e(j)}}):[]),Le=computed(()=>Ce.value.some(be=>{let{label:j}=be;return!!j})),tt={activeThumbRef:L,color:toRef(e,"color"),decimals:v,disabled:A,direction:toRef(e,"direction"),elevation:toRef(e,"elevation"),hasLabels:Le,horizontalDirection:u,isReversed:l,min:d,max:f,mousePressed:O,numTicks:S,onSliderMousedown:Oe,onSliderTouchstart:de,parsedTicks:Ce,parseMouseMove:U,position:_e,readonly:toRef(e,"readonly"),rounded:toRef(e,"rounded"),roundValue:W,showTicks:toRef(e,"showTicks"),startOffset:D,step:g,thumbSize:_,thumbColor:I,thumbLabel:toRef(e,"thumbLabel"),ticks:toRef(e,"ticks"),tickSize:b,trackColor:w,trackContainerRef:V,trackFillColor:N,trackSize:C,vertical:R};return provide(VSliderSymbol,tt),tt},VSliderThumb=defineComponent({name:"VSliderThumb",directives:{Ripple},props:{focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0}},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n,emit:r}=e;const o=inject$1(VSliderSymbol);if(!o)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:l,vertical:u,disabled:d,thumbSize:f,thumbLabel:g,direction:v,readonly:_,elevation:b,isReversed:C,horizontalDirection:S,mousePressed:A,decimals:R}=o,{textColorClasses:I,textColorStyles:w}=useTextColor(s),{pageup:N,pagedown:O,end:D,home:V,left:L,right:W,down:U,up:K}=keyValues,H=[N,O,D,V,L,W,U,K],J=computed(()=>l.value?[1,2,3]:[1,5,10]);function q(te,Q){if(!H.includes(te.key))return;te.preventDefault();const de=l.value||.1,Oe=(t.max-t.min)/de;if([L,W,U,K].includes(te.key)){const Ce=(C.value?[L,K]:[W,K]).includes(te.key)?1:-1,Le=te.shiftKey?2:te.ctrlKey?1:0;Q=Q+Ce*de*J.value[Le]}else if(te.key===V)Q=t.min;else if(te.key===D)Q=t.max;else{const _e=te.key===O?1:-1;Q=Q-_e*de*(Oe>100?Oe/10:10)}return Math.max(t.min,Math.min(t.max,Q))}function ce(te){const Q=q(te,t.modelValue);Q!=null&&r("update:modelValue",Q)}return useRender(()=>{var te;const Q=convertToUnit(u.value?100-t.position:t.position,"%"),de=u.value?"block":"inline",{elevationClasses:Oe}=useElevation(computed(()=>d.value?void 0:b.value));return createVNode("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&A.value}],style:{[`inset-${de}-start`]:`calc(${Q} - var(--v-slider-thumb-size) / 2)`,"--v-slider-thumb-size":convertToUnit(f.value),direction:u.value?void 0:S.value},role:"slider",tabindex:d.value?-1:0,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":_.value,"aria-orientation":v.value,onKeydown:_.value?void 0:ce},[createVNode("div",{class:["v-slider-thumb__surface",I.value,Oe.value],style:{...w.value}},null),withDirectives(createVNode("div",{class:["v-slider-thumb__ripple",I.value],style:w.value},null),[[resolveDirective("ripple"),!0,null,{circle:!0,center:!0}]]),createVNode(VScaleTransition,{origin:"bottom center"},{default:()=>{var _e;return[withDirectives(createVNode("div",{class:"v-slider-thumb__label-container"},[createVNode("div",{class:["v-slider-thumb__label"]},[createVNode("div",null,[(_e=(te=n["thumb-label"])==null?void 0:te.call(n,{modelValue:t.modelValue}))!=null?_e:t.modelValue.toFixed(l.value?R.value:1)])])]),[[vShow,g.value&&t.focused||g.value==="always"]])]}})])}),{}}}),VSliderTrack$1="",VSliderTrack=defineComponent({name:"VSliderTrack",props:{start:{type:Number,required:!0},stop:{type:Number,required:!0}},emits:{},setup(t,e){let{slots:n}=e;const r=inject$1(VSliderSymbol);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:o,horizontalDirection:s,parsedTicks:l,rounded:u,showTicks:d,tickSize:f,trackColor:g,trackFillColor:v,trackSize:_,vertical:b,min:C,max:S}=r,{roundedClasses:A}=useRounded(u),{backgroundColorClasses:R,backgroundColorStyles:I}=useBackgroundColor(v),{backgroundColorClasses:w,backgroundColorStyles:N}=useBackgroundColor(g),O=computed(()=>`inset-${b.value?"block-end":"inline-start"}`),D=computed(()=>b.value?"height":"width"),V=computed(()=>({[O.value]:"0%",[D.value]:"100%"})),L=computed(()=>t.stop-t.start),W=computed(()=>({[O.value]:convertToUnit(t.start,"%"),[D.value]:convertToUnit(L.value,"%")})),U=computed(()=>(b.value?l.value.slice().reverse():l.value).map((H,J)=>{var Q;var q;const ce=b.value?"bottom":"margin-inline-start",te=H.value!==C.value&&H.value!==S.value?convertToUnit(H.position,"%"):void 0;return createVNode("div",{key:H.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":H.position>=t.start&&H.position<=t.stop,"v-slider-track__tick--first":H.value===C.value,"v-slider-track__tick--last":H.value===S.value}],style:{[ce]:te}},[(H.label||n["tick-label"])&&createVNode("div",{class:"v-slider-track__tick-label"},[(Q=(q=n["tick-label"])==null?void 0:q.call(n,{tick:H,index:J}))!=null?Q:H.label])])}));return useRender(()=>createVNode("div",{class:["v-slider-track",A.value],style:{"--v-slider-track-size":convertToUnit(_.value),"--v-slider-tick-size":convertToUnit(f.value),direction:b.value?void 0:s.value}},[createVNode("div",{class:["v-slider-track__background",w.value,{"v-slider-track__background--opacity":!!o.value||!v.value}],style:{...V.value,...N.value}},null),createVNode("div",{class:["v-slider-track__fill",R.value],style:{...W.value,...I.value}},null),d.value&&createVNode("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":d.value==="always"}]},[U.value])])),{}}}),VSlider=defineComponent({name:"VSlider",props:{...makeFocusProps(),...makeSliderProps(),...makeVInputProps(),modelValue:{type:[Number,String],default:0}},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=ref$1(),{min:o,max:s,mousePressed:l,roundValue:u,onSliderMousedown:d,onSliderTouchstart:f,trackContainerRef:g,position:v,hasLabels:_,readonly:b}=useSlider({props:t,handleSliderMouseUp:w=>C.value=u(w),handleMouseMove:w=>C.value=u(w),getActiveThumb:()=>{var w;return(w=r.value)==null?void 0:w.$el}}),C=useProxiedModel(t,"modelValue",void 0,w=>{const N=typeof w=="string"?parseFloat(w):w==null?o.value:w;return u(N)}),{isFocused:S,focus:A,blur:R}=useFocus(t),I=computed(()=>v(C.value));return useRender(()=>{const[w,N]=filterInputProps(t),O=!!(t.label||n.label||n.prepend);return createVNode(VInput,mergeProps({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||_.value,"v-slider--focused":S.value,"v-slider--pressed":l.value,"v-slider--disabled":t.disabled}]},w,{focused:S.value}),{...n,prepend:O?D=>{var W;var V,L;return createVNode(Fragment,null,[((W=(V=n.label)==null?void 0:V.call(n,D))!=null?W:t.label)?createVNode(VLabel,{class:"v-slider__label",text:t.label},null):void 0,(L=n.prepend)==null?void 0:L.call(n,D)])}:void 0,default:D=>{let{id:V}=D;return createVNode("div",{class:"v-slider__container",onMousedown:b.value?void 0:d,onTouchstartPassive:b.value?void 0:f},[createVNode("input",{id:V.value,name:t.name||V.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:C.value},null),createVNode(VSliderTrack,{ref:g,start:0,stop:I.value},{"tick-label":n["tick-label"]}),createVNode(VSliderThumb,{ref:r,focused:S.value,min:o.value,max:s.value,modelValue:C.value,"onUpdate:modelValue":L=>C.value=L,position:I.value,elevation:t.elevation,onFocus:A,onBlur:R},{"thumb-label":n["thumb-label"]})])}})}),{}}}),VColorPickerPreview=defineComponent({name:"VColorPickerPreview",props:{color:{type:Object},disabled:Boolean,hideAlpha:Boolean},emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return useRender(()=>{var s;var r,o;return createVNode("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha}]},[createVNode("div",{class:"v-color-picker-preview__dot"},[createVNode("div",{style:{background:HSVAtoCSS((s=t.color)!=null?s:nullColor)}},null)]),createVNode("div",{class:"v-color-picker-preview__sliders"},[createVNode(VSlider,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(r=t.color)==null?void 0:r.h,"onUpdate:modelValue":l=>{var u;return n("update:color",{...(u=t.color)!=null?u:nullColor,h:l})},step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&createVNode(VSlider,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:(o=t.color)==null?void 0:o.a,"onUpdate:modelValue":l=>{var u;return n("update:color",{...(u=t.color)!=null?u:nullColor,a:l})},step:0,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),VColorPickerSwatches$1="",red=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),pink=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),purple=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),deepPurple=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),indigo=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),blue=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),lightBlue=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),cyan=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),teal=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),green=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),lightGreen=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),lime=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),yellow=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),amber=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),orange=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),deepOrange=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),brown=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),blueGrey=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),grey=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),shades=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"}),colors=Object.freeze({red,pink,purple,deepPurple,indigo,blue,lightBlue,cyan,teal,green,lightGreen,lime,yellow,amber,orange,deepOrange,brown,blueGrey,grey,shades});function parseDefaultColors(t){return Object.keys(t).map(e=>{const n=t[e];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const VColorPickerSwatches=defineComponent({name:"VColorPickerSwatches",props:{swatches:{type:Array,default:()=>parseDefaultColors(colors)},disabled:Boolean,color:Object,maxHeight:[Number,String]},emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return useRender(()=>createVNode("div",{class:"v-color-picker-swatches",style:{maxHeight:convertToUnit(t.maxHeight)}},[createVNode("div",null,[t.swatches.map(r=>createVNode("div",{class:"v-color-picker-swatches__swatch"},[r.map(o=>{const s=parseColor(o);return createVNode("div",{class:"v-color-picker-swatches__color",onClick:()=>s&&n("update:color",s)},[createVNode("div",{style:{background:o}},[t.color&&deepEqual$1(t.color,s)?createVNode(VIcon,{size:"x-small",icon:"$success",color:getContrast(o,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),VSheet$1="",VSheet=defineComponent({name:"VSheet",props:{color:String,...makeBorderProps(),...makeDimensionProps(),...makeElevationProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},setup(t,e){let{slots:n}=e;const{themeClasses:r}=provideTheme(t),{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(toRef(t,"color")),{borderClasses:l}=useBorder(t),{dimensionStyles:u}=useDimension(t),{elevationClasses:d}=useElevation(t),{locationStyles:f}=useLocation(t),{positionClasses:g}=usePosition(t),{roundedClasses:v}=useRounded(t);return()=>createVNode(t.tag,{class:["v-sheet",r.value,o.value,l.value,d.value,g.value,v.value],style:[s.value,u.value,f.value]},n)}}),VColorPicker=defineComponent({name:"VColorPicker",inheritAttrs:!1,props:{canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(modes).includes(t)},modes:{type:Array,default:()=>Object.keys(modes),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(modes).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},width:{type:[Number,String],default:300},...makeElevationProps(),...makeRoundedProps(),...makeThemeProps()},emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const e=useProxiedModel(t,"mode"),n=ref$1(null),r=useProxiedModel(t,"modelValue",void 0,s=>{let l=parseColor(s);return l?(n.value&&(l={...l,h:n.value.h},n.value=null),l):null},s=>s?extractColor(s,t.modelValue):null),o=s=>{r.value=s,n.value=s};return onMounted(()=>{t.modes.includes(e.value)||(e.value=t.modes[0])}),useRender(()=>{var s;return createVNode(VSheet,{rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker"],style:{"--v-color-picker-color-hsv":HSVAtoCSS({...(s=r.value)!=null?s:nullColor,a:1})},maxWidth:t.width},{default:()=>[!t.hideCanvas&&createVNode(VColorPickerCanvas,{key:"canvas",color:r.value,"onUpdate:color":o,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&createVNode("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&createVNode(VColorPickerPreview,{key:"preview",color:r.value,"onUpdate:color":o,hideAlpha:!e.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&createVNode(VColorPickerEdit,{key:"edit",modes:t.modes,mode:e.value,"onUpdate:mode":l=>e.value=l,color:r.value,"onUpdate:color":o,disabled:t.disabled},null)]),t.showSwatches&&createVNode(VColorPickerSwatches,{key:"swatches",color:r.value,"onUpdate:color":o,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})}),{}}}),VSelectionControl$1="",VSelectionControlGroup$1="",VSelectionControlGroupSymbol=Symbol.for("vuetify:selection-control-group"),makeSelectionControlGroupProps=propsFactory({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:IconValue,trueIcon:IconValue,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:deepEqual$1},...makeThemeProps(),...makeDensityProps()},"v-selection-control-group"),VSelectionControlGroup=defineComponent({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...makeSelectionControlGroupProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),o=getUid(),s=computed(()=>t.id||`v-selection-control-group-${o}`),l=computed(()=>t.name||s.value);return provide(VSelectionControlGroupSymbol,{modelValue:r}),provideDefaults({[t.defaultsTarget]:{color:toRef(t,"color"),disabled:toRef(t,"disabled"),density:toRef(t,"density"),error:toRef(t,"error"),inline:toRef(t,"inline"),modelValue:r,multiple:computed(()=>!!t.multiple||t.multiple==null&&Array.isArray(r.value)),name:l,falseIcon:toRef(t,"falseIcon"),trueIcon:toRef(t,"trueIcon"),readonly:toRef(t,"readonly"),ripple:toRef(t,"ripple"),type:toRef(t,"type"),valueComparator:toRef(t,"valueComparator")}}),useRender(()=>{var u;return createVNode("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline}],"aria-labelled-by":t.type==="radio"?s.value:void 0,role:t.type==="radio"?"radiogroup":void 0},[(u=n.default)==null?void 0:u.call(n)])}),{}}}),makeSelectionControlProps=propsFactory({label:String,trueValue:null,falseValue:null,value:null,...makeSelectionControlGroupProps()},"v-selection-control");function useSelectionControl(t){const e=inject$1(VSelectionControlGroupSymbol,void 0),{densityClasses:n}=useDensity(t),r=useProxiedModel(t,"modelValue"),o=computed(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),s=computed(()=>t.falseValue!==void 0?t.falseValue:!1),l=computed(()=>!!t.multiple||t.multiple==null&&Array.isArray(r.value)),u=computed({get(){const v=e?e.modelValue.value:r.value;return l.value?v.some(_=>t.valueComparator(_,o.value)):t.valueComparator(v,o.value)},set(v){if(t.readonly)return;const _=v?o.value:s.value;let b=_;l.value&&(b=v?[...wrapInArray(r.value),_]:wrapInArray(r.value).filter(C=>!t.valueComparator(C,o.value))),e?e.modelValue.value=b:r.value=b}}),{textColorClasses:d,textColorStyles:f}=useTextColor(computed(()=>u.value&&!t.error&&!t.disabled?t.color:void 0)),g=computed(()=>u.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:o,falseValue:s,model:u,textColorClasses:d,textColorStyles:f,icon:g}}const VSelectionControl=genericComponent()({name:"VSelectionControl",directives:{Ripple},inheritAttrs:!1,props:makeSelectionControlProps(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{densityClasses:o,icon:s,model:l,textColorClasses:u,textColorStyles:d,trueValue:f}=useSelectionControl(t),g=getUid(),v=computed(()=>t.id||`input-${g}`),_=ref$1(!1),b=ref$1(!1),C=ref$1();function S(I){_.value=!0,(!SUPPORTS_FOCUS_VISIBLE||SUPPORTS_FOCUS_VISIBLE&&I.target.matches(":focus-visible"))&&(b.value=!0)}function A(){_.value=!1,b.value=!1}function R(I){l.value=I.target.checked}return useRender(()=>{var I,w;const N=r.label?r.label({label:t.label,props:{for:v.value}}):t.label,[O,D]=filterInputAttrs(n);return createVNode("div",mergeProps({class:["v-selection-control",{"v-selection-control--dirty":l.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":_.value,"v-selection-control--focus-visible":b.value,"v-selection-control--inline":t.inline},o.value]},O),[createVNode("div",{class:["v-selection-control__wrapper",u.value],style:d.value},[(I=r.default)==null?void 0:I.call(r),withDirectives(createVNode("div",{class:["v-selection-control__input"]},[s.value&&createVNode(VIcon,{key:"icon",icon:s.value},null),createVNode("input",mergeProps({ref:C,checked:l.value,disabled:t.disabled,id:v.value,onBlur:A,onFocus:S,onInput:R,"aria-readonly":t.readonly,type:t.type,value:f.value,name:t.name,"aria-checked":t.type==="checkbox"?l.value:void 0},D),null),(w=r.input)==null?void 0:w.call(r,{model:l,textColorClasses:u,textColorStyles:d,props:{onFocus:S,onBlur:A,id:v.value}})]),[[resolveDirective("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),N&&createVNode(VLabel,{for:v.value,clickable:!0},{default:()=>[N]})])}),{isFocused:_,input:C}}});function filterControlProps(t){return pick(t,Object.keys(VSelectionControl.props))}const VRadio=defineComponent({name:"VRadio",props:{...makeSelectionControlProps({falseIcon:"$radioOff",trueIcon:"$radioOn"})},setup(t,e){let{slots:n}=e;return useRender(()=>createVNode(VSelectionControl,mergeProps(t,{class:"v-radio",type:"radio"}),n)),{}}}),VRadioGroup$1="",VRadioGroup=defineComponent({name:"VRadioGroup",inheritAttrs:!1,props:{height:{type:[Number,String],default:"auto"},...makeVInputProps(),...omit(makeSelectionControlGroupProps(),["multiple"]),trueIcon:{type:IconValue,default:"$radioOn"},falseIcon:{type:IconValue,default:"$radioOff"},type:{type:String,default:"radio"}},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const o=getUid(),s=computed(()=>t.id||`radio-group-${o}`),l=useProxiedModel(t,"modelValue");return useRender(()=>{const[u,d]=filterInputAttrs(n),[f,g]=filterInputProps(t),[v,_]=filterControlProps({...t,multiple:!1}),b=r.label?r.label({label:t.label,props:{for:s.value}}):t.label;return createVNode(VInput,mergeProps({class:"v-radio-group"},u,f,{modelValue:l.value,"onUpdate:modelValue":C=>l.value=C,id:s.value}),{...r,default:C=>{let{id:S,isDisabled:A,isReadonly:R}=C;return createVNode(Fragment,null,[b&&createVNode(VLabel,{for:S.value,clickable:!0},{default:()=>[b]}),createVNode(VSelectionControlGroup,mergeProps(v,{id:S.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:A.value,readonly:R.value},d,{modelValue:l.value,"onUpdate:modelValue":I=>l.value=I}),r)])}})}),{}}}),VSelect$1="",VCheckbox$1="",makeVCheckboxBtnProps=propsFactory({indeterminate:Boolean,indeterminateIcon:{type:IconValue,default:"$checkboxIndeterminate"},...makeSelectionControlProps({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),VCheckboxBtn=defineComponent({name:"VCheckboxBtn",props:makeVCheckboxBtnProps(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"indeterminate"),o=useProxiedModel(t,"modelValue");function s(d){r.value&&(r.value=!1)}const l=computed(()=>t.indeterminate?t.indeterminateIcon:t.falseIcon),u=computed(()=>t.indeterminate?t.indeterminateIcon:t.trueIcon);return useRender(()=>createVNode(VSelectionControl,mergeProps(t,{modelValue:o.value,"onUpdate:modelValue":[d=>o.value=d,s],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:l.value,trueIcon:u.value,"aria-checked":t.indeterminate?"mixed":void 0}),n)),{}}});function filterCheckboxBtnProps(t){return pick(t,Object.keys(VCheckboxBtn.props))}const VCheckbox=defineComponent({name:"VCheckbox",inheritAttrs:!1,props:{...makeVInputProps(),...makeVCheckboxBtnProps()},emits:{"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{isFocused:o,focus:s,blur:l}=useFocus(t),u=getUid(),d=computed(()=>t.id||`checkbox-${u}`);return useRender(()=>{const[f,g]=filterInputAttrs(n),[v,_]=filterInputProps(t),[b,C]=filterCheckboxBtnProps(t);return createVNode(VInput,mergeProps({class:"v-checkbox"},f,v,{id:d.value,focused:o.value}),{...r,default:S=>{let{id:A,isDisabled:R,isReadonly:I}=S;return createVNode(VCheckboxBtn,mergeProps(b,{id:A.value,disabled:R.value,readonly:I.value},g,{onFocus:s,onBlur:l}),r)}})}),{}}}),VChip$1="",VChipGroup="",VChipGroupSymbol=Symbol.for("vuetify:v-chip-group");defineComponent({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:deepEqual$1},...makeGroupProps({selectedClass:"v-chip--selected"}),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:r}=provideTheme(t),{isSelected:o,select:s,next:l,prev:u,selected:d}=useGroup(t,VChipGroupSymbol);return provideDefaults({VChip:{color:toRef(t,"color"),filter:toRef(t,"filter"),variant:toRef(t,"variant")}}),useRender(()=>{var f;return createVNode(t.tag,{class:["v-chip-group",{"v-chip-group--column":t.column},r.value]},{default:()=>[(f=n.default)==null?void 0:f.call(n,{isSelected:o,select:s,next:l,prev:u,selected:d.value})]})}),{}}});const VChip=defineComponent({name:"VChip",directives:{Ripple},props:{activeClass:String,appendAvatar:String,appendIcon:IconValue,closable:Boolean,closeIcon:{type:IconValue,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,pill:Boolean,prependAvatar:String,prependIcon:IconValue,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},...makeBorderProps(),...makeDensityProps(),...makeElevationProps(),...makeGroupItemProps(),...makeRoundedProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"span"}),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{borderClasses:s}=useBorder(t),{colorClasses:l,colorStyles:u,variantClasses:d}=useVariant(t),{densityClasses:f}=useDensity(t),{elevationClasses:g}=useElevation(t),{roundedClasses:v}=useRounded(t),{sizeClasses:_}=useSize(t),{themeClasses:b}=provideTheme(t),C=useProxiedModel(t,"modelValue"),S=useGroupItem(t,VChipGroupSymbol,!1),A=useLink$1(t,n);function R(I){C.value=!1,r("click:close",I)}return()=>{var I;const w=A.isLink.value?"a":t.tag,N=!!(o.append||t.appendIcon||t.appendAvatar),O=!!(o.close||t.closable),D=!!(o.filter||t.filter)&&S,V=!!(o.prepend||t.prependIcon||t.prependAvatar),L=!S||S.isSelected.value,W=!t.disabled&&(!!S||A.isClickable.value||t.link),U=t.link?t.link:S==null?void 0:S.toggle;return C.value&&withDirectives(createVNode(w,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":W,"v-chip--filter":D,"v-chip--pill":t.pill},b.value,s.value,L?l.value:void 0,f.value,g.value,v.value,_.value,d.value,S==null?void 0:S.selectedClass.value],style:[L?u.value:void 0],disabled:t.disabled||void 0,draggable:t.draggable,href:A.href.value,onClick:W&&U},{default:()=>{var K;return[genOverlays(W,"v-chip"),D&&createVNode(VDefaultsProvider,{key:"filter",defaults:{VIcon:{icon:t.filterIcon}}},{default:()=>[createVNode(VExpandXTransition,null,{default:()=>[withDirectives(createVNode("div",{class:"v-chip__filter"},[o.filter?o.filter():createVNode(VIcon,null,null)]),[[vShow,S.isSelected.value]])]})]}),V&&createVNode(VDefaultsProvider,{key:"prepend",defaults:{VAvatar:{image:t.prependAvatar},VIcon:{icon:t.prependIcon}}},{default:()=>[o.prepend?createVNode("div",{class:"v-chip__prepend"},[o.prepend()]):t.prependAvatar?createVNode(VAvatar,{start:!0},null):t.prependIcon?createVNode(VIcon,{start:!0},null):void 0]}),(K=(I=o.default)==null?void 0:I.call(o,{isSelected:S==null?void 0:S.isSelected.value,selectedClass:S==null?void 0:S.selectedClass.value,select:S==null?void 0:S.select,toggle:S==null?void 0:S.toggle,value:S==null?void 0:S.value.value,disabled:t.disabled}))!=null?K:t.text,N&&createVNode(VDefaultsProvider,{key:"append",defaults:{VAvatar:{image:t.appendAvatar},VIcon:{icon:t.appendIcon}}},{default:()=>[o.append?createVNode("div",{class:"v-chip__append"},[o.append()]):t.appendAvatar?createVNode(VAvatar,{end:!0},null):t.appendIcon?createVNode(VIcon,{end:!0},null):void 0]}),O&&createVNode(VDefaultsProvider,{key:"close",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},{default:()=>[createVNode("div",{class:"v-chip__close",onClick:R},[o.close?o.close():createVNode(VIcon,null,null)])]})]}}),[[resolveDirective("ripple"),W&&t.ripple,null]])}}}),makeSelectProps=propsFactory({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:IconValue,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,...makeItemsProps({itemChildren:!1})},"v-select"),VSelect=genericComponent()({name:"VSelect",props:{...makeSelectProps(),...omit(makeVTextFieldProps({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...makeTransitionProps({transition:{component:VDialogTransition}})},emits:{"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:r}=useLocale(),o=ref$1(),s=useProxiedModel(t,"menu"),{items:l,transformIn:u,transformOut:d}=useItems(t),f=useProxiedModel(t,"modelValue",[],w=>u(wrapInArray(w)),w=>{var O;const N=d(w);return t.multiple?N:(O=N[0])!=null?O:null}),g=computed(()=>f.value.map(w=>l.value.find(N=>N.value===w.value)||w)),v=computed(()=>g.value.map(w=>w.props.value)),_=ref$1();function b(w){f.value=[],t.openOnClear&&(s.value=!0)}function C(){t.hideNoData&&!l.value.length||t.readonly||(s.value=!s.value)}function S(w){if(!t.readonly){if(["Enter","ArrowDown"," "].includes(w.key)&&(w.preventDefault(),s.value=!0),["Escape","Tab"].includes(w.key)&&(s.value=!1),w.key==="ArrowDown"){var N;(N=_.value)==null||N.focus("next")}else if(w.key==="ArrowUp"){var O;w.preventDefault(),(O=_.value)==null||O.focus("prev")}else if(w.key==="Home"){var D;w.preventDefault(),(D=_.value)==null||D.focus("first")}else if(w.key==="End"){var V;w.preventDefault(),(V=_.value)==null||V.focus("last")}}}function A(w){if(t.multiple){const N=v.value.findIndex(O=>O===w.value);if(N===-1)f.value=[...f.value,w];else{const O=[...f.value];O.splice(N,1),f.value=O}}else f.value=[w],s.value=!1}function R(w){var N;(N=_.value)!=null&&N.$el.contains(w.relatedTarget)||(s.value=!1)}function I(w){if(w.relatedTarget==null){var N;(N=o.value)==null||N.focus()}}return useRender(()=>{const w=!!(t.chips||n.chip),[N]=filterVTextFieldProps(t);return createVNode(VTextField,mergeProps({ref:o},N,{modelValue:f.value.map(O=>O.props.value).join(", "),"onUpdate:modelValue":O=>{O==null&&(f.value=[])},validationValue:f.externalValue,dirty:f.value.length>0,class:["v-select",{"v-select--active-menu":s.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length}],appendInnerIcon:t.menuIcon,readonly:!0,"onClick:clear":b,"onClick:control":C,onBlur:R,onKeydown:S}),{...n,default:()=>{var O,D,V;return createVNode(Fragment,null,[createVNode(VMenu,mergeProps({modelValue:s.value,"onUpdate:modelValue":L=>s.value=L,activator:"parent",contentClass:"v-select__content",eager:t.eager,openOnClick:!1,closeOnContentClick:!1,transition:t.transition},t.menuProps),{default:()=>[createVNode(VList,{ref:_,selected:v.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:L=>L.preventDefault(),onFocusout:I},{default:()=>{var L;return[!l.value.length&&!t.hideNoData&&((L=(O=n["no-data"])==null?void 0:O.call(n))!=null?L:createVNode(VListItem,{title:r(t.noDataText)},null)),(D=n["prepend-item"])==null?void 0:D.call(n),l.value.map((W,U)=>{var H;var K;return(H=(K=n.item)==null?void 0:K.call(n,{item:W,index:U,props:mergeProps(W.props,{onClick:()=>A(W)})}))!=null?H:createVNode(VListItem,mergeProps({key:U},W.props,{onClick:()=>A(W)}),{prepend:J=>{let{isSelected:q}=J;return t.multiple&&!t.hideSelected?createVNode(VCheckboxBtn,{modelValue:q,ripple:!1},null):void 0}})}),(V=n["append-item"])==null?void 0:V.call(n)]}})]}),g.value.map((L,W)=>{function U(H){H.stopPropagation(),H.preventDefault(),A(L)}const K={"onClick:close":U,modelValue:!0,"onUpdate:modelValue":void 0};return createVNode("div",{key:L.value,class:"v-select__selection"},[w?createVNode(VDefaultsProvider,{defaults:{VChip:{closable:t.closableChips,size:"small",text:L.title}}},{default:()=>[n.chip?n.chip({item:L,index:W,props:K}):createVNode(VChip,K,null)]}):n.selection?n.selection({item:L,index:W}):createVNode("span",{class:"v-select__selection-text"},[L.title,t.multiple&&W<g.value.length-1&&createVNode("span",{class:"v-select__selection-comma"},[createTextVNode(",")])])])})])}})}),forwardRefs({menu:s,select:A},o)}}),_sfc_main$6={data:()=>({color:"",type:"bgColors",section:null,sections:["Schemes","Masterminds","Villains","Henchmen","Heroes"]}),watch:{section(){this.updateColor()},type(){this.updateColor()},color(){!this.section||(this.userSettings[this.type][this.section.toLowerCase()]=this.color,this.updateSettings())}},computed:{...mapState(useStore,["userSettings"]),sample(){return this.updateColor(),this.section?{bgColor:this.userSettings.bgColors[this.section.toLowerCase()],textColor:this.userSettings.textColors[this.section.toLowerCase()]}:null}},methods:{...mapActions(useStore,["updateSettings"]),updateColor(){if(!this.section)return null;this.color=this.userSettings[this.type][this.section.toLowerCase()]}}},_hoisted_1$2={class:"d-flex"};function _sfc_render$6(t,e,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VRow,{justify:"center"},{default:withCtx(()=>[createVNode(VSelect,{label:"Section",modelValue:t.section,"onUpdate:modelValue":e[0]||(e[0]=l=>t.section=l),items:t.sections},null,8,["modelValue","items"])]),_:1}),createVNode(VRow,{justify:"center"},{default:withCtx(()=>[createVNode(VRadioGroup,{modelValue:t.type,"onUpdate:modelValue":e[1]||(e[1]=l=>t.type=l),density:"compact"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$2,[createVNode(VRadio,{value:"bgColors",label:"Background Color"}),createVNode(VRadio,{value:"textColors",label:"Text Color"})])]),_:1},8,["modelValue"])]),_:1}),createVNode(VRow,{justify:"center"},{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VColorPicker,{"hide-inputs":"","hide-canvas":"","show-swatches":"",model:"hex","swatches-max-height":"40vh",modelValue:t.color,"onUpdate:modelValue":e[2]||(e[2]=l=>t.color=l)},null,8,["modelValue"])]),_:1})]),_:1}),createVNode(VRow,{justify:"center"},{default:withCtx(()=>[t.section?(openBlock(),createBlock(VCard,{key:0,color:t.userSettings.bgColors[t.section?t.section.toLowerCase():""]},{default:withCtx(()=>[createVNode(VCardTitle,{style:normalizeStyle(`color:${t.userSettings.textColors[t.section?t.section.toLowerCase():""]}`)},{default:withCtx(()=>[createTextVNode(toDisplayString(t.section),1)]),_:1},8,["style"])]),_:1},8,["color"])):createCommentVNode("",!0)]),_:1})]),_:1})])}const Colors=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]),_sfc_main$5={computed:{...mapState(useStore,["userSettings","expansionList"]),userExpansions:{get(){return this.userSettings.expansions||[]},set(t){this.userSettings.expansions=t,this.updateSettings()}},allExpansions(){return this.expansionList.sort((t,e)=>t.expansion<e.expansion?-1:1)}},methods:{...mapActions(useStore,["updateSettings"])}},_hoisted_1$1={style:{height:"85vh","overflow-y":"scroll"}};function _sfc_render$5(t,e,n,r,o,s){const l=resolveDirective("key");return openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.allExpansions,u=>(openBlock(),createBlock(VListItem,null,{default:withCtx(()=>[withDirectives(createVNode(VCheckbox,{label:u.expansion,modelValue:s.userExpansions,"onUpdate:modelValue":e[0]||(e[0]=d=>s.userExpansions=d),textContent:toDisplayString(u),value:u.id,density:"compact"},null,8,["label","modelValue","textContent","value"]),[[l,t.id]])]),_:2},1024))),256))]),_:1})])}const Expansions=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),_sfc_main$4={data:()=>({selected:null}),computed:{...mapState(useStore,["userSettings"]),itemList(){return this.userSettings.enemiesLayout.map(t=>lodash.exports.startCase(t))},itemPosition(){return this.itemList.indexOf(this.selected)},endPosition(){return this.itemList.length-1}},methods:{...mapActions(useStore,["updateSettings"]),moveItem(t){const e=this.itemPosition,n=t=="up"?e-1:e+1;this.userSettings.enemiesLayout.splice(n,0,this.userSettings.enemiesLayout.splice(e,1)[0]),this.updateSettings()}}};function _sfc_render$4(t,e,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VRadioGroup,{modelValue:t.selected,"onUpdate:modelValue":e[0]||(e[0]=l=>t.selected=l)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.itemList,l=>(openBlock(),createBlock(VRadio,{value:l,label:l},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"3"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",class:"mb-5",disabled:s.itemPosition<=0},{default:withCtx(()=>[createVNode(VIcon,{onClick:e[1]||(e[1]=l=>s.moveItem("up"))},{default:withCtx(()=>[createTextVNode(" mdi-chevron-up ")]),_:1})]),_:1},8,["disabled"]),createVNode(VBtn,{icon:"",disabled:s.itemPosition==-1||s.itemPosition==s.endPosition},{default:withCtx(()=>[createVNode(VIcon,{onClick:e[2]||(e[2]=l=>s.moveItem("down"))},{default:withCtx(()=>[createTextVNode(" mdi-chevron-down ")]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})])}const Layout=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),_sfc_main$3={computed:{...mapState(useStore,["userSettings"])},methods:{...mapActions(useStore,["updateSettings"]),showChange(){this.updateSettings()}}};function _sfc_render$3(t,e,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VCard,{flat:""},{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(" Options ")]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VCheckbox,{modelValue:t.userSettings.useEpics,"onUpdate:modelValue":e[0]||(e[0]=l=>t.userSettings.useEpics=l),label:"Allow Epic Masterminds",density:"compact","hide-details":"",onChange:s.showChange},null,8,["modelValue","onChange"]),createVNode(VCheckbox,{modelValue:t.userSettings.usePlayedCount,"onUpdate:modelValue":e[1]||(e[1]=l=>t.userSettings.usePlayedCount=l),label:"Use Played Count",density:"compact","hide-details":"",onChange:s.showChange},null,8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1})])}const Options=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),_sfc_main$2={components:{Colors,Expansions,Layout,Options},props:["section"],data:()=>({menuItems:[{name:"Options",path:"/settings/options",icon:"mdi-cog"},{name:"Expansions",path:"/settings/expansions",icon:"mdi-format-list-checks"},{name:"Layout",path:"/settings/layout",icon:"mdi-view-dashboard"},{name:"Colors",path:"/settings/colors",icon:"mdi-palette"}],tab:0,showNav:!1}),computed:{sectionName(){return this.section===""?"Options":lodash.exports.startCase(this.section.shift())}}};function _sfc_render$2(t,e,n,r,o,s){return openBlock(),createElementBlock(Fragment,null,[createVNode(VToolbar,{density:"compact",color:"grey"},{default:withCtx(()=>[createVNode(VBtn,{to:"/dashboard",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(" mdi-arrow-left-circle ")]),_:1})]),_:1}),createVNode(VSpacer),createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(" Settings ")]),_:1}),createVNode(VSpacer),createVNode(VMenu,null,{activator:withCtx(({props:l})=>[createVNode(VBtn,mergeProps(l,{icon:"mdi-cogs"}),null,16)]),default:withCtx(()=>[createVNode(VCard,{color:"grey"},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.menuItems,l=>(openBlock(),createBlock(VListItem,{to:l.path||"",onClick:l.action},{prepend:withCtx(()=>[createVNode(VIcon,{icon:l.icon},null,8,["icon"])]),default:withCtx(()=>[createVNode(VListItemTitle,{textContent:toDisplayString(l.name)},null,8,["textContent"])]),_:2},1032,["to","onClick"]))),256))]),_:1})]),_:1})]),_:1})]),_:1}),(openBlock(),createBlock(resolveDynamicComponent(s.sectionName)))],64)}const Settings=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]);var markdownIt$1={exports:{}},utils$1={},entities$1={exports:{}};const Aacute="\xC1",aacute="\xE1",Abreve="\u0102",abreve="\u0103",ac="\u223E",acd="\u223F",acE="\u223E\u0333",Acirc="\xC2",acirc="\xE2",acute="\xB4",Acy="\u0410",acy="\u0430",AElig="\xC6",aelig="\xE6",af="\u2061",Afr="\u{1D504}",afr="\u{1D51E}",Agrave="\xC0",agrave="\xE0",alefsym="\u2135",aleph="\u2135",Alpha="\u0391",alpha="\u03B1",Amacr="\u0100",amacr="\u0101",amalg="\u2A3F",amp="&",AMP="&",andand="\u2A55",And="\u2A53",and="\u2227",andd="\u2A5C",andslope="\u2A58",andv="\u2A5A",ang="\u2220",ange="\u29A4",angle="\u2220",angmsdaa="\u29A8",angmsdab="\u29A9",angmsdac="\u29AA",angmsdad="\u29AB",angmsdae="\u29AC",angmsdaf="\u29AD",angmsdag="\u29AE",angmsdah="\u29AF",angmsd="\u2221",angrt="\u221F",angrtvb="\u22BE",angrtvbd="\u299D",angsph="\u2222",angst="\xC5",angzarr="\u237C",Aogon="\u0104",aogon="\u0105",Aopf="\u{1D538}",aopf="\u{1D552}",apacir="\u2A6F",ap="\u2248",apE="\u2A70",ape="\u224A",apid="\u224B",apos="'",ApplyFunction="\u2061",approx="\u2248",approxeq="\u224A",Aring="\xC5",aring="\xE5",Ascr="\u{1D49C}",ascr="\u{1D4B6}",Assign="\u2254",ast="*",asymp="\u2248",asympeq="\u224D",Atilde="\xC3",atilde="\xE3",Auml="\xC4",auml="\xE4",awconint="\u2233",awint="\u2A11",backcong="\u224C",backepsilon="\u03F6",backprime="\u2035",backsim="\u223D",backsimeq="\u22CD",Backslash="\u2216",Barv="\u2AE7",barvee="\u22BD",barwed="\u2305",Barwed="\u2306",barwedge="\u2305",bbrk="\u23B5",bbrktbrk="\u23B6",bcong="\u224C",Bcy="\u0411",bcy="\u0431",bdquo="\u201E",becaus="\u2235",because="\u2235",Because="\u2235",bemptyv="\u29B0",bepsi="\u03F6",bernou="\u212C",Bernoullis="\u212C",Beta="\u0392",beta="\u03B2",beth="\u2136",between="\u226C",Bfr="\u{1D505}",bfr="\u{1D51F}",bigcap="\u22C2",bigcirc="\u25EF",bigcup="\u22C3",bigodot="\u2A00",bigoplus="\u2A01",bigotimes="\u2A02",bigsqcup="\u2A06",bigstar="\u2605",bigtriangledown="\u25BD",bigtriangleup="\u25B3",biguplus="\u2A04",bigvee="\u22C1",bigwedge="\u22C0",bkarow="\u290D",blacklozenge="\u29EB",blacksquare="\u25AA",blacktriangle="\u25B4",blacktriangledown="\u25BE",blacktriangleleft="\u25C2",blacktriangleright="\u25B8",blank="\u2423",blk12="\u2592",blk14="\u2591",blk34="\u2593",block$1="\u2588",bne="=\u20E5",bnequiv="\u2261\u20E5",bNot="\u2AED",bnot="\u2310",Bopf="\u{1D539}",bopf="\u{1D553}",bot="\u22A5",bottom="\u22A5",bowtie="\u22C8",boxbox="\u29C9",boxdl="\u2510",boxdL="\u2555",boxDl="\u2556",boxDL="\u2557",boxdr="\u250C",boxdR="\u2552",boxDr="\u2553",boxDR="\u2554",boxh="\u2500",boxH="\u2550",boxhd="\u252C",boxHd="\u2564",boxhD="\u2565",boxHD="\u2566",boxhu="\u2534",boxHu="\u2567",boxhU="\u2568",boxHU="\u2569",boxminus="\u229F",boxplus="\u229E",boxtimes="\u22A0",boxul="\u2518",boxuL="\u255B",boxUl="\u255C",boxUL="\u255D",boxur="\u2514",boxuR="\u2558",boxUr="\u2559",boxUR="\u255A",boxv="\u2502",boxV="\u2551",boxvh="\u253C",boxvH="\u256A",boxVh="\u256B",boxVH="\u256C",boxvl="\u2524",boxvL="\u2561",boxVl="\u2562",boxVL="\u2563",boxvr="\u251C",boxvR="\u255E",boxVr="\u255F",boxVR="\u2560",bprime="\u2035",breve="\u02D8",Breve="\u02D8",brvbar="\xA6",bscr="\u{1D4B7}",Bscr="\u212C",bsemi="\u204F",bsim="\u223D",bsime="\u22CD",bsolb="\u29C5",bsol="\\",bsolhsub="\u27C8",bull="\u2022",bullet="\u2022",bump="\u224E",bumpE="\u2AAE",bumpe="\u224F",Bumpeq="\u224E",bumpeq="\u224F",Cacute="\u0106",cacute="\u0107",capand="\u2A44",capbrcup="\u2A49",capcap="\u2A4B",cap="\u2229",Cap="\u22D2",capcup="\u2A47",capdot="\u2A40",CapitalDifferentialD="\u2145",caps="\u2229\uFE00",caret="\u2041",caron="\u02C7",Cayleys="\u212D",ccaps="\u2A4D",Ccaron="\u010C",ccaron="\u010D",Ccedil="\xC7",ccedil="\xE7",Ccirc="\u0108",ccirc="\u0109",Cconint="\u2230",ccups="\u2A4C",ccupssm="\u2A50",Cdot="\u010A",cdot="\u010B",cedil="\xB8",Cedilla="\xB8",cemptyv="\u29B2",cent="\xA2",centerdot="\xB7",CenterDot="\xB7",cfr="\u{1D520}",Cfr="\u212D",CHcy="\u0427",chcy="\u0447",check="\u2713",checkmark="\u2713",Chi="\u03A7",chi="\u03C7",circ="\u02C6",circeq="\u2257",circlearrowleft="\u21BA",circlearrowright="\u21BB",circledast="\u229B",circledcirc="\u229A",circleddash="\u229D",CircleDot="\u2299",circledR="\xAE",circledS="\u24C8",CircleMinus="\u2296",CirclePlus="\u2295",CircleTimes="\u2297",cir="\u25CB",cirE="\u29C3",cire="\u2257",cirfnint="\u2A10",cirmid="\u2AEF",cirscir="\u29C2",ClockwiseContourIntegral="\u2232",CloseCurlyDoubleQuote="\u201D",CloseCurlyQuote="\u2019",clubs="\u2663",clubsuit="\u2663",colon=":",Colon="\u2237",Colone="\u2A74",colone="\u2254",coloneq="\u2254",comma=",",commat="@",comp="\u2201",compfn="\u2218",complement="\u2201",complexes="\u2102",cong="\u2245",congdot="\u2A6D",Congruent="\u2261",conint="\u222E",Conint="\u222F",ContourIntegral="\u222E",copf="\u{1D554}",Copf="\u2102",coprod="\u2210",Coproduct="\u2210",copy="\xA9",COPY="\xA9",copysr="\u2117",CounterClockwiseContourIntegral="\u2233",crarr="\u21B5",cross="\u2717",Cross="\u2A2F",Cscr="\u{1D49E}",cscr="\u{1D4B8}",csub="\u2ACF",csube="\u2AD1",csup="\u2AD0",csupe="\u2AD2",ctdot="\u22EF",cudarrl="\u2938",cudarrr="\u2935",cuepr="\u22DE",cuesc="\u22DF",cularr="\u21B6",cularrp="\u293D",cupbrcap="\u2A48",cupcap="\u2A46",CupCap="\u224D",cup="\u222A",Cup="\u22D3",cupcup="\u2A4A",cupdot="\u228D",cupor="\u2A45",cups="\u222A\uFE00",curarr="\u21B7",curarrm="\u293C",curlyeqprec="\u22DE",curlyeqsucc="\u22DF",curlyvee="\u22CE",curlywedge="\u22CF",curren="\xA4",curvearrowleft="\u21B6",curvearrowright="\u21B7",cuvee="\u22CE",cuwed="\u22CF",cwconint="\u2232",cwint="\u2231",cylcty="\u232D",dagger="\u2020",Dagger="\u2021",daleth="\u2138",darr="\u2193",Darr="\u21A1",dArr="\u21D3",dash="\u2010",Dashv="\u2AE4",dashv="\u22A3",dbkarow="\u290F",dblac="\u02DD",Dcaron="\u010E",dcaron="\u010F",Dcy="\u0414",dcy="\u0434",ddagger="\u2021",ddarr="\u21CA",DD="\u2145",dd="\u2146",DDotrahd="\u2911",ddotseq="\u2A77",deg="\xB0",Del="\u2207",Delta="\u0394",delta="\u03B4",demptyv="\u29B1",dfisht="\u297F",Dfr="\u{1D507}",dfr="\u{1D521}",dHar="\u2965",dharl="\u21C3",dharr="\u21C2",DiacriticalAcute="\xB4",DiacriticalDot="\u02D9",DiacriticalDoubleAcute="\u02DD",DiacriticalGrave="`",DiacriticalTilde="\u02DC",diam="\u22C4",diamond="\u22C4",Diamond="\u22C4",diamondsuit="\u2666",diams="\u2666",die="\xA8",DifferentialD="\u2146",digamma="\u03DD",disin="\u22F2",div="\xF7",divide="\xF7",divideontimes="\u22C7",divonx="\u22C7",DJcy="\u0402",djcy="\u0452",dlcorn="\u231E",dlcrop="\u230D",dollar="$",Dopf="\u{1D53B}",dopf="\u{1D555}",Dot="\xA8",dot="\u02D9",DotDot="\u20DC",doteq="\u2250",doteqdot="\u2251",DotEqual="\u2250",dotminus="\u2238",dotplus="\u2214",dotsquare="\u22A1",doublebarwedge="\u2306",DoubleContourIntegral="\u222F",DoubleDot="\xA8",DoubleDownArrow="\u21D3",DoubleLeftArrow="\u21D0",DoubleLeftRightArrow="\u21D4",DoubleLeftTee="\u2AE4",DoubleLongLeftArrow="\u27F8",DoubleLongLeftRightArrow="\u27FA",DoubleLongRightArrow="\u27F9",DoubleRightArrow="\u21D2",DoubleRightTee="\u22A8",DoubleUpArrow="\u21D1",DoubleUpDownArrow="\u21D5",DoubleVerticalBar="\u2225",DownArrowBar="\u2913",downarrow="\u2193",DownArrow="\u2193",Downarrow="\u21D3",DownArrowUpArrow="\u21F5",DownBreve="\u0311",downdownarrows="\u21CA",downharpoonleft="\u21C3",downharpoonright="\u21C2",DownLeftRightVector="\u2950",DownLeftTeeVector="\u295E",DownLeftVectorBar="\u2956",DownLeftVector="\u21BD",DownRightTeeVector="\u295F",DownRightVectorBar="\u2957",DownRightVector="\u21C1",DownTeeArrow="\u21A7",DownTee="\u22A4",drbkarow="\u2910",drcorn="\u231F",drcrop="\u230C",Dscr="\u{1D49F}",dscr="\u{1D4B9}",DScy="\u0405",dscy="\u0455",dsol="\u29F6",Dstrok="\u0110",dstrok="\u0111",dtdot="\u22F1",dtri="\u25BF",dtrif="\u25BE",duarr="\u21F5",duhar="\u296F",dwangle="\u29A6",DZcy="\u040F",dzcy="\u045F",dzigrarr="\u27FF",Eacute="\xC9",eacute="\xE9",easter="\u2A6E",Ecaron="\u011A",ecaron="\u011B",Ecirc="\xCA",ecirc="\xEA",ecir="\u2256",ecolon="\u2255",Ecy="\u042D",ecy="\u044D",eDDot="\u2A77",Edot="\u0116",edot="\u0117",eDot="\u2251",ee="\u2147",efDot="\u2252",Efr="\u{1D508}",efr="\u{1D522}",eg="\u2A9A",Egrave="\xC8",egrave="\xE8",egs="\u2A96",egsdot="\u2A98",el="\u2A99",Element$1="\u2208",elinters="\u23E7",ell="\u2113",els="\u2A95",elsdot="\u2A97",Emacr="\u0112",emacr="\u0113",empty="\u2205",emptyset="\u2205",EmptySmallSquare="\u25FB",emptyv="\u2205",EmptyVerySmallSquare="\u25AB",emsp13="\u2004",emsp14="\u2005",emsp="\u2003",ENG="\u014A",eng="\u014B",ensp="\u2002",Eogon="\u0118",eogon="\u0119",Eopf="\u{1D53C}",eopf="\u{1D556}",epar="\u22D5",eparsl="\u29E3",eplus="\u2A71",epsi="\u03B5",Epsilon="\u0395",epsilon="\u03B5",epsiv="\u03F5",eqcirc="\u2256",eqcolon="\u2255",eqsim="\u2242",eqslantgtr="\u2A96",eqslantless="\u2A95",Equal="\u2A75",equals="=",EqualTilde="\u2242",equest="\u225F",Equilibrium="\u21CC",equiv="\u2261",equivDD="\u2A78",eqvparsl="\u29E5",erarr="\u2971",erDot="\u2253",escr="\u212F",Escr="\u2130",esdot="\u2250",Esim="\u2A73",esim="\u2242",Eta="\u0397",eta="\u03B7",ETH="\xD0",eth="\xF0",Euml="\xCB",euml="\xEB",euro="\u20AC",excl="!",exist="\u2203",Exists="\u2203",expectation="\u2130",exponentiale="\u2147",ExponentialE="\u2147",fallingdotseq="\u2252",Fcy="\u0424",fcy="\u0444",female="\u2640",ffilig="\uFB03",fflig="\uFB00",ffllig="\uFB04",Ffr="\u{1D509}",ffr="\u{1D523}",filig="\uFB01",FilledSmallSquare="\u25FC",FilledVerySmallSquare="\u25AA",fjlig="fj",flat="\u266D",fllig="\uFB02",fltns="\u25B1",fnof="\u0192",Fopf="\u{1D53D}",fopf="\u{1D557}",forall="\u2200",ForAll="\u2200",fork="\u22D4",forkv="\u2AD9",Fouriertrf="\u2131",fpartint="\u2A0D",frac12="\xBD",frac13="\u2153",frac14="\xBC",frac15="\u2155",frac16="\u2159",frac18="\u215B",frac23="\u2154",frac25="\u2156",frac34="\xBE",frac35="\u2157",frac38="\u215C",frac45="\u2158",frac56="\u215A",frac58="\u215D",frac78="\u215E",frasl="\u2044",frown="\u2322",fscr="\u{1D4BB}",Fscr="\u2131",gacute="\u01F5",Gamma="\u0393",gamma="\u03B3",Gammad="\u03DC",gammad="\u03DD",gap="\u2A86",Gbreve="\u011E",gbreve="\u011F",Gcedil="\u0122",Gcirc="\u011C",gcirc="\u011D",Gcy="\u0413",gcy="\u0433",Gdot="\u0120",gdot="\u0121",ge="\u2265",gE="\u2267",gEl="\u2A8C",gel="\u22DB",geq="\u2265",geqq="\u2267",geqslant="\u2A7E",gescc="\u2AA9",ges="\u2A7E",gesdot="\u2A80",gesdoto="\u2A82",gesdotol="\u2A84",gesl="\u22DB\uFE00",gesles="\u2A94",Gfr="\u{1D50A}",gfr="\u{1D524}",gg="\u226B",Gg="\u22D9",ggg="\u22D9",gimel="\u2137",GJcy="\u0403",gjcy="\u0453",gla="\u2AA5",gl="\u2277",glE="\u2A92",glj="\u2AA4",gnap="\u2A8A",gnapprox="\u2A8A",gne="\u2A88",gnE="\u2269",gneq="\u2A88",gneqq="\u2269",gnsim="\u22E7",Gopf="\u{1D53E}",gopf="\u{1D558}",grave="`",GreaterEqual="\u2265",GreaterEqualLess="\u22DB",GreaterFullEqual="\u2267",GreaterGreater="\u2AA2",GreaterLess="\u2277",GreaterSlantEqual="\u2A7E",GreaterTilde="\u2273",Gscr="\u{1D4A2}",gscr="\u210A",gsim="\u2273",gsime="\u2A8E",gsiml="\u2A90",gtcc="\u2AA7",gtcir="\u2A7A",gt=">",GT=">",Gt="\u226B",gtdot="\u22D7",gtlPar="\u2995",gtquest="\u2A7C",gtrapprox="\u2A86",gtrarr="\u2978",gtrdot="\u22D7",gtreqless="\u22DB",gtreqqless="\u2A8C",gtrless="\u2277",gtrsim="\u2273",gvertneqq="\u2269\uFE00",gvnE="\u2269\uFE00",Hacek="\u02C7",hairsp="\u200A",half="\xBD",hamilt="\u210B",HARDcy="\u042A",hardcy="\u044A",harrcir="\u2948",harr="\u2194",hArr="\u21D4",harrw="\u21AD",Hat="^",hbar="\u210F",Hcirc="\u0124",hcirc="\u0125",hearts="\u2665",heartsuit="\u2665",hellip="\u2026",hercon="\u22B9",hfr="\u{1D525}",Hfr="\u210C",HilbertSpace="\u210B",hksearow="\u2925",hkswarow="\u2926",hoarr="\u21FF",homtht="\u223B",hookleftarrow="\u21A9",hookrightarrow="\u21AA",hopf="\u{1D559}",Hopf="\u210D",horbar="\u2015",HorizontalLine="\u2500",hscr="\u{1D4BD}",Hscr="\u210B",hslash="\u210F",Hstrok="\u0126",hstrok="\u0127",HumpDownHump="\u224E",HumpEqual="\u224F",hybull="\u2043",hyphen="\u2010",Iacute="\xCD",iacute="\xED",ic="\u2063",Icirc="\xCE",icirc="\xEE",Icy="\u0418",icy="\u0438",Idot="\u0130",IEcy="\u0415",iecy="\u0435",iexcl="\xA1",iff="\u21D4",ifr="\u{1D526}",Ifr="\u2111",Igrave="\xCC",igrave="\xEC",ii="\u2148",iiiint="\u2A0C",iiint="\u222D",iinfin="\u29DC",iiota="\u2129",IJlig="\u0132",ijlig="\u0133",Imacr="\u012A",imacr="\u012B",image$1="\u2111",ImaginaryI="\u2148",imagline="\u2110",imagpart="\u2111",imath="\u0131",Im="\u2111",imof="\u22B7",imped="\u01B5",Implies="\u21D2",incare="\u2105",infin="\u221E",infintie="\u29DD",inodot="\u0131",intcal="\u22BA",int="\u222B",Int="\u222C",integers="\u2124",Integral="\u222B",intercal="\u22BA",Intersection="\u22C2",intlarhk="\u2A17",intprod="\u2A3C",InvisibleComma="\u2063",InvisibleTimes="\u2062",IOcy="\u0401",iocy="\u0451",Iogon="\u012E",iogon="\u012F",Iopf="\u{1D540}",iopf="\u{1D55A}",Iota="\u0399",iota="\u03B9",iprod="\u2A3C",iquest="\xBF",iscr="\u{1D4BE}",Iscr="\u2110",isin="\u2208",isindot="\u22F5",isinE="\u22F9",isins="\u22F4",isinsv="\u22F3",isinv="\u2208",it="\u2062",Itilde="\u0128",itilde="\u0129",Iukcy="\u0406",iukcy="\u0456",Iuml="\xCF",iuml="\xEF",Jcirc="\u0134",jcirc="\u0135",Jcy="\u0419",jcy="\u0439",Jfr="\u{1D50D}",jfr="\u{1D527}",jmath="\u0237",Jopf="\u{1D541}",jopf="\u{1D55B}",Jscr="\u{1D4A5}",jscr="\u{1D4BF}",Jsercy="\u0408",jsercy="\u0458",Jukcy="\u0404",jukcy="\u0454",Kappa="\u039A",kappa="\u03BA",kappav="\u03F0",Kcedil="\u0136",kcedil="\u0137",Kcy="\u041A",kcy="\u043A",Kfr="\u{1D50E}",kfr="\u{1D528}",kgreen="\u0138",KHcy="\u0425",khcy="\u0445",KJcy="\u040C",kjcy="\u045C",Kopf="\u{1D542}",kopf="\u{1D55C}",Kscr="\u{1D4A6}",kscr="\u{1D4C0}",lAarr="\u21DA",Lacute="\u0139",lacute="\u013A",laemptyv="\u29B4",lagran="\u2112",Lambda="\u039B",lambda="\u03BB",lang="\u27E8",Lang="\u27EA",langd="\u2991",langle="\u27E8",lap="\u2A85",Laplacetrf="\u2112",laquo="\xAB",larrb="\u21E4",larrbfs="\u291F",larr="\u2190",Larr="\u219E",lArr="\u21D0",larrfs="\u291D",larrhk="\u21A9",larrlp="\u21AB",larrpl="\u2939",larrsim="\u2973",larrtl="\u21A2",latail="\u2919",lAtail="\u291B",lat="\u2AAB",late="\u2AAD",lates="\u2AAD\uFE00",lbarr="\u290C",lBarr="\u290E",lbbrk="\u2772",lbrace="{",lbrack="[",lbrke="\u298B",lbrksld="\u298F",lbrkslu="\u298D",Lcaron="\u013D",lcaron="\u013E",Lcedil="\u013B",lcedil="\u013C",lceil="\u2308",lcub="{",Lcy="\u041B",lcy="\u043B",ldca="\u2936",ldquo="\u201C",ldquor="\u201E",ldrdhar="\u2967",ldrushar="\u294B",ldsh="\u21B2",le="\u2264",lE="\u2266",LeftAngleBracket="\u27E8",LeftArrowBar="\u21E4",leftarrow="\u2190",LeftArrow="\u2190",Leftarrow="\u21D0",LeftArrowRightArrow="\u21C6",leftarrowtail="\u21A2",LeftCeiling="\u2308",LeftDoubleBracket="\u27E6",LeftDownTeeVector="\u2961",LeftDownVectorBar="\u2959",LeftDownVector="\u21C3",LeftFloor="\u230A",leftharpoondown="\u21BD",leftharpoonup="\u21BC",leftleftarrows="\u21C7",leftrightarrow="\u2194",LeftRightArrow="\u2194",Leftrightarrow="\u21D4",leftrightarrows="\u21C6",leftrightharpoons="\u21CB",leftrightsquigarrow="\u21AD",LeftRightVector="\u294E",LeftTeeArrow="\u21A4",LeftTee="\u22A3",LeftTeeVector="\u295A",leftthreetimes="\u22CB",LeftTriangleBar="\u29CF",LeftTriangle="\u22B2",LeftTriangleEqual="\u22B4",LeftUpDownVector="\u2951",LeftUpTeeVector="\u2960",LeftUpVectorBar="\u2958",LeftUpVector="\u21BF",LeftVectorBar="\u2952",LeftVector="\u21BC",lEg="\u2A8B",leg="\u22DA",leq="\u2264",leqq="\u2266",leqslant="\u2A7D",lescc="\u2AA8",les="\u2A7D",lesdot="\u2A7F",lesdoto="\u2A81",lesdotor="\u2A83",lesg="\u22DA\uFE00",lesges="\u2A93",lessapprox="\u2A85",lessdot="\u22D6",lesseqgtr="\u22DA",lesseqqgtr="\u2A8B",LessEqualGreater="\u22DA",LessFullEqual="\u2266",LessGreater="\u2276",lessgtr="\u2276",LessLess="\u2AA1",lesssim="\u2272",LessSlantEqual="\u2A7D",LessTilde="\u2272",lfisht="\u297C",lfloor="\u230A",Lfr="\u{1D50F}",lfr="\u{1D529}",lg="\u2276",lgE="\u2A91",lHar="\u2962",lhard="\u21BD",lharu="\u21BC",lharul="\u296A",lhblk="\u2584",LJcy="\u0409",ljcy="\u0459",llarr="\u21C7",ll="\u226A",Ll="\u22D8",llcorner="\u231E",Lleftarrow="\u21DA",llhard="\u296B",lltri="\u25FA",Lmidot="\u013F",lmidot="\u0140",lmoustache="\u23B0",lmoust="\u23B0",lnap="\u2A89",lnapprox="\u2A89",lne="\u2A87",lnE="\u2268",lneq="\u2A87",lneqq="\u2268",lnsim="\u22E6",loang="\u27EC",loarr="\u21FD",lobrk="\u27E6",longleftarrow="\u27F5",LongLeftArrow="\u27F5",Longleftarrow="\u27F8",longleftrightarrow="\u27F7",LongLeftRightArrow="\u27F7",Longleftrightarrow="\u27FA",longmapsto="\u27FC",longrightarrow="\u27F6",LongRightArrow="\u27F6",Longrightarrow="\u27F9",looparrowleft="\u21AB",looparrowright="\u21AC",lopar="\u2985",Lopf="\u{1D543}",lopf="\u{1D55D}",loplus="\u2A2D",lotimes="\u2A34",lowast="\u2217",lowbar="_",LowerLeftArrow="\u2199",LowerRightArrow="\u2198",loz="\u25CA",lozenge="\u25CA",lozf="\u29EB",lpar="(",lparlt="\u2993",lrarr="\u21C6",lrcorner="\u231F",lrhar="\u21CB",lrhard="\u296D",lrm="\u200E",lrtri="\u22BF",lsaquo="\u2039",lscr="\u{1D4C1}",Lscr="\u2112",lsh="\u21B0",Lsh="\u21B0",lsim="\u2272",lsime="\u2A8D",lsimg="\u2A8F",lsqb="[",lsquo="\u2018",lsquor="\u201A",Lstrok="\u0141",lstrok="\u0142",ltcc="\u2AA6",ltcir="\u2A79",lt="<",LT="<",Lt="\u226A",ltdot="\u22D6",lthree="\u22CB",ltimes="\u22C9",ltlarr="\u2976",ltquest="\u2A7B",ltri="\u25C3",ltrie="\u22B4",ltrif="\u25C2",ltrPar="\u2996",lurdshar="\u294A",luruhar="\u2966",lvertneqq="\u2268\uFE00",lvnE="\u2268\uFE00",macr="\xAF",male="\u2642",malt="\u2720",maltese="\u2720",map="\u21A6",mapsto="\u21A6",mapstodown="\u21A7",mapstoleft="\u21A4",mapstoup="\u21A5",marker="\u25AE",mcomma="\u2A29",Mcy="\u041C",mcy="\u043C",mdash="\u2014",mDDot="\u223A",measuredangle="\u2221",MediumSpace="\u205F",Mellintrf="\u2133",Mfr="\u{1D510}",mfr="\u{1D52A}",mho="\u2127",micro="\xB5",midast="*",midcir="\u2AF0",mid="\u2223",middot="\xB7",minusb="\u229F",minus="\u2212",minusd="\u2238",minusdu="\u2A2A",MinusPlus="\u2213",mlcp="\u2ADB",mldr="\u2026",mnplus="\u2213",models="\u22A7",Mopf="\u{1D544}",mopf="\u{1D55E}",mp="\u2213",mscr="\u{1D4C2}",Mscr="\u2133",mstpos="\u223E",Mu="\u039C",mu="\u03BC",multimap="\u22B8",mumap="\u22B8",nabla="\u2207",Nacute="\u0143",nacute="\u0144",nang="\u2220\u20D2",nap="\u2249",napE="\u2A70\u0338",napid="\u224B\u0338",napos="\u0149",napprox="\u2249",natural="\u266E",naturals="\u2115",natur="\u266E",nbsp="\xA0",nbump="\u224E\u0338",nbumpe="\u224F\u0338",ncap="\u2A43",Ncaron="\u0147",ncaron="\u0148",Ncedil="\u0145",ncedil="\u0146",ncong="\u2247",ncongdot="\u2A6D\u0338",ncup="\u2A42",Ncy="\u041D",ncy="\u043D",ndash="\u2013",nearhk="\u2924",nearr="\u2197",neArr="\u21D7",nearrow="\u2197",ne="\u2260",nedot="\u2250\u0338",NegativeMediumSpace="\u200B",NegativeThickSpace="\u200B",NegativeThinSpace="\u200B",NegativeVeryThinSpace="\u200B",nequiv="\u2262",nesear="\u2928",nesim="\u2242\u0338",NestedGreaterGreater="\u226B",NestedLessLess="\u226A",NewLine=`
`,nexist="\u2204",nexists="\u2204",Nfr="\u{1D511}",nfr="\u{1D52B}",ngE="\u2267\u0338",nge="\u2271",ngeq="\u2271",ngeqq="\u2267\u0338",ngeqslant="\u2A7E\u0338",nges="\u2A7E\u0338",nGg="\u22D9\u0338",ngsim="\u2275",nGt="\u226B\u20D2",ngt="\u226F",ngtr="\u226F",nGtv="\u226B\u0338",nharr="\u21AE",nhArr="\u21CE",nhpar="\u2AF2",ni="\u220B",nis="\u22FC",nisd="\u22FA",niv="\u220B",NJcy="\u040A",njcy="\u045A",nlarr="\u219A",nlArr="\u21CD",nldr="\u2025",nlE="\u2266\u0338",nle="\u2270",nleftarrow="\u219A",nLeftarrow="\u21CD",nleftrightarrow="\u21AE",nLeftrightarrow="\u21CE",nleq="\u2270",nleqq="\u2266\u0338",nleqslant="\u2A7D\u0338",nles="\u2A7D\u0338",nless="\u226E",nLl="\u22D8\u0338",nlsim="\u2274",nLt="\u226A\u20D2",nlt="\u226E",nltri="\u22EA",nltrie="\u22EC",nLtv="\u226A\u0338",nmid="\u2224",NoBreak="\u2060",NonBreakingSpace="\xA0",nopf="\u{1D55F}",Nopf="\u2115",Not="\u2AEC",not="\xAC",NotCongruent="\u2262",NotCupCap="\u226D",NotDoubleVerticalBar="\u2226",NotElement="\u2209",NotEqual="\u2260",NotEqualTilde="\u2242\u0338",NotExists="\u2204",NotGreater="\u226F",NotGreaterEqual="\u2271",NotGreaterFullEqual="\u2267\u0338",NotGreaterGreater="\u226B\u0338",NotGreaterLess="\u2279",NotGreaterSlantEqual="\u2A7E\u0338",NotGreaterTilde="\u2275",NotHumpDownHump="\u224E\u0338",NotHumpEqual="\u224F\u0338",notin="\u2209",notindot="\u22F5\u0338",notinE="\u22F9\u0338",notinva="\u2209",notinvb="\u22F7",notinvc="\u22F6",NotLeftTriangleBar="\u29CF\u0338",NotLeftTriangle="\u22EA",NotLeftTriangleEqual="\u22EC",NotLess="\u226E",NotLessEqual="\u2270",NotLessGreater="\u2278",NotLessLess="\u226A\u0338",NotLessSlantEqual="\u2A7D\u0338",NotLessTilde="\u2274",NotNestedGreaterGreater="\u2AA2\u0338",NotNestedLessLess="\u2AA1\u0338",notni="\u220C",notniva="\u220C",notnivb="\u22FE",notnivc="\u22FD",NotPrecedes="\u2280",NotPrecedesEqual="\u2AAF\u0338",NotPrecedesSlantEqual="\u22E0",NotReverseElement="\u220C",NotRightTriangleBar="\u29D0\u0338",NotRightTriangle="\u22EB",NotRightTriangleEqual="\u22ED",NotSquareSubset="\u228F\u0338",NotSquareSubsetEqual="\u22E2",NotSquareSuperset="\u2290\u0338",NotSquareSupersetEqual="\u22E3",NotSubset="\u2282\u20D2",NotSubsetEqual="\u2288",NotSucceeds="\u2281",NotSucceedsEqual="\u2AB0\u0338",NotSucceedsSlantEqual="\u22E1",NotSucceedsTilde="\u227F\u0338",NotSuperset="\u2283\u20D2",NotSupersetEqual="\u2289",NotTilde="\u2241",NotTildeEqual="\u2244",NotTildeFullEqual="\u2247",NotTildeTilde="\u2249",NotVerticalBar="\u2224",nparallel="\u2226",npar="\u2226",nparsl="\u2AFD\u20E5",npart="\u2202\u0338",npolint="\u2A14",npr="\u2280",nprcue="\u22E0",nprec="\u2280",npreceq="\u2AAF\u0338",npre="\u2AAF\u0338",nrarrc="\u2933\u0338",nrarr="\u219B",nrArr="\u21CF",nrarrw="\u219D\u0338",nrightarrow="\u219B",nRightarrow="\u21CF",nrtri="\u22EB",nrtrie="\u22ED",nsc="\u2281",nsccue="\u22E1",nsce="\u2AB0\u0338",Nscr="\u{1D4A9}",nscr="\u{1D4C3}",nshortmid="\u2224",nshortparallel="\u2226",nsim="\u2241",nsime="\u2244",nsimeq="\u2244",nsmid="\u2224",nspar="\u2226",nsqsube="\u22E2",nsqsupe="\u22E3",nsub="\u2284",nsubE="\u2AC5\u0338",nsube="\u2288",nsubset="\u2282\u20D2",nsubseteq="\u2288",nsubseteqq="\u2AC5\u0338",nsucc="\u2281",nsucceq="\u2AB0\u0338",nsup="\u2285",nsupE="\u2AC6\u0338",nsupe="\u2289",nsupset="\u2283\u20D2",nsupseteq="\u2289",nsupseteqq="\u2AC6\u0338",ntgl="\u2279",Ntilde="\xD1",ntilde="\xF1",ntlg="\u2278",ntriangleleft="\u22EA",ntrianglelefteq="\u22EC",ntriangleright="\u22EB",ntrianglerighteq="\u22ED",Nu="\u039D",nu="\u03BD",num="#",numero="\u2116",numsp="\u2007",nvap="\u224D\u20D2",nvdash="\u22AC",nvDash="\u22AD",nVdash="\u22AE",nVDash="\u22AF",nvge="\u2265\u20D2",nvgt=">\u20D2",nvHarr="\u2904",nvinfin="\u29DE",nvlArr="\u2902",nvle="\u2264\u20D2",nvlt="<\u20D2",nvltrie="\u22B4\u20D2",nvrArr="\u2903",nvrtrie="\u22B5\u20D2",nvsim="\u223C\u20D2",nwarhk="\u2923",nwarr="\u2196",nwArr="\u21D6",nwarrow="\u2196",nwnear="\u2927",Oacute="\xD3",oacute="\xF3",oast="\u229B",Ocirc="\xD4",ocirc="\xF4",ocir="\u229A",Ocy="\u041E",ocy="\u043E",odash="\u229D",Odblac="\u0150",odblac="\u0151",odiv="\u2A38",odot="\u2299",odsold="\u29BC",OElig="\u0152",oelig="\u0153",ofcir="\u29BF",Ofr="\u{1D512}",ofr="\u{1D52C}",ogon="\u02DB",Ograve="\xD2",ograve="\xF2",ogt="\u29C1",ohbar="\u29B5",ohm="\u03A9",oint="\u222E",olarr="\u21BA",olcir="\u29BE",olcross="\u29BB",oline="\u203E",olt="\u29C0",Omacr="\u014C",omacr="\u014D",Omega="\u03A9",omega="\u03C9",Omicron="\u039F",omicron="\u03BF",omid="\u29B6",ominus="\u2296",Oopf="\u{1D546}",oopf="\u{1D560}",opar="\u29B7",OpenCurlyDoubleQuote="\u201C",OpenCurlyQuote="\u2018",operp="\u29B9",oplus="\u2295",orarr="\u21BB",Or="\u2A54",or="\u2228",ord="\u2A5D",order="\u2134",orderof="\u2134",ordf="\xAA",ordm="\xBA",origof="\u22B6",oror="\u2A56",orslope="\u2A57",orv="\u2A5B",oS="\u24C8",Oscr="\u{1D4AA}",oscr="\u2134",Oslash="\xD8",oslash="\xF8",osol="\u2298",Otilde="\xD5",otilde="\xF5",otimesas="\u2A36",Otimes="\u2A37",otimes="\u2297",Ouml="\xD6",ouml="\xF6",ovbar="\u233D",OverBar="\u203E",OverBrace="\u23DE",OverBracket="\u23B4",OverParenthesis="\u23DC",para="\xB6",parallel="\u2225",par="\u2225",parsim="\u2AF3",parsl="\u2AFD",part="\u2202",PartialD="\u2202",Pcy="\u041F",pcy="\u043F",percnt="%",period=".",permil="\u2030",perp="\u22A5",pertenk="\u2031",Pfr="\u{1D513}",pfr="\u{1D52D}",Phi="\u03A6",phi="\u03C6",phiv="\u03D5",phmmat="\u2133",phone="\u260E",Pi="\u03A0",pi="\u03C0",pitchfork="\u22D4",piv="\u03D6",planck="\u210F",planckh="\u210E",plankv="\u210F",plusacir="\u2A23",plusb="\u229E",pluscir="\u2A22",plus="+",plusdo="\u2214",plusdu="\u2A25",pluse="\u2A72",PlusMinus="\xB1",plusmn="\xB1",plussim="\u2A26",plustwo="\u2A27",pm="\xB1",Poincareplane="\u210C",pointint="\u2A15",popf="\u{1D561}",Popf="\u2119",pound="\xA3",prap="\u2AB7",Pr="\u2ABB",pr="\u227A",prcue="\u227C",precapprox="\u2AB7",prec="\u227A",preccurlyeq="\u227C",Precedes="\u227A",PrecedesEqual="\u2AAF",PrecedesSlantEqual="\u227C",PrecedesTilde="\u227E",preceq="\u2AAF",precnapprox="\u2AB9",precneqq="\u2AB5",precnsim="\u22E8",pre="\u2AAF",prE="\u2AB3",precsim="\u227E",prime="\u2032",Prime="\u2033",primes="\u2119",prnap="\u2AB9",prnE="\u2AB5",prnsim="\u22E8",prod="\u220F",Product="\u220F",profalar="\u232E",profline="\u2312",profsurf="\u2313",prop="\u221D",Proportional="\u221D",Proportion="\u2237",propto="\u221D",prsim="\u227E",prurel="\u22B0",Pscr="\u{1D4AB}",pscr="\u{1D4C5}",Psi="\u03A8",psi="\u03C8",puncsp="\u2008",Qfr="\u{1D514}",qfr="\u{1D52E}",qint="\u2A0C",qopf="\u{1D562}",Qopf="\u211A",qprime="\u2057",Qscr="\u{1D4AC}",qscr="\u{1D4C6}",quaternions="\u210D",quatint="\u2A16",quest="?",questeq="\u225F",quot='"',QUOT='"',rAarr="\u21DB",race="\u223D\u0331",Racute="\u0154",racute="\u0155",radic="\u221A",raemptyv="\u29B3",rang="\u27E9",Rang="\u27EB",rangd="\u2992",range="\u29A5",rangle="\u27E9",raquo="\xBB",rarrap="\u2975",rarrb="\u21E5",rarrbfs="\u2920",rarrc="\u2933",rarr="\u2192",Rarr="\u21A0",rArr="\u21D2",rarrfs="\u291E",rarrhk="\u21AA",rarrlp="\u21AC",rarrpl="\u2945",rarrsim="\u2974",Rarrtl="\u2916",rarrtl="\u21A3",rarrw="\u219D",ratail="\u291A",rAtail="\u291C",ratio="\u2236",rationals="\u211A",rbarr="\u290D",rBarr="\u290F",RBarr="\u2910",rbbrk="\u2773",rbrace="}",rbrack="]",rbrke="\u298C",rbrksld="\u298E",rbrkslu="\u2990",Rcaron="\u0158",rcaron="\u0159",Rcedil="\u0156",rcedil="\u0157",rceil="\u2309",rcub="}",Rcy="\u0420",rcy="\u0440",rdca="\u2937",rdldhar="\u2969",rdquo="\u201D",rdquor="\u201D",rdsh="\u21B3",real="\u211C",realine="\u211B",realpart="\u211C",reals="\u211D",Re="\u211C",rect="\u25AD",reg="\xAE",REG="\xAE",ReverseElement="\u220B",ReverseEquilibrium="\u21CB",ReverseUpEquilibrium="\u296F",rfisht="\u297D",rfloor="\u230B",rfr="\u{1D52F}",Rfr="\u211C",rHar="\u2964",rhard="\u21C1",rharu="\u21C0",rharul="\u296C",Rho="\u03A1",rho="\u03C1",rhov="\u03F1",RightAngleBracket="\u27E9",RightArrowBar="\u21E5",rightarrow="\u2192",RightArrow="\u2192",Rightarrow="\u21D2",RightArrowLeftArrow="\u21C4",rightarrowtail="\u21A3",RightCeiling="\u2309",RightDoubleBracket="\u27E7",RightDownTeeVector="\u295D",RightDownVectorBar="\u2955",RightDownVector="\u21C2",RightFloor="\u230B",rightharpoondown="\u21C1",rightharpoonup="\u21C0",rightleftarrows="\u21C4",rightleftharpoons="\u21CC",rightrightarrows="\u21C9",rightsquigarrow="\u219D",RightTeeArrow="\u21A6",RightTee="\u22A2",RightTeeVector="\u295B",rightthreetimes="\u22CC",RightTriangleBar="\u29D0",RightTriangle="\u22B3",RightTriangleEqual="\u22B5",RightUpDownVector="\u294F",RightUpTeeVector="\u295C",RightUpVectorBar="\u2954",RightUpVector="\u21BE",RightVectorBar="\u2953",RightVector="\u21C0",ring="\u02DA",risingdotseq="\u2253",rlarr="\u21C4",rlhar="\u21CC",rlm="\u200F",rmoustache="\u23B1",rmoust="\u23B1",rnmid="\u2AEE",roang="\u27ED",roarr="\u21FE",robrk="\u27E7",ropar="\u2986",ropf="\u{1D563}",Ropf="\u211D",roplus="\u2A2E",rotimes="\u2A35",RoundImplies="\u2970",rpar=")",rpargt="\u2994",rppolint="\u2A12",rrarr="\u21C9",Rrightarrow="\u21DB",rsaquo="\u203A",rscr="\u{1D4C7}",Rscr="\u211B",rsh="\u21B1",Rsh="\u21B1",rsqb="]",rsquo="\u2019",rsquor="\u2019",rthree="\u22CC",rtimes="\u22CA",rtri="\u25B9",rtrie="\u22B5",rtrif="\u25B8",rtriltri="\u29CE",RuleDelayed="\u29F4",ruluhar="\u2968",rx="\u211E",Sacute="\u015A",sacute="\u015B",sbquo="\u201A",scap="\u2AB8",Scaron="\u0160",scaron="\u0161",Sc="\u2ABC",sc="\u227B",sccue="\u227D",sce="\u2AB0",scE="\u2AB4",Scedil="\u015E",scedil="\u015F",Scirc="\u015C",scirc="\u015D",scnap="\u2ABA",scnE="\u2AB6",scnsim="\u22E9",scpolint="\u2A13",scsim="\u227F",Scy="\u0421",scy="\u0441",sdotb="\u22A1",sdot="\u22C5",sdote="\u2A66",searhk="\u2925",searr="\u2198",seArr="\u21D8",searrow="\u2198",sect="\xA7",semi=";",seswar="\u2929",setminus="\u2216",setmn="\u2216",sext="\u2736",Sfr="\u{1D516}",sfr="\u{1D530}",sfrown="\u2322",sharp="\u266F",SHCHcy="\u0429",shchcy="\u0449",SHcy="\u0428",shcy="\u0448",ShortDownArrow="\u2193",ShortLeftArrow="\u2190",shortmid="\u2223",shortparallel="\u2225",ShortRightArrow="\u2192",ShortUpArrow="\u2191",shy="\xAD",Sigma="\u03A3",sigma="\u03C3",sigmaf="\u03C2",sigmav="\u03C2",sim="\u223C",simdot="\u2A6A",sime="\u2243",simeq="\u2243",simg="\u2A9E",simgE="\u2AA0",siml="\u2A9D",simlE="\u2A9F",simne="\u2246",simplus="\u2A24",simrarr="\u2972",slarr="\u2190",SmallCircle="\u2218",smallsetminus="\u2216",smashp="\u2A33",smeparsl="\u29E4",smid="\u2223",smile="\u2323",smt="\u2AAA",smte="\u2AAC",smtes="\u2AAC\uFE00",SOFTcy="\u042C",softcy="\u044C",solbar="\u233F",solb="\u29C4",sol="/",Sopf="\u{1D54A}",sopf="\u{1D564}",spades="\u2660",spadesuit="\u2660",spar="\u2225",sqcap="\u2293",sqcaps="\u2293\uFE00",sqcup="\u2294",sqcups="\u2294\uFE00",Sqrt="\u221A",sqsub="\u228F",sqsube="\u2291",sqsubset="\u228F",sqsubseteq="\u2291",sqsup="\u2290",sqsupe="\u2292",sqsupset="\u2290",sqsupseteq="\u2292",square="\u25A1",Square="\u25A1",SquareIntersection="\u2293",SquareSubset="\u228F",SquareSubsetEqual="\u2291",SquareSuperset="\u2290",SquareSupersetEqual="\u2292",SquareUnion="\u2294",squarf="\u25AA",squ="\u25A1",squf="\u25AA",srarr="\u2192",Sscr="\u{1D4AE}",sscr="\u{1D4C8}",ssetmn="\u2216",ssmile="\u2323",sstarf="\u22C6",Star="\u22C6",star="\u2606",starf="\u2605",straightepsilon="\u03F5",straightphi="\u03D5",strns="\xAF",sub="\u2282",Sub="\u22D0",subdot="\u2ABD",subE="\u2AC5",sube="\u2286",subedot="\u2AC3",submult="\u2AC1",subnE="\u2ACB",subne="\u228A",subplus="\u2ABF",subrarr="\u2979",subset="\u2282",Subset="\u22D0",subseteq="\u2286",subseteqq="\u2AC5",SubsetEqual="\u2286",subsetneq="\u228A",subsetneqq="\u2ACB",subsim="\u2AC7",subsub="\u2AD5",subsup="\u2AD3",succapprox="\u2AB8",succ="\u227B",succcurlyeq="\u227D",Succeeds="\u227B",SucceedsEqual="\u2AB0",SucceedsSlantEqual="\u227D",SucceedsTilde="\u227F",succeq="\u2AB0",succnapprox="\u2ABA",succneqq="\u2AB6",succnsim="\u22E9",succsim="\u227F",SuchThat="\u220B",sum="\u2211",Sum="\u2211",sung="\u266A",sup1="\xB9",sup2="\xB2",sup3="\xB3",sup="\u2283",Sup="\u22D1",supdot="\u2ABE",supdsub="\u2AD8",supE="\u2AC6",supe="\u2287",supedot="\u2AC4",Superset="\u2283",SupersetEqual="\u2287",suphsol="\u27C9",suphsub="\u2AD7",suplarr="\u297B",supmult="\u2AC2",supnE="\u2ACC",supne="\u228B",supplus="\u2AC0",supset="\u2283",Supset="\u22D1",supseteq="\u2287",supseteqq="\u2AC6",supsetneq="\u228B",supsetneqq="\u2ACC",supsim="\u2AC8",supsub="\u2AD4",supsup="\u2AD6",swarhk="\u2926",swarr="\u2199",swArr="\u21D9",swarrow="\u2199",swnwar="\u292A",szlig="\xDF",Tab="	",target="\u2316",Tau="\u03A4",tau="\u03C4",tbrk="\u23B4",Tcaron="\u0164",tcaron="\u0165",Tcedil="\u0162",tcedil="\u0163",Tcy="\u0422",tcy="\u0442",tdot="\u20DB",telrec="\u2315",Tfr="\u{1D517}",tfr="\u{1D531}",there4="\u2234",therefore="\u2234",Therefore="\u2234",Theta="\u0398",theta="\u03B8",thetasym="\u03D1",thetav="\u03D1",thickapprox="\u2248",thicksim="\u223C",ThickSpace="\u205F\u200A",ThinSpace="\u2009",thinsp="\u2009",thkap="\u2248",thksim="\u223C",THORN="\xDE",thorn="\xFE",tilde="\u02DC",Tilde="\u223C",TildeEqual="\u2243",TildeFullEqual="\u2245",TildeTilde="\u2248",timesbar="\u2A31",timesb="\u22A0",times="\xD7",timesd="\u2A30",tint="\u222D",toea="\u2928",topbot="\u2336",topcir="\u2AF1",top="\u22A4",Topf="\u{1D54B}",topf="\u{1D565}",topfork="\u2ADA",tosa="\u2929",tprime="\u2034",trade="\u2122",TRADE="\u2122",triangle="\u25B5",triangledown="\u25BF",triangleleft="\u25C3",trianglelefteq="\u22B4",triangleq="\u225C",triangleright="\u25B9",trianglerighteq="\u22B5",tridot="\u25EC",trie="\u225C",triminus="\u2A3A",TripleDot="\u20DB",triplus="\u2A39",trisb="\u29CD",tritime="\u2A3B",trpezium="\u23E2",Tscr="\u{1D4AF}",tscr="\u{1D4C9}",TScy="\u0426",tscy="\u0446",TSHcy="\u040B",tshcy="\u045B",Tstrok="\u0166",tstrok="\u0167",twixt="\u226C",twoheadleftarrow="\u219E",twoheadrightarrow="\u21A0",Uacute="\xDA",uacute="\xFA",uarr="\u2191",Uarr="\u219F",uArr="\u21D1",Uarrocir="\u2949",Ubrcy="\u040E",ubrcy="\u045E",Ubreve="\u016C",ubreve="\u016D",Ucirc="\xDB",ucirc="\xFB",Ucy="\u0423",ucy="\u0443",udarr="\u21C5",Udblac="\u0170",udblac="\u0171",udhar="\u296E",ufisht="\u297E",Ufr="\u{1D518}",ufr="\u{1D532}",Ugrave="\xD9",ugrave="\xF9",uHar="\u2963",uharl="\u21BF",uharr="\u21BE",uhblk="\u2580",ulcorn="\u231C",ulcorner="\u231C",ulcrop="\u230F",ultri="\u25F8",Umacr="\u016A",umacr="\u016B",uml="\xA8",UnderBar="_",UnderBrace="\u23DF",UnderBracket="\u23B5",UnderParenthesis="\u23DD",Union="\u22C3",UnionPlus="\u228E",Uogon="\u0172",uogon="\u0173",Uopf="\u{1D54C}",uopf="\u{1D566}",UpArrowBar="\u2912",uparrow="\u2191",UpArrow="\u2191",Uparrow="\u21D1",UpArrowDownArrow="\u21C5",updownarrow="\u2195",UpDownArrow="\u2195",Updownarrow="\u21D5",UpEquilibrium="\u296E",upharpoonleft="\u21BF",upharpoonright="\u21BE",uplus="\u228E",UpperLeftArrow="\u2196",UpperRightArrow="\u2197",upsi="\u03C5",Upsi="\u03D2",upsih="\u03D2",Upsilon="\u03A5",upsilon="\u03C5",UpTeeArrow="\u21A5",UpTee="\u22A5",upuparrows="\u21C8",urcorn="\u231D",urcorner="\u231D",urcrop="\u230E",Uring="\u016E",uring="\u016F",urtri="\u25F9",Uscr="\u{1D4B0}",uscr="\u{1D4CA}",utdot="\u22F0",Utilde="\u0168",utilde="\u0169",utri="\u25B5",utrif="\u25B4",uuarr="\u21C8",Uuml="\xDC",uuml="\xFC",uwangle="\u29A7",vangrt="\u299C",varepsilon="\u03F5",varkappa="\u03F0",varnothing="\u2205",varphi="\u03D5",varpi="\u03D6",varpropto="\u221D",varr="\u2195",vArr="\u21D5",varrho="\u03F1",varsigma="\u03C2",varsubsetneq="\u228A\uFE00",varsubsetneqq="\u2ACB\uFE00",varsupsetneq="\u228B\uFE00",varsupsetneqq="\u2ACC\uFE00",vartheta="\u03D1",vartriangleleft="\u22B2",vartriangleright="\u22B3",vBar="\u2AE8",Vbar="\u2AEB",vBarv="\u2AE9",Vcy="\u0412",vcy="\u0432",vdash="\u22A2",vDash="\u22A8",Vdash="\u22A9",VDash="\u22AB",Vdashl="\u2AE6",veebar="\u22BB",vee="\u2228",Vee="\u22C1",veeeq="\u225A",vellip="\u22EE",verbar="|",Verbar="\u2016",vert="|",Vert="\u2016",VerticalBar="\u2223",VerticalLine="|",VerticalSeparator="\u2758",VerticalTilde="\u2240",VeryThinSpace="\u200A",Vfr="\u{1D519}",vfr="\u{1D533}",vltri="\u22B2",vnsub="\u2282\u20D2",vnsup="\u2283\u20D2",Vopf="\u{1D54D}",vopf="\u{1D567}",vprop="\u221D",vrtri="\u22B3",Vscr="\u{1D4B1}",vscr="\u{1D4CB}",vsubnE="\u2ACB\uFE00",vsubne="\u228A\uFE00",vsupnE="\u2ACC\uFE00",vsupne="\u228B\uFE00",Vvdash="\u22AA",vzigzag="\u299A",Wcirc="\u0174",wcirc="\u0175",wedbar="\u2A5F",wedge="\u2227",Wedge="\u22C0",wedgeq="\u2259",weierp="\u2118",Wfr="\u{1D51A}",wfr="\u{1D534}",Wopf="\u{1D54E}",wopf="\u{1D568}",wp="\u2118",wr="\u2240",wreath="\u2240",Wscr="\u{1D4B2}",wscr="\u{1D4CC}",xcap="\u22C2",xcirc="\u25EF",xcup="\u22C3",xdtri="\u25BD",Xfr="\u{1D51B}",xfr="\u{1D535}",xharr="\u27F7",xhArr="\u27FA",Xi="\u039E",xi="\u03BE",xlarr="\u27F5",xlArr="\u27F8",xmap="\u27FC",xnis="\u22FB",xodot="\u2A00",Xopf="\u{1D54F}",xopf="\u{1D569}",xoplus="\u2A01",xotime="\u2A02",xrarr="\u27F6",xrArr="\u27F9",Xscr="\u{1D4B3}",xscr="\u{1D4CD}",xsqcup="\u2A06",xuplus="\u2A04",xutri="\u25B3",xvee="\u22C1",xwedge="\u22C0",Yacute="\xDD",yacute="\xFD",YAcy="\u042F",yacy="\u044F",Ycirc="\u0176",ycirc="\u0177",Ycy="\u042B",ycy="\u044B",yen="\xA5",Yfr="\u{1D51C}",yfr="\u{1D536}",YIcy="\u0407",yicy="\u0457",Yopf="\u{1D550}",yopf="\u{1D56A}",Yscr="\u{1D4B4}",yscr="\u{1D4CE}",YUcy="\u042E",yucy="\u044E",yuml="\xFF",Yuml="\u0178",Zacute="\u0179",zacute="\u017A",Zcaron="\u017D",zcaron="\u017E",Zcy="\u0417",zcy="\u0437",Zdot="\u017B",zdot="\u017C",zeetrf="\u2128",ZeroWidthSpace="\u200B",Zeta="\u0396",zeta="\u03B6",zfr="\u{1D537}",Zfr="\u2128",ZHcy="\u0416",zhcy="\u0436",zigrarr="\u21DD",zopf="\u{1D56B}",Zopf="\u2124",Zscr="\u{1D4B5}",zscr="\u{1D4CF}",zwj="\u200D",zwnj="\u200C",require$$0={Aacute,aacute,Abreve,abreve,ac,acd,acE,Acirc,acirc,acute,Acy,acy,AElig,aelig,af,Afr,afr,Agrave,agrave,alefsym,aleph,Alpha,alpha,Amacr,amacr,amalg,amp,AMP,andand,And,and,andd,andslope,andv,ang,ange,angle,angmsdaa,angmsdab,angmsdac,angmsdad,angmsdae,angmsdaf,angmsdag,angmsdah,angmsd,angrt,angrtvb,angrtvbd,angsph,angst,angzarr,Aogon,aogon,Aopf,aopf,apacir,ap,apE,ape,apid,apos,ApplyFunction,approx,approxeq,Aring,aring,Ascr,ascr,Assign,ast,asymp,asympeq,Atilde,atilde,Auml,auml,awconint,awint,backcong,backepsilon,backprime,backsim,backsimeq,Backslash,Barv,barvee,barwed,Barwed,barwedge,bbrk,bbrktbrk,bcong,Bcy,bcy,bdquo,becaus,because,Because,bemptyv,bepsi,bernou,Bernoullis,Beta,beta,beth,between,Bfr,bfr,bigcap,bigcirc,bigcup,bigodot,bigoplus,bigotimes,bigsqcup,bigstar,bigtriangledown,bigtriangleup,biguplus,bigvee,bigwedge,bkarow,blacklozenge,blacksquare,blacktriangle,blacktriangledown,blacktriangleleft,blacktriangleright,blank,blk12,blk14,blk34,block:block$1,bne,bnequiv,bNot,bnot,Bopf,bopf,bot,bottom,bowtie,boxbox,boxdl,boxdL,boxDl,boxDL,boxdr,boxdR,boxDr,boxDR,boxh,boxH,boxhd,boxHd,boxhD,boxHD,boxhu,boxHu,boxhU,boxHU,boxminus,boxplus,boxtimes,boxul,boxuL,boxUl,boxUL,boxur,boxuR,boxUr,boxUR,boxv,boxV,boxvh,boxvH,boxVh,boxVH,boxvl,boxvL,boxVl,boxVL,boxvr,boxvR,boxVr,boxVR,bprime,breve,Breve,brvbar,bscr,Bscr,bsemi,bsim,bsime,bsolb,bsol,bsolhsub,bull,bullet,bump,bumpE,bumpe,Bumpeq,bumpeq,Cacute,cacute,capand,capbrcup,capcap,cap,Cap,capcup,capdot,CapitalDifferentialD,caps,caret,caron,Cayleys,ccaps,Ccaron,ccaron,Ccedil,ccedil,Ccirc,ccirc,Cconint,ccups,ccupssm,Cdot,cdot,cedil,Cedilla,cemptyv,cent,centerdot,CenterDot,cfr,Cfr,CHcy,chcy,check,checkmark,Chi,chi,circ,circeq,circlearrowleft,circlearrowright,circledast,circledcirc,circleddash,CircleDot,circledR,circledS,CircleMinus,CirclePlus,CircleTimes,cir,cirE,cire,cirfnint,cirmid,cirscir,ClockwiseContourIntegral,CloseCurlyDoubleQuote,CloseCurlyQuote,clubs,clubsuit,colon,Colon,Colone,colone,coloneq,comma,commat,comp,compfn,complement,complexes,cong,congdot,Congruent,conint,Conint,ContourIntegral,copf,Copf,coprod,Coproduct,copy,COPY,copysr,CounterClockwiseContourIntegral,crarr,cross,Cross,Cscr,cscr,csub,csube,csup,csupe,ctdot,cudarrl,cudarrr,cuepr,cuesc,cularr,cularrp,cupbrcap,cupcap,CupCap,cup,Cup,cupcup,cupdot,cupor,cups,curarr,curarrm,curlyeqprec,curlyeqsucc,curlyvee,curlywedge,curren,curvearrowleft,curvearrowright,cuvee,cuwed,cwconint,cwint,cylcty,dagger,Dagger,daleth,darr,Darr,dArr,dash,Dashv,dashv,dbkarow,dblac,Dcaron,dcaron,Dcy,dcy,ddagger,ddarr,DD,dd,DDotrahd,ddotseq,deg,Del,Delta,delta,demptyv,dfisht,Dfr,dfr,dHar,dharl,dharr,DiacriticalAcute,DiacriticalDot,DiacriticalDoubleAcute,DiacriticalGrave,DiacriticalTilde,diam,diamond,Diamond,diamondsuit,diams,die,DifferentialD,digamma,disin,div,divide,divideontimes,divonx,DJcy,djcy,dlcorn,dlcrop,dollar,Dopf,dopf,Dot,dot,DotDot,doteq,doteqdot,DotEqual,dotminus,dotplus,dotsquare,doublebarwedge,DoubleContourIntegral,DoubleDot,DoubleDownArrow,DoubleLeftArrow,DoubleLeftRightArrow,DoubleLeftTee,DoubleLongLeftArrow,DoubleLongLeftRightArrow,DoubleLongRightArrow,DoubleRightArrow,DoubleRightTee,DoubleUpArrow,DoubleUpDownArrow,DoubleVerticalBar,DownArrowBar,downarrow,DownArrow,Downarrow,DownArrowUpArrow,DownBreve,downdownarrows,downharpoonleft,downharpoonright,DownLeftRightVector,DownLeftTeeVector,DownLeftVectorBar,DownLeftVector,DownRightTeeVector,DownRightVectorBar,DownRightVector,DownTeeArrow,DownTee,drbkarow,drcorn,drcrop,Dscr,dscr,DScy,dscy,dsol,Dstrok,dstrok,dtdot,dtri,dtrif,duarr,duhar,dwangle,DZcy,dzcy,dzigrarr,Eacute,eacute,easter,Ecaron,ecaron,Ecirc,ecirc,ecir,ecolon,Ecy,ecy,eDDot,Edot,edot,eDot,ee,efDot,Efr,efr,eg,Egrave,egrave,egs,egsdot,el,Element:Element$1,elinters,ell,els,elsdot,Emacr,emacr,empty,emptyset,EmptySmallSquare,emptyv,EmptyVerySmallSquare,emsp13,emsp14,emsp,ENG,eng,ensp,Eogon,eogon,Eopf,eopf,epar,eparsl,eplus,epsi,Epsilon,epsilon,epsiv,eqcirc,eqcolon,eqsim,eqslantgtr,eqslantless,Equal,equals,EqualTilde,equest,Equilibrium,equiv,equivDD,eqvparsl,erarr,erDot,escr,Escr,esdot,Esim,esim,Eta,eta,ETH,eth,Euml,euml,euro,excl,exist,Exists,expectation,exponentiale,ExponentialE,fallingdotseq,Fcy,fcy,female,ffilig,fflig,ffllig,Ffr,ffr,filig,FilledSmallSquare,FilledVerySmallSquare,fjlig,flat,fllig,fltns,fnof,Fopf,fopf,forall,ForAll,fork,forkv,Fouriertrf,fpartint,frac12,frac13,frac14,frac15,frac16,frac18,frac23,frac25,frac34,frac35,frac38,frac45,frac56,frac58,frac78,frasl,frown,fscr,Fscr,gacute,Gamma,gamma,Gammad,gammad,gap,Gbreve,gbreve,Gcedil,Gcirc,gcirc,Gcy,gcy,Gdot,gdot,ge,gE,gEl,gel,geq,geqq,geqslant,gescc,ges,gesdot,gesdoto,gesdotol,gesl,gesles,Gfr,gfr,gg,Gg,ggg,gimel,GJcy,gjcy,gla,gl,glE,glj,gnap,gnapprox,gne,gnE,gneq,gneqq,gnsim,Gopf,gopf,grave,GreaterEqual,GreaterEqualLess,GreaterFullEqual,GreaterGreater,GreaterLess,GreaterSlantEqual,GreaterTilde,Gscr,gscr,gsim,gsime,gsiml,gtcc,gtcir,gt,GT,Gt,gtdot,gtlPar,gtquest,gtrapprox,gtrarr,gtrdot,gtreqless,gtreqqless,gtrless,gtrsim,gvertneqq,gvnE,Hacek,hairsp,half,hamilt,HARDcy,hardcy,harrcir,harr,hArr,harrw,Hat,hbar,Hcirc,hcirc,hearts,heartsuit,hellip,hercon,hfr,Hfr,HilbertSpace,hksearow,hkswarow,hoarr,homtht,hookleftarrow,hookrightarrow,hopf,Hopf,horbar,HorizontalLine,hscr,Hscr,hslash,Hstrok,hstrok,HumpDownHump,HumpEqual,hybull,hyphen,Iacute,iacute,ic,Icirc,icirc,Icy,icy,Idot,IEcy,iecy,iexcl,iff,ifr,Ifr,Igrave,igrave,ii,iiiint,iiint,iinfin,iiota,IJlig,ijlig,Imacr,imacr,image:image$1,ImaginaryI,imagline,imagpart,imath,Im,imof,imped,Implies,incare,in:"\u2208",infin,infintie,inodot,intcal,int,Int,integers,Integral,intercal,Intersection,intlarhk,intprod,InvisibleComma,InvisibleTimes,IOcy,iocy,Iogon,iogon,Iopf,iopf,Iota,iota,iprod,iquest,iscr,Iscr,isin,isindot,isinE,isins,isinsv,isinv,it,Itilde,itilde,Iukcy,iukcy,Iuml,iuml,Jcirc,jcirc,Jcy,jcy,Jfr,jfr,jmath,Jopf,jopf,Jscr,jscr,Jsercy,jsercy,Jukcy,jukcy,Kappa,kappa,kappav,Kcedil,kcedil,Kcy,kcy,Kfr,kfr,kgreen,KHcy,khcy,KJcy,kjcy,Kopf,kopf,Kscr,kscr,lAarr,Lacute,lacute,laemptyv,lagran,Lambda,lambda,lang,Lang,langd,langle,lap,Laplacetrf,laquo,larrb,larrbfs,larr,Larr,lArr,larrfs,larrhk,larrlp,larrpl,larrsim,larrtl,latail,lAtail,lat,late,lates,lbarr,lBarr,lbbrk,lbrace,lbrack,lbrke,lbrksld,lbrkslu,Lcaron,lcaron,Lcedil,lcedil,lceil,lcub,Lcy,lcy,ldca,ldquo,ldquor,ldrdhar,ldrushar,ldsh,le,lE,LeftAngleBracket,LeftArrowBar,leftarrow,LeftArrow,Leftarrow,LeftArrowRightArrow,leftarrowtail,LeftCeiling,LeftDoubleBracket,LeftDownTeeVector,LeftDownVectorBar,LeftDownVector,LeftFloor,leftharpoondown,leftharpoonup,leftleftarrows,leftrightarrow,LeftRightArrow,Leftrightarrow,leftrightarrows,leftrightharpoons,leftrightsquigarrow,LeftRightVector,LeftTeeArrow,LeftTee,LeftTeeVector,leftthreetimes,LeftTriangleBar,LeftTriangle,LeftTriangleEqual,LeftUpDownVector,LeftUpTeeVector,LeftUpVectorBar,LeftUpVector,LeftVectorBar,LeftVector,lEg,leg,leq,leqq,leqslant,lescc,les,lesdot,lesdoto,lesdotor,lesg,lesges,lessapprox,lessdot,lesseqgtr,lesseqqgtr,LessEqualGreater,LessFullEqual,LessGreater,lessgtr,LessLess,lesssim,LessSlantEqual,LessTilde,lfisht,lfloor,Lfr,lfr,lg,lgE,lHar,lhard,lharu,lharul,lhblk,LJcy,ljcy,llarr,ll,Ll,llcorner,Lleftarrow,llhard,lltri,Lmidot,lmidot,lmoustache,lmoust,lnap,lnapprox,lne,lnE,lneq,lneqq,lnsim,loang,loarr,lobrk,longleftarrow,LongLeftArrow,Longleftarrow,longleftrightarrow,LongLeftRightArrow,Longleftrightarrow,longmapsto,longrightarrow,LongRightArrow,Longrightarrow,looparrowleft,looparrowright,lopar,Lopf,lopf,loplus,lotimes,lowast,lowbar,LowerLeftArrow,LowerRightArrow,loz,lozenge,lozf,lpar,lparlt,lrarr,lrcorner,lrhar,lrhard,lrm,lrtri,lsaquo,lscr,Lscr,lsh,Lsh,lsim,lsime,lsimg,lsqb,lsquo,lsquor,Lstrok,lstrok,ltcc,ltcir,lt,LT,Lt,ltdot,lthree,ltimes,ltlarr,ltquest,ltri,ltrie,ltrif,ltrPar,lurdshar,luruhar,lvertneqq,lvnE,macr,male,malt,maltese,Map:"\u2905",map,mapsto,mapstodown,mapstoleft,mapstoup,marker,mcomma,Mcy,mcy,mdash,mDDot,measuredangle,MediumSpace,Mellintrf,Mfr,mfr,mho,micro,midast,midcir,mid,middot,minusb,minus,minusd,minusdu,MinusPlus,mlcp,mldr,mnplus,models,Mopf,mopf,mp,mscr,Mscr,mstpos,Mu,mu,multimap,mumap,nabla,Nacute,nacute,nang,nap,napE,napid,napos,napprox,natural,naturals,natur,nbsp,nbump,nbumpe,ncap,Ncaron,ncaron,Ncedil,ncedil,ncong,ncongdot,ncup,Ncy,ncy,ndash,nearhk,nearr,neArr,nearrow,ne,nedot,NegativeMediumSpace,NegativeThickSpace,NegativeThinSpace,NegativeVeryThinSpace,nequiv,nesear,nesim,NestedGreaterGreater,NestedLessLess,NewLine,nexist,nexists,Nfr,nfr,ngE,nge,ngeq,ngeqq,ngeqslant,nges,nGg,ngsim,nGt,ngt,ngtr,nGtv,nharr,nhArr,nhpar,ni,nis,nisd,niv,NJcy,njcy,nlarr,nlArr,nldr,nlE,nle,nleftarrow,nLeftarrow,nleftrightarrow,nLeftrightarrow,nleq,nleqq,nleqslant,nles,nless,nLl,nlsim,nLt,nlt,nltri,nltrie,nLtv,nmid,NoBreak,NonBreakingSpace,nopf,Nopf,Not,not,NotCongruent,NotCupCap,NotDoubleVerticalBar,NotElement,NotEqual,NotEqualTilde,NotExists,NotGreater,NotGreaterEqual,NotGreaterFullEqual,NotGreaterGreater,NotGreaterLess,NotGreaterSlantEqual,NotGreaterTilde,NotHumpDownHump,NotHumpEqual,notin,notindot,notinE,notinva,notinvb,notinvc,NotLeftTriangleBar,NotLeftTriangle,NotLeftTriangleEqual,NotLess,NotLessEqual,NotLessGreater,NotLessLess,NotLessSlantEqual,NotLessTilde,NotNestedGreaterGreater,NotNestedLessLess,notni,notniva,notnivb,notnivc,NotPrecedes,NotPrecedesEqual,NotPrecedesSlantEqual,NotReverseElement,NotRightTriangleBar,NotRightTriangle,NotRightTriangleEqual,NotSquareSubset,NotSquareSubsetEqual,NotSquareSuperset,NotSquareSupersetEqual,NotSubset,NotSubsetEqual,NotSucceeds,NotSucceedsEqual,NotSucceedsSlantEqual,NotSucceedsTilde,NotSuperset,NotSupersetEqual,NotTilde,NotTildeEqual,NotTildeFullEqual,NotTildeTilde,NotVerticalBar,nparallel,npar,nparsl,npart,npolint,npr,nprcue,nprec,npreceq,npre,nrarrc,nrarr,nrArr,nrarrw,nrightarrow,nRightarrow,nrtri,nrtrie,nsc,nsccue,nsce,Nscr,nscr,nshortmid,nshortparallel,nsim,nsime,nsimeq,nsmid,nspar,nsqsube,nsqsupe,nsub,nsubE,nsube,nsubset,nsubseteq,nsubseteqq,nsucc,nsucceq,nsup,nsupE,nsupe,nsupset,nsupseteq,nsupseteqq,ntgl,Ntilde,ntilde,ntlg,ntriangleleft,ntrianglelefteq,ntriangleright,ntrianglerighteq,Nu,nu,num,numero,numsp,nvap,nvdash,nvDash,nVdash,nVDash,nvge,nvgt,nvHarr,nvinfin,nvlArr,nvle,nvlt,nvltrie,nvrArr,nvrtrie,nvsim,nwarhk,nwarr,nwArr,nwarrow,nwnear,Oacute,oacute,oast,Ocirc,ocirc,ocir,Ocy,ocy,odash,Odblac,odblac,odiv,odot,odsold,OElig,oelig,ofcir,Ofr,ofr,ogon,Ograve,ograve,ogt,ohbar,ohm,oint,olarr,olcir,olcross,oline,olt,Omacr,omacr,Omega,omega,Omicron,omicron,omid,ominus,Oopf,oopf,opar,OpenCurlyDoubleQuote,OpenCurlyQuote,operp,oplus,orarr,Or,or,ord,order,orderof,ordf,ordm,origof,oror,orslope,orv,oS,Oscr,oscr,Oslash,oslash,osol,Otilde,otilde,otimesas,Otimes,otimes,Ouml,ouml,ovbar,OverBar,OverBrace,OverBracket,OverParenthesis,para,parallel,par,parsim,parsl,part,PartialD,Pcy,pcy,percnt,period,permil,perp,pertenk,Pfr,pfr,Phi,phi,phiv,phmmat,phone,Pi,pi,pitchfork,piv,planck,planckh,plankv,plusacir,plusb,pluscir,plus,plusdo,plusdu,pluse,PlusMinus,plusmn,plussim,plustwo,pm,Poincareplane,pointint,popf,Popf,pound,prap,Pr,pr,prcue,precapprox,prec,preccurlyeq,Precedes,PrecedesEqual,PrecedesSlantEqual,PrecedesTilde,preceq,precnapprox,precneqq,precnsim,pre,prE,precsim,prime,Prime,primes,prnap,prnE,prnsim,prod,Product,profalar,profline,profsurf,prop,Proportional,Proportion,propto,prsim,prurel,Pscr,pscr,Psi,psi,puncsp,Qfr,qfr,qint,qopf,Qopf,qprime,Qscr,qscr,quaternions,quatint,quest,questeq,quot,QUOT,rAarr,race,Racute,racute,radic,raemptyv,rang,Rang,rangd,range,rangle,raquo,rarrap,rarrb,rarrbfs,rarrc,rarr,Rarr,rArr,rarrfs,rarrhk,rarrlp,rarrpl,rarrsim,Rarrtl,rarrtl,rarrw,ratail,rAtail,ratio,rationals,rbarr,rBarr,RBarr,rbbrk,rbrace,rbrack,rbrke,rbrksld,rbrkslu,Rcaron,rcaron,Rcedil,rcedil,rceil,rcub,Rcy,rcy,rdca,rdldhar,rdquo,rdquor,rdsh,real,realine,realpart,reals,Re,rect,reg,REG,ReverseElement,ReverseEquilibrium,ReverseUpEquilibrium,rfisht,rfloor,rfr,Rfr,rHar,rhard,rharu,rharul,Rho,rho,rhov,RightAngleBracket,RightArrowBar,rightarrow,RightArrow,Rightarrow,RightArrowLeftArrow,rightarrowtail,RightCeiling,RightDoubleBracket,RightDownTeeVector,RightDownVectorBar,RightDownVector,RightFloor,rightharpoondown,rightharpoonup,rightleftarrows,rightleftharpoons,rightrightarrows,rightsquigarrow,RightTeeArrow,RightTee,RightTeeVector,rightthreetimes,RightTriangleBar,RightTriangle,RightTriangleEqual,RightUpDownVector,RightUpTeeVector,RightUpVectorBar,RightUpVector,RightVectorBar,RightVector,ring,risingdotseq,rlarr,rlhar,rlm,rmoustache,rmoust,rnmid,roang,roarr,robrk,ropar,ropf,Ropf,roplus,rotimes,RoundImplies,rpar,rpargt,rppolint,rrarr,Rrightarrow,rsaquo,rscr,Rscr,rsh,Rsh,rsqb,rsquo,rsquor,rthree,rtimes,rtri,rtrie,rtrif,rtriltri,RuleDelayed,ruluhar,rx,Sacute,sacute,sbquo,scap,Scaron,scaron,Sc,sc,sccue,sce,scE,Scedil,scedil,Scirc,scirc,scnap,scnE,scnsim,scpolint,scsim,Scy,scy,sdotb,sdot,sdote,searhk,searr,seArr,searrow,sect,semi,seswar,setminus,setmn,sext,Sfr,sfr,sfrown,sharp,SHCHcy,shchcy,SHcy,shcy,ShortDownArrow,ShortLeftArrow,shortmid,shortparallel,ShortRightArrow,ShortUpArrow,shy,Sigma,sigma,sigmaf,sigmav,sim,simdot,sime,simeq,simg,simgE,siml,simlE,simne,simplus,simrarr,slarr,SmallCircle,smallsetminus,smashp,smeparsl,smid,smile,smt,smte,smtes,SOFTcy,softcy,solbar,solb,sol,Sopf,sopf,spades,spadesuit,spar,sqcap,sqcaps,sqcup,sqcups,Sqrt,sqsub,sqsube,sqsubset,sqsubseteq,sqsup,sqsupe,sqsupset,sqsupseteq,square,Square,SquareIntersection,SquareSubset,SquareSubsetEqual,SquareSuperset,SquareSupersetEqual,SquareUnion,squarf,squ,squf,srarr,Sscr,sscr,ssetmn,ssmile,sstarf,Star,star,starf,straightepsilon,straightphi,strns,sub,Sub,subdot,subE,sube,subedot,submult,subnE,subne,subplus,subrarr,subset,Subset,subseteq,subseteqq,SubsetEqual,subsetneq,subsetneqq,subsim,subsub,subsup,succapprox,succ,succcurlyeq,Succeeds,SucceedsEqual,SucceedsSlantEqual,SucceedsTilde,succeq,succnapprox,succneqq,succnsim,succsim,SuchThat,sum,Sum,sung,sup1,sup2,sup3,sup,Sup,supdot,supdsub,supE,supe,supedot,Superset,SupersetEqual,suphsol,suphsub,suplarr,supmult,supnE,supne,supplus,supset,Supset,supseteq,supseteqq,supsetneq,supsetneqq,supsim,supsub,supsup,swarhk,swarr,swArr,swarrow,swnwar,szlig,Tab,target,Tau,tau,tbrk,Tcaron,tcaron,Tcedil,tcedil,Tcy,tcy,tdot,telrec,Tfr,tfr,there4,therefore,Therefore,Theta,theta,thetasym,thetav,thickapprox,thicksim,ThickSpace,ThinSpace,thinsp,thkap,thksim,THORN,thorn,tilde,Tilde,TildeEqual,TildeFullEqual,TildeTilde,timesbar,timesb,times,timesd,tint,toea,topbot,topcir,top,Topf,topf,topfork,tosa,tprime,trade,TRADE,triangle,triangledown,triangleleft,trianglelefteq,triangleq,triangleright,trianglerighteq,tridot,trie,triminus,TripleDot,triplus,trisb,tritime,trpezium,Tscr,tscr,TScy,tscy,TSHcy,tshcy,Tstrok,tstrok,twixt,twoheadleftarrow,twoheadrightarrow,Uacute,uacute,uarr,Uarr,uArr,Uarrocir,Ubrcy,ubrcy,Ubreve,ubreve,Ucirc,ucirc,Ucy,ucy,udarr,Udblac,udblac,udhar,ufisht,Ufr,ufr,Ugrave,ugrave,uHar,uharl,uharr,uhblk,ulcorn,ulcorner,ulcrop,ultri,Umacr,umacr,uml,UnderBar,UnderBrace,UnderBracket,UnderParenthesis,Union,UnionPlus,Uogon,uogon,Uopf,uopf,UpArrowBar,uparrow,UpArrow,Uparrow,UpArrowDownArrow,updownarrow,UpDownArrow,Updownarrow,UpEquilibrium,upharpoonleft,upharpoonright,uplus,UpperLeftArrow,UpperRightArrow,upsi,Upsi,upsih,Upsilon,upsilon,UpTeeArrow,UpTee,upuparrows,urcorn,urcorner,urcrop,Uring,uring,urtri,Uscr,uscr,utdot,Utilde,utilde,utri,utrif,uuarr,Uuml,uuml,uwangle,vangrt,varepsilon,varkappa,varnothing,varphi,varpi,varpropto,varr,vArr,varrho,varsigma,varsubsetneq,varsubsetneqq,varsupsetneq,varsupsetneqq,vartheta,vartriangleleft,vartriangleright,vBar,Vbar,vBarv,Vcy,vcy,vdash,vDash,Vdash,VDash,Vdashl,veebar,vee,Vee,veeeq,vellip,verbar,Verbar,vert,Vert,VerticalBar,VerticalLine,VerticalSeparator,VerticalTilde,VeryThinSpace,Vfr,vfr,vltri,vnsub,vnsup,Vopf,vopf,vprop,vrtri,Vscr,vscr,vsubnE,vsubne,vsupnE,vsupne,Vvdash,vzigzag,Wcirc,wcirc,wedbar,wedge,Wedge,wedgeq,weierp,Wfr,wfr,Wopf,wopf,wp,wr,wreath,Wscr,wscr,xcap,xcirc,xcup,xdtri,Xfr,xfr,xharr,xhArr,Xi,xi,xlarr,xlArr,xmap,xnis,xodot,Xopf,xopf,xoplus,xotime,xrarr,xrArr,Xscr,xscr,xsqcup,xuplus,xutri,xvee,xwedge,Yacute,yacute,YAcy,yacy,Ycirc,ycirc,Ycy,ycy,yen,Yfr,yfr,YIcy,yicy,Yopf,yopf,Yscr,yscr,YUcy,yucy,yuml,Yuml,Zacute,zacute,Zcaron,zcaron,Zcy,zcy,Zdot,zdot,zeetrf,ZeroWidthSpace,Zeta,zeta,zfr,Zfr,ZHcy,zhcy,zigrarr,zopf,Zopf,Zscr,zscr,zwj,zwnj};(function(t){t.exports=require$$0})(entities$1);var regex$4=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,mdurl$1={},encodeCache={};function getEncodeCache(t){var e,n,r=encodeCache[t];if(r)return r;for(r=encodeCache[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)r[t.charCodeAt(e)]=t[e];return r}function encode(t,e,n){var r,o,s,l,u,d="";for(typeof e!="string"&&(n=e,e=encode.defaultChars),typeof n>"u"&&(n=!0),u=getEncodeCache(e),r=0,o=t.length;r<o;r++){if(s=t.charCodeAt(r),n&&s===37&&r+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(r+1,r+3))){d+=t.slice(r,r+3),r+=2;continue}if(s<128){d+=u[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&r+1<o&&(l=t.charCodeAt(r+1),l>=56320&&l<=57343)){d+=encodeURIComponent(t[r]+t[r+1]),r++;continue}d+="%EF%BF%BD";continue}d+=encodeURIComponent(t[r])}return d}encode.defaultChars=";/?:@&=+$,-_.!~*'()#";encode.componentChars="-_.!~*'()";var encode_1=encode,decodeCache={};function getDecodeCache(t){var e,n,r=decodeCache[t];if(r)return r;for(r=decodeCache[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),r.push(n);for(e=0;e<t.length;e++)n=t.charCodeAt(e),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function decode(t,e){var n;return typeof e!="string"&&(e=decode.defaultChars),n=getDecodeCache(e),t.replace(/(%[a-f0-9]{2})+/gi,function(r){var o,s,l,u,d,f,g,v="";for(o=0,s=r.length;o<s;o+=3){if(l=parseInt(r.slice(o+1,o+3),16),l<128){v+=n[l];continue}if((l&224)===192&&o+3<s&&(u=parseInt(r.slice(o+4,o+6),16),(u&192)===128)){g=l<<6&1984|u&63,g<128?v+="\uFFFD\uFFFD":v+=String.fromCharCode(g),o+=3;continue}if((l&240)===224&&o+6<s&&(u=parseInt(r.slice(o+4,o+6),16),d=parseInt(r.slice(o+7,o+9),16),(u&192)===128&&(d&192)===128)){g=l<<12&61440|u<<6&4032|d&63,g<2048||g>=55296&&g<=57343?v+="\uFFFD\uFFFD\uFFFD":v+=String.fromCharCode(g),o+=6;continue}if((l&248)===240&&o+9<s&&(u=parseInt(r.slice(o+4,o+6),16),d=parseInt(r.slice(o+7,o+9),16),f=parseInt(r.slice(o+10,o+12),16),(u&192)===128&&(d&192)===128&&(f&192)===128)){g=l<<18&1835008|u<<12&258048|d<<6&4032|f&63,g<65536||g>1114111?v+="\uFFFD\uFFFD\uFFFD\uFFFD":(g-=65536,v+=String.fromCharCode(55296+(g>>10),56320+(g&1023))),o+=9;continue}v+="\uFFFD"}return v})}decode.defaultChars=";/?:@&=+$,#";decode.componentChars="";var decode_1=decode,format=function t(e){var n="";return n+=e.protocol||"",n+=e.slashes?"//":"",n+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?n+="["+e.hostname+"]":n+=e.hostname||"",n+=e.port?":"+e.port:"",n+=e.pathname||"",n+=e.search||"",n+=e.hash||"",n};function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(t,e){if(t&&t instanceof Url)return t;var n=new Url;return n.parse(t,e),n}Url.prototype.parse=function(t,e){var n,r,o,s,l,u=t;if(u=u.trim(),!e&&t.split("#").length===1){var d=simplePathPattern.exec(u);if(d)return this.pathname=d[1],d[2]&&(this.search=d[2]),this}var f=protocolPattern.exec(u);if(f&&(f=f[0],o=f.toLowerCase(),this.protocol=f,u=u.substr(f.length)),(e||f||u.match(/^\/\/[^@\/]+@[^@\/]+/))&&(l=u.substr(0,2)==="//",l&&!(f&&hostlessProtocol[f])&&(u=u.substr(2),this.slashes=!0)),!hostlessProtocol[f]&&(l||f&&!slashedProtocol[f])){var g=-1;for(n=0;n<hostEndingChars.length;n++)s=u.indexOf(hostEndingChars[n]),s!==-1&&(g===-1||s<g)&&(g=s);var v,_;for(g===-1?_=u.lastIndexOf("@"):_=u.lastIndexOf("@",g),_!==-1&&(v=u.slice(0,_),u=u.slice(_+1),this.auth=v),g=-1,n=0;n<nonHostChars.length;n++)s=u.indexOf(nonHostChars[n]),s!==-1&&(g===-1||s<g)&&(g=s);g===-1&&(g=u.length),u[g-1]===":"&&g--;var b=u.slice(0,g);u=u.slice(g),this.parseHost(b),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C){var S=this.hostname.split(/\./);for(n=0,r=S.length;n<r;n++){var A=S[n];if(!!A&&!A.match(hostnamePartPattern)){for(var R="",I=0,w=A.length;I<w;I++)A.charCodeAt(I)>127?R+="x":R+=A[I];if(!R.match(hostnamePartPattern)){var N=S.slice(0,n),O=S.slice(n+1),D=A.match(hostnamePartStart);D&&(N.push(D[1]),O.unshift(D[2])),O.length&&(u=O.join(".")+u),this.hostname=N.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var V=u.indexOf("#");V!==-1&&(this.hash=u.substr(V),u=u.slice(0,V));var L=u.indexOf("?");return L!==-1&&(this.search=u.substr(L),u=u.slice(0,L)),u&&(this.pathname=u),slashedProtocol[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(t){var e=portPattern.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var parse=urlParse;mdurl$1.encode=encode_1;mdurl$1.decode=decode_1;mdurl$1.format=format;mdurl$1.parse=parse;var uc_micro={},regex$3,hasRequiredRegex$3;function requireRegex$3(){return hasRequiredRegex$3||(hasRequiredRegex$3=1,regex$3=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),regex$3}var regex$2,hasRequiredRegex$2;function requireRegex$2(){return hasRequiredRegex$2||(hasRequiredRegex$2=1,regex$2=/[\0-\x1F\x7F-\x9F]/),regex$2}var regex$1,hasRequiredRegex$1;function requireRegex$1(){return hasRequiredRegex$1||(hasRequiredRegex$1=1,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),regex$1}var regex,hasRequiredRegex;function requireRegex(){return hasRequiredRegex||(hasRequiredRegex=1,regex=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),regex}var hasRequiredUc_micro;function requireUc_micro(){return hasRequiredUc_micro||(hasRequiredUc_micro=1,uc_micro.Any=requireRegex$3(),uc_micro.Cc=requireRegex$2(),uc_micro.Cf=requireRegex$1(),uc_micro.P=regex$4,uc_micro.Z=requireRegex()),uc_micro}(function(t){function e(q){return Object.prototype.toString.call(q)}function n(q){return e(q)==="[object String]"}var r=Object.prototype.hasOwnProperty;function o(q,ce){return r.call(q,ce)}function s(q){var ce=Array.prototype.slice.call(arguments,1);return ce.forEach(function(te){if(!!te){if(typeof te!="object")throw new TypeError(te+"must be object");Object.keys(te).forEach(function(Q){q[Q]=te[Q]})}}),q}function l(q,ce,te){return[].concat(q.slice(0,ce),te,q.slice(ce+1))}function u(q){return!(q>=55296&&q<=57343||q>=64976&&q<=65007||(q&65535)===65535||(q&65535)===65534||q>=0&&q<=8||q===11||q>=14&&q<=31||q>=127&&q<=159||q>1114111)}function d(q){if(q>65535){q-=65536;var ce=55296+(q>>10),te=56320+(q&1023);return String.fromCharCode(ce,te)}return String.fromCharCode(q)}var f=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,g=/&([a-z#][a-z0-9]{1,31});/gi,v=new RegExp(f.source+"|"+g.source,"gi"),_=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,b=entities$1.exports;function C(q,ce){var te=0;return o(b,ce)?b[ce]:ce.charCodeAt(0)===35&&_.test(ce)&&(te=ce[1].toLowerCase()==="x"?parseInt(ce.slice(2),16):parseInt(ce.slice(1),10),u(te))?d(te):q}function S(q){return q.indexOf("\\")<0?q:q.replace(f,"$1")}function A(q){return q.indexOf("\\")<0&&q.indexOf("&")<0?q:q.replace(v,function(ce,te,Q){return te||C(ce,Q)})}var R=/[&<>"]/,I=/[&<>"]/g,w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function N(q){return w[q]}function O(q){return R.test(q)?q.replace(I,N):q}var D=/[.?*+^$[\]\\(){}|-]/g;function V(q){return q.replace(D,"\\$&")}function L(q){switch(q){case 9:case 32:return!0}return!1}function W(q){if(q>=8192&&q<=8202)return!0;switch(q){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var U=regex$4;function K(q){return U.test(q)}function H(q){switch(q){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function J(q){return q=q.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(q=q.replace(//g,"\xDF")),q.toLowerCase().toUpperCase()}t.lib={},t.lib.mdurl=mdurl$1,t.lib.ucmicro=requireUc_micro(),t.assign=s,t.isString=n,t.has=o,t.unescapeMd=S,t.unescapeAll=A,t.isValidEntityCode=u,t.fromCodePoint=d,t.escapeHtml=O,t.arrayReplaceAt=l,t.isSpace=L,t.isWhiteSpace=W,t.isMdAsciiPunct=H,t.isPunctChar=K,t.escapeRE=V,t.normalizeReference=J})(utils$1);var helpers$1={},parse_link_label=function t(e,n,r){var o,s,l,u,d=-1,f=e.posMax,g=e.pos;for(e.pos=n+1,o=1;e.pos<f;){if(l=e.src.charCodeAt(e.pos),l===93&&(o--,o===0)){s=!0;break}if(u=e.pos,e.md.inline.skipToken(e),l===91){if(u===e.pos-1)o++;else if(r)return e.pos=g,-1}}return s&&(d=e.pos),e.pos=g,d},unescapeAll$2=utils$1.unescapeAll,parse_link_destination=function t(e,n,r){var o,s,l=0,u=n,d={ok:!1,pos:0,lines:0,str:""};if(e.charCodeAt(n)===60){for(n++;n<r;){if(o=e.charCodeAt(n),o===10||o===60)return d;if(o===62)return d.pos=n+1,d.str=unescapeAll$2(e.slice(u+1,n)),d.ok=!0,d;if(o===92&&n+1<r){n+=2;continue}n++}return d}for(s=0;n<r&&(o=e.charCodeAt(n),!(o===32||o<32||o===127));){if(o===92&&n+1<r){if(e.charCodeAt(n+1)===32)break;n+=2;continue}if(o===40&&(s++,s>32))return d;if(o===41){if(s===0)break;s--}n++}return u===n||s!==0||(d.str=unescapeAll$2(e.slice(u,n)),d.lines=l,d.pos=n,d.ok=!0),d},unescapeAll$1=utils$1.unescapeAll,parse_link_title=function t(e,n,r){var o,s,l=0,u=n,d={ok:!1,pos:0,lines:0,str:""};if(n>=r||(s=e.charCodeAt(n),s!==34&&s!==39&&s!==40))return d;for(n++,s===40&&(s=41);n<r;){if(o=e.charCodeAt(n),o===s)return d.pos=n+1,d.lines=l,d.str=unescapeAll$1(e.slice(u+1,n)),d.ok=!0,d;if(o===40&&s===41)return d;o===10?l++:o===92&&n+1<r&&(n++,e.charCodeAt(n)===10&&l++),n++}return d};helpers$1.parseLinkLabel=parse_link_label;helpers$1.parseLinkDestination=parse_link_destination;helpers$1.parseLinkTitle=parse_link_title;var assign$1=utils$1.assign,unescapeAll=utils$1.unescapeAll,escapeHtml=utils$1.escapeHtml,default_rules={};default_rules.code_inline=function(t,e,n,r,o){var s=t[e];return"<code"+o.renderAttrs(s)+">"+escapeHtml(t[e].content)+"</code>"};default_rules.code_block=function(t,e,n,r,o){var s=t[e];return"<pre"+o.renderAttrs(s)+"><code>"+escapeHtml(t[e].content)+`</code></pre>
`};default_rules.fence=function(t,e,n,r,o){var s=t[e],l=s.info?unescapeAll(s.info).trim():"",u="",d="",f,g,v,_,b;return l&&(v=l.split(/(\s+)/g),u=v[0],d=v.slice(2).join("")),n.highlight?f=n.highlight(s.content,u,d)||escapeHtml(s.content):f=escapeHtml(s.content),f.indexOf("<pre")===0?f+`
`:l?(g=s.attrIndex("class"),_=s.attrs?s.attrs.slice():[],g<0?_.push(["class",n.langPrefix+u]):(_[g]=_[g].slice(),_[g][1]+=" "+n.langPrefix+u),b={attrs:_},"<pre><code"+o.renderAttrs(b)+">"+f+`</code></pre>
`):"<pre><code"+o.renderAttrs(s)+">"+f+`</code></pre>
`};default_rules.image=function(t,e,n,r,o){var s=t[e];return s.attrs[s.attrIndex("alt")][1]=o.renderInlineAsText(s.children,n,r),o.renderToken(t,e,n)};default_rules.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(t,e){return escapeHtml(t[e].content)};default_rules.html_block=function(t,e){return t[e].content};default_rules.html_inline=function(t,e){return t[e].content};function Renderer$1(){this.rules=assign$1({},default_rules)}Renderer$1.prototype.renderAttrs=function t(e){var n,r,o;if(!e.attrs)return"";for(o="",n=0,r=e.attrs.length;n<r;n++)o+=" "+escapeHtml(e.attrs[n][0])+'="'+escapeHtml(e.attrs[n][1])+'"';return o};Renderer$1.prototype.renderToken=function t(e,n,r){var o,s="",l=!1,u=e[n];return u.hidden?"":(u.block&&u.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(u.nesting===-1?"</":"<")+u.tag,s+=this.renderAttrs(u),u.nesting===0&&r.xhtmlOut&&(s+=" /"),u.block&&(l=!0,u.nesting===1&&n+1<e.length&&(o=e[n+1],(o.type==="inline"||o.hidden||o.nesting===-1&&o.tag===u.tag)&&(l=!1))),s+=l?`>
`:">",s)};Renderer$1.prototype.renderInline=function(t,e,n){for(var r,o="",s=this.rules,l=0,u=t.length;l<u;l++)r=t[l].type,typeof s[r]<"u"?o+=s[r](t,l,e,n,this):o+=this.renderToken(t,l,e);return o};Renderer$1.prototype.renderInlineAsText=function(t,e,n){for(var r="",o=0,s=t.length;o<s;o++)t[o].type==="text"?r+=t[o].content:t[o].type==="image"?r+=this.renderInlineAsText(t[o].children,e,n):t[o].type==="softbreak"&&(r+=`
`);return r};Renderer$1.prototype.render=function(t,e,n){var r,o,s,l="",u=this.rules;for(r=0,o=t.length;r<o;r++)s=t[r].type,s==="inline"?l+=this.renderInline(t[r].children,e,n):typeof u[s]<"u"?l+=u[t[r].type](t,r,e,n,this):l+=this.renderToken(t,r,e,n);return l};var renderer=Renderer$1;function Ruler$3(){this.__rules__=[],this.__cache__=null}Ruler$3.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Ruler$3.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach(function(n){!n.enabled||n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){!r.enabled||n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn)})})};Ruler$3.prototype.at=function(t,e,n){var r=this.__find__(t),o=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=o.alt||[],this.__cache__=null};Ruler$3.prototype.before=function(t,e,n,r){var o=this.__find__(t),s=r||{};if(o===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Ruler$3.prototype.after=function(t,e,n,r){var o=this.__find__(t),s=r||{};if(o===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Ruler$3.prototype.push=function(t,e,n){var r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};Ruler$3.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach(function(r){var o=this.__find__(r);if(o<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!0,n.push(r)},this),this.__cache__=null,n};Ruler$3.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Ruler$3.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach(function(r){var o=this.__find__(r);if(o<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!1,n.push(r)},this),this.__cache__=null,n};Ruler$3.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};var ruler=Ruler$3,NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g,normalize=function t(e){var n;n=e.src.replace(NEWLINES_RE,`
`),n=n.replace(NULL_RE,"\uFFFD"),e.src=n},block=function t(e){var n;e.inlineMode?(n=new e.Token("inline","",0),n.content=e.src,n.map=[0,1],n.children=[],e.tokens.push(n)):e.md.block.parse(e.src,e.md,e.env,e.tokens)},inline=function t(e){var n=e.tokens,r,o,s;for(o=0,s=n.length;o<s;o++)r=n[o],r.type==="inline"&&e.md.inline.parse(r.content,e.md,e.env,r.children)},arrayReplaceAt=utils$1.arrayReplaceAt;function isLinkOpen$1(t){return/^<a[>\s]/i.test(t)}function isLinkClose$1(t){return/^<\/a\s*>/i.test(t)}var linkify$1=function t(e){var n,r,o,s,l,u,d,f,g,v,_,b,C,S,A,R,I=e.tokens,w;if(!!e.md.options.linkify){for(r=0,o=I.length;r<o;r++)if(!(I[r].type!=="inline"||!e.md.linkify.pretest(I[r].content)))for(s=I[r].children,C=0,n=s.length-1;n>=0;n--){if(u=s[n],u.type==="link_close"){for(n--;s[n].level!==u.level&&s[n].type!=="link_open";)n--;continue}if(u.type==="html_inline"&&(isLinkOpen$1(u.content)&&C>0&&C--,isLinkClose$1(u.content)&&C++),!(C>0)&&u.type==="text"&&e.md.linkify.test(u.content)){for(g=u.content,w=e.md.linkify.match(g),d=[],b=u.level,_=0,w.length>0&&w[0].index===0&&n>0&&s[n-1].type==="text_special"&&(w=w.slice(1)),f=0;f<w.length;f++)S=w[f].url,A=e.md.normalizeLink(S),e.md.validateLink(A)&&(R=w[f].text,w[f].schema?w[f].schema==="mailto:"&&!/^mailto:/i.test(R)?R=e.md.normalizeLinkText("mailto:"+R).replace(/^mailto:/,""):R=e.md.normalizeLinkText(R):R=e.md.normalizeLinkText("http://"+R).replace(/^http:\/\//,""),v=w[f].index,v>_&&(l=new e.Token("text","",0),l.content=g.slice(_,v),l.level=b,d.push(l)),l=new e.Token("link_open","a",1),l.attrs=[["href",A]],l.level=b++,l.markup="linkify",l.info="auto",d.push(l),l=new e.Token("text","",0),l.content=R,l.level=b,d.push(l),l=new e.Token("link_close","a",-1),l.level=--b,l.markup="linkify",l.info="auto",d.push(l),_=w[f].lastIndex);_<g.length&&(l=new e.Token("text","",0),l.content=g.slice(_),l.level=b,d.push(l)),I[r].children=s=arrayReplaceAt(s,n,d)}}}},RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"\xA9",r:"\xAE",tm:"\u2122"};function replaceFn(t,e){return SCOPED_ABBR[e.toLowerCase()]}function replace_scoped(t){var e,n,r=0;for(e=t.length-1;e>=0;e--)n=t[e],n.type==="text"&&!r&&(n.content=n.content.replace(SCOPED_ABBR_RE,replaceFn)),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}function replace_rare(t){var e,n,r=0;for(e=t.length-1;e>=0;e--)n=t[e],n.type==="text"&&!r&&RARE_RE.test(n.content)&&(n.content=n.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}var replacements=function t(e){var n;if(!!e.md.options.typographer)for(n=e.tokens.length-1;n>=0;n--)e.tokens[n].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(e.tokens[n].content)&&replace_scoped(e.tokens[n].children),RARE_RE.test(e.tokens[n].content)&&replace_rare(e.tokens[n].children))},isWhiteSpace$1=utils$1.isWhiteSpace,isPunctChar$1=utils$1.isPunctChar,isMdAsciiPunct$1=utils$1.isMdAsciiPunct,QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="\u2019";function replaceAt(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function process_inlines(t,e){var n,r,o,s,l,u,d,f,g,v,_,b,C,S,A,R,I,w,N,O,D;for(N=[],n=0;n<t.length;n++){for(r=t[n],d=t[n].level,I=N.length-1;I>=0&&!(N[I].level<=d);I--);if(N.length=I+1,r.type!=="text")continue;o=r.content,l=0,u=o.length;e:for(;l<u&&(QUOTE_RE.lastIndex=l,s=QUOTE_RE.exec(o),!!s);){if(A=R=!0,l=s.index+1,w=s[0]==="'",g=32,s.index-1>=0)g=o.charCodeAt(s.index-1);else for(I=n-1;I>=0&&!(t[I].type==="softbreak"||t[I].type==="hardbreak");I--)if(!!t[I].content){g=t[I].content.charCodeAt(t[I].content.length-1);break}if(v=32,l<u)v=o.charCodeAt(l);else for(I=n+1;I<t.length&&!(t[I].type==="softbreak"||t[I].type==="hardbreak");I++)if(!!t[I].content){v=t[I].content.charCodeAt(0);break}if(_=isMdAsciiPunct$1(g)||isPunctChar$1(String.fromCharCode(g)),b=isMdAsciiPunct$1(v)||isPunctChar$1(String.fromCharCode(v)),C=isWhiteSpace$1(g),S=isWhiteSpace$1(v),S?A=!1:b&&(C||_||(A=!1)),C?R=!1:_&&(S||b||(R=!1)),v===34&&s[0]==='"'&&g>=48&&g<=57&&(R=A=!1),A&&R&&(A=_,R=b),!A&&!R){w&&(r.content=replaceAt(r.content,s.index,APOSTROPHE));continue}if(R){for(I=N.length-1;I>=0&&(f=N[I],!(N[I].level<d));I--)if(f.single===w&&N[I].level===d){f=N[I],w?(O=e.md.options.quotes[2],D=e.md.options.quotes[3]):(O=e.md.options.quotes[0],D=e.md.options.quotes[1]),r.content=replaceAt(r.content,s.index,D),t[f.token].content=replaceAt(t[f.token].content,f.pos,O),l+=D.length-1,f.token===n&&(l+=O.length-1),o=r.content,u=o.length,N.length=I;continue e}}A?N.push({token:n,pos:s.index,single:w,level:d}):R&&w&&(r.content=replaceAt(r.content,s.index,APOSTROPHE))}}}var smartquotes=function t(e){var n;if(!!e.md.options.typographer)for(n=e.tokens.length-1;n>=0;n--)e.tokens[n].type!=="inline"||!QUOTE_TEST_RE.test(e.tokens[n].content)||process_inlines(e.tokens[n].children,e)},text_join=function t(e){var n,r,o,s,l,u,d=e.tokens;for(n=0,r=d.length;n<r;n++)if(d[n].type==="inline"){for(o=d[n].children,l=o.length,s=0;s<l;s++)o[s].type==="text_special"&&(o[s].type="text");for(s=u=0;s<l;s++)o[s].type==="text"&&s+1<l&&o[s+1].type==="text"?o[s+1].content=o[s].content+o[s+1].content:(s!==u&&(o[u]=o[s]),u++);s!==u&&(o.length=u)}};function Token$3(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token$3.prototype.attrIndex=function t(e){var n,r,o;if(!this.attrs)return-1;for(n=this.attrs,r=0,o=n.length;r<o;r++)if(n[r][0]===e)return r;return-1};Token$3.prototype.attrPush=function t(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Token$3.prototype.attrSet=function t(e,n){var r=this.attrIndex(e),o=[e,n];r<0?this.attrPush(o):this.attrs[r]=o};Token$3.prototype.attrGet=function t(e){var n=this.attrIndex(e),r=null;return n>=0&&(r=this.attrs[n][1]),r};Token$3.prototype.attrJoin=function t(e,n){var r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};var token=Token$3,Token$2=token;function StateCore(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}StateCore.prototype.Token=Token$2;var state_core=StateCore,Ruler$2=ruler,_rules$2=[["normalize",normalize],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replacements],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler$2;for(var t=0;t<_rules$2.length;t++)this.ruler.push(_rules$2[t][0],_rules$2[t][1])}Core.prototype.process=function(t){var e,n,r;for(r=this.ruler.getRules(""),e=0,n=r.length;e<n;e++)r[e](t)};Core.prototype.State=state_core;var parser_core=Core,isSpace$a=utils$1.isSpace;function getLine(t,e){var n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function escapedSplit(t){var e=[],n=0,r=t.length,o,s=!1,l=0,u="";for(o=t.charCodeAt(n);n<r;)o===124&&(s?(u+=t.substring(l,n-1),l=n):(e.push(u+t.substring(l,n)),u="",l=n+1)),s=o===92,n++,o=t.charCodeAt(n);return e.push(u+t.substring(l)),e}var table=function t(e,n,r,o){var s,l,u,d,f,g,v,_,b,C,S,A,R,I,w,N,O,D;if(n+2>r||(g=n+1,e.sCount[g]<e.blkIndent)||e.sCount[g]-e.blkIndent>=4||(u=e.bMarks[g]+e.tShift[g],u>=e.eMarks[g])||(O=e.src.charCodeAt(u++),O!==124&&O!==45&&O!==58)||u>=e.eMarks[g]||(D=e.src.charCodeAt(u++),D!==124&&D!==45&&D!==58&&!isSpace$a(D))||O===45&&isSpace$a(D))return!1;for(;u<e.eMarks[g];){if(s=e.src.charCodeAt(u),s!==124&&s!==45&&s!==58&&!isSpace$a(s))return!1;u++}for(l=getLine(e,n+1),v=l.split("|"),C=[],d=0;d<v.length;d++){if(S=v[d].trim(),!S){if(d===0||d===v.length-1)continue;return!1}if(!/^:?-+:?$/.test(S))return!1;S.charCodeAt(S.length-1)===58?C.push(S.charCodeAt(0)===58?"center":"right"):S.charCodeAt(0)===58?C.push("left"):C.push("")}if(l=getLine(e,n).trim(),l.indexOf("|")===-1||e.sCount[n]-e.blkIndent>=4||(v=escapedSplit(l),v.length&&v[0]===""&&v.shift(),v.length&&v[v.length-1]===""&&v.pop(),_=v.length,_===0||_!==C.length))return!1;if(o)return!0;for(I=e.parentType,e.parentType="table",N=e.md.block.ruler.getRules("blockquote"),b=e.push("table_open","table",1),b.map=A=[n,0],b=e.push("thead_open","thead",1),b.map=[n,n+1],b=e.push("tr_open","tr",1),b.map=[n,n+1],d=0;d<v.length;d++)b=e.push("th_open","th",1),C[d]&&(b.attrs=[["style","text-align:"+C[d]]]),b=e.push("inline","",0),b.content=v[d].trim(),b.children=[],b=e.push("th_close","th",-1);for(b=e.push("tr_close","tr",-1),b=e.push("thead_close","thead",-1),g=n+2;g<r&&!(e.sCount[g]<e.blkIndent);g++){for(w=!1,d=0,f=N.length;d<f;d++)if(N[d](e,g,r,!0)){w=!0;break}if(w||(l=getLine(e,g).trim(),!l)||e.sCount[g]-e.blkIndent>=4)break;for(v=escapedSplit(l),v.length&&v[0]===""&&v.shift(),v.length&&v[v.length-1]===""&&v.pop(),g===n+2&&(b=e.push("tbody_open","tbody",1),b.map=R=[n+2,0]),b=e.push("tr_open","tr",1),b.map=[g,g+1],d=0;d<_;d++)b=e.push("td_open","td",1),C[d]&&(b.attrs=[["style","text-align:"+C[d]]]),b=e.push("inline","",0),b.content=v[d]?v[d].trim():"",b.children=[],b=e.push("td_close","td",-1);b=e.push("tr_close","tr",-1)}return R&&(b=e.push("tbody_close","tbody",-1),R[1]=g),b=e.push("table_close","table",-1),A[1]=g,e.parentType=I,e.line=g,!0},code=function t(e,n,r){var o,s,l;if(e.sCount[n]-e.blkIndent<4)return!1;for(s=o=n+1;o<r;){if(e.isEmpty(o)){o++;continue}if(e.sCount[o]-e.blkIndent>=4){o++,s=o;continue}break}return e.line=s,l=e.push("code_block","code",0),l.content=e.getLines(n,s,4+e.blkIndent,!1)+`
`,l.map=[n,e.line],!0},fence=function t(e,n,r,o){var s,l,u,d,f,g,v,_=!1,b=e.bMarks[n]+e.tShift[n],C=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||b+3>C||(s=e.src.charCodeAt(b),s!==126&&s!==96)||(f=b,b=e.skipChars(b,s),l=b-f,l<3)||(v=e.src.slice(f,b),u=e.src.slice(b,C),s===96&&u.indexOf(String.fromCharCode(s))>=0))return!1;if(o)return!0;for(d=n;d++,!(d>=r||(b=f=e.bMarks[d]+e.tShift[d],C=e.eMarks[d],b<C&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(b)===s&&!(e.sCount[d]-e.blkIndent>=4)&&(b=e.skipChars(b,s),!(b-f<l)&&(b=e.skipSpaces(b),!(b<C)))){_=!0;break}return l=e.sCount[n],e.line=d+(_?1:0),g=e.push("fence","code",0),g.info=u,g.content=e.getLines(n+1,d,l,!0),g.markup=v,g.map=[n,e.line],!0},isSpace$9=utils$1.isSpace,blockquote=function t(e,n,r,o){var s,l,u,d,f,g,v,_,b,C,S,A,R,I,w,N,O,D,V,L,W=e.lineMax,U=e.bMarks[n]+e.tShift[n],K=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||e.src.charCodeAt(U++)!==62)return!1;if(o)return!0;for(d=b=e.sCount[n]+1,e.src.charCodeAt(U)===32?(U++,d++,b++,s=!1,N=!0):e.src.charCodeAt(U)===9?(N=!0,(e.bsCount[n]+b)%4===3?(U++,d++,b++,s=!1):s=!0):N=!1,C=[e.bMarks[n]],e.bMarks[n]=U;U<K&&(l=e.src.charCodeAt(U),isSpace$9(l));){l===9?b+=4-(b+e.bsCount[n]+(s?1:0))%4:b++;U++}for(S=[e.bsCount[n]],e.bsCount[n]=e.sCount[n]+1+(N?1:0),g=U>=K,I=[e.sCount[n]],e.sCount[n]=b-d,w=[e.tShift[n]],e.tShift[n]=U-e.bMarks[n],D=e.md.block.ruler.getRules("blockquote"),R=e.parentType,e.parentType="blockquote",_=n+1;_<r&&(L=e.sCount[_]<e.blkIndent,U=e.bMarks[_]+e.tShift[_],K=e.eMarks[_],!(U>=K));_++){if(e.src.charCodeAt(U++)===62&&!L){for(d=b=e.sCount[_]+1,e.src.charCodeAt(U)===32?(U++,d++,b++,s=!1,N=!0):e.src.charCodeAt(U)===9?(N=!0,(e.bsCount[_]+b)%4===3?(U++,d++,b++,s=!1):s=!0):N=!1,C.push(e.bMarks[_]),e.bMarks[_]=U;U<K&&(l=e.src.charCodeAt(U),isSpace$9(l));){l===9?b+=4-(b+e.bsCount[_]+(s?1:0))%4:b++;U++}g=U>=K,S.push(e.bsCount[_]),e.bsCount[_]=e.sCount[_]+1+(N?1:0),I.push(e.sCount[_]),e.sCount[_]=b-d,w.push(e.tShift[_]),e.tShift[_]=U-e.bMarks[_];continue}if(g)break;for(O=!1,u=0,f=D.length;u<f;u++)if(D[u](e,_,r,!0)){O=!0;break}if(O){e.lineMax=_,e.blkIndent!==0&&(C.push(e.bMarks[_]),S.push(e.bsCount[_]),w.push(e.tShift[_]),I.push(e.sCount[_]),e.sCount[_]-=e.blkIndent);break}C.push(e.bMarks[_]),S.push(e.bsCount[_]),w.push(e.tShift[_]),I.push(e.sCount[_]),e.sCount[_]=-1}for(A=e.blkIndent,e.blkIndent=0,V=e.push("blockquote_open","blockquote",1),V.markup=">",V.map=v=[n,0],e.md.block.tokenize(e,n,_),V=e.push("blockquote_close","blockquote",-1),V.markup=">",e.lineMax=W,e.parentType=R,v[1]=e.line,u=0;u<w.length;u++)e.bMarks[u+n]=C[u],e.tShift[u+n]=w[u],e.sCount[u+n]=I[u],e.bsCount[u+n]=S[u];return e.blkIndent=A,!0},isSpace$8=utils$1.isSpace,hr=function t(e,n,r,o){var s,l,u,d,f=e.bMarks[n]+e.tShift[n],g=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||(s=e.src.charCodeAt(f++),s!==42&&s!==45&&s!==95))return!1;for(l=1;f<g;){if(u=e.src.charCodeAt(f++),u!==s&&!isSpace$8(u))return!1;u===s&&l++}return l<3?!1:(o||(e.line=n+1,d=e.push("hr","hr",0),d.map=[n,e.line],d.markup=Array(l+1).join(String.fromCharCode(s))),!0)},isSpace$7=utils$1.isSpace;function skipBulletListMarker(t,e){var n,r,o,s;return r=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],n=t.src.charCodeAt(r++),n!==42&&n!==45&&n!==43||r<o&&(s=t.src.charCodeAt(r),!isSpace$7(s))?-1:r}function skipOrderedListMarker(t,e){var n,r=t.bMarks[e]+t.tShift[e],o=r,s=t.eMarks[e];if(o+1>=s||(n=t.src.charCodeAt(o++),n<48||n>57))return-1;for(;;){if(o>=s)return-1;if(n=t.src.charCodeAt(o++),n>=48&&n<=57){if(o-r>=10)return-1;continue}if(n===41||n===46)break;return-1}return o<s&&(n=t.src.charCodeAt(o),!isSpace$7(n))?-1:o}function markTightParagraphs(t,e){var n,r,o=t.level+2;for(n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===o&&t.tokens[n].type==="paragraph_open"&&(t.tokens[n+2].hidden=!0,t.tokens[n].hidden=!0,n+=2)}var list=function t(e,n,r,o){var s,l,u,d,f,g,v,_,b,C,S,A,R,I,w,N,O,D,V,L,W,U,K,H,J,q,ce,te,Q=!1,de=!0;if(e.sCount[n]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[n]-e.listIndent>=4&&e.sCount[n]<e.blkIndent)return!1;if(o&&e.parentType==="paragraph"&&e.sCount[n]>=e.blkIndent&&(Q=!0),(K=skipOrderedListMarker(e,n))>=0){if(v=!0,J=e.bMarks[n]+e.tShift[n],R=Number(e.src.slice(J,K-1)),Q&&R!==1)return!1}else if((K=skipBulletListMarker(e,n))>=0)v=!1;else return!1;if(Q&&e.skipSpaces(K)>=e.eMarks[n])return!1;if(A=e.src.charCodeAt(K-1),o)return!0;for(S=e.tokens.length,v?(te=e.push("ordered_list_open","ol",1),R!==1&&(te.attrs=[["start",R]])):te=e.push("bullet_list_open","ul",1),te.map=C=[n,0],te.markup=String.fromCharCode(A),w=n,H=!1,ce=e.md.block.ruler.getRules("list"),D=e.parentType,e.parentType="list";w<r;){for(U=K,I=e.eMarks[w],g=N=e.sCount[w]+K-(e.bMarks[n]+e.tShift[n]);U<I;){if(s=e.src.charCodeAt(U),s===9)N+=4-(N+e.bsCount[w])%4;else if(s===32)N++;else break;U++}if(l=U,l>=I?f=1:f=N-g,f>4&&(f=1),d=g+f,te=e.push("list_item_open","li",1),te.markup=String.fromCharCode(A),te.map=_=[n,0],v&&(te.info=e.src.slice(J,K-1)),W=e.tight,L=e.tShift[n],V=e.sCount[n],O=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=d,e.tight=!0,e.tShift[n]=l-e.bMarks[n],e.sCount[n]=N,l>=I&&e.isEmpty(n+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,n,r,!0),(!e.tight||H)&&(de=!1),H=e.line-n>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=O,e.tShift[n]=L,e.sCount[n]=V,e.tight=W,te=e.push("list_item_close","li",-1),te.markup=String.fromCharCode(A),w=n=e.line,_[1]=w,l=e.bMarks[n],w>=r||e.sCount[w]<e.blkIndent||e.sCount[n]-e.blkIndent>=4)break;for(q=!1,u=0,b=ce.length;u<b;u++)if(ce[u](e,w,r,!0)){q=!0;break}if(q)break;if(v){if(K=skipOrderedListMarker(e,w),K<0)break;J=e.bMarks[w]+e.tShift[w]}else if(K=skipBulletListMarker(e,w),K<0)break;if(A!==e.src.charCodeAt(K-1))break}return v?te=e.push("ordered_list_close","ol",-1):te=e.push("bullet_list_close","ul",-1),te.markup=String.fromCharCode(A),C[1]=w,e.line=w,e.parentType=D,de&&markTightParagraphs(e,S),!0},normalizeReference$2=utils$1.normalizeReference,isSpace$6=utils$1.isSpace,reference=function t(e,n,r,o){var s,l,u,d,f,g,v,_,b,C,S,A,R,I,w,N,O=0,D=e.bMarks[n]+e.tShift[n],V=e.eMarks[n],L=n+1;if(e.sCount[n]-e.blkIndent>=4||e.src.charCodeAt(D)!==91)return!1;for(;++D<V;)if(e.src.charCodeAt(D)===93&&e.src.charCodeAt(D-1)!==92){if(D+1===V||e.src.charCodeAt(D+1)!==58)return!1;break}for(d=e.lineMax,w=e.md.block.ruler.getRules("reference"),C=e.parentType,e.parentType="reference";L<d&&!e.isEmpty(L);L++)if(!(e.sCount[L]-e.blkIndent>3)&&!(e.sCount[L]<0)){for(I=!1,g=0,v=w.length;g<v;g++)if(w[g](e,L,d,!0)){I=!0;break}if(I)break}for(R=e.getLines(n,L,e.blkIndent,!1).trim(),V=R.length,D=1;D<V;D++){if(s=R.charCodeAt(D),s===91)return!1;if(s===93){b=D;break}else s===10?O++:s===92&&(D++,D<V&&R.charCodeAt(D)===10&&O++)}if(b<0||R.charCodeAt(b+1)!==58)return!1;for(D=b+2;D<V;D++)if(s=R.charCodeAt(D),s===10)O++;else if(!isSpace$6(s))break;if(S=e.md.helpers.parseLinkDestination(R,D,V),!S.ok||(f=e.md.normalizeLink(S.str),!e.md.validateLink(f)))return!1;for(D=S.pos,O+=S.lines,l=D,u=O,A=D;D<V;D++)if(s=R.charCodeAt(D),s===10)O++;else if(!isSpace$6(s))break;for(S=e.md.helpers.parseLinkTitle(R,D,V),D<V&&A!==D&&S.ok?(N=S.str,D=S.pos,O+=S.lines):(N="",D=l,O=u);D<V&&(s=R.charCodeAt(D),!!isSpace$6(s));)D++;if(D<V&&R.charCodeAt(D)!==10&&N)for(N="",D=l,O=u;D<V&&(s=R.charCodeAt(D),!!isSpace$6(s));)D++;return D<V&&R.charCodeAt(D)!==10||(_=normalizeReference$2(R.slice(1,b)),!_)?!1:(o||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[_]>"u"&&(e.env.references[_]={title:N,href:f}),e.parentType=C,e.line=n+O+1),!0)},html_blocks=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],html_re={},attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Z]+\\s+[^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE$1=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE$1=new RegExp("^(?:"+open_tag+"|"+close_tag+")");html_re.HTML_TAG_RE=HTML_TAG_RE$1;html_re.HTML_OPEN_CLOSE_TAG_RE=HTML_OPEN_CLOSE_TAG_RE$1;var block_names=html_blocks,HTML_OPEN_CLOSE_TAG_RE=html_re.HTML_OPEN_CLOSE_TAG_RE,HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]],html_block=function t(e,n,r,o){var s,l,u,d,f=e.bMarks[n]+e.tShift[n],g=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(f)!==60)return!1;for(d=e.src.slice(f,g),s=0;s<HTML_SEQUENCES.length&&!HTML_SEQUENCES[s][0].test(d);s++);if(s===HTML_SEQUENCES.length)return!1;if(o)return HTML_SEQUENCES[s][2];if(l=n+1,!HTML_SEQUENCES[s][1].test(d)){for(;l<r&&!(e.sCount[l]<e.blkIndent);l++)if(f=e.bMarks[l]+e.tShift[l],g=e.eMarks[l],d=e.src.slice(f,g),HTML_SEQUENCES[s][1].test(d)){d.length!==0&&l++;break}}return e.line=l,u=e.push("html_block","",0),u.map=[n,l],u.content=e.getLines(n,l,e.blkIndent,!0),!0},isSpace$5=utils$1.isSpace,heading=function t(e,n,r,o){var s,l,u,d,f=e.bMarks[n]+e.tShift[n],g=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||(s=e.src.charCodeAt(f),s!==35||f>=g))return!1;for(l=1,s=e.src.charCodeAt(++f);s===35&&f<g&&l<=6;)l++,s=e.src.charCodeAt(++f);return l>6||f<g&&!isSpace$5(s)?!1:(o||(g=e.skipSpacesBack(g,f),u=e.skipCharsBack(g,35,f),u>f&&isSpace$5(e.src.charCodeAt(u-1))&&(g=u),e.line=n+1,d=e.push("heading_open","h"+String(l),1),d.markup="########".slice(0,l),d.map=[n,e.line],d=e.push("inline","",0),d.content=e.src.slice(f,g).trim(),d.map=[n,e.line],d.children=[],d=e.push("heading_close","h"+String(l),-1),d.markup="########".slice(0,l)),!0)},lheading=function t(e,n,r){var o,s,l,u,d,f,g,v,_,b=n+1,C,S=e.md.block.ruler.getRules("paragraph");if(e.sCount[n]-e.blkIndent>=4)return!1;for(C=e.parentType,e.parentType="paragraph";b<r&&!e.isEmpty(b);b++)if(!(e.sCount[b]-e.blkIndent>3)){if(e.sCount[b]>=e.blkIndent&&(f=e.bMarks[b]+e.tShift[b],g=e.eMarks[b],f<g&&(_=e.src.charCodeAt(f),(_===45||_===61)&&(f=e.skipChars(f,_),f=e.skipSpaces(f),f>=g)))){v=_===61?1:2;break}if(!(e.sCount[b]<0)){for(s=!1,l=0,u=S.length;l<u;l++)if(S[l](e,b,r,!0)){s=!0;break}if(s)break}}return v?(o=e.getLines(n,b,e.blkIndent,!1).trim(),e.line=b+1,d=e.push("heading_open","h"+String(v),1),d.markup=String.fromCharCode(_),d.map=[n,e.line],d=e.push("inline","",0),d.content=o,d.map=[n,e.line-1],d.children=[],d=e.push("heading_close","h"+String(v),-1),d.markup=String.fromCharCode(_),e.parentType=C,!0):!1},paragraph=function t(e,n){var r,o,s,l,u,d,f=n+1,g=e.md.block.ruler.getRules("paragraph"),v=e.lineMax;for(d=e.parentType,e.parentType="paragraph";f<v&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)&&!(e.sCount[f]<0)){for(o=!1,s=0,l=g.length;s<l;s++)if(g[s](e,f,v,!0)){o=!0;break}if(o)break}return r=e.getLines(n,f,e.blkIndent,!1).trim(),e.line=f,u=e.push("paragraph_open","p",1),u.map=[n,e.line],u=e.push("inline","",0),u.content=r,u.map=[n,e.line],u.children=[],u=e.push("paragraph_close","p",-1),e.parentType=d,!0},Token$1=token,isSpace$4=utils$1.isSpace;function StateBlock(t,e,n,r){var o,s,l,u,d,f,g,v;for(this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",s=this.src,v=!1,l=u=f=g=0,d=s.length;u<d;u++){if(o=s.charCodeAt(u),!v)if(isSpace$4(o)){f++,o===9?g+=4-g%4:g++;continue}else v=!0;(o===10||u===d-1)&&(o!==10&&u++,this.bMarks.push(l),this.eMarks.push(u),this.tShift.push(f),this.sCount.push(g),this.bsCount.push(0),v=!1,f=0,g=0,l=u+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(t,e,n){var r=new Token$1(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};StateBlock.prototype.isEmpty=function t(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};StateBlock.prototype.skipEmptyLines=function t(e){for(var n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};StateBlock.prototype.skipSpaces=function t(e){for(var n,r=this.src.length;e<r&&(n=this.src.charCodeAt(e),!!isSpace$4(n));e++);return e};StateBlock.prototype.skipSpacesBack=function t(e,n){if(e<=n)return e;for(;e>n;)if(!isSpace$4(this.src.charCodeAt(--e)))return e+1;return e};StateBlock.prototype.skipChars=function t(e,n){for(var r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e};StateBlock.prototype.skipCharsBack=function t(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e};StateBlock.prototype.getLines=function t(e,n,r,o){var s,l,u,d,f,g,v,_=e;if(e>=n)return"";for(g=new Array(n-e),s=0;_<n;_++,s++){for(l=0,v=d=this.bMarks[_],_+1<n||o?f=this.eMarks[_]+1:f=this.eMarks[_];d<f&&l<r;){if(u=this.src.charCodeAt(d),isSpace$4(u))u===9?l+=4-(l+this.bsCount[_])%4:l++;else if(d-v<this.tShift[_])l++;else break;d++}l>r?g[s]=new Array(l-r+1).join(" ")+this.src.slice(d,f):g[s]=this.src.slice(d,f)}return g.join("")};StateBlock.prototype.Token=Token$1;var state_block=StateBlock,Ruler$1=ruler,_rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock$1(){this.ruler=new Ruler$1;for(var t=0;t<_rules$1.length;t++)this.ruler.push(_rules$1[t][0],_rules$1[t][1],{alt:(_rules$1[t][2]||[]).slice()})}ParserBlock$1.prototype.tokenize=function(t,e,n){for(var r,o,s=this.ruler.getRules(""),l=s.length,u=e,d=!1,f=t.md.options.maxNesting;u<n&&(t.line=u=t.skipEmptyLines(u),!(u>=n||t.sCount[u]<t.blkIndent));){if(t.level>=f){t.line=n;break}for(o=0;o<l&&(r=s[o](t,u,n,!1),!r);o++);t.tight=!d,t.isEmpty(t.line-1)&&(d=!0),u=t.line,u<n&&t.isEmpty(u)&&(d=!0,u++,t.line=u)}};ParserBlock$1.prototype.parse=function(t,e,n,r){var o;!t||(o=new this.State(t,e,n,r),this.tokenize(o,o.line,o.lineMax))};ParserBlock$1.prototype.State=state_block;var parser_block=ParserBlock$1;function isTerminatorChar(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var text=function t(e,n){for(var r=e.pos;r<e.posMax&&!isTerminatorChar(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(n||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)},SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,linkify=function t(e,n){var r,o,s,l,u,d,f,g;return!e.md.options.linkify||e.linkLevel>0||(r=e.pos,o=e.posMax,r+3>o)||e.src.charCodeAt(r)!==58||e.src.charCodeAt(r+1)!==47||e.src.charCodeAt(r+2)!==47||(s=e.pending.match(SCHEME_RE),!s)||(l=s[1],u=e.md.linkify.matchAtStart(e.src.slice(r-l.length)),!u)||(d=u.url,d=d.replace(/\*+$/,""),f=e.md.normalizeLink(d),!e.md.validateLink(f))?!1:(n||(e.pending=e.pending.slice(0,-l.length),g=e.push("link_open","a",1),g.attrs=[["href",f]],g.markup="linkify",g.info="auto",g=e.push("text","",0),g.content=e.md.normalizeLinkText(d),g=e.push("link_close","a",-1),g.markup="linkify",g.info="auto"),e.pos+=d.length-l.length,!0)},isSpace$3=utils$1.isSpace,newline=function t(e,n){var r,o,s,l=e.pos;if(e.src.charCodeAt(l)!==10)return!1;if(r=e.pending.length-1,o=e.posMax,!n)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){for(s=r-1;s>=1&&e.pending.charCodeAt(s-1)===32;)s--;e.pending=e.pending.slice(0,s),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(l++;l<o&&isSpace$3(e.src.charCodeAt(l));)l++;return e.pos=l,!0},isSpace$2=utils$1.isSpace,ESCAPED=[];for(var i=0;i<256;i++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){ESCAPED[t.charCodeAt(0)]=1});var _escape=function t(e,n){var r,o,s,l,u,d=e.pos,f=e.posMax;if(e.src.charCodeAt(d)!==92||(d++,d>=f))return!1;if(r=e.src.charCodeAt(d),r===10){for(n||e.push("hardbreak","br",0),d++;d<f&&(r=e.src.charCodeAt(d),!!isSpace$2(r));)d++;return e.pos=d,!0}return l=e.src[d],r>=55296&&r<=56319&&d+1<f&&(o=e.src.charCodeAt(d+1),o>=56320&&o<=57343&&(l+=e.src[d+1],d++)),s="\\"+l,n||(u=e.push("text_special","",0),r<256&&ESCAPED[r]!==0?u.content=l:u.content=s,u.markup=s,u.info="escape"),e.pos=d+1,!0},backticks=function t(e,n){var r,o,s,l,u,d,f,g,v=e.pos,_=e.src.charCodeAt(v);if(_!==96)return!1;for(r=v,v++,o=e.posMax;v<o&&e.src.charCodeAt(v)===96;)v++;if(s=e.src.slice(r,v),f=s.length,e.backticksScanned&&(e.backticks[f]||0)<=r)return n||(e.pending+=s),e.pos+=f,!0;for(u=d=v;(u=e.src.indexOf("`",d))!==-1;){for(d=u+1;d<o&&e.src.charCodeAt(d)===96;)d++;if(g=d-u,g===f)return n||(l=e.push("code_inline","code",0),l.markup=s,l.content=e.src.slice(v,u).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=d,!0;e.backticks[g]=u}return e.backticksScanned=!0,n||(e.pending+=s),e.pos+=f,!0},strikethrough={};strikethrough.tokenize=function t(e,n){var r,o,s,l,u,d=e.pos,f=e.src.charCodeAt(d);if(n||f!==126||(o=e.scanDelims(e.pos,!0),l=o.length,u=String.fromCharCode(f),l<2))return!1;for(l%2&&(s=e.push("text","",0),s.content=u,l--),r=0;r<l;r+=2)s=e.push("text","",0),s.content=u+u,e.delimiters.push({marker:f,length:0,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0};function postProcess$1(t,e){var n,r,o,s,l,u=[],d=e.length;for(n=0;n<d;n++)o=e[n],o.marker===126&&o.end!==-1&&(s=e[o.end],l=t.tokens[o.token],l.type="s_open",l.tag="s",l.nesting=1,l.markup="~~",l.content="",l=t.tokens[s.token],l.type="s_close",l.tag="s",l.nesting=-1,l.markup="~~",l.content="",t.tokens[s.token-1].type==="text"&&t.tokens[s.token-1].content==="~"&&u.push(s.token-1));for(;u.length;){for(n=u.pop(),r=n+1;r<t.tokens.length&&t.tokens[r].type==="s_close";)r++;r--,n!==r&&(l=t.tokens[r],t.tokens[r]=t.tokens[n],t.tokens[n]=l)}}strikethrough.postProcess=function t(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(postProcess$1(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&postProcess$1(e,r[n].delimiters)};var emphasis={};emphasis.tokenize=function t(e,n){var r,o,s,l=e.pos,u=e.src.charCodeAt(l);if(n||u!==95&&u!==42)return!1;for(o=e.scanDelims(e.pos,u===42),r=0;r<o.length;r++)s=e.push("text","",0),s.content=String.fromCharCode(u),e.delimiters.push({marker:u,length:o.length,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0};function postProcess(t,e){var n,r,o,s,l,u,d=e.length;for(n=d-1;n>=0;n--)r=e[n],!(r.marker!==95&&r.marker!==42)&&r.end!==-1&&(o=e[r.end],u=n>0&&e[n-1].end===r.end+1&&e[n-1].marker===r.marker&&e[n-1].token===r.token-1&&e[r.end+1].token===o.token+1,l=String.fromCharCode(r.marker),s=t.tokens[r.token],s.type=u?"strong_open":"em_open",s.tag=u?"strong":"em",s.nesting=1,s.markup=u?l+l:l,s.content="",s=t.tokens[o.token],s.type=u?"strong_close":"em_close",s.tag=u?"strong":"em",s.nesting=-1,s.markup=u?l+l:l,s.content="",u&&(t.tokens[e[n-1].token].content="",t.tokens[e[r.end+1].token].content="",n--))}emphasis.postProcess=function t(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(postProcess(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&postProcess(e,r[n].delimiters)};var normalizeReference$1=utils$1.normalizeReference,isSpace$1=utils$1.isSpace,link=function t(e,n){var r,o,s,l,u,d,f,g,v,_="",b="",C=e.pos,S=e.posMax,A=e.pos,R=!0;if(e.src.charCodeAt(e.pos)!==91||(u=e.pos+1,l=e.md.helpers.parseLinkLabel(e,e.pos,!0),l<0))return!1;if(d=l+1,d<S&&e.src.charCodeAt(d)===40){for(R=!1,d++;d<S&&(o=e.src.charCodeAt(d),!(!isSpace$1(o)&&o!==10));d++);if(d>=S)return!1;if(A=d,f=e.md.helpers.parseLinkDestination(e.src,d,e.posMax),f.ok){for(_=e.md.normalizeLink(f.str),e.md.validateLink(_)?d=f.pos:_="",A=d;d<S&&(o=e.src.charCodeAt(d),!(!isSpace$1(o)&&o!==10));d++);if(f=e.md.helpers.parseLinkTitle(e.src,d,e.posMax),d<S&&A!==d&&f.ok)for(b=f.str,d=f.pos;d<S&&(o=e.src.charCodeAt(d),!(!isSpace$1(o)&&o!==10));d++);}(d>=S||e.src.charCodeAt(d)!==41)&&(R=!0),d++}if(R){if(typeof e.env.references>"u")return!1;if(d<S&&e.src.charCodeAt(d)===91?(A=d+1,d=e.md.helpers.parseLinkLabel(e,d),d>=0?s=e.src.slice(A,d++):d=l+1):d=l+1,s||(s=e.src.slice(u,l)),g=e.env.references[normalizeReference$1(s)],!g)return e.pos=C,!1;_=g.href,b=g.title}return n||(e.pos=u,e.posMax=l,v=e.push("link_open","a",1),v.attrs=r=[["href",_]],b&&r.push(["title",b]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,v=e.push("link_close","a",-1)),e.pos=d,e.posMax=S,!0},normalizeReference=utils$1.normalizeReference,isSpace=utils$1.isSpace,image=function t(e,n){var r,o,s,l,u,d,f,g,v,_,b,C,S,A="",R=e.pos,I=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91||(d=e.pos+2,u=e.md.helpers.parseLinkLabel(e,e.pos+1,!1),u<0))return!1;if(f=u+1,f<I&&e.src.charCodeAt(f)===40){for(f++;f<I&&(o=e.src.charCodeAt(f),!(!isSpace(o)&&o!==10));f++);if(f>=I)return!1;for(S=f,v=e.md.helpers.parseLinkDestination(e.src,f,e.posMax),v.ok&&(A=e.md.normalizeLink(v.str),e.md.validateLink(A)?f=v.pos:A=""),S=f;f<I&&(o=e.src.charCodeAt(f),!(!isSpace(o)&&o!==10));f++);if(v=e.md.helpers.parseLinkTitle(e.src,f,e.posMax),f<I&&S!==f&&v.ok)for(_=v.str,f=v.pos;f<I&&(o=e.src.charCodeAt(f),!(!isSpace(o)&&o!==10));f++);else _="";if(f>=I||e.src.charCodeAt(f)!==41)return e.pos=R,!1;f++}else{if(typeof e.env.references>"u")return!1;if(f<I&&e.src.charCodeAt(f)===91?(S=f+1,f=e.md.helpers.parseLinkLabel(e,f),f>=0?l=e.src.slice(S,f++):f=u+1):f=u+1,l||(l=e.src.slice(d,u)),g=e.env.references[normalizeReference(l)],!g)return e.pos=R,!1;A=g.href,_=g.title}return n||(s=e.src.slice(d,u),e.md.inline.parse(s,e.md,e.env,C=[]),b=e.push("image","img",0),b.attrs=r=[["src",A],["alt",""]],b.children=C,b.content=s,_&&r.push(["title",_])),e.pos=f,e.posMax=I,!0},EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,autolink=function t(e,n){var r,o,s,l,u,d,f=e.pos;if(e.src.charCodeAt(f)!==60)return!1;for(u=e.pos,d=e.posMax;;){if(++f>=d||(l=e.src.charCodeAt(f),l===60))return!1;if(l===62)break}return r=e.src.slice(u+1,f),AUTOLINK_RE.test(r)?(o=e.md.normalizeLink(r),e.md.validateLink(o)?(n||(s=e.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=e.push("text","",0),s.content=e.md.normalizeLinkText(r),s=e.push("link_close","a",-1),s.markup="autolink",s.info="auto"),e.pos+=r.length+2,!0):!1):EMAIL_RE.test(r)?(o=e.md.normalizeLink("mailto:"+r),e.md.validateLink(o)?(n||(s=e.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=e.push("text","",0),s.content=e.md.normalizeLinkText(r),s=e.push("link_close","a",-1),s.markup="autolink",s.info="auto"),e.pos+=r.length+2,!0):!1):!1},HTML_TAG_RE=html_re.HTML_TAG_RE;function isLinkOpen(t){return/^<a[>\s]/i.test(t)}function isLinkClose(t){return/^<\/a\s*>/i.test(t)}function isLetter(t){var e=t|32;return e>=97&&e<=122}var html_inline=function t(e,n){var r,o,s,l,u=e.pos;return!e.md.options.html||(s=e.posMax,e.src.charCodeAt(u)!==60||u+2>=s)||(r=e.src.charCodeAt(u+1),r!==33&&r!==63&&r!==47&&!isLetter(r))||(o=e.src.slice(u).match(HTML_TAG_RE),!o)?!1:(n||(l=e.push("html_inline","",0),l.content=e.src.slice(u,u+o[0].length),isLinkOpen(l.content)&&e.linkLevel++,isLinkClose(l.content)&&e.linkLevel--),e.pos+=o[0].length,!0)},entities=entities$1.exports,has=utils$1.has,isValidEntityCode=utils$1.isValidEntityCode,fromCodePoint=utils$1.fromCodePoint,DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i,entity=function t(e,n){var r,o,s,l,u=e.pos,d=e.posMax;if(e.src.charCodeAt(u)!==38||u+1>=d)return!1;if(r=e.src.charCodeAt(u+1),r===35){if(s=e.src.slice(u).match(DIGITAL_RE),s)return n||(o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),l=e.push("text_special","",0),l.content=isValidEntityCode(o)?fromCodePoint(o):fromCodePoint(65533),l.markup=s[0],l.info="entity"),e.pos+=s[0].length,!0}else if(s=e.src.slice(u).match(NAMED_RE),s&&has(entities,s[1]))return n||(l=e.push("text_special","",0),l.content=entities[s[1]],l.markup=s[0],l.info="entity"),e.pos+=s[0].length,!0;return!1};function processDelimiters(t,e){var n,r,o,s,l,u,d,f,g={},v=e.length;if(!!v){var _=0,b=-2,C=[];for(n=0;n<v;n++)if(o=e[n],C.push(0),(e[_].marker!==o.marker||b!==o.token-1)&&(_=n),b=o.token,o.length=o.length||0,!!o.close){for(g.hasOwnProperty(o.marker)||(g[o.marker]=[-1,-1,-1,-1,-1,-1]),l=g[o.marker][(o.open?3:0)+o.length%3],r=_-C[_]-1,u=r;r>l;r-=C[r]+1)if(s=e[r],s.marker===o.marker&&s.open&&s.end<0&&(d=!1,(s.close||o.open)&&(s.length+o.length)%3===0&&(s.length%3!==0||o.length%3!==0)&&(d=!0),!d)){f=r>0&&!e[r-1].open?C[r-1]+1:0,C[n]=n-r+f,C[r]=f,o.open=!1,s.end=n,s.close=!1,u=-1,b=-2;break}u!==-1&&(g[o.marker][(o.open?3:0)+(o.length||0)%3]=u)}}}var balance_pairs=function t(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(processDelimiters(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&processDelimiters(e,r[n].delimiters)},fragments_join=function t(e){var n,r,o=0,s=e.tokens,l=e.tokens.length;for(n=r=0;n<l;n++)s[n].nesting<0&&o--,s[n].level=o,s[n].nesting>0&&o++,s[n].type==="text"&&n+1<l&&s[n+1].type==="text"?s[n+1].content=s[n].content+s[n+1].content:(n!==r&&(s[r]=s[n]),r++);n!==r&&(s.length=r)},Token=token,isWhiteSpace=utils$1.isWhiteSpace,isPunctChar=utils$1.isPunctChar,isMdAsciiPunct=utils$1.isMdAsciiPunct;function StateInline(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){var t=new Token("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};StateInline.prototype.push=function(t,e,n){this.pending&&this.pushPending();var r=new Token(t,e,n),o=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(o),r};StateInline.prototype.scanDelims=function(t,e){var n=t,r,o,s,l,u,d,f,g,v,_=!0,b=!0,C=this.posMax,S=this.src.charCodeAt(t);for(r=t>0?this.src.charCodeAt(t-1):32;n<C&&this.src.charCodeAt(n)===S;)n++;return s=n-t,o=n<C?this.src.charCodeAt(n):32,f=isMdAsciiPunct(r)||isPunctChar(String.fromCharCode(r)),v=isMdAsciiPunct(o)||isPunctChar(String.fromCharCode(o)),d=isWhiteSpace(r),g=isWhiteSpace(o),g?_=!1:v&&(d||f||(_=!1)),d?b=!1:f&&(g||v||(b=!1)),e?(l=_,u=b):(l=_&&(!b||f),u=b&&(!_||v)),{can_open:l,can_close:u,length:s}};StateInline.prototype.Token=Token;var state_inline=StateInline,Ruler=ruler,_rules=[["text",text],["linkify",linkify],["newline",newline],["escape",_escape],["backticks",backticks],["strikethrough",strikethrough.tokenize],["emphasis",emphasis.tokenize],["link",link],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",balance_pairs],["strikethrough",strikethrough.postProcess],["emphasis",emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline$1(){var t;for(this.ruler=new Ruler,t=0;t<_rules.length;t++)this.ruler.push(_rules[t][0],_rules[t][1]);for(this.ruler2=new Ruler,t=0;t<_rules2.length;t++)this.ruler2.push(_rules2[t][0],_rules2[t][1])}ParserInline$1.prototype.skipToken=function(t){var e,n,r=t.pos,o=this.ruler.getRules(""),s=o.length,l=t.md.options.maxNesting,u=t.cache;if(typeof u[r]<"u"){t.pos=u[r];return}if(t.level<l)for(n=0;n<s&&(t.level++,e=o[n](t,!0),t.level--,!e);n++);else t.pos=t.posMax;e||t.pos++,u[r]=t.pos};ParserInline$1.prototype.tokenize=function(t){for(var e,n,r=this.ruler.getRules(""),o=r.length,s=t.posMax,l=t.md.options.maxNesting;t.pos<s;){if(t.level<l)for(n=0;n<o&&(e=r[n](t,!1),!e);n++);if(e){if(t.pos>=s)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};ParserInline$1.prototype.parse=function(t,e,n,r){var o,s,l,u=new this.State(t,e,n,r);for(this.tokenize(u),s=this.ruler2.getRules(""),l=s.length,o=0;o<l;o++)s[o](u)};ParserInline$1.prototype.State=state_inline;var parser_inline=ParserInline$1,re,hasRequiredRe;function requireRe(){return hasRequiredRe||(hasRequiredRe=1,re=function(t){var e={};t=t||{},e.src_Any=requireRegex$3().source,e.src_Cc=requireRegex$2().source,e.src_Z=requireRegex().source,e.src_P=regex$4.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var n="[><\uFF5C]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}),re}function assign(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(n){!n||Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function _class(t){return Object.prototype.toString.call(t)}function isString(t){return _class(t)==="[object String]"}function isObject(t){return _class(t)==="[object Object]"}function isRegExp(t){return _class(t)==="[object RegExp]"}function isFunction(t){return _class(t)==="[object Function]"}function escapeRE(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(t){return Object.keys(t||{}).reduce(function(e,n){return e||defaultOptions.hasOwnProperty(n)},!1)}var defaultSchemas={"http:":{validate:function(t,e,n){var r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function resetScanCache(t){t.__index__=-1,t.__text_cache__=""}function createValidator(t){return function(e,n){var r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function createNormalizer(){return function(t,e){e.normalize(t)}}function compile(t){var e=t.re=requireRe()(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(tlds_2ch_src_re),n.push(e.src_xn),e.src_tlds=n.join("|");function r(u){return u.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");var o=[];t.__compiled__={};function s(u,d){throw new Error('(LinkifyIt) Invalid schema "'+u+'": '+d)}Object.keys(t.__schemas__).forEach(function(u){var d=t.__schemas__[u];if(d!==null){var f={validate:null,link:null};if(t.__compiled__[u]=f,isObject(d)){isRegExp(d.validate)?f.validate=createValidator(d.validate):isFunction(d.validate)?f.validate=d.validate:s(u,d),isFunction(d.normalize)?f.normalize=d.normalize:d.normalize?s(u,d):f.normalize=createNormalizer();return}if(isString(d)){o.push(u);return}s(u,d)}}),o.forEach(function(u){!t.__compiled__[t.__schemas__[u]]||(t.__compiled__[u].validate=t.__compiled__[t.__schemas__[u]].validate,t.__compiled__[u].normalize=t.__compiled__[t.__schemas__[u]].normalize)}),t.__compiled__[""]={validate:null,normalize:createNormalizer()};var l=Object.keys(t.__compiled__).filter(function(u){return u.length>0&&t.__compiled__[u]}).map(escapeRE).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+l+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+l+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),resetScanCache(t)}function Match(t,e){var n=t.__index__,r=t.__last_index__,o=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=o,this.text=o,this.url=o}function createMatch(t,e){var n=new Match(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function LinkifyIt$1(t,e){if(!(this instanceof LinkifyIt$1))return new LinkifyIt$1(t,e);e||isOptionsObj(t)&&(e=t,t={}),this.__opts__=assign({},defaultOptions,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,t),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt$1.prototype.add=function t(e,n){return this.__schemas__[e]=n,compile(this),this};LinkifyIt$1.prototype.set=function t(e){return this.__opts__=assign(this.__opts__,e),this};LinkifyIt$1.prototype.test=function t(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var n,r,o,s,l,u,d,f,g;if(this.re.schema_test.test(e)){for(d=this.re.schema_search,d.lastIndex=0;(n=d.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],d.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(f=e.search(this.re.host_fuzzy_test),f>=0&&(this.__index__<0||f<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(l=r.index+r[1].length,(this.__index__<0||l<this.__index__)&&(this.__schema__="",this.__index__=l,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(g=e.indexOf("@"),g>=0&&(o=e.match(this.re.email_fuzzy))!==null&&(l=o.index+o[1].length,u=o.index+o[0].length,(this.__index__<0||l<this.__index__||l===this.__index__&&u>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=l,this.__last_index__=u))),this.__index__>=0};LinkifyIt$1.prototype.pretest=function t(e){return this.re.pretest.test(e)};LinkifyIt$1.prototype.testSchemaAt=function t(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};LinkifyIt$1.prototype.match=function t(e){var n=0,r=[];this.__index__>=0&&this.__text_cache__===e&&(r.push(createMatch(this,n)),n=this.__last_index__);for(var o=n?e.slice(n):e;this.test(o);)r.push(createMatch(this,n)),o=o.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};LinkifyIt$1.prototype.matchAtStart=function t(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;var n=this.re.schema_at_start.exec(e);if(!n)return null;var r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,createMatch(this,0)):null};LinkifyIt$1.prototype.tlds=function t(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,o,s){return r!==s[o-1]}).reverse(),compile(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,compile(this),this)};LinkifyIt$1.prototype.normalize=function t(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};LinkifyIt$1.prototype.onCompile=function t(){};var linkifyIt=LinkifyIt$1;const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(__viteBrowserExternal$1);var _default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},utils=utils$1,helpers=helpers$1,Renderer=renderer,ParserCore=parser_core,ParserBlock=parser_block,ParserInline=parser_inline,LinkifyIt=linkifyIt,mdurl=mdurl$1,punycode=require$$8,config={default:_default,zero,commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(t){var e=t.trim().toLowerCase();return BAD_PROTO_RE.test(e)?!!GOOD_DATA_RE.test(e):!0}var RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(t){var e=mdurl.parse(t,!0);if(e.hostname&&(!e.protocol||RECODE_HOSTNAME_FOR.indexOf(e.protocol)>=0))try{e.hostname=punycode.toASCII(e.hostname)}catch{}return mdurl.encode(mdurl.format(e))}function normalizeLinkText(t){var e=mdurl.parse(t,!0);if(e.hostname&&(!e.protocol||RECODE_HOSTNAME_FOR.indexOf(e.protocol)>=0))try{e.hostname=punycode.toUnicode(e.hostname)}catch{}return mdurl.decode(mdurl.format(e),mdurl.decode.defaultChars+"%")}function MarkdownIt(t,e){if(!(this instanceof MarkdownIt))return new MarkdownIt(t,e);e||utils.isString(t)||(e=t||{},t="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new ParserCore,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=utils.assign({},helpers),this.options={},this.configure(t),e&&this.set(e)}MarkdownIt.prototype.set=function(t){return utils.assign(this.options,t),this};MarkdownIt.prototype.configure=function(t){var e=this,n;if(utils.isString(t)&&(n=t,t=config[n],!t))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(r){t.components[r].rules&&e[r].ruler.enableOnly(t.components[r].rules),t.components[r].rules2&&e[r].ruler2.enableOnly(t.components[r].rules2)}),this};MarkdownIt.prototype.enable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));var r=t.filter(function(o){return n.indexOf(o)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};MarkdownIt.prototype.disable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));var r=t.filter(function(o){return n.indexOf(o)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};MarkdownIt.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};MarkdownIt.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");var n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};MarkdownIt.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};MarkdownIt.prototype.parseInline=function(t,e){var n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};MarkdownIt.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};var lib=MarkdownIt;(function(t){t.exports=lib})(markdownIt$1);const markdownIt=getDefaultExportFromCjs(markdownIt$1.exports),VExpansionPanel$1="",VExpansionPanelSymbol=Symbol.for("vuetify:v-expansion-panel"),allowedVariants=["default","accordion","inset","popout"],VExpansionPanels=defineComponent({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:t=>allowedVariants.includes(t)},readonly:Boolean,...makeGroupProps(),...makeTagProps(),...makeThemeProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;useGroup(t,VExpansionPanelSymbol);const{themeClasses:r}=provideTheme(t),o=computed(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return provideDefaults({VExpansionPanel:{color:toRef(t,"color")},VExpansionPanelTitle:{readonly:toRef(t,"readonly")}}),useRender(()=>createVNode(t.tag,{class:["v-expansion-panels",r.value,o.value]},n)),{}}}),makeVExpansionPanelTitleProps=propsFactory({color:String,expandIcon:{type:IconValue,default:"$expand"},collapseIcon:{type:IconValue,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),VExpansionPanelTitle=defineComponent({name:"VExpansionPanelTitle",directives:{Ripple},props:{...makeVExpansionPanelTitleProps()},setup(t,e){let{slots:n}=e;const r=inject$1(VExpansionPanelSymbol);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(t,"color"),l=computed(()=>({collapseIcon:t.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly}));return useRender(()=>{var u;return withDirectives(createVNode("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value},o.value],style:s.value,type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:t.readonly?void 0:r.toggle},[createVNode("span",{class:"v-expansion-panel-title__overlay"},null),(u=n.default)==null?void 0:u.call(n,l.value),!t.hideActions&&createVNode("span",{class:"v-expansion-panel-title__icon"},[n.actions?n.actions(l.value):createVNode(VIcon,{icon:r.isSelected.value?t.collapseIcon:t.expandIcon},null)])]),[[resolveDirective("ripple"),t.ripple]])}),{}}}),VExpansionPanelText=defineComponent({name:"VExpansionPanelText",props:{...makeLazyProps()},setup(t,e){let{slots:n}=e;const r=inject$1(VExpansionPanelSymbol);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:o,onAfterLeave:s}=useLazy(t,r.isSelected);return useRender(()=>{var l;return createVNode(VExpandTransition,{onAfterLeave:s},{default:()=>[withDirectives(createVNode("div",{class:"v-expansion-panel-text"},[n.default&&o.value&&createVNode("div",{class:"v-expansion-panel-text__wrapper"},[(l=n.default)==null?void 0:l.call(n)])]),[[vShow,r.isSelected.value]])]})}),{}}}),VExpansionPanel=defineComponent({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...makeElevationProps(),...makeGroupItemProps(),...makeLazyProps(),...makeRoundedProps(),...makeTagProps(),...makeVExpansionPanelTitleProps()},emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const r=useGroupItem(t,VExpansionPanelSymbol),{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(t,"bgColor"),{elevationClasses:l}=useElevation(t),{roundedClasses:u}=useRounded(t),d=computed(()=>(r==null?void 0:r.disabled.value)||t.disabled),f=computed(()=>r.group.items.value.reduce((_,b,C)=>(r.group.selected.value.includes(b.id)&&_.push(C),_),[])),g=computed(()=>{const _=r.group.items.value.findIndex(b=>b.id===r.id);return!r.isSelected.value&&f.value.some(b=>b-_===1)}),v=computed(()=>{const _=r.group.items.value.findIndex(b=>b.id===r.id);return!r.isSelected.value&&f.value.some(b=>b-_===-1)});return provide(VExpansionPanelSymbol,r),useRender(()=>{var _;const b=!!(n.text||t.text),C=!!(n.title||t.title);return createVNode(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":g.value,"v-expansion-panel--after-active":v.value,"v-expansion-panel--disabled":d.value},u.value,o.value],style:s.value,"aria-expanded":r.isSelected.value},{default:()=>[createVNode("div",{class:["v-expansion-panel__shadow",...l.value]},null),C&&createVNode(VExpansionPanelTitle,{key:"title",collapseIcon:t.collapseIcon,color:t.color,expandIcon:t.expandIcon,hideActions:t.hideActions,ripple:t.ripple},{default:()=>[n.title?n.title():t.title]}),b&&createVNode(VExpansionPanelText,{key:"text",eager:t.eager},{default:()=>[n.text?n.text():t.text]}),(_=n.default)==null?void 0:_.call(n)]})}),{}}}),md=new markdownIt({html:!0,typographer:!0,breaks:!0}),_sfc_main$1={data:()=>({search:null}),computed:{...mapState(useStore,["keywords"]),filteredResults(){return(this.search?this.keywords.filter(({keyword:e})=>e.toLowerCase().includes(this.search.toLowerCase())):this.keywords).map(e=>({...e,title:md.render(e.keyword),text:md.render(e.rule.replace(/\n/,"<br /><br />"))}))}}},_hoisted_1={style:{height:"75vh","overflow-y":"scroll"}},_hoisted_2=["innerHTML"];function _sfc_render$1(t,e,n,r,o,s){return openBlock(),createElementBlock(Fragment,null,[createVNode(VToolbar,{color:"grey"},{default:withCtx(()=>[createVNode(VBtn,{to:"/dashboard",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(" mdi-arrow-left-circle ")]),_:1})]),_:1}),createVNode(VTextField,{class:"mt-5",label:"Search",clearable:"",modelValue:t.search,"onUpdate:modelValue":e[0]||(e[0]=l=>t.search=l),onKeydown:e[1]||(e[1]=withKeys(l=>t.search=null,["esc"]))},null,8,["modelValue"])]),_:1}),createVNode(VExpansionPanels,{variant:"inset"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.filteredResults,l=>(openBlock(),createBlock(VExpansionPanel,null,{default:withCtx(()=>[createVNode(VExpansionPanelTitle,{innerHTML:l.title},null,8,["innerHTML"]),createVNode(VExpansionPanelText,null,{default:withCtx(()=>[createBaseVNode("div",{innerHTML:l.text},null,8,_hoisted_2)]),_:2},1024)]),_:2},1024))),256))])]),_:1})],64)}const Keywords=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main={};function _sfc_render(t,e){return openBlock(),createElementBlock("h1",null,"Oops, it looks like the page you're looking for doesn't exist.")}const NotFound=_export_sfc(_sfc_main,[["render",_sfc_render]]),routes=[{path:"/",name:"Home",component:Home},{path:"/dashboard",name:"Dashboard",component:Dashboard,meta:{requireAuth:!0}},{path:"/settings/:section*",name:"Settings",component:Settings,meta:{requireAuth:!0},props:!0},{path:"/keywords",name:"Keywords",component:Keywords},{path:"/:catchAll(.*)",component:NotFound}],router=createRouter({history:createWebHistory(),routes});router.beforeEach((t,e,n)=>{const o=useStore().user||{isAnonymous:!0},s=!o.isAnonymous;if(console.log({user:o,valid:s,requireAuth:t.meta.requireAuth}),s||!t.meta.requireAuth){n("/");return}n()});const app=createApp(App),pinia=createPinia();app.use(pinia);app.use(router);registerPlugins(app);app.mount("#app");
