(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function makeMap(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE$1=/^on[^a-z]/,isOn$1=e=>onRE$1.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$3=e=>e!==null&&typeof e=="object",isPromise=e=>isObject$3(e)&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$1=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},def=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString$1(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=isString$1(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(isString$1(e))return e;if(isObject$3(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$1(e))t=e;else if(isArray$1(e))for(let n=0;n<e.length;n++){const r=normalizeClass(e[n]);r&&(t+=r+" ")}else if(isObject$3(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function normalizeProps(e){if(!e)return null;let{class:t,style:n}=e;return t&&!isString$1(t)&&(e.class=normalizeClass(t)),n&&(e.style=normalizeStyle(n)),e}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$1(e)||isObject$3(e)&&(e.toString===objectToString||!isFunction$1(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$3(t)&&!isArray$1(t)&&!isPlainObject$1(t)?String(t):t;let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope&&activeEffectScope.cleanups.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];wasTracked(o)&&!newTracked(o)?o.delete(e):t[n++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}t.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,r)}run(){if(!this.active)return this.fn();let t=activeEffect,n=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,n){if(shouldTrack&&activeEffect){let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=createDep()),trackEffects(o)}}function trackEffects(e,t){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,n=!wasTracked(e)):n=!e.has(activeEffect),n&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,n,r,o,s){const a=targetMap.get(e);if(!a)return;let c=[];if(t==="clear")c=[...a.values()];else if(n==="length"&&isArray$1(e)){const d=Number(r);a.forEach((f,m)=>{(m==="length"||m>=d)&&c.push(f)})}else switch(n!==void 0&&c.push(a.get(n)),t){case"add":isArray$1(e)?isIntegerKey(n)&&c.push(a.get("length")):(c.push(a.get(ITERATE_KEY)),isMap(e)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(c.push(a.get(ITERATE_KEY)),isMap(e)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&c.push(a.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const d=[];for(const f of c)f&&d.push(...f);triggerEffects(createDep(d))}}function triggerEffects(e,t){const n=isArray$1(e)?e:[...e];for(const r of n)r.computed&&triggerEffect(r);for(const r of n)r.computed||triggerEffect(r)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function getDepFromReactive(e,t){var n;return(n=targetMap.get(e))==null?void 0:n.get(t)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=toRaw(this);for(let s=0,a=this.length;s<a;s++)track(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){pauseTracking();const r=toRaw(this)[t].apply(this,n);return resetTracking(),r}}),e}function hasOwnProperty(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}function createGetter(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(r))return r;const a=isArray$1(r);if(!e){if(a&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,s);if(o==="hasOwnProperty")return hasOwnProperty}const c=Reflect.get(r,o,s);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(e||track(r,"get",o),t)?c:isRef(c)?a&&isIntegerKey(o)?c:c.value:isObject$3(c)?e?readonly(c):reactive(c):c}}const set$1$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(n,r,o,s){let a=n[r];if(isReadonly(a)&&isRef(a)&&!isRef(o))return!1;if(!e&&(!isShallow(o)&&!isReadonly(o)&&(a=toRaw(a),o=toRaw(o)),!isArray$1(n)&&isRef(a)&&!isRef(o)))return a.value=o,!0;const c=isArray$1(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn(n,r),d=Reflect.set(n,r,o,s);return n===toRaw(s)&&(c?hasChanged(o,a)&&trigger(n,"set",r,o):trigger(n,"add",r,o)),d}}function deleteProperty(e,t){const n=hasOwn(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&trigger(e,"delete",t,void 0),r}function has$1$1(e,t){const n=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),n}function ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1$1,deleteProperty,has:has$1$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$2(e,t,n=!1,r=!1){e=e.__v_raw;const o=toRaw(e),s=toRaw(t);n||(t!==s&&track(o,"get",t),track(o,"get",s));const{has:a}=getProto(o),c=r?toShallow:n?toReadonly:toReactive;if(a.call(o,t))return c(e.get(t));if(a.call(o,s))return c(e.get(s));e!==o&&e.get(t)}function has$2(e,t=!1){const n=this.__v_raw,r=toRaw(n),o=toRaw(e);return t||(e!==o&&track(r,"has",e),track(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$2(e,t){t=toRaw(t);const n=toRaw(this),{has:r,get:o}=getProto(n);let s=r.call(n,e);s||(e=toRaw(e),s=r.call(n,e));const a=o.call(n,e);return n.set(e,t),s?hasChanged(t,a)&&trigger(n,"set",e,t):trigger(n,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:n,get:r}=getProto(t);let o=n.call(t,e);o||(e=toRaw(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&trigger(t,"delete",e,void 0),s}function clear(){const e=toRaw(this),t=e.size!==0,n=e.clear();return t&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,t){return function(r,o){const s=this,a=s.__v_raw,c=toRaw(a),d=t?toShallow:e?toReadonly:toReactive;return!e&&track(c,"iterate",ITERATE_KEY),a.forEach((f,m)=>r.call(o,d(f),d(m),s))}}function createIterableMethod(e,t,n){return function(...r){const o=this.__v_raw,s=toRaw(o),a=isMap(s),c=e==="entries"||e===Symbol.iterator&&a,d=e==="keys"&&a,f=o[e](...r),m=n?toShallow:t?toReadonly:toReactive;return!t&&track(s,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:v,done:_}=f.next();return _?{value:v,done:_}:{value:c?[m(v[0]),m(v[1])]:m(v),done:_}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(s){return get$2(this,s)},get size(){return size(this)},has:has$2,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(s){return get$2(this,s,!1,!0)},get size(){return size(this)},has:has$2,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(s){return get$2(this,s,!0)},get size(){return size(this,!0)},has(s){return has$2.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},r={get(s){return get$2(this,s,!0,!0)},get size(){return size(this,!0)},has(s){return has$2.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=createIterableMethod(s,!1,!1),n[s]=createIterableMethod(s,!0,!1),t[s]=createIterableMethod(s,!1,!0),r[s]=createIterableMethod(s,!0,!0)}),[e,n,t,r]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const n=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(hasOwn(n,o)&&o in r?n:r,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,n,r,o){if(!isObject$3(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=getTargetType(e);if(a===0)return e;const c=new Proxy(e,a===2?r:n);return o.set(e,c),c}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$3(e)?reactive(e):e,toReadonly=e=>isObject$3(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e);const n=e.dep;n&&triggerEffects(n)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref$1(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const n=this.__v_isShallow||isShallow(t)||isReadonly(t);t=n?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:toReactive(t),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>unref(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return isRef(o)&&!isRef(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const t=isArray$1(e)?new Array(e.length):{};for(const n in e)t[n]=propertyToRef(e,n);return t}class ObjectRefImpl{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(e,t,n){return isRef(e)?e:isFunction$1(e)?new GetterRefImpl(e):isObject$3(e)&&arguments.length>1?propertyToRef(e,t,n):ref$1(e)}function propertyToRef(e,t,n){const r=e[t];return isRef(r)?r:new ObjectRefImpl(e,t,n)}class ComputedRefImpl{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function computed$1(e,t,n=!1){let r,o;const s=isFunction$1(e);return s?(r=e,o=NOOP):(r=e.get,o=e.set),new ComputedRefImpl(r,o,s||!o,n)}function warn$1(e,...t){}function callWithErrorHandling(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){handleError(s,t,n)}return o}function callWithAsyncErrorHandling(e,t,n,r){if(isFunction$1(e)){const s=callWithErrorHandling(e,t,n,r);return s&&isPromise(s)&&s.catch(a=>{handleError(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(callWithAsyncErrorHandling(e[s],t,n,r));return o}function handleError(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,c=n;for(;s;){const f=s.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](e,a,c)===!1)return}s=s.parent}const d=t.appContext.config.errorHandler;if(d){callWithErrorHandling(d,null,10,[e,a,c]);return}}logError(e,n,o,r)}function logError(e,t,n,r=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const r=t+n>>>1;getId(queue[r])<e?t=r+1:n=r}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const n=queue[t];n&&n.pre&&(queue.splice(t,1),t--,n())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((n,r)=>getId(n)-getId(r)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const n=getId(e)-getId(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||EMPTY_OBJ;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const m=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:_}=r[m]||EMPTY_OBJ;_&&(o=n.map(y=>isString$1(y)?y.trim():y)),v&&(o=n.map(looseToNumber))}let c,d=r[c=toHandlerKey(t)]||r[c=toHandlerKey(camelize(t))];!d&&s&&(d=r[c=toHandlerKey(hyphenate(t))]),d&&callWithAsyncErrorHandling(d,e,6,o);const f=r[c+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,callWithAsyncErrorHandling(f,e,6,o)}}function normalizeEmitsOptions(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let a={},c=!1;if(!isFunction$1(e)){const d=f=>{const m=normalizeEmitsOptions(f,t,!0);m&&(c=!0,extend(a,m))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!s&&!c?(isObject$3(e)&&r.set(e,null),null):(isArray$1(s)?s.forEach(d=>a[d]=null):extend(a,s),isObject$3(e)&&r.set(e,a),a)}function isEmitListener(e,t){return!e||!isOn$1(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(t);let a;try{a=e(...o)}finally{setCurrentRenderingInstance(s),r._d&&setBlockTracking(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[a],slots:c,attrs:d,emit:f,render:m,renderCache:v,data:_,setupState:y,ctx:C,inheritAttrs:S}=e;let I,T;const E=setCurrentRenderingInstance(e);try{if(n.shapeFlag&4){const P=o||r;I=normalizeVNode(m.call(P,P,v,s,y,_,C)),T=d}else{const P=t;I=normalizeVNode(P.length>1?P(s,{attrs:d,slots:c,emit:f}):P(s,null)),T=t.props?d:getFunctionalFallthrough(d)}}catch(P){blockStack.length=0,handleError(P,e,1),I=createVNode(Comment)}let x=I;if(T&&S!==!1){const P=Object.keys(T),{shapeFlag:V}=x;P.length&&V&7&&(a&&P.some(isModelListener)&&(T=filterModelListeners(T,a)),x=cloneVNode(x,T))}return n.dirs&&(x=cloneVNode(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),I=x,setCurrentRenderingInstance(E),I}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn$1(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const r in e)(!isModelListener(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function shouldUpdateComponent(e,t,n){const{props:r,children:o,component:s}=e,{props:a,children:c,patchFlag:d}=t,f=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return r?hasPropsChanged(r,a,f):!!a;if(d&8){const m=t.dynamicProps;for(let v=0;v<m.length;v++){const _=m[v];if(a[_]!==r[_]&&!isEmitListener(f,_))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?hasPropsChanged(r,a,f):!0:!!a;return!1}function hasPropsChanged(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!isEmitListener(n,s))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function watchEffect(e,t){return doWatch(e,null,t)}const INITIAL_WATCHER_VALUE={};function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:a}=EMPTY_OBJ){var c;const d=getCurrentScope()===((c=currentInstance)==null?void 0:c.scope)?currentInstance:null;let f,m=!1,v=!1;if(isRef(e)?(f=()=>e.value,m=isShallow(e)):isReactive(e)?(f=()=>e,r=!0):isArray$1(e)?(v=!0,m=e.some(P=>isReactive(P)||isShallow(P)),f=()=>e.map(P=>{if(isRef(P))return P.value;if(isReactive(P))return traverse(P);if(isFunction$1(P))return callWithErrorHandling(P,d,2)})):isFunction$1(e)?t?f=()=>callWithErrorHandling(e,d,2):f=()=>{if(!(d&&d.isUnmounted))return _&&_(),callWithAsyncErrorHandling(e,d,3,[y])}:f=NOOP,t&&r){const P=f;f=()=>traverse(P())}let _,y=P=>{_=E.onStop=()=>{callWithErrorHandling(P,d,4)}},C;if(isInSSRComponentSetup)if(y=NOOP,t?n&&callWithAsyncErrorHandling(t,d,3,[f(),v?[]:void 0,y]):f(),o==="sync"){const P=useSSRContext();C=P.__watcherHandles||(P.__watcherHandles=[])}else return NOOP;let S=v?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const I=()=>{if(!!E.active)if(t){const P=E.run();(r||m||(v?P.some((V,R)=>hasChanged(V,S[R])):hasChanged(P,S)))&&(_&&_(),callWithAsyncErrorHandling(t,d,3,[P,S===INITIAL_WATCHER_VALUE?void 0:v&&S[0]===INITIAL_WATCHER_VALUE?[]:S,y]),S=P)}else E.run()};I.allowRecurse=!!t;let T;o==="sync"?T=I:o==="post"?T=()=>queuePostRenderEffect(I,d&&d.suspense):(I.pre=!0,d&&(I.id=d.uid),T=()=>queueJob(I));const E=new ReactiveEffect(f,T);t?n?I():S=E.run():o==="post"?queuePostRenderEffect(E.run.bind(E),d&&d.suspense):E.run();const x=()=>{E.stop(),d&&d.scope&&remove(d.scope.effects,E)};return C&&C.push(x),x}function instanceWatch(e,t,n){const r=this.proxy,o=isString$1(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let s;isFunction$1(t)?s=t:(s=t.handler,n=t);const a=currentInstance;setCurrentInstance(this);const c=doWatch(o,s.bind(r),n);return a?setCurrentInstance(a):unsetCurrentInstance(),c}function createPathGetter(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function traverse(e,t){if(!isObject$3(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$1(e))for(let n=0;n<e.length;n++)traverse(e[n],t);else if(isSet(e)||isMap(e))e.forEach(n=>{traverse(n,t)});else if(isPlainObject$1(e))for(const n in e)traverse(e[n],t);return e}function withDirectives(e,t){const n=currentRenderingInstance;if(n===null)return e;const r=getExposeProxy(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,c,d,f=EMPTY_OBJ]=t[s];a&&(isFunction$1(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(c),o.push({dir:a,instance:r,value:c,oldValue:void 0,arg:d,modifiers:f}))}return e}function invokeDirectiveHook(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const c=o[a];s&&(c.oldValue=s[a].value);let d=c.dir[r];d&&(pauseTracking(),callWithAsyncErrorHandling(d,n,8,[e.el,c,e,t]),resetTracking())}}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(e,{slots:t}){const n=getCurrentInstance$1(),r=useTransitionState();let o;return()=>{const s=t.default&&getTransitionRawChildren(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const S of s)if(S.type!==Comment){a=S;break}}const c=toRaw(e),{mode:d}=c;if(r.isLeaving)return emptyPlaceholder(a);const f=getKeepAliveChild(a);if(!f)return emptyPlaceholder(a);const m=resolveTransitionHooks(f,c,r,n);setTransitionHooks(f,m);const v=n.subTree,_=v&&getKeepAliveChild(v);let y=!1;const{getTransitionKey:C}=f.type;if(C){const S=C();o===void 0?o=S:S!==o&&(o=S,y=!0)}if(_&&_.type!==Comment&&(!isSameVNodeType(f,_)||y)){const S=resolveTransitionHooks(_,c,r,n);if(setTransitionHooks(_,S),d==="out-in")return r.isLeaving=!0,S.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},emptyPlaceholder(a);d==="in-out"&&f.type!==Comment&&(S.delayLeave=(I,T,E)=>{const x=getLeavingNodesForType(r,_);x[String(_.key)]=_,I._leaveCb=()=>{T(),I._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=E})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function resolveTransitionHooks(e,t,n,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:f,onEnterCancelled:m,onBeforeLeave:v,onLeave:_,onAfterLeave:y,onLeaveCancelled:C,onBeforeAppear:S,onAppear:I,onAfterAppear:T,onAppearCancelled:E}=t,x=String(e.key),P=getLeavingNodesForType(n,e),V=(D,B)=>{D&&callWithAsyncErrorHandling(D,r,9,B)},R=(D,B)=>{const U=B[1];V(D,B),isArray$1(D)?D.every(j=>j.length<=1)&&U():D.length<=1&&U()},M={mode:s,persisted:a,beforeEnter(D){let B=c;if(!n.isMounted)if(o)B=S||c;else return;D._leaveCb&&D._leaveCb(!0);const U=P[x];U&&isSameVNodeType(e,U)&&U.el._leaveCb&&U.el._leaveCb(),V(B,[D])},enter(D){let B=d,U=f,j=m;if(!n.isMounted)if(o)B=I||d,U=T||f,j=E||m;else return;let z=!1;const W=D._enterCb=$=>{z||(z=!0,$?V(j,[D]):V(U,[D]),M.delayedLeave&&M.delayedLeave(),D._enterCb=void 0)};B?R(B,[D,W]):W()},leave(D,B){const U=String(e.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return B();V(v,[D]);let j=!1;const z=D._leaveCb=W=>{j||(j=!0,B(),W?V(C,[D]):V(y,[D]),D._leaveCb=void 0,P[U]===e&&delete P[U])};P[U]=e,_?R(_,[D,z]):z()},clone(D){return resolveTransitionHooks(D,t,n,r)}};return M}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const c=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Fragment?(a.patchFlag&128&&o++,r=r.concat(getTransitionRawChildren(a.children,t,c))):(t||a.type!==Comment)&&r.push(c!=null?cloneVNode(a,{key:c}):a)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function defineComponent$1(e,t){return isFunction$1(e)?(()=>extend({name:e.name},t,{setup:e}))():e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(injectHook(t,r,n),n){let o=n.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(r,t,n,o),o=o.parent}}function injectToKeepAliveRoot(e,t,n,r){const o=injectHook(t,e,r,!0);onUnmounted(()=>{remove(r[t],o)},n)}function injectHook(e,t,n=currentInstance,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const c=callWithAsyncErrorHandling(t,n,e,a);return unsetCurrentInstance(),resetTracking(),c});return r?o.unshift(s):o.push(s),s}}const createHook=e=>(t,n=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...r)=>t(...r),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(e){return isString$1(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,t,n=!0,r=!1){const o=currentRenderingInstance||currentInstance;if(o){const s=o.type;if(e===COMPONENTS){const c=getComponentName(s,!1);if(c&&(c===t||c===camelize(t)||c===capitalize(camelize(t))))return s}const a=resolve(o[e]||s[e],t)||resolve(o.appContext[e],t);return!a&&r?s:a}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}function renderList(e,t,n,r){let o;const s=n&&n[r];if(isArray$1(e)||isString$1(e)){o=new Array(e.length);for(let a=0,c=e.length;a<c;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(isObject$3(e))if(e[Symbol.iterator])o=Array.from(e,(a,c)=>t(a,c,void 0,s&&s[c]));else{const a=Object.keys(e);o=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const f=a[c];o[c]=t(e[f],f,c,s&&s[c])}}else o=[];return n&&(n[r]=o),o}function createSlots(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(isArray$1(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const s=r.fn(...o);return s&&(s.key=r.key),s}:r.fn)}return e}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:c,appContext:d}=e;let f;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(hasSetupBinding(r,t))return a[t]=1,r[t];if(o!==EMPTY_OBJ&&hasOwn(o,t))return a[t]=2,o[t];if((f=e.propsOptions[0])&&hasOwn(f,t))return a[t]=3,s[t];if(n!==EMPTY_OBJ&&hasOwn(n,t))return a[t]=4,n[t];shouldCacheAccess&&(a[t]=0)}}const m=publicPropertiesMap[t];let v,_;if(m)return t==="$attrs"&&track(e,"get",t),m(e);if((v=c.__cssModules)&&(v=v[t]))return v;if(n!==EMPTY_OBJ&&hasOwn(n,t))return a[t]=4,n[t];if(_=d.config.globalProperties,hasOwn(_,t))return _[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return hasSetupBinding(o,t)?(o[t]=n,!0):r!==EMPTY_OBJ&&hasOwn(r,t)?(r[t]=n,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let c;return!!n[a]||e!==EMPTY_OBJ&&hasOwn(e,a)||hasSetupBinding(t,a)||(c=s[0])&&hasOwn(c,a)||hasOwn(r,a)||hasOwn(publicPropertiesMap,a)||hasOwn(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function normalizePropsOrEmits(e){return isArray$1(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,r=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:c,provide:d,inject:f,created:m,beforeMount:v,mounted:_,beforeUpdate:y,updated:C,activated:S,deactivated:I,beforeDestroy:T,beforeUnmount:E,destroyed:x,unmounted:P,render:V,renderTracked:R,renderTriggered:M,errorCaptured:D,serverPrefetch:B,expose:U,inheritAttrs:j,components:z,directives:W,filters:$}=t;if(f&&resolveInjections(f,r,null),a)for(const ue in a){const K=a[ue];isFunction$1(K)&&(r[ue]=K.bind(n))}if(o){const ue=o.call(n,n);isObject$3(ue)&&(e.data=reactive(ue))}if(shouldCacheAccess=!0,s)for(const ue in s){const K=s[ue],pe=isFunction$1(K)?K.bind(n,n):isFunction$1(K.get)?K.get.bind(n,n):NOOP,de=!isFunction$1(K)&&isFunction$1(K.set)?K.set.bind(n):NOOP,me=computed({get:pe,set:de});Object.defineProperty(r,ue,{enumerable:!0,configurable:!0,get:()=>me.value,set:Ee=>me.value=Ee})}if(c)for(const ue in c)createWatcher(c[ue],r,n,ue);if(d){const ue=isFunction$1(d)?d.call(n):d;Reflect.ownKeys(ue).forEach(K=>{provide(K,ue[K])})}m&&callHook$1(m,e,"c");function X(ue,K){isArray$1(K)?K.forEach(pe=>ue(pe.bind(n))):K&&ue(K.bind(n))}if(X(onBeforeMount,v),X(onMounted,_),X(onBeforeUpdate,y),X(onUpdated,C),X(onActivated,S),X(onDeactivated,I),X(onErrorCaptured,D),X(onRenderTracked,R),X(onRenderTriggered,M),X(onBeforeUnmount,E),X(onUnmounted,P),X(onServerPrefetch,B),isArray$1(U))if(U.length){const ue=e.exposed||(e.exposed={});U.forEach(K=>{Object.defineProperty(ue,K,{get:()=>n[K],set:pe=>n[K]=pe})})}else e.exposed||(e.exposed={});V&&e.render===NOOP&&(e.render=V),j!=null&&(e.inheritAttrs=j),z&&(e.components=z),W&&(e.directives=W)}function resolveInjections(e,t,n=NOOP){isArray$1(e)&&(e=normalizeInject(e));for(const r in e){const o=e[r];let s;isObject$3(o)?"default"in o?s=inject$1(o.from||r,o.default,!0):s=inject$1(o.from||r):s=inject$1(o),isRef(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[r]=s}}function callHook$1(e,t,n){callWithAsyncErrorHandling(isArray$1(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,r){const o=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString$1(e)){const s=t[e];isFunction$1(s)&&watch(o,s)}else if(isFunction$1(e))watch(o,e.bind(n));else if(isObject$3(e))if(isArray$1(e))e.forEach(s=>createWatcher(s,t,n,r));else{const s=isFunction$1(e.handler)?e.handler.bind(n):t[e.handler];isFunction$1(s)&&watch(o,s,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,c=s.get(t);let d;return c?d=c:!o.length&&!n&&!r?d=t:(d={},o.length&&o.forEach(f=>mergeOptions$1(d,f,a,!0)),mergeOptions$1(d,t,a)),isObject$3(t)&&s.set(t,d),d}function mergeOptions$1(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&mergeOptions$1(e,s,n,!0),o&&o.forEach(a=>mergeOptions$1(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const c=internalOptionMergeStrats[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction$1(e)?e.call(this,this):e,isFunction$1(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray$1(e)&&isArray$1(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t!=null?t:{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend(Object.create(null),e);for(const r in t)n[r]=mergeAsArray(e[r],t[r]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(r,o=null){isFunction$1(r)||(r=extend({},r)),o!=null&&!isObject$3(o)&&(o=null);const s=createAppContext(),a=new Set;let c=!1;const d=s.app={_uid:uid$1++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:version$5,get config(){return s.config},set config(f){},use(f,...m){return a.has(f)||(f&&isFunction$1(f.install)?(a.add(f),f.install(d,...m)):isFunction$1(f)&&(a.add(f),f(d,...m))),d},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),d},component(f,m){return m?(s.components[f]=m,d):s.components[f]},directive(f,m){return m?(s.directives[f]=m,d):s.directives[f]},mount(f,m,v){if(!c){const _=createVNode(r,o);return _.appContext=s,m&&t?t(_,f):e(_,f,v),c=!0,d._container=f,f.__vue_app__=d,getExposeProxy(_.component)||_.component.proxy}},unmount(){c&&(e(null,d._container),delete d._container.__vue_app__)},provide(f,m){return s.provides[f]=m,d},runWithContext(f){currentApp=d;try{return f()}finally{currentApp=null}}};return d}}let currentApp=null;function provide(e,t){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[e]=t}}function inject$1(e,t,n=!1){const r=currentInstance||currentRenderingInstance;if(r||currentApp){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:currentApp._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&isFunction$1(t)?t.call(r&&r.proxy):t}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps(e,t,n,r=!1){const o={},s={};def(s,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:shallowReactive(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function updateProps(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,c=toRaw(o),[d]=e.propsOptions;let f=!1;if((r||a>0)&&!(a&16)){if(a&8){const m=e.vnode.dynamicProps;for(let v=0;v<m.length;v++){let _=m[v];if(isEmitListener(e.emitsOptions,_))continue;const y=t[_];if(d)if(hasOwn(s,_))y!==s[_]&&(s[_]=y,f=!0);else{const C=camelize(_);o[C]=resolvePropValue(d,c,C,y,e,!1)}else y!==s[_]&&(s[_]=y,f=!0)}}}else{setFullProps(e,t,o,s)&&(f=!0);let m;for(const v in c)(!t||!hasOwn(t,v)&&((m=hyphenate(v))===v||!hasOwn(t,m)))&&(d?n&&(n[v]!==void 0||n[m]!==void 0)&&(o[v]=resolvePropValue(d,c,v,void 0,e,!0)):delete o[v]);if(s!==c)for(const v in s)(!t||!hasOwn(t,v)&&!0)&&(delete s[v],f=!0)}f&&trigger(e,"set","$attrs")}function setFullProps(e,t,n,r){const[o,s]=e.propsOptions;let a=!1,c;if(t)for(let d in t){if(isReservedProp(d))continue;const f=t[d];let m;o&&hasOwn(o,m=camelize(d))?!s||!s.includes(m)?n[m]=f:(c||(c={}))[m]=f:isEmitListener(e.emitsOptions,d)||(!(d in r)||f!==r[d])&&(r[d]=f,a=!0)}if(s){const d=toRaw(n),f=c||EMPTY_OBJ;for(let m=0;m<s.length;m++){const v=s[m];n[v]=resolvePropValue(o,d,v,f[v],e,!hasOwn(f,v))}}return a}function resolvePropValue(e,t,n,r,o,s){const a=e[n];if(a!=null){const c=hasOwn(a,"default");if(c&&r===void 0){const d=a.default;if(a.type!==Function&&!a.skipFactory&&isFunction$1(d)){const{propsDefaults:f}=o;n in f?r=f[n]:(setCurrentInstance(o),r=f[n]=d.call(null,t),unsetCurrentInstance())}else r=d}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===hyphenate(n))&&(r=!0))}return r}function normalizePropsOptions(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,a={},c=[];let d=!1;if(!isFunction$1(e)){const m=v=>{d=!0;const[_,y]=normalizePropsOptions(v,t,!0);extend(a,_),y&&c.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!s&&!d)return isObject$3(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(s))for(let m=0;m<s.length;m++){const v=camelize(s[m]);validatePropName(v)&&(a[v]=EMPTY_OBJ)}else if(s)for(const m in s){const v=camelize(m);if(validatePropName(v)){const _=s[m],y=a[v]=isArray$1(_)||isFunction$1(_)?{type:_}:extend({},_);if(y){const C=getTypeIndex(Boolean,y.type),S=getTypeIndex(String,y.type);y[0]=C>-1,y[1]=S<0||C<S,(C>-1||hasOwn(y,"default"))&&c.push(v)}}}const f=[a,c];return isObject$3(e)&&r.set(e,f),f}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$1(t)?t.findIndex(n=>isSameType(n,e)):isFunction$1(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,t,n)=>{if(t._n)return t;const r=withCtx((...o)=>normalizeSlotValue(t(...o)),n);return r._c=!1,r},normalizeObjectSlots=(e,t,n)=>{const r=e._ctx;for(const o in e){if(isInternalKey(o))continue;const s=e[o];if(isFunction$1(s))t[o]=normalizeSlot$1(o,s,r);else if(s!=null){const a=normalizeSlotValue(s);t[o]=()=>a}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=toRaw(t),def(t,"_",n)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=EMPTY_OBJ;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(extend(o,t),!n&&c===1&&delete o._):(s=!t.$stable,normalizeObjectSlots(t,o)),a=t}else t&&(normalizeVNodeSlots(e,t),a={default:1});if(s)for(const c in o)!isInternalKey(c)&&!(c in a)&&delete o[c]};function setRef(e,t,n,r,o=!1){if(isArray$1(e)){e.forEach((_,y)=>setRef(_,t&&(isArray$1(t)?t[y]:t),n,r,o));return}if(isAsyncWrapper(r)&&!o)return;const s=r.shapeFlag&4?getExposeProxy(r.component)||r.component.proxy:r.el,a=o?null:s,{i:c,r:d}=e,f=t&&t.r,m=c.refs===EMPTY_OBJ?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==d&&(isString$1(f)?(m[f]=null,hasOwn(v,f)&&(v[f]=null)):isRef(f)&&(f.value=null)),isFunction$1(d))callWithErrorHandling(d,c,12,[a,m]);else{const _=isString$1(d),y=isRef(d);if(_||y){const C=()=>{if(e.f){const S=_?hasOwn(v,d)?v[d]:m[d]:d.value;o?isArray$1(S)&&remove(S,s):isArray$1(S)?S.includes(s)||S.push(s):_?(m[d]=[s],hasOwn(v,d)&&(v[d]=m[d])):(d.value=[s],e.k&&(m[e.k]=d.value))}else _?(m[d]=a,hasOwn(v,d)&&(v[d]=a)):y&&(d.value=a,e.k&&(m[e.k]=a))};a?(C.id=-1,queuePostRenderEffect(C,n)):C()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:c,createComment:d,setText:f,setElementText:m,parentNode:v,nextSibling:_,setScopeId:y=NOOP,insertStaticContent:C}=e,S=(N,L,H,J=null,ae=null,ce=null,we=!1,ve=null,ye=!!L.dynamicChildren)=>{if(N===L)return;N&&!isSameVNodeType(N,L)&&(J=Y(N),Ee(N,ae,ce,!0),N=null),L.patchFlag===-2&&(ye=!1,L.dynamicChildren=null);const{type:fe,ref:xe,shapeFlag:ke}=L;switch(fe){case Text:I(N,L,H,J);break;case Comment:T(N,L,H,J);break;case Static:N==null&&E(L,H,J,we);break;case Fragment:z(N,L,H,J,ae,ce,we,ve,ye);break;default:ke&1?V(N,L,H,J,ae,ce,we,ve,ye):ke&6?W(N,L,H,J,ae,ce,we,ve,ye):(ke&64||ke&128)&&fe.process(N,L,H,J,ae,ce,we,ve,ye,_e)}xe!=null&&ae&&setRef(xe,N&&N.ref,ce,L||N,!L)},I=(N,L,H,J)=>{if(N==null)r(L.el=c(L.children),H,J);else{const ae=L.el=N.el;L.children!==N.children&&f(ae,L.children)}},T=(N,L,H,J)=>{N==null?r(L.el=d(L.children||""),H,J):L.el=N.el},E=(N,L,H,J)=>{[N.el,N.anchor]=C(N.children,L,H,J,N.el,N.anchor)},x=({el:N,anchor:L},H,J)=>{let ae;for(;N&&N!==L;)ae=_(N),r(N,H,J),N=ae;r(L,H,J)},P=({el:N,anchor:L})=>{let H;for(;N&&N!==L;)H=_(N),o(N),N=H;o(L)},V=(N,L,H,J,ae,ce,we,ve,ye)=>{we=we||L.type==="svg",N==null?R(L,H,J,ae,ce,we,ve,ye):B(N,L,ae,ce,we,ve,ye)},R=(N,L,H,J,ae,ce,we,ve)=>{let ye,fe;const{type:xe,props:ke,shapeFlag:Ae,transition:Ne,dirs:qe}=N;if(ye=N.el=a(N.type,ce,ke&&ke.is,ke),Ae&8?m(ye,N.children):Ae&16&&D(N.children,ye,null,J,ae,ce&&xe!=="foreignObject",we,ve),qe&&invokeDirectiveHook(N,null,J,"created"),M(ye,N,N.scopeId,we,J),ke){for(const ze in ke)ze!=="value"&&!isReservedProp(ze)&&s(ye,ze,null,ke[ze],ce,N.children,J,ae,ie);"value"in ke&&s(ye,"value",null,ke.value),(fe=ke.onVnodeBeforeMount)&&invokeVNodeHook(fe,J,N)}qe&&invokeDirectiveHook(N,null,J,"beforeMount");const Ke=(!ae||ae&&!ae.pendingBranch)&&Ne&&!Ne.persisted;Ke&&Ne.beforeEnter(ye),r(ye,L,H),((fe=ke&&ke.onVnodeMounted)||Ke||qe)&&queuePostRenderEffect(()=>{fe&&invokeVNodeHook(fe,J,N),Ke&&Ne.enter(ye),qe&&invokeDirectiveHook(N,null,J,"mounted")},ae)},M=(N,L,H,J,ae)=>{if(H&&y(N,H),J)for(let ce=0;ce<J.length;ce++)y(N,J[ce]);if(ae){let ce=ae.subTree;if(L===ce){const we=ae.vnode;M(N,we,we.scopeId,we.slotScopeIds,ae.parent)}}},D=(N,L,H,J,ae,ce,we,ve,ye=0)=>{for(let fe=ye;fe<N.length;fe++){const xe=N[fe]=ve?cloneIfMounted(N[fe]):normalizeVNode(N[fe]);S(null,xe,L,H,J,ae,ce,we,ve)}},B=(N,L,H,J,ae,ce,we)=>{const ve=L.el=N.el;let{patchFlag:ye,dynamicChildren:fe,dirs:xe}=L;ye|=N.patchFlag&16;const ke=N.props||EMPTY_OBJ,Ae=L.props||EMPTY_OBJ;let Ne;H&&toggleRecurse(H,!1),(Ne=Ae.onVnodeBeforeUpdate)&&invokeVNodeHook(Ne,H,L,N),xe&&invokeDirectiveHook(L,N,H,"beforeUpdate"),H&&toggleRecurse(H,!0);const qe=ae&&L.type!=="foreignObject";if(fe?U(N.dynamicChildren,fe,ve,H,J,qe,ce):we||K(N,L,ve,null,H,J,qe,ce,!1),ye>0){if(ye&16)j(ve,L,ke,Ae,H,J,ae);else if(ye&2&&ke.class!==Ae.class&&s(ve,"class",null,Ae.class,ae),ye&4&&s(ve,"style",ke.style,Ae.style,ae),ye&8){const Ke=L.dynamicProps;for(let ze=0;ze<Ke.length;ze++){const nt=Ke[ze],yt=ke[nt],Kt=Ae[nt];(Kt!==yt||nt==="value")&&s(ve,nt,yt,Kt,ae,N.children,H,J,ie)}}ye&1&&N.children!==L.children&&m(ve,L.children)}else!we&&fe==null&&j(ve,L,ke,Ae,H,J,ae);((Ne=Ae.onVnodeUpdated)||xe)&&queuePostRenderEffect(()=>{Ne&&invokeVNodeHook(Ne,H,L,N),xe&&invokeDirectiveHook(L,N,H,"updated")},J)},U=(N,L,H,J,ae,ce,we)=>{for(let ve=0;ve<L.length;ve++){const ye=N[ve],fe=L[ve],xe=ye.el&&(ye.type===Fragment||!isSameVNodeType(ye,fe)||ye.shapeFlag&70)?v(ye.el):H;S(ye,fe,xe,null,J,ae,ce,we,!0)}},j=(N,L,H,J,ae,ce,we)=>{if(H!==J){if(H!==EMPTY_OBJ)for(const ve in H)!isReservedProp(ve)&&!(ve in J)&&s(N,ve,H[ve],null,we,L.children,ae,ce,ie);for(const ve in J){if(isReservedProp(ve))continue;const ye=J[ve],fe=H[ve];ye!==fe&&ve!=="value"&&s(N,ve,fe,ye,we,L.children,ae,ce,ie)}"value"in J&&s(N,"value",H.value,J.value)}},z=(N,L,H,J,ae,ce,we,ve,ye)=>{const fe=L.el=N?N.el:c(""),xe=L.anchor=N?N.anchor:c("");let{patchFlag:ke,dynamicChildren:Ae,slotScopeIds:Ne}=L;Ne&&(ve=ve?ve.concat(Ne):Ne),N==null?(r(fe,H,J),r(xe,H,J),D(L.children,H,xe,ae,ce,we,ve,ye)):ke>0&&ke&64&&Ae&&N.dynamicChildren?(U(N.dynamicChildren,Ae,H,ae,ce,we,ve),(L.key!=null||ae&&L===ae.subTree)&&traverseStaticChildren(N,L,!0)):K(N,L,H,xe,ae,ce,we,ve,ye)},W=(N,L,H,J,ae,ce,we,ve,ye)=>{L.slotScopeIds=ve,N==null?L.shapeFlag&512?ae.ctx.activate(L,H,J,we,ye):$(L,H,J,ae,ce,we,ye):te(N,L,ye)},$=(N,L,H,J,ae,ce,we)=>{const ve=N.component=createComponentInstance(N,J,ae);if(isKeepAlive(N)&&(ve.ctx.renderer=_e),setupComponent(ve),ve.asyncDep){if(ae&&ae.registerDep(ve,X),!N.el){const ye=ve.subTree=createVNode(Comment);T(null,ye,L,H)}return}X(ve,N,L,H,ae,ce,we)},te=(N,L,H)=>{const J=L.component=N.component;if(shouldUpdateComponent(N,L,H))if(J.asyncDep&&!J.asyncResolved){ue(J,L,H);return}else J.next=L,invalidateJob(J.update),J.update();else L.el=N.el,J.vnode=L},X=(N,L,H,J,ae,ce,we)=>{const ve=()=>{if(N.isMounted){let{next:xe,bu:ke,u:Ae,parent:Ne,vnode:qe}=N,Ke=xe,ze;toggleRecurse(N,!1),xe?(xe.el=qe.el,ue(N,xe,we)):xe=qe,ke&&invokeArrayFns(ke),(ze=xe.props&&xe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ze,Ne,xe,qe),toggleRecurse(N,!0);const nt=renderComponentRoot(N),yt=N.subTree;N.subTree=nt,S(yt,nt,v(yt.el),Y(yt),N,ae,ce),xe.el=nt.el,Ke===null&&updateHOCHostEl(N,nt.el),Ae&&queuePostRenderEffect(Ae,ae),(ze=xe.props&&xe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ze,Ne,xe,qe),ae)}else{let xe;const{el:ke,props:Ae}=L,{bm:Ne,m:qe,parent:Ke}=N,ze=isAsyncWrapper(L);if(toggleRecurse(N,!1),Ne&&invokeArrayFns(Ne),!ze&&(xe=Ae&&Ae.onVnodeBeforeMount)&&invokeVNodeHook(xe,Ke,L),toggleRecurse(N,!0),ke&&He){const nt=()=>{N.subTree=renderComponentRoot(N),He(ke,N.subTree,N,ae,null)};ze?L.type.__asyncLoader().then(()=>!N.isUnmounted&&nt()):nt()}else{const nt=N.subTree=renderComponentRoot(N);S(null,nt,H,J,N,ae,ce),L.el=nt.el}if(qe&&queuePostRenderEffect(qe,ae),!ze&&(xe=Ae&&Ae.onVnodeMounted)){const nt=L;queuePostRenderEffect(()=>invokeVNodeHook(xe,Ke,nt),ae)}(L.shapeFlag&256||Ke&&isAsyncWrapper(Ke.vnode)&&Ke.vnode.shapeFlag&256)&&N.a&&queuePostRenderEffect(N.a,ae),N.isMounted=!0,L=H=J=null}},ye=N.effect=new ReactiveEffect(ve,()=>queueJob(fe),N.scope),fe=N.update=()=>ye.run();fe.id=N.uid,toggleRecurse(N,!0),fe()},ue=(N,L,H)=>{L.component=N;const J=N.vnode.props;N.vnode=L,N.next=null,updateProps(N,L.props,J,H),updateSlots(N,L.children,H),pauseTracking(),flushPreFlushCbs(),resetTracking()},K=(N,L,H,J,ae,ce,we,ve,ye=!1)=>{const fe=N&&N.children,xe=N?N.shapeFlag:0,ke=L.children,{patchFlag:Ae,shapeFlag:Ne}=L;if(Ae>0){if(Ae&128){de(fe,ke,H,J,ae,ce,we,ve,ye);return}else if(Ae&256){pe(fe,ke,H,J,ae,ce,we,ve,ye);return}}Ne&8?(xe&16&&ie(fe,ae,ce),ke!==fe&&m(H,ke)):xe&16?Ne&16?de(fe,ke,H,J,ae,ce,we,ve,ye):ie(fe,ae,ce,!0):(xe&8&&m(H,""),Ne&16&&D(ke,H,J,ae,ce,we,ve,ye))},pe=(N,L,H,J,ae,ce,we,ve,ye)=>{N=N||EMPTY_ARR,L=L||EMPTY_ARR;const fe=N.length,xe=L.length,ke=Math.min(fe,xe);let Ae;for(Ae=0;Ae<ke;Ae++){const Ne=L[Ae]=ye?cloneIfMounted(L[Ae]):normalizeVNode(L[Ae]);S(N[Ae],Ne,H,null,ae,ce,we,ve,ye)}fe>xe?ie(N,ae,ce,!0,!1,ke):D(L,H,J,ae,ce,we,ve,ye,ke)},de=(N,L,H,J,ae,ce,we,ve,ye)=>{let fe=0;const xe=L.length;let ke=N.length-1,Ae=xe-1;for(;fe<=ke&&fe<=Ae;){const Ne=N[fe],qe=L[fe]=ye?cloneIfMounted(L[fe]):normalizeVNode(L[fe]);if(isSameVNodeType(Ne,qe))S(Ne,qe,H,null,ae,ce,we,ve,ye);else break;fe++}for(;fe<=ke&&fe<=Ae;){const Ne=N[ke],qe=L[Ae]=ye?cloneIfMounted(L[Ae]):normalizeVNode(L[Ae]);if(isSameVNodeType(Ne,qe))S(Ne,qe,H,null,ae,ce,we,ve,ye);else break;ke--,Ae--}if(fe>ke){if(fe<=Ae){const Ne=Ae+1,qe=Ne<xe?L[Ne].el:J;for(;fe<=Ae;)S(null,L[fe]=ye?cloneIfMounted(L[fe]):normalizeVNode(L[fe]),H,qe,ae,ce,we,ve,ye),fe++}}else if(fe>Ae)for(;fe<=ke;)Ee(N[fe],ae,ce,!0),fe++;else{const Ne=fe,qe=fe,Ke=new Map;for(fe=qe;fe<=Ae;fe++){const ht=L[fe]=ye?cloneIfMounted(L[fe]):normalizeVNode(L[fe]);ht.key!=null&&Ke.set(ht.key,fe)}let ze,nt=0;const yt=Ae-qe+1;let Kt=!1,xn=0;const Jt=new Array(yt);for(fe=0;fe<yt;fe++)Jt[fe]=0;for(fe=Ne;fe<=ke;fe++){const ht=N[fe];if(nt>=yt){Ee(ht,ae,ce,!0);continue}let St;if(ht.key!=null)St=Ke.get(ht.key);else for(ze=qe;ze<=Ae;ze++)if(Jt[ze-qe]===0&&isSameVNodeType(ht,L[ze])){St=ze;break}St===void 0?Ee(ht,ae,ce,!0):(Jt[St-qe]=fe+1,St>=xn?xn=St:Kt=!0,S(ht,L[St],H,null,ae,ce,we,ve,ye),nt++)}const An=Kt?getSequence(Jt):EMPTY_ARR;for(ze=An.length-1,fe=yt-1;fe>=0;fe--){const ht=qe+fe,St=L[ht],Rn=ht+1<xe?L[ht+1].el:J;Jt[fe]===0?S(null,St,H,Rn,ae,ce,we,ve,ye):Kt&&(ze<0||fe!==An[ze]?me(St,H,Rn,2):ze--)}}},me=(N,L,H,J,ae=null)=>{const{el:ce,type:we,transition:ve,children:ye,shapeFlag:fe}=N;if(fe&6){me(N.component.subTree,L,H,J);return}if(fe&128){N.suspense.move(L,H,J);return}if(fe&64){we.move(N,L,H,_e);return}if(we===Fragment){r(ce,L,H);for(let ke=0;ke<ye.length;ke++)me(ye[ke],L,H,J);r(N.anchor,L,H);return}if(we===Static){x(N,L,H);return}if(J!==2&&fe&1&&ve)if(J===0)ve.beforeEnter(ce),r(ce,L,H),queuePostRenderEffect(()=>ve.enter(ce),ae);else{const{leave:ke,delayLeave:Ae,afterLeave:Ne}=ve,qe=()=>r(ce,L,H),Ke=()=>{ke(ce,()=>{qe(),Ne&&Ne()})};Ae?Ae(ce,qe,Ke):Ke()}else r(ce,L,H)},Ee=(N,L,H,J=!1,ae=!1)=>{const{type:ce,props:we,ref:ve,children:ye,dynamicChildren:fe,shapeFlag:xe,patchFlag:ke,dirs:Ae}=N;if(ve!=null&&setRef(ve,null,H,N,!0),xe&256){L.ctx.deactivate(N);return}const Ne=xe&1&&Ae,qe=!isAsyncWrapper(N);let Ke;if(qe&&(Ke=we&&we.onVnodeBeforeUnmount)&&invokeVNodeHook(Ke,L,N),xe&6)Qe(N.component,H,J);else{if(xe&128){N.suspense.unmount(H,J);return}Ne&&invokeDirectiveHook(N,null,L,"beforeUnmount"),xe&64?N.type.remove(N,L,H,ae,_e,J):fe&&(ce!==Fragment||ke>0&&ke&64)?ie(fe,L,H,!1,!0):(ce===Fragment&&ke&384||!ae&&xe&16)&&ie(ye,L,H),J&&Ue(N)}(qe&&(Ke=we&&we.onVnodeUnmounted)||Ne)&&queuePostRenderEffect(()=>{Ke&&invokeVNodeHook(Ke,L,N),Ne&&invokeDirectiveHook(N,null,L,"unmounted")},H)},Ue=N=>{const{type:L,el:H,anchor:J,transition:ae}=N;if(L===Fragment){$e(H,J);return}if(L===Static){P(N);return}const ce=()=>{o(H),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(N.shapeFlag&1&&ae&&!ae.persisted){const{leave:we,delayLeave:ve}=ae,ye=()=>we(H,ce);ve?ve(N.el,ce,ye):ye()}else ce()},$e=(N,L)=>{let H;for(;N!==L;)H=_(N),o(N),N=H;o(L)},Qe=(N,L,H)=>{const{bum:J,scope:ae,update:ce,subTree:we,um:ve}=N;J&&invokeArrayFns(J),ae.stop(),ce&&(ce.active=!1,Ee(we,N,L,H)),ve&&queuePostRenderEffect(ve,L),queuePostRenderEffect(()=>{N.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},ie=(N,L,H,J=!1,ae=!1,ce=0)=>{for(let we=ce;we<N.length;we++)Ee(N[we],L,H,J,ae)},Y=N=>N.shapeFlag&6?Y(N.component.subTree):N.shapeFlag&128?N.suspense.next():_(N.anchor||N.el),be=(N,L,H)=>{N==null?L._vnode&&Ee(L._vnode,null,null,!0):S(L._vnode||null,N,L,null,null,null,H),flushPreFlushCbs(),flushPostFlushCbs(),L._vnode=N},_e={p:S,um:Ee,m:me,r:Ue,mt:$,mc:D,pc:K,pbc:U,n:Y,o:e};let Ie,He;return t&&([Ie,He]=t(_e)),{render:be,hydrate:Ie,createApp:createAppAPI(be,Ie)}}function toggleRecurse({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function traverseStaticChildren(e,t,n=!1){const r=e.children,o=t.children;if(isArray$1(r)&&isArray$1(o))for(let s=0;s<r.length;s++){const a=r[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=cloneIfMounted(o[s]),c.el=a.el),n||traverseStaticChildren(a,c)),c.type===Text&&(c.el=a.el)}}function getSequence(e){const t=e.slice(),n=[0];let r,o,s,a,c;const d=e.length;for(r=0;r<d;r++){const f=e[r];if(f!==0){if(o=n[n.length-1],e[o]<f){t[r]=o,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,e[n[c]]<f?s=c+1:a=c;f<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,resolveTarget=(e,t)=>{const n=e&&e.to;return isString$1(n)?t?t(n):null:n},TeleportImpl={__isTeleport:!0,process(e,t,n,r,o,s,a,c,d,f){const{mc:m,pc:v,pbc:_,o:{insert:y,querySelector:C,createText:S,createComment:I}}=f,T=isTeleportDisabled(t.props);let{shapeFlag:E,children:x,dynamicChildren:P}=t;if(e==null){const V=t.el=S(""),R=t.anchor=S("");y(V,n,r),y(R,n,r);const M=t.target=resolveTarget(t.props,C),D=t.targetAnchor=S("");M&&(y(D,M),a=a||isTargetSVG(M));const B=(U,j)=>{E&16&&m(x,U,j,o,s,a,c,d)};T?B(n,R):M&&B(M,D)}else{t.el=e.el;const V=t.anchor=e.anchor,R=t.target=e.target,M=t.targetAnchor=e.targetAnchor,D=isTeleportDisabled(e.props),B=D?n:R,U=D?V:M;if(a=a||isTargetSVG(R),P?(_(e.dynamicChildren,P,B,o,s,a,c),traverseStaticChildren(e,t,!0)):d||v(e,t,B,U,o,s,a,c,!1),T)D||moveTeleport(t,n,V,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=resolveTarget(t.props,C);j&&moveTeleport(t,j,null,f,0)}else D&&moveTeleport(t,R,M,f,1)}updateCssVars(t)},remove(e,t,n,r,{um:o,o:{remove:s}},a){const{shapeFlag:c,children:d,anchor:f,targetAnchor:m,target:v,props:_}=e;if(v&&s(m),(a||!isTeleportDisabled(_))&&(s(f),c&16))for(let y=0;y<d.length;y++){const C=d[y];o(C,t,n,!0,!!C.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,n,{o:{insert:r},m:o},s=2){s===0&&r(e.targetAnchor,t,n);const{el:a,anchor:c,shapeFlag:d,children:f,props:m}=e,v=s===2;if(v&&r(a,t,n),(!v||isTeleportDisabled(m))&&d&16)for(let _=0;_<f.length;_++)o(f[_],t,n,2);v&&r(c,t,n)}function hydrateTeleport(e,t,n,r,o,s,{o:{nextSibling:a,parentNode:c,querySelector:d}},f){const m=t.target=resolveTarget(t.props,d);if(m){const v=m._lpa||m.firstChild;if(t.shapeFlag&16)if(isTeleportDisabled(t.props))t.anchor=f(a(e),t,c(e),n,r,o,s),t.targetAnchor=v;else{t.anchor=a(e);let _=v;for(;_;)if(_=a(_),_&&_.nodeType===8&&_.data==="teleport anchor"){t.targetAnchor=_,m._lpa=t.targetAnchor&&a(t.targetAnchor);break}f(v,t,m,n,r,o,s)}updateCssVars(t)}return t.anchor&&a(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,r,o,s){return setupBlock(createBaseVNode(e,t,n,r,o,s,!0))}function createBlock(e,t,n,r,o){return setupBlock(createVNode(e,t,n,r,o,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e!=null?e:null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?isString$1(e)||isRef(e)||isFunction$1(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null);function createBaseVNode(e,t=null,n=null,r=0,o=null,s=e===Fragment?0:1,a=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return c?(normalizeChildren(d,n),s&128&&e.normalize(d)):n&&(d.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(d.patchFlag>0||s&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const c=cloneVNode(e,t,!0);return n&&normalizeChildren(c,n),isBlockTreeEnabled>0&&!s&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:c,style:d}=t;c&&!isString$1(c)&&(t.class=normalizeClass(c)),isObject$3(d)&&(isProxy(d)&&!isArray$1(d)&&(d=extend({},d)),t.style=normalizeStyle(d))}const a=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$3(e)?4:isFunction$1(e)?2:0;return createBaseVNode(e,t,n,r,o,a,s,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=e,c=t?mergeProps(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&normalizeKey(c),ref:t&&t.ref?n&&o?isArray$1(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(isArray$1(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),normalizeChildren(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),r&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=normalizeClass([t.class,r.class]));else if(o==="style")t.style=normalizeStyle([t.style,r.style]);else if(isOn$1(o)){const s=t[o],a=r[o];a&&s!==a&&!(isArray$1(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=r[o])}return t}function invokeVNodeHook(e,t,n,r=null){callWithAsyncErrorHandling(e,t,7,[n,r])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||emptyAppContext,s={uid:uid++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=emit.bind(null,s),e.ce&&e.ce(s),s}let currentInstance=null;const getCurrentInstance$1=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(e=>currentInstance=e),internalSetCurrentInstance=e=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(t=>t(e)):globalCurrentInstanceSetters[0](e)};const setCurrentInstance=e=>{internalSetCurrentInstance(e),e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:n,children:r}=e.vnode,o=isStatefulComponent(e);initProps(e,n,o,t),initSlots(e,r);const s=o?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const s=callWithErrorHandling(r,e,0,[e.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),t)return s.then(a=>{handleSetupResult(e,a,t)}).catch(a=>{handleError(a,e,0)});e.asyncDep=s}else handleSetupResult(e,s,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,n){isFunction$1(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$3(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,n)}let compile$1;function finishComponentSetup(e,t,n){const r=e.type;if(!e.render){if(!t&&compile$1&&!r.render){const o=r.template||resolveMergedOptions(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:d}=r,f=extend(extend({isCustomElement:s,delimiters:c},a),d);r.render=compile$1(o,f)}}e.render=r.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return track(e,"get","$attrs"),t[n]}}))}function createSetupContext(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return getAttrsProxy(e)},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}}))}function getComponentName(e,t=!0){return isFunction$1(e)?e.displayName||e.name:e.name||t&&e.__name}function isClassComponent(e){return isFunction$1(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,n){const r=arguments.length;return r===2?isObject$3(t)&&!isArray$1(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&isVNode(n)&&(n=[n]),createVNode(e,t,n))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject$1(ssrContextKey),version$5="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?doc.createElementNS(svgNS,e):doc.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{templateContainer.innerHTML=r?`<svg>${e}</svg>`:e;const c=templateContainer.content;if(r){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function patchClass(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,n){const r=e.style,o=isString$1(n);if(n&&!o){if(t&&!isString$1(t))for(const s in t)n[s]==null&&setStyle(r,s,"");for(const s in n)setStyle(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray$1(n))n.forEach(r=>setStyle(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):e[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let r=camelize(t);if(r!=="filter"&&r in e)return prefixCache[t]=r;r=capitalize(r);for(let o=0;o<prefixes.length;o++){const s=prefixes[o]+r;if(s in e)return prefixCache[t]=s}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n);else{const s=isSpecialBooleanAttr(t);n==null||s&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function patchDOMProp(e,t,n,r,o,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,o,s),e[t]=n==null?"":n;return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const f=c==="OPTION"?e.getAttribute("value"):e.value,m=n==null?"":n;f!==m&&(e.value=m),n==null&&e.removeAttribute(t);return}let d=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=includeBooleanAttr(n):n==null&&f==="string"?(n="",d=!0):f==="number"&&(n=0,d=!0)}try{e[t]=n}catch{}d&&e.removeAttribute(t)}function addEventListener$1(e,t,n,r){e.addEventListener(t,n,r)}function removeEventListener(e,t,n,r){e.removeEventListener(t,n,r)}function patchEvent(e,t,n,r,o=null){const s=e._vei||(e._vei={}),a=s[t];if(r&&a)a.value=r;else{const[c,d]=parseName(t);if(r){const f=s[t]=createInvoker(r,o);addEventListener$1(e,c,f,d)}else a&&(removeEventListener(e,c,a,d),s[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),t,5,[r])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray$1(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,n,r,o=!1,s,a,c,d)=>{t==="class"?patchClass(e,r,o):t==="style"?patchStyle(e,n,r):isOn$1(t)?isModelListener(t)||patchEvent(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,r,o))?patchDOMProp(e,t,r,s,a,c,d):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),patchAttr(e,t,r,o))};function shouldSetAsProp(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction$1(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$1(n)?!1:t in e}const TRANSITION="transition",ANIMATION="animation",Transition=(e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(e,t=[])=>{isArray$1(e)?e.forEach(n=>n(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray$1(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const z in e)z in DOMTransitionPropsValidators||(t[z]=e[z]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:d=s,appearActiveClass:f=a,appearToClass:m=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,C=normalizeDuration(o),S=C&&C[0],I=C&&C[1],{onBeforeEnter:T,onEnter:E,onEnterCancelled:x,onLeave:P,onLeaveCancelled:V,onBeforeAppear:R=T,onAppear:M=E,onAppearCancelled:D=x}=t,B=(z,W,$)=>{removeTransitionClass(z,W?m:c),removeTransitionClass(z,W?f:a),$&&$()},U=(z,W)=>{z._isLeaving=!1,removeTransitionClass(z,v),removeTransitionClass(z,y),removeTransitionClass(z,_),W&&W()},j=z=>(W,$)=>{const te=z?M:E,X=()=>B(W,z,$);callHook(te,[W,X]),nextFrame(()=>{removeTransitionClass(W,z?d:s),addTransitionClass(W,z?m:c),hasExplicitCallback(te)||whenTransitionEnds(W,r,S,X)})};return extend(t,{onBeforeEnter(z){callHook(T,[z]),addTransitionClass(z,s),addTransitionClass(z,a)},onBeforeAppear(z){callHook(R,[z]),addTransitionClass(z,d),addTransitionClass(z,f)},onEnter:j(!1),onAppear:j(!0),onLeave(z,W){z._isLeaving=!0;const $=()=>U(z,W);addTransitionClass(z,v),forceReflow(),addTransitionClass(z,_),nextFrame(()=>{!z._isLeaving||(removeTransitionClass(z,v),addTransitionClass(z,y),hasExplicitCallback(P)||whenTransitionEnds(z,r,I,$))}),callHook(P,[z,$])},onEnterCancelled(z){B(z,!1),callHook(x,[z])},onAppearCancelled(z){B(z,!0),callHook(D,[z])},onLeaveCancelled(z){U(z),callHook(V,[z])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$3(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,n,r){const o=e._endId=++endId,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:c,propCount:d}=getTransitionInfo(e,t);if(!a)return r();const f=a+"end";let m=0;const v=()=>{e.removeEventListener(f,_),s()},_=y=>{y.target===e&&++m>=d&&v()};setTimeout(()=>{m<d&&v()},c+1),e.addEventListener(f,_)}function getTransitionInfo(e,t){const n=window.getComputedStyle(e),r=C=>(n[C]||"").split(", "),o=r(`${TRANSITION}Delay`),s=r(`${TRANSITION}Duration`),a=getTimeout(o,s),c=r(`${ANIMATION}Delay`),d=r(`${ANIMATION}Duration`),f=getTimeout(c,d);let m=null,v=0,_=0;t===TRANSITION?a>0&&(m=TRANSITION,v=a,_=s.length):t===ANIMATION?f>0&&(m=ANIMATION,v=f,_=d.length):(v=Math.max(a,f),m=v>0?a>f?TRANSITION:ANIMATION:null,_=m?m===TRANSITION?s.length:d.length:0);const y=m===TRANSITION&&/\b(transform|all)(,|$)/.test(r(`${TRANSITION}Property`).toString());return{type:m,timeout:v,propCount:_,hasTransform:y}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>toMs(n)+toMs(e[r])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=getCurrentInstance$1(),r=useTransitionState();let o,s;return onUpdated(()=>{if(!o.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!hasCSSTransform(o[0].el,n.vnode.el,a))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const c=o.filter(applyTranslation);forceReflow(),c.forEach(d=>{const f=d.el,m=f.style;addTransitionClass(f,a),m.transform=m.webkitTransform=m.transitionDuration="";const v=f._moveCb=_=>{_&&_.target!==f||(!_||/transform$/.test(_.propertyName))&&(f.removeEventListener("transitionend",v),f._moveCb=null,removeTransitionClass(f,a))};f.addEventListener("transitionend",v)})}),()=>{const a=toRaw(e),c=resolveTransitionProps(a);let d=a.tag||Fragment;o=s,s=t.default?getTransitionRawChildren(t.default()):[];for(let f=0;f<s.length;f++){const m=s[f];m.key!=null&&setTransitionHooks(m,resolveTransitionHooks(m,c,r,n))}if(o)for(let f=0;f<o.length;f++){const m=o[f];setTransitionHooks(m,resolveTransitionHooks(m,c,r,n)),positionMap.set(m,m.el.getBoundingClientRect())}return createVNode(d,null,s)}}},removeMode=e=>delete e.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function recordPosition(e){newPositionMap.set(e,e.el.getBoundingClientRect())}function applyTranslation(e){const t=positionMap.get(e),n=newPositionMap.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${o}px)`,s.transitionDuration="0s",e}}function hasCSSTransform(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:s}=getTransitionInfo(r);return o.removeChild(r),s}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$1(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=getModelAssigner(o);const s=r||o.props&&o.props.type==="number";addEventListener$1(e,t?"change":"input",a=>{if(a.target.composing)return;let c=e.value;n&&(c=c.trim()),s&&(c=looseToNumber(c)),e._assign(c)}),n&&addEventListener$1(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener$1(e,"compositionstart",onCompositionStart),addEventListener$1(e,"compositionend",onCompositionEnd),addEventListener$1(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},s){if(e._assign=getModelAssigner(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(o||e.type==="number")&&looseToNumber(e.value)===t))return;const a=t==null?"":t;e.value!==a&&(e.value=a)}},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>n=>{if(!("key"in n))return;const r=hyphenate(n.key);if(t.some(o=>o===r||keyNames[o]===r))return e(n)},vShow={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),setDisplay(e,!0),r.enter(e)):r.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer$1;function ensureRenderer(){return renderer$1||(renderer$1=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=normalizeContainer(r);if(!o)return;const s=t._component;!isFunction$1(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function normalizeContainer(e){return isString$1(e)?document.querySelector(e):e}var isVue2=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const e=effectScope(!0),t=e.run(()=>ref$1({}));let n=[],r=[];const o=markRaw({install(s){setActivePinia(o),o._a=s,s.provide(piniaSymbol,o),s.config.globalProperties.$pinia=o,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!isVue2?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const noop$2=()=>{};function addSubscription(e,t,n,r=noop$2){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&getCurrentScope()&&onScopeDispose(o),o}function triggerSubscriptions(e,...t){e.slice().forEach(n=>{n(...t)})}const fallbackRunWithContext=e=>e();function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];isPlainObject(o)&&isPlainObject(r)&&e.hasOwnProperty(n)&&!isRef(r)&&!isReactive(r)?e[n]=mergeReactiveObjects(o,r):e[n]=r}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,t,n,r){const{state:o,actions:s,getters:a}=t,c=n.state.value[e];let d;function f(){c||(n.state.value[e]=o?o():{});const m=toRefs(n.state.value[e]);return assign$3(m,s,Object.keys(a||{}).reduce((v,_)=>(v[_]=markRaw(computed(()=>{setActivePinia(n);const y=n._s.get(e);return a[_].call(y,y)})),v),{}))}return d=createSetupStore(e,f,t,n,r,!0),d}function createSetupStore(e,t,n={},r,o,s){let a;const c=assign$3({actions:{}},n),d={deep:!0};let f,m,v=[],_=[],y;const C=r.state.value[e];!s&&!C&&(r.state.value[e]={}),ref$1({});let S;function I(D){let B;f=m=!1,typeof D=="function"?(D(r.state.value[e]),B={type:MutationType.patchFunction,storeId:e,events:y}):(mergeReactiveObjects(r.state.value[e],D),B={type:MutationType.patchObject,payload:D,storeId:e,events:y});const U=S=Symbol();nextTick().then(()=>{S===U&&(f=!0)}),m=!0,triggerSubscriptions(v,B,r.state.value[e])}const T=s?function(){const{state:B}=n,U=B?B():{};this.$patch(j=>{assign$3(j,U)})}:noop$2;function E(){a.stop(),v=[],_=[],r._s.delete(e)}function x(D,B){return function(){setActivePinia(r);const U=Array.from(arguments),j=[],z=[];function W(X){j.push(X)}function $(X){z.push(X)}triggerSubscriptions(_,{args:U,name:D,store:V,after:W,onError:$});let te;try{te=B.apply(this&&this.$id===e?this:V,U)}catch(X){throw triggerSubscriptions(z,X),X}return te instanceof Promise?te.then(X=>(triggerSubscriptions(j,X),X)).catch(X=>(triggerSubscriptions(z,X),Promise.reject(X))):(triggerSubscriptions(j,te),te)}}const P={_p:r,$id:e,$onAction:addSubscription.bind(null,_),$patch:I,$reset:T,$subscribe(D,B={}){const U=addSubscription(v,D,B.detached,()=>j()),j=a.run(()=>watch(()=>r.state.value[e],z=>{(B.flush==="sync"?m:f)&&D({storeId:e,type:MutationType.direct,events:y},z)},assign$3({},d,B)));return U},$dispose:E},V=reactive(P);r._s.set(e,V);const R=r._a&&r._a.runWithContext||fallbackRunWithContext,M=r._e.run(()=>(a=effectScope(),R(()=>a.run(t))));for(const D in M){const B=M[D];if(isRef(B)&&!isComputed(B)||isReactive(B))s||(C&&shouldHydrate(B)&&(isRef(B)?B.value=C[D]:mergeReactiveObjects(B,C[D])),r.state.value[e][D]=B);else if(typeof B=="function"){const U=x(D,B);M[D]=U,c.actions[D]=B}}return assign$3(V,M),assign$3(toRaw(V),M),Object.defineProperty(V,"$state",{get:()=>r.state.value[e],set:D=>{I(B=>{assign$3(B,D)})}}),r._p.forEach(D=>{assign$3(V,a.run(()=>D({store:V,app:r._a,pinia:r,options:c})))}),C&&s&&n.hydrate&&n.hydrate(V.$state,C),f=!0,m=!0,V}function defineStore(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function a(c,d){const f=hasInjectionContext();return c=c||(f?inject$1(piniaSymbol,null):null),c&&setActivePinia(c),c=activePinia,c._s.has(r)||(s?createSetupStore(r,t,o,c):createOptionsStore(r,o,c)),c._s.get(r)}return a.$id=r,a}function mapState(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function mapActions(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function useToggleScope(e,t){let n;function r(){n=effectScope(),n.run(()=>t.length?t(()=>{n==null||n.stop(),r()}):t())}watch(e,o=>{o&&!n?r():o||(n==null||n.stop(),n=void 0)},{immediate:!0}),onScopeDispose(()=>{n==null||n.stop()})}function _classPrivateFieldInitSpec(e,t,n){_checkPrivateRedeclaration(e,t),t.set(e,n)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,n){var r=_classExtractFieldDescriptor(e,t,"set");return _classApplyDescriptorSet(e,r,n),n}function _classApplyDescriptorSet(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function _classPrivateFieldGet(e,t){var n=_classExtractFieldDescriptor(e,t,"get");return _classApplyDescriptorGet(e,n)}function _classExtractFieldDescriptor(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}function getNestedValue(e,t,n){const r=t.length-1;if(r<0)return e===void 0?n:e;for(let o=0;o<r;o++){if(e==null)return n;e=e[t[o]]}return e==null||e[t[r]]===void 0?n:e[t[r]]}function deepEqual$1(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>deepEqual$1(e[r],t[r]))}function getObjectValueByPath(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),getNestedValue(e,t.split("."),n))}function getPropertyFromItem(e,t,n){if(t==null)return e===void 0?n:e;if(e!==Object(e)){if(typeof t!="function")return n;const o=t(e,n);return typeof o>"u"?n:o}if(typeof t=="string")return getObjectValueByPath(e,t,n);if(Array.isArray(t))return getNestedValue(e,t,n);if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}function createRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,r)=>t+r)}function convertToUnit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function isObject$2(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function refElement(e){return e&&"$el"in e?e.$el:e}const keyCodes=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),keyValues=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function keys(e){return Object.keys(e)}function has$1(e,t){return t.every(n=>e.hasOwnProperty(n))}function pick(e,t,n){const r=Object.create(null),o=Object.create(null);for(const s in e)t.some(a=>a instanceof RegExp?a.test(s):a===s)&&!(n!=null&&n.some(a=>a===s))?r[s]=e[s]:o[s]=e[s];return[r,o]}function omit(e,t){const n={...e};return t.forEach(r=>delete n[r]),n}function filterInputAttrs(e){return pick(e,["class","style","id",/^data-/])}function wrapInArray(e){return e==null?[]:Array.isArray(e)?e:[e]}function clamp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function getDecimals(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function padEnd(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function chunk(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function mergeDeep(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const o in e)r[o]=e[o];for(const o in t){const s=e[o],a=t[o];if(isObject$2(s)&&isObject$2(a)){r[o]=mergeDeep(s,a,n);continue}if(Array.isArray(s)&&Array.isArray(a)&&n){r[o]=n(s,a);continue}r[o]=a}return r}function flattenFragments(e){return e.map(t=>t.type===Fragment?flattenFragments(t.children):t).flat()}function toKebabCase(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(toKebabCase.cache.has(e))return toKebabCase.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return toKebabCase.cache.set(e,t),t}toKebabCase.cache=new Map;function findChildrenWithProvide(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>findChildrenWithProvide(e,n)).flat(1);if(Array.isArray(t.children))return t.children.map(n=>findChildrenWithProvide(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return findChildrenWithProvide(e,t.component.subTree).flat(1)}return[]}var _arr=new WeakMap,_pointer=new WeakMap;class CircularBuffer{constructor(t){_classPrivateFieldInitSpec(this,_arr,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,_pointer,{writable:!0,value:0}),this.size=t}push(t){_classPrivateFieldGet(this,_arr)[_classPrivateFieldGet(this,_pointer)]=t,_classPrivateFieldSet(this,_pointer,(_classPrivateFieldGet(this,_pointer)+1)%this.size)}values(){return _classPrivateFieldGet(this,_arr).slice(_classPrivateFieldGet(this,_pointer)).concat(_classPrivateFieldGet(this,_arr).slice(0,_classPrivateFieldGet(this,_pointer)))}}function getEventCoordinates(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function destructComputed(e){const t=reactive({}),n=computed(e);return watchEffect(()=>{for(const r in n.value)t[r]=n.value[r]},{flush:"sync"}),toRefs(t)}function includes(e,t){return e.includes(t)}const onRE=/^on[^a-z]/,isOn=e=>onRE.test(e);function eventName(e){return e[2].toLowerCase()+e.slice(3)}const EventProp=()=>[Function,Array];function hasEvent(e,t){return t="on"+capitalize(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function callEvent(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(const o of e)o(...n);else typeof e=="function"&&e(...n)}function focusableChildren(e){const t=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(n=>`${n}:not([tabindex="-1"]):not([disabled])`).join(", ");return[...e.querySelectorAll(t)]}function focusChild(e,t){var o,s,a;const n=focusableChildren(e),r=n.indexOf(document.activeElement);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((o=n[0])==null||o.focus());else if(t==="first")(s=n[0])==null||s.focus();else if(t==="last")(a=n.at(-1))==null||a.focus();else{let c,d=r;const f=t==="next"?1:-1;do d+=f,c=n[d];while((!c||c.offsetParent==null)&&d<n.length&&d>=0);c?c.focus():focusChild(e,t==="next"?"first":"last")}}const block$2=["top","bottom"],inline$1=["start","end","left","right"];function parseAnchor(e,t){let[n,r]=e.split(" ");return r||(r=includes(block$2,n)?"start":includes(inline$1,n)?"top":"center"),{side:toPhysical(n,t),align:toPhysical(r,t)}}function toPhysical(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function flipSide(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function flipAlign(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function flipCorner(e){return{side:e.align,align:e.side}}function getAxis(e){return includes(block$2,e.side)?"y":"x"}class Box{constructor(t){let{x:n,y:r,width:o,height:s}=t;this.x=n,this.y=r,this.width=o,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function getOverflow(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function nullifyTransforms(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let o,s,a,c,d;if(r.startsWith("matrix3d("))o=r.slice(9,-1).split(/, /),s=+o[0],a=+o[5],c=+o[12],d=+o[13];else if(r.startsWith("matrix("))o=r.slice(7,-1).split(/, /),s=+o[0],a=+o[3],c=+o[4],d=+o[5];else return new Box(t);const f=n.transformOrigin,m=t.x-c-(1-s)*parseFloat(f),v=t.y-d-(1-a)*parseFloat(f.slice(f.indexOf(" ")+1)),_=s?t.width/s:e.offsetWidth+1,y=a?t.height/a:e.offsetHeight+1;return new Box({x:m,y:v,width:_,height:y})}else return new Box(t)}function animate(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(o=>{r.onfinish=()=>{o(r)}})),r}const handlers=new WeakMap;function bindProps(e,t){Object.keys(t).forEach(n=>{if(isOn(n)){const r=eventName(n),o=handlers.get(e);if(t[n]==null)o==null||o.forEach(s=>{const[a,c]=s;a===r&&(e.removeEventListener(r,c),o.delete(s))});else if(!o||![...o].some(s=>s[0]===r&&s[1]===t[n])){e.addEventListener(r,t[n]);const s=o||new Set;s.add([r,t[n]]),handlers.has(e)||handlers.set(e,s)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function unbindProps(e,t){Object.keys(t).forEach(n=>{if(isOn(n)){const r=eventName(n),o=handlers.get(e);o==null||o.forEach(s=>{const[a,c]=s;a===r&&(e.removeEventListener(r,c),o.delete(s))})}else e.removeAttribute(n)})}function consoleWarn(e){}function deprecate(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const delta$1=.20689655172413793,cielabForwardTransform=e=>e>delta$1**3?Math.cbrt(e):e/(3*delta$1**2)+4/29,cielabReverseTransform=e=>e>delta$1?e**3:3*delta$1**2*(e-4/29);function fromXYZ$1(e){const t=cielabForwardTransform,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function toXYZ$1(e){const t=cielabReverseTransform,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const srgbForwardMatrix=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],srgbForwardTransform=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,srgbReverseMatrix=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],srgbReverseTransform=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function fromXYZ(e){const t=Array(3),n=srgbForwardTransform,r=srgbForwardMatrix;for(let o=0;o<3;++o)t[o]=Math.round(clamp(n(r[o][0]*e[0]+r[o][1]*e[1]+r[o][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function toXYZ(e){let{r:t,g:n,b:r}=e;const o=[0,0,0],s=srgbReverseTransform,a=srgbReverseMatrix;t=s(t/255),n=s(n/255),r=s(r/255);for(let c=0;c<3;++c)o[c]=a[c][0]*t+a[c][1]*n+a[c][2]*r;return o}function isCssColor(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}const cssColorRe=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,mappers={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>HSLtoRGB({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>HSLtoRGB({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>HSVtoRGB({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>HSVtoRGB({h:e,s:t,v:n,a:r})};function parseColor(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&cssColorRe.test(e)){const{groups:t}=e.match(cssColorRe),{fn:n,values:r}=t,o=r.split(/,\s*/).map(s=>s.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(s)/100:parseFloat(s));return mappers[n](...o)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),HexToRGB(t)}else if(typeof e=="object"){if(has$1(e,["r","g","b"]))return e;if(has$1(e,["h","s","l"]))return HSVtoRGB(HSLtoHSV(e));if(has$1(e,["h","s","v"]))return HSVtoRGB(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function HSVtoRGB(e){const{h:t,s:n,v:r,a:o}=e,s=c=>{const d=(c+t/60)%6;return r-r*n*Math.max(Math.min(d,4-d,1),0)},a=[s(5),s(3),s(1)].map(c=>Math.round(c*255));return{r:a[0],g:a[1],b:a[2],a:o}}function HSLtoRGB(e){return HSVtoRGB(HSLtoHSV(e))}function RGBtoHSV(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,r=e.b/255,o=Math.max(t,n,r),s=Math.min(t,n,r);let a=0;o!==s&&(o===t?a=60*(0+(n-r)/(o-s)):o===n?a=60*(2+(r-t)/(o-s)):o===r&&(a=60*(4+(t-n)/(o-s)))),a<0&&(a=a+360);const c=o===0?0:(o-s)/o,d=[a,c,o];return{h:d[0],s:d[1],v:d[2],a:e.a}}function HSVtoHSL(e){const{h:t,s:n,v:r,a:o}=e,s=r-r*n/2,a=s===1||s===0?0:(r-s)/Math.min(s,1-s);return{h:t,s:a,l:s,a:o}}function HSLtoHSV(e){const{h:t,s:n,l:r,a:o}=e,s=r+n*Math.min(r,1-r),a=s===0?0:2-2*r/s;return{h:t,s:a,v:s,a:o}}function RGBtoCSS(e){let{r:t,g:n,b:r,a:o}=e;return o===void 0?`rgb(${t}, ${n}, ${r})`:`rgba(${t}, ${n}, ${r}, ${o})`}function HSVtoCSS(e){return RGBtoCSS(HSVtoRGB(e))}function toHex(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function RGBtoHex(e){let{r:t,g:n,b:r,a:o}=e;return`#${[toHex(t),toHex(n),toHex(r),o!==void 0?toHex(Math.round(o*255)):""].join("")}`}function HexToRGB(e){e=parseHex(e);let[t,n,r,o]=chunk(e,2).map(s=>parseInt(s,16));return o=o===void 0?o:o/255,{r:t,g:n,b:r,a:o}}function HexToHSV(e){const t=HexToRGB(e);return RGBtoHSV(t)}function HSVtoHex(e){return RGBtoHex(HSVtoRGB(e))}function parseHex(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=padEnd(padEnd(e,6),8,"F")),e}function lighten(e,t){const n=fromXYZ$1(toXYZ(e));return n[0]=n[0]+t*10,fromXYZ(toXYZ$1(n))}function darken(e,t){const n=fromXYZ$1(toXYZ(e));return n[0]=n[0]-t*10,fromXYZ(toXYZ$1(n))}function getLuma(e){const t=parseColor(e);return toXYZ(t)[1]}function getContrast(e,t){const n=getLuma(e),r=getLuma(t),o=Math.max(n,r),s=Math.min(n,r);return(o+.05)/(s+.05)}function propsFactory(e,t){return n=>Object.keys(e).reduce((r,o)=>{const a=typeof e[o]=="object"&&e[o]!=null&&!Array.isArray(e[o])?e[o]:{type:e[o]};return n&&o in n?r[o]={...a,default:n[o]}:r[o]=a,t&&!r[o].source&&(r[o].source=t),r},{})}const makeComponentProps=propsFactory({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function defineComponent(e){var t,n;if(e._setup=(t=e._setup)!=null?t:e.setup,!e.name)return e;if(e._setup){e.props=propsFactory((n=e.props)!=null?n:{},e.name)();const r=Object.keys(e.props);e.filterProps=function(s){return pick(s,r,["class","style"])},e.props._as=String,e.setup=function(s,a){var v;const c=injectDefaults();if(!c.value)return e._setup(s,a);const{props:d,provideSubDefaults:f}=internalUseDefaults(s,(v=s._as)!=null?v:e.name,c),m=e._setup(d,a);return f(),m}}return e}function genericComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?defineComponent:defineComponent$1)(t)}function createSimpleFunctional(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return genericComponent()({name:n!=null?n:capitalize(camelize(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...makeComponentProps()},setup(r,o){let{slots:s}=o;return()=>{var a;return h(r.tag,{class:[e,r.class],style:r.style},(a=s.default)==null?void 0:a.call(s))}}})}function attachedRoot(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const standardEasing="cubic-bezier(0.4, 0, 0.2, 1)",deceleratedEasing="cubic-bezier(0.0, 0, 0.2, 1)",acceleratedEasing="cubic-bezier(0.4, 0, 1, 1)";function getCurrentInstance(e,t){const n=getCurrentInstance$1();if(!n)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return n}function getCurrentInstanceName(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=getCurrentInstance(e).type;return toKebabCase((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let _uid=0,_map=new WeakMap;function getUid(){const e=getCurrentInstance("getUid");if(_map.has(e))return _map.get(e);{const t=_uid++;return _map.set(e,t),t}}getUid.reset=()=>{_uid=0,_map=new WeakMap};function getScrollParent(e){for(;e;){if(hasScrollbar(e))return e;e=e.parentElement}return document.scrollingElement}function getScrollParents(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(hasScrollbar(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function hasScrollbar(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}const IN_BROWSER=typeof window<"u",SUPPORTS_INTERSECTION=IN_BROWSER&&"IntersectionObserver"in window,SUPPORTS_TOUCH=IN_BROWSER&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),SUPPORTS_FOCUS_VISIBLE=IN_BROWSER&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports("selector(:focus-visible)");function injectSelf(e){const{provides:t}=getCurrentInstance("injectSelf");if(t&&e in t)return t[e]}function isFixedPosition(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function useRender(e){const t=getCurrentInstance("useRender");t.render=e}const DefaultsSymbol=Symbol.for("vuetify:defaults");function createDefaults(e){return ref$1(e)}function injectDefaults(){const e=inject$1(DefaultsSymbol);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function provideDefaults(e,t){const n=injectDefaults(),r=ref$1(e),o=computed(()=>{if(unref(t==null?void 0:t.disabled))return n.value;const a=unref(t==null?void 0:t.scoped),c=unref(t==null?void 0:t.reset),d=unref(t==null?void 0:t.root);let f=mergeDeep(r.value,{prev:n.value});if(a)return f;if(c||d){const m=Number(c||1/0);for(let v=0;v<=m&&!(!f||!("prev"in f));v++)f=f.prev;return f&&typeof d=="string"&&d in f&&(f=mergeDeep(mergeDeep(f,{prev:f}),f[d])),f}return f.prev?mergeDeep(f.prev,f):f});return provide(DefaultsSymbol,o),o}function propIsDefined(e,t){var n,r;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((r=e.props)==null?void 0:r[toKebabCase(t)])<"u"}function internalUseDefaults(){var d;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:injectDefaults();const r=getCurrentInstance("useDefaults");if(t=(d=t!=null?t:r.type.name)!=null?d:r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const o=computed(()=>{var f,m;return(m=n.value)==null?void 0:m[(f=e._as)!=null?f:t]}),s=new Proxy(e,{get(f,m){var _,y,C,S,I,T;const v=Reflect.get(f,m);return m==="class"||m==="style"?[(_=o.value)==null?void 0:_[m],v].filter(E=>E!=null):typeof m=="string"&&!propIsDefined(r.vnode,m)&&(T=(I=(y=o.value)==null?void 0:y[m])!=null?I:(S=(C=n.value)==null?void 0:C.global)==null?void 0:S[m])!=null?T:v}}),a=shallowRef();watchEffect(()=>{if(o.value){const f=Object.entries(o.value).filter(m=>{let[v]=m;return v.startsWith(v[0].toUpperCase())});f.length&&(a.value=Object.fromEntries(f))}});function c(){useToggleScope(a,()=>{var f,m;provideDefaults(mergeDeep((m=(f=injectSelf(DefaultsSymbol))==null?void 0:f.value)!=null?m:{},a.value))})}return{props:s,provideSubDefaults:c}}const breakpoints=["sm","md","lg","xl","xxl"],DisplaySymbol=Symbol.for("vuetify:display"),defaultDisplayOptions={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},parseDisplayOptions=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultDisplayOptions;return mergeDeep(defaultDisplayOptions,e)};function getClientWidth(e){return IN_BROWSER&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function getClientHeight(e){return IN_BROWSER&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function getPlatform(e){const t=IN_BROWSER&&!e?window.navigator.userAgent:"ssr";function n(C){return Boolean(t.match(C))}const r=n(/android/i),o=n(/iphone|ipad|ipod/i),s=n(/cordova/i),a=n(/electron/i),c=n(/chrome/i),d=n(/edge/i),f=n(/firefox/i),m=n(/opera/i),v=n(/win/i),_=n(/mac/i),y=n(/linux/i);return{android:r,ios:o,cordova:s,electron:a,chrome:c,edge:d,firefox:f,opera:m,win:v,mac:_,linux:y,touch:SUPPORTS_TOUCH,ssr:t==="ssr"}}function createDisplay(e,t){const{thresholds:n,mobileBreakpoint:r}=parseDisplayOptions(e),o=shallowRef(getClientHeight(t)),s=shallowRef(getPlatform(t)),a=reactive({}),c=shallowRef(getClientWidth(t));function d(){o.value=getClientHeight(),c.value=getClientWidth()}function f(){d(),s.value=getPlatform()}return watchEffect(()=>{const m=c.value<n.sm,v=c.value<n.md&&!m,_=c.value<n.lg&&!(v||m),y=c.value<n.xl&&!(_||v||m),C=c.value<n.xxl&&!(y||_||v||m),S=c.value>=n.xxl,I=m?"xs":v?"sm":_?"md":y?"lg":C?"xl":"xxl",T=typeof r=="number"?r:n[r],E=c.value<T;a.xs=m,a.sm=v,a.md=_,a.lg=y,a.xl=C,a.xxl=S,a.smAndUp=!m,a.mdAndUp=!(m||v),a.lgAndUp=!(m||v||_),a.xlAndUp=!(m||v||_||y),a.smAndDown=!(_||y||C||S),a.mdAndDown=!(y||C||S),a.lgAndDown=!(C||S),a.xlAndDown=!S,a.name=I,a.height=o.value,a.width=c.value,a.mobile=E,a.mobileBreakpoint=r,a.platform=s.value,a.thresholds=n}),IN_BROWSER&&window.addEventListener("resize",d,{passive:!0}),{...toRefs(a),update:f,ssr:!!t}}function useDisplay(){const e=inject$1(DisplaySymbol);if(!e)throw new Error("Could not find Vuetify display injection");return e}const aliases={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},mdi={component:e=>h(VClassIcon,{...e,class:"mdi"})},IconValue=[String,Function,Object,Array],IconSymbol=Symbol.for("vuetify:icons"),makeIconProps=propsFactory({icon:{type:IconValue},tag:{type:String,required:!0}},"icon"),VComponentIcon=genericComponent()({name:"VComponentIcon",props:makeIconProps(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return createVNode(e.tag,null,{default:()=>{var o;return[e.icon?createVNode(r,null,null):(o=n.default)==null?void 0:o.call(n)]}})}}}),VSvgIcon=defineComponent({name:"VSvgIcon",inheritAttrs:!1,props:makeIconProps(),setup(e,t){let{attrs:n}=t;return()=>createVNode(e.tag,mergeProps(n,{style:null}),{default:()=>[createVNode("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?createVNode("path",{d:r[0],"fill-opacity":r[1]},null):createVNode("path",{d:r},null)):createVNode("path",{d:e.icon},null)])]})}});defineComponent({name:"VLigatureIcon",props:makeIconProps(),setup(e){return()=>createVNode(e.tag,null,{default:()=>[e.icon]})}});const VClassIcon=defineComponent({name:"VClassIcon",props:makeIconProps(),setup(e){return()=>createVNode(e.tag,{class:e.icon},null)}}),defaultSets={svg:{component:VSvgIcon},class:{component:VClassIcon}};function createIcons(e){return mergeDeep({defaultSet:"mdi",sets:{...defaultSets,mdi},aliases:{...aliases,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},e)}const useIcon=e=>{const t=inject$1(IconSymbol);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:computed(()=>{var d;const r=unref(e);if(!r)return{component:VComponentIcon};let o=r;if(typeof o=="string"&&(o=o.trim(),o.startsWith("$")&&(o=(d=t.aliases)==null?void 0:d[o.slice(1)])),!o)throw new Error(`Could not find aliased icon "${r}"`);if(Array.isArray(o))return{component:VSvgIcon,icon:o};if(typeof o!="string")return{component:VComponentIcon,icon:o};const s=Object.keys(t.sets).find(f=>typeof o=="string"&&o.startsWith(`${f}:`)),a=s?o.slice(s.length+1):o;return{component:t.sets[s!=null?s:t.defaultSet].component,icon:a}})}},en={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},defaultRtl={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1};function useProxiedModel(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v=>v,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:v=>v;const s=getCurrentInstance("useProxiedModel"),a=ref$1(e[t]!==void 0?e[t]:n),c=toKebabCase(t),f=computed(c!==t?()=>{var v,_,y,C;return e[t],!!((((v=s.vnode.props)==null?void 0:v.hasOwnProperty(t))||((_=s.vnode.props)==null?void 0:_.hasOwnProperty(c)))&&(((y=s.vnode.props)==null?void 0:y.hasOwnProperty(`onUpdate:${t}`))||((C=s.vnode.props)==null?void 0:C.hasOwnProperty(`onUpdate:${c}`))))}:()=>{var v,_;return e[t],!!(((v=s.vnode.props)==null?void 0:v.hasOwnProperty(t))&&((_=s.vnode.props)==null?void 0:_.hasOwnProperty(`onUpdate:${t}`)))});useToggleScope(()=>!f.value,()=>{watch(()=>e[t],v=>{a.value=v})});const m=computed({get(){const v=e[t];return r(f.value?v:a.value)},set(v){const _=o(v),y=toRaw(f.value?e[t]:a.value);y===_||r(y)===v||(a.value=_,s==null||s.emit(`update:${t}`,_))}});return Object.defineProperty(m,"externalValue",{get:()=>f.value?e[t]:a.value}),m}const LANG_PREFIX="$vuetify.",replace=(e,t)=>e.replace(/\{(\d+)\}/g,(n,r)=>String(t[+r])),createTranslateFunction=(e,t,n)=>function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if(!r.startsWith(LANG_PREFIX))return replace(r,s);const c=r.replace(LANG_PREFIX,""),d=e.value&&n.value[e.value],f=t.value&&n.value[t.value];let m=getObjectValueByPath(d,c,null);return m||(`${r}${e.value}`,m=getObjectValueByPath(f,c,null)),m||(m=r),typeof m!="string"&&(m=r),replace(m,s)};function createNumberFunction(e,t){return(n,r)=>new Intl.NumberFormat([e.value,t.value],r).format(n)}function useProvided(e,t,n){var o,s;const r=useProxiedModel(e,t,(o=e[t])!=null?o:n.value);return r.value=(s=e[t])!=null?s:n.value,watch(n,a=>{e[t]==null&&(r.value=n.value)}),r}function createProvideFunction(e){return t=>{const n=useProvided(t,"locale",e.current),r=useProvided(t,"fallback",e.fallback),o=useProvided(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:o,t:createTranslateFunction(n,r,o),n:createNumberFunction(n,r),provide:createProvideFunction({current:n,fallback:r,messages:o})}}}function createVuetifyAdapter(e){var o,s;const t=shallowRef((o=e==null?void 0:e.locale)!=null?o:"en"),n=shallowRef((s=e==null?void 0:e.fallback)!=null?s:"en"),r=ref$1({en,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:r,t:createTranslateFunction(t,n,r),n:createNumberFunction(t,n),provide:createProvideFunction({current:t,fallback:n,messages:r})}}const LocaleSymbol=Symbol.for("vuetify:locale");function isLocaleInstance(e){return e.name!=null}function createLocale(e){const t=(e==null?void 0:e.adapter)&&isLocaleInstance(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:createVuetifyAdapter(e),n=createRtl(t,e);return{...t,...n}}function useLocale(){const e=inject$1(LocaleSymbol);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function createRtl(e,t){var o;const n=ref$1((o=t==null?void 0:t.rtl)!=null?o:defaultRtl),r=computed(()=>{var s;return(s=n.value[e.current.value])!=null?s:!1});return{isRtl:r,rtl:n,rtlClasses:computed(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function useRtl(){const e=inject$1(LocaleSymbol);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const mainTRC=2.4,Rco=.2126729,Gco=.7151522,Bco=.072175,normBG=.55,normTXT=.58,revTXT=.57,revBG=.62,blkThrs=.03,blkClmp=1.45,deltaYmin=5e-4,scaleBoW=1.25,scaleWoB=1.25,loConThresh=.078,loConFactor=12.82051282051282,loConOffset=.06,loClip=.001;function APCAcontrast(e,t){const n=(e.r/255)**mainTRC,r=(e.g/255)**mainTRC,o=(e.b/255)**mainTRC,s=(t.r/255)**mainTRC,a=(t.g/255)**mainTRC,c=(t.b/255)**mainTRC;let d=n*Rco+r*Gco+o*Bco,f=s*Rco+a*Gco+c*Bco;if(d<=blkThrs&&(d+=(blkThrs-d)**blkClmp),f<=blkThrs&&(f+=(blkThrs-f)**blkClmp),Math.abs(f-d)<deltaYmin)return 0;let m;if(f>d){const v=(f**normBG-d**normTXT)*scaleBoW;m=v<loClip?0:v<loConThresh?v-v*loConFactor*loConOffset:v-loConOffset}else{const v=(f**revBG-d**revTXT)*scaleWoB;m=v>-loClip?0:v>-loConThresh?v-v*loConFactor*loConOffset:v+loConOffset}return m*100}const ThemeSymbol=Symbol.for("vuetify:theme"),makeThemeProps=propsFactory({theme:String},"theme"),defaultThemeOptions={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function parseThemeOptions(){var n,r,o;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultThemeOptions;if(!e)return{...defaultThemeOptions,isDisabled:!0};const t={};for(const[s,a]of Object.entries((n=e.themes)!=null?n:{})){const c=a.dark||s==="dark"?(r=defaultThemeOptions.themes)==null?void 0:r.dark:(o=defaultThemeOptions.themes)==null?void 0:o.light;t[s]=mergeDeep(c,a)}return mergeDeep(defaultThemeOptions,{...e,themes:t})}function createTheme(e){const t=reactive(parseThemeOptions(e)),n=ref$1(t.defaultTheme),r=ref$1(t.themes),o=computed(()=>{const m={};for(const[v,_]of Object.entries(r.value)){const y=m[v]={..._,colors:{..._.colors}};if(t.variations)for(const C of t.variations.colors){const S=y.colors[C];if(!!S)for(const I of["lighten","darken"]){const T=I==="lighten"?lighten:darken;for(const E of createRange(t.variations[I],1))y.colors[`${C}-${I}-${E}`]=RGBtoHex(T(parseColor(S),E))}}for(const C of Object.keys(y.colors)){if(/^on-[a-z]/.test(C)||y.colors[`on-${C}`])continue;const S=`on-${C}`,I=parseColor(y.colors[C]),T=Math.abs(APCAcontrast(parseColor(0),I)),E=Math.abs(APCAcontrast(parseColor(16777215),I));y.colors[S]=E>Math.min(T,50)?"#fff":"#000"}}return m}),s=computed(()=>o.value[n.value]),a=computed(()=>{const m=[];s.value.dark&&createCssClass(m,":root",["color-scheme: dark"]),createCssClass(m,":root",genCssVariables(s.value));for(const[C,S]of Object.entries(o.value))createCssClass(m,`.v-theme--${C}`,[`color-scheme: ${S.dark?"dark":"normal"}`,...genCssVariables(S)]);const v=[],_=[],y=new Set(Object.values(o.value).flatMap(C=>Object.keys(C.colors)));for(const C of y)/^on-[a-z]/.test(C)?createCssClass(_,`.${C}`,[`color: rgb(var(--v-theme-${C})) !important`]):(createCssClass(v,`.bg-${C}`,[`--v-theme-overlay-multiplier: var(--v-theme-${C}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${C})) !important`,`color: rgb(var(--v-theme-on-${C})) !important`]),createCssClass(_,`.text-${C}`,[`color: rgb(var(--v-theme-${C})) !important`]),createCssClass(_,`.border-${C}`,[`--v-border-color: var(--v-theme-${C})`]));return m.push(...v,..._),m.map((C,S)=>S===0?C:`    ${C}`).join("")});function c(){return{style:[{children:a.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function d(m){if(t.isDisabled)return;const v=m._context.provides.usehead;if(v)if(v.push){const y=v.push(c);watch(a,()=>{y.patch(c)})}else IN_BROWSER?(v.addHeadObjs(computed(c)),watchEffect(()=>v.updateDOM())):v.addHeadObjs(c());else{let C=function(){if(typeof document<"u"&&!y){const S=document.createElement("style");S.type="text/css",S.id="vuetify-theme-stylesheet",t.cspNonce&&S.setAttribute("nonce",t.cspNonce),y=S,document.head.appendChild(y)}y&&(y.innerHTML=a.value)};var _=C;let y=IN_BROWSER?document.getElementById("vuetify-theme-stylesheet"):null;watch(a,C,{immediate:!0})}}const f=computed(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:d,isDisabled:t.isDisabled,name:n,themes:r,current:s,computedThemes:o,themeClasses:f,styles:a,global:{name:n,current:s}}}function provideTheme(e){getCurrentInstance("provideTheme");const t=inject$1(ThemeSymbol,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=computed(()=>{var s;return(s=e.theme)!=null?s:t==null?void 0:t.name.value}),r=computed(()=>t.isDisabled?void 0:`v-theme--${n.value}`),o={...t,name:n,themeClasses:r};return provide(ThemeSymbol,o),o}function createCssClass(e,t,n){e.push(`${t} {
`,...n.map(r=>`  ${r};
`),`}
`)}function genCssVariables(e){const t=e.dark?2:1,n=e.dark?1:2,r=[];for(const[o,s]of Object.entries(e.colors)){const a=parseColor(s);r.push(`--v-theme-${o}: ${a.r},${a.g},${a.b}`),o.startsWith("on-")||r.push(`--v-theme-${o}-overlay-multiplier: ${getLuma(s)>.18?t:n}`)}for(const[o,s]of Object.entries(e.variables)){const a=typeof s=="string"&&s.startsWith("#")?parseColor(s):void 0,c=a?`${a.r}, ${a.g}, ${a.b}`:void 0;r.push(`--v-${o}: ${c!=null?c:s}`)}return r}function getWeekArray(e){let t=[];const n=[],r=startOfMonth(e),o=endOfMonth(e);for(let s=0;s<r.getDay();s++)t.push(null);for(let s=1;s<=o.getDate();s++){const a=new Date(e.getFullYear(),e.getMonth(),s);t.push(a),t.length===7&&(n.push(t),t=[])}for(let s=t.length;s<7;s++)t.push(null);return n.push(t),n}function startOfMonth(e){return new Date(e.getFullYear(),e.getMonth(),1)}function endOfMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function date(e){if(e==null)return null;if(e instanceof Date)return e;if(typeof e=="string"){const t=Date.parse(e);if(!isNaN(t))return new Date(t)}return null}const firstDay={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:0,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:0,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0},sundayJanuarySecond2000=new Date(2e3,0,2);function getWeekdays(e){const t=firstDay[e.slice(-2).toUpperCase()];return createRange(7).map(n=>{const r=new Date(sundayJanuarySecond2000);return r.setDate(sundayJanuarySecond2000.getDate()+t+n),new Intl.DateTimeFormat(e,{weekday:"long"}).format(r)})}function format$1(e,t,n){const r=new Date(e);let o={};switch(t){case"fullDateWithWeekday":o={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short",year:"numeric"};break;case"keyboardDate":o={};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;default:o={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(r)}function addDays(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function addMonths(e,t){const n=new Date(e);return n.setMonth(n.getMonth()+t),n}function getYear(e){return e.getFullYear()}function getMonth(e){return e.getMonth()}function startOfYear(e){return new Date(e.getFullYear(),0,1)}function endOfYear(e){return new Date(e.getFullYear(),11,31)}function getMondayOfFirstWeekOfYear(e){return new Date(e,0,1)}function getWeek(e){let t=e.getFullYear(),n=getMondayOfFirstWeekOfYear(t);if(e<n)t=t-1,n=getMondayOfFirstWeekOfYear(t);else{const s=getMondayOfFirstWeekOfYear(t+1);e>=s&&(t=t+1,n=s)}const r=Math.abs(e.getTime()-n.getTime()),o=Math.ceil(r/(1e3*60*60*24));return Math.floor(o/7)+1}function isWithinRange(e,t){return isAfter(e,t[0])&&isBefore(e,t[1])}function isValid$1(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function isAfter(e,t){return e.getTime()>t.getTime()}function isBefore(e,t){return e.getTime()<t.getTime()}function isEqual(e,t){return e.getTime()===t.getTime()}function isSameDay(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function isSameMonth(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function getDiff(e,t,n){const r=new Date(e),o=new Date(t);return n==="month"?r.getMonth()-o.getMonth()+(r.getFullYear()-o.getFullYear())*12:Math.floor((r.getTime()-o.getTime())/(1e3*60*60*24))}function setYear(e,t){const n=new Date(e);return n.setFullYear(t),n}class VuetifyDateAdapter{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en";this.locale=t}date(t){return date(t)}addDays(t,n){return addDays(t,n)}addMonths(t,n){return addMonths(t,n)}getWeekArray(t){return getWeekArray(t)}startOfMonth(t){return startOfMonth(t)}endOfMonth(t){return endOfMonth(t)}format(t,n){return format$1(t,n,this.locale)}isEqual(t,n){return isEqual(t,n)}isValid(t){return isValid$1(t)}isWithinRange(t,n){return isWithinRange(t,n)}isAfter(t,n){return isAfter(t,n)}isSameDay(t,n){return isSameDay(t,n)}isSameMonth(t,n){return isSameMonth(t,n)}setYear(t,n){return setYear(t,n)}getDiff(t,n,r){return getDiff(t,n,r)}getWeek(t){return getWeek(t)}getWeekdays(){return getWeekdays(this.locale)}getYear(t){return getYear(t)}getMonth(t){return getMonth(t)}startOfYear(t){return startOfYear(t)}endOfYear(t){return endOfYear(t)}}const DateAdapterSymbol=Symbol.for("vuetify:date-adapter");function createDate(e){return e!=null?e:{adapter:VuetifyDateAdapter}}function useResizeObserver(e){const t=ref$1(),n=ref$1();if(IN_BROWSER){const r=new ResizeObserver(o=>{e==null||e(o,r),o.length&&(n.value=o[0].contentRect)});onBeforeUnmount(()=>{r.disconnect()}),watch(t,(o,s)=>{s&&(r.unobserve(refElement(s)),n.value=void 0),o&&r.observe(refElement(o))},{flush:"post"})}return{resizeRef:t,contentRect:readonly(n)}}const VuetifyLayoutKey=Symbol.for("vuetify:layout"),VuetifyLayoutItemKey=Symbol.for("vuetify:layout-item"),ROOT_ZINDEX=1e3,makeLayoutProps=propsFactory({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),makeLayoutItemProps=propsFactory({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function useLayout(){const e=inject$1(VuetifyLayoutKey);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function useLayoutItem(e){var c;const t=inject$1(VuetifyLayoutKey);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=(c=e.id)!=null?c:`layout-item-${getUid()}`,r=getCurrentInstance("useLayoutItem");provide(VuetifyLayoutItemKey,{id:n});const o=shallowRef(!1);onDeactivated(()=>o.value=!0),onActivated(()=>o.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:a}=t.register(r,{...e,active:computed(()=>o.value?!1:e.active.value),id:n});return onBeforeUnmount(()=>t.unregister(n)),{layoutItemStyles:s,layoutRect:t.layoutRect,layoutItemScrimStyles:a}}const generateLayers=(e,t,n,r)=>{let o={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...o}}];for(const a of e){const c=t.get(a),d=n.get(a),f=r.get(a);if(!c||!d||!f)continue;const m={...o,[c.value]:parseInt(o[c.value],10)+(f.value?parseInt(d.value,10):0)};s.push({id:a,layer:m}),o=m}return s};function createLayout(e){const t=inject$1(VuetifyLayoutKey,null),n=computed(()=>t?t.rootZIndex.value-100:ROOT_ZINDEX),r=ref$1([]),o=reactive(new Map),s=reactive(new Map),a=reactive(new Map),c=reactive(new Map),d=reactive(new Map),{resizeRef:f,contentRect:m}=useResizeObserver(),v=computed(()=>{var D;const R=new Map,M=(D=e.overlaps)!=null?D:[];for(const B of M.filter(U=>U.includes(":"))){const[U,j]=B.split(":");if(!r.value.includes(U)||!r.value.includes(j))continue;const z=o.get(U),W=o.get(j),$=s.get(U),te=s.get(j);!z||!W||!$||!te||(R.set(j,{position:z.value,amount:parseInt($.value,10)}),R.set(U,{position:W.value,amount:-parseInt(te.value,10)}))}return R}),_=computed(()=>{const R=[...new Set([...a.values()].map(D=>D.value))].sort((D,B)=>D-B),M=[];for(const D of R){const B=r.value.filter(U=>{var j;return((j=a.get(U))==null?void 0:j.value)===D});M.push(...B)}return generateLayers(M,o,s,c)}),y=computed(()=>!Array.from(d.values()).some(R=>R.value)),C=computed(()=>_.value[_.value.length-1].layer),S=computed(()=>({"--v-layout-left":convertToUnit(C.value.left),"--v-layout-right":convertToUnit(C.value.right),"--v-layout-top":convertToUnit(C.value.top),"--v-layout-bottom":convertToUnit(C.value.bottom),...y.value?void 0:{transition:"none"}})),I=computed(()=>_.value.slice(1).map((R,M)=>{let{id:D}=R;const{layer:B}=_.value[M],U=s.get(D),j=o.get(D);return{id:D,...B,size:Number(U.value),position:j.value}})),T=R=>I.value.find(M=>M.id===R),E=getCurrentInstance("createLayout"),x=shallowRef(!1);onMounted(()=>{x.value=!0}),provide(VuetifyLayoutKey,{register:(R,M)=>{let{id:D,order:B,position:U,layoutSize:j,elementSize:z,active:W,disableTransitions:$,absolute:te}=M;a.set(D,B),o.set(D,U),s.set(D,j),c.set(D,W),$&&d.set(D,$);const ue=findChildrenWithProvide(VuetifyLayoutItemKey,E==null?void 0:E.vnode).indexOf(R);ue>-1?r.value.splice(ue,0,D):r.value.push(D);const K=computed(()=>I.value.findIndex(Ee=>Ee.id===D)),pe=computed(()=>n.value+_.value.length*2-K.value*2),de=computed(()=>{const Ee=U.value==="left"||U.value==="right",Ue=U.value==="right",$e=U.value==="bottom",Qe={[U.value]:0,zIndex:pe.value,transform:`translate${Ee?"X":"Y"}(${(W.value?0:-110)*(Ue||$e?-1:1)}%)`,position:te.value||n.value!==ROOT_ZINDEX?"absolute":"fixed",...y.value?void 0:{transition:"none"}};if(!x.value)return Qe;const ie=I.value[K.value];if(!ie)throw new Error(`[Vuetify] Could not find layout item "${D}"`);const Y=v.value.get(D);return Y&&(ie[Y.position]+=Y.amount),{...Qe,height:Ee?`calc(100% - ${ie.top}px - ${ie.bottom}px)`:z.value?`${z.value}px`:void 0,left:Ue?void 0:`${ie.left}px`,right:Ue?`${ie.right}px`:void 0,top:U.value!=="bottom"?`${ie.top}px`:void 0,bottom:U.value!=="top"?`${ie.bottom}px`:void 0,width:Ee?z.value?`${z.value}px`:void 0:`calc(100% - ${ie.left}px - ${ie.right}px)`}}),me=computed(()=>({zIndex:pe.value-1}));return{layoutItemStyles:de,layoutItemScrimStyles:me,zIndex:pe}},unregister:R=>{a.delete(R),o.delete(R),s.delete(R),c.delete(R),d.delete(R),r.value=r.value.filter(M=>M!==R)},mainRect:C,mainStyles:S,getLayoutItem:T,items:I,layoutRect:m,rootZIndex:n});const P=computed(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),V=computed(()=>({zIndex:n.value,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:P,layoutStyles:V,getLayoutItem:T,items:I,layoutRect:m,layoutRef:f}}function createVuetify(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,r=mergeDeep(t,n),{aliases:o={},components:s={},directives:a={}}=r,c=createDefaults(r.defaults),d=createDisplay(r.display,r.ssr),f=createTheme(r.theme),m=createIcons(r.icons),v=createLocale(r.locale),_=createDate(r.date);return{install:C=>{for(const S in a)C.directive(S,a[S]);for(const S in s)C.component(S,s[S]);for(const S in o)C.component(S,defineComponent({...o[S],name:S,aliasName:o[S].name}));if(f.install(C),C.provide(DefaultsSymbol,c),C.provide(DisplaySymbol,d),C.provide(ThemeSymbol,f),C.provide(IconSymbol,m),C.provide(LocaleSymbol,v),C.provide(DateAdapterSymbol,_),IN_BROWSER&&r.ssr)if(C.$nuxt)C.$nuxt.hook("app:suspense:resolve",()=>{d.update()});else{const{mount:S}=C;C.mount=function(){const I=S(...arguments);return nextTick(()=>d.update()),C.mount=S,I}}getUid.reset(),C.mixin({computed:{$vuetify(){return reactive({defaults:inject.call(this,DefaultsSymbol),display:inject.call(this,DisplaySymbol),theme:inject.call(this,ThemeSymbol),icons:inject.call(this,IconSymbol),locale:inject.call(this,LocaleSymbol),date:inject.call(this,DateAdapterSymbol)})}}})},defaults:c,display:d,theme:f,icons:m,locale:v,date:_}}const version$4="3.3.3";createVuetify.version=version$4;function inject(e){var r,o,s;const t=this.$,n=(s=(r=t.parent)==null?void 0:r.provides)!=null?s:(o=t.vnode.appContext)==null?void 0:o.provides;if(n&&e in n)return n[e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const assert=function(e,t){if(!e)throw assertionError(t)},assertionError=function(e){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},byteArrayToString=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=e[n++],a=e[n++],c=e[n++],d=((o&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(d>>10)),t[r++]=String.fromCharCode(56320+(d&1023))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},base64$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const s=e[o],a=o+1<e.length,c=a?e[o+1]:0,d=o+2<e.length,f=d?e[o+2]:0,m=s>>2,v=(s&3)<<4|c>>4;let _=(c&15)<<2|f>>6,y=f&63;d||(y=64,a||(_=64)),r.push(n[m],n[v],n[_],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(stringToByteArray$1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):byteArrayToString(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const s=n[e.charAt(o++)],c=o<e.length?n[e.charAt(o)]:0;++o;const f=o<e.length?n[e.charAt(o)]:64;++o;const v=o<e.length?n[e.charAt(o)]:64;if(++o,s==null||c==null||f==null||v==null)throw new DecodeBase64StringError;const _=s<<2|c>>4;if(r.push(_),f!==64){const y=c<<4&240|f>>2;if(r.push(y),v!==64){const C=f<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(e){const t=stringToByteArray$1(e);return base64$2.encodeByteArray(t,!0)},base64urlEncodeWithoutPadding=function(e){return base64Encode(e).replace(/\./g,"")},base64Decode=function(e){try{return base64$2.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deepCopy(e){return deepExtend(void 0,e)}function deepExtend(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!isValidKey$1(n)||(e[n]=deepExtend(e[n],t[n]));return e}function isValidKey$1(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof{}>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&base64Decode(e[1]);return t&&JSON.parse(t)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},getDefaultEmulatorHost=e=>{var t,n;return(n=(t=getDefaults())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},getDefaultEmulatorHostnameAndPort=e=>{const t=getDefaultEmulatorHost(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},getDefaultAppConfig=()=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e.config},getExperimentalSetting=e=>{var t;return(t=getDefaults())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[base64urlEncodeWithoutPadding(JSON.stringify(n)),base64urlEncodeWithoutPadding(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const e=getUA();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function isNodeSdk(){return CONSTANTS.NODE_ADMIN===!0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,s=this.errors[t],a=s?replaceTemplate(s,r):"Error",c=`${this.serviceName}: ${a} (${o}).`;return new FirebaseError(o,c,r)}}function replaceTemplate(e,t){return e.replace(PATTERN,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval(e){return JSON.parse(e)}function stringify(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const decode$2=function(e){let t={},n={},r={},o="";try{const s=e.split(".");t=jsonEval(base64Decode(s[0])||""),n=jsonEval(base64Decode(s[1])||""),o=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:o}},isValidFormat=function(e){const t=decode$2(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},isAdmin=function(e){const t=decode$2(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function safeGet(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function isEmpty(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function map$1(e,t,n){const r={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}function deepEqual(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const s=e[o],a=t[o];if(isObject$1(s)&&isObject$1(a)){if(!deepEqual(s,a))return!1}else if(s!==a)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function isObject$1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function querystringDecode(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,s]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(s)}}),t}function extractQuerystring(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)r[v]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)r[v]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let v=16;v<80;v++){const _=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],d=this.chain_[4],f,m;for(let v=0;v<80;v++){v<40?v<20?(f=c^s&(a^c),m=1518500249):(f=s^a^c,m=1859775393):v<60?(f=s&a|c&(s|a),m=2400959708):(f=s^a^c,m=3395469782);const _=(o<<5|o>>>27)+f+d+m+r[v]&4294967295;d=c,c=a,a=(s<<30|s>>>2)&4294967295,s=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let o=0;const s=this.buf_;let a=this.inbuf_;for(;o<n;){if(a===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<n;)if(s[a]=t.charCodeAt(o),++a,++o,a===this.blockSize){this.compress_(s),a=0;break}}else for(;o<n;)if(s[a]=t[o],++a,++o,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[o]>>s&255,++r;return t}}function createSubscribe(e,t){const n=new ObserverProxy(e,t);return n.subscribe.bind(n)}class ObserverProxy{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");implementsAnyMethods(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=noop$1),o.error===void 0&&(o.error=noop$1),o.complete===void 0&&(o.complete=noop$1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function noop$1(){}function errorPrefix(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const s=o-55296;r++,assert(r<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(r)-56320;o=65536+(s<<10)+a}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},stringLength=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(e){return e&&e._delegate?e._delegate:e}class Component{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Deferred;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(isComponentEager(t))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(t=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=DEFAULT_ENTRY_NAME$1){return this.instances.has(t)}getOptions(t=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(o)}return o}onInit(t,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);const a=this.instances.get(o);return a&&t(a,o),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?t:DEFAULT_ENTRY_NAME$1:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(e){return e===DEFAULT_ENTRY_NAME$1?void 0:e}function isComponentEager(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Provider(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=ConsoleMethod[t];if(o)console[o](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Logger{constructor(t){this.name=t,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in LogLevel))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?levelStringToEnum[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...t),this._logHandler(this,LogLevel.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...t),this._logHandler(this,LogLevel.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...t),this._logHandler(this,LogLevel.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...t),this._logHandler(this,LogLevel.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...t),this._logHandler(this,LogLevel.ERROR,...t)}}const instanceOfAny=(e,t)=>t.some(n=>e instanceof n);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(wrap(e.result)),o()},a=()=>{r(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&cursorRequestMap.set(n,e)}).catch(()=>{}),reverseTransformCache.set(t,e),t}function cacheDonePromiseForTransaction(e){if(transactionDoneMap.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),o()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});transactionDoneMap.set(e,t)}let idbProxyTraps={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return transactionDoneMap.get(e);if(t==="objectStoreNames")return e.objectStoreNames||transactionStoreNamesMap.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wrap(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function replaceTraps(e){idbProxyTraps=e(idbProxyTraps)}function wrapFunction(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(unwrap(this),t,...n);return transactionStoreNamesMap.set(r,t.sort?t.sort():[t]),wrap(r)}:getCursorAdvanceMethods().includes(e)?function(...t){return e.apply(unwrap(this),t),wrap(cursorRequestMap.get(this))}:function(...t){return wrap(e.apply(unwrap(this),t))}}function transformCachableValue(e){return typeof e=="function"?wrapFunction(e):(e instanceof IDBTransaction&&cacheDonePromiseForTransaction(e),instanceOfAny(e,getIdbProxyableTypes())?new Proxy(e,idbProxyTraps):e)}function wrap(e){if(e instanceof IDBRequest)return promisifyRequest(e);if(transformCache.has(e))return transformCache.get(e);const t=transformCachableValue(e);return t!==e&&(transformCache.set(e,t),reverseTransformCache.set(t,e)),t}const unwrap=e=>reverseTransformCache.get(e);function openDB(e,t,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const a=indexedDB.open(e,t),c=wrap(a);return r&&a.addEventListener("upgradeneeded",d=>{r(wrap(a.result),d.oldVersion,d.newVersion,wrap(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),o&&d.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(cachedMethods.get(t))return cachedMethods.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=writeMethods.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||readMethods.includes(n)))return;const s=async function(a,...c){const d=this.transaction(a,o?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),o&&d.done]))[0]};return cachedMethods.set(t,s),s}replaceTraps(e=>({...e,get:(t,n,r)=>getMethod(t,n)||e.get(t,n,r),has:(t,n)=>!!getMethod(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(isVersionServiceProvider(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function isVersionServiceProvider(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3$1="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$3="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3$1]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(e,t){try{e.container.addComponent(t)}catch(n){logger$1.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _registerComponent(e){const t=e.name;if(_components.has(t))return logger$1.debug(`There were multiple attempts to register component ${t}.`),!1;_components.set(t,e);for(const n of _apps.values())_addComponent(n,e);return!0}function _getProvider(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION$1=version$3;function initializeApp(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw ERROR_FACTORY.create("bad-app-name",{appName:String(o)});if(n||(n=getDefaultAppConfig()),!n)throw ERROR_FACTORY.create("no-options");const s=_apps.get(o);if(s){if(deepEqual(n,s.options)&&deepEqual(r,s.config))return s;throw ERROR_FACTORY.create("duplicate-app",{appName:o})}const a=new ComponentContainer(o);for(const d of _components.values())a.addComponent(d);const c=new FirebaseAppImpl(n,r,a);return _apps.set(o,c),c}function getApp(e=DEFAULT_ENTRY_NAME){const t=_apps.get(e);if(!t&&e===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!t)throw ERROR_FACTORY.create("no-app",{appName:e});return t}function registerVersion(e,t,n){var r;let o=(r=PLATFORM_LOG_STRING[e])!==null&&r!==void 0?r:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const c=[`Unable to register library "${o}" with version "${t}":`];s&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),logger$1.warn(c.join(" "));return}_registerComponent(new Component(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(STORE_NAME)}}}).catch(e=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:e.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(e){try{return await(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(e))}catch(t){if(t instanceof FirebaseError)logger$1.warn(t.message);else{const n=ERROR_FACTORY.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});logger$1.warn(n.message)}}}async function writeHeartbeatsToIndexedDB(e,t){try{const r=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await r.objectStore(STORE_NAME).put(t,computeKey(e)),await r.done}catch(n){if(n instanceof FirebaseError)logger$1.warn(n.message);else{const r=ERROR_FACTORY.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});logger$1.warn(r.message)}}}function computeKey(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=getUTCDateString(),{heartbeatsToSend:n,unsentEntries:r}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),o=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(e,t=MAX_HEADER_BYTES){const n=[];let r=e.slice();for(const o of e){const s=n.find(a=>a.agent===o.agent);if(s){if(s.dates.push(o.date),countBytes(n)>t){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),countBytes(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HeartbeatStorageImpl{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function countBytes(e){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(e){_registerComponent(new Component("platform-logger",t=>new PlatformLoggerServiceImpl(t),"PRIVATE")),_registerComponent(new Component("heartbeat",t=>new HeartbeatServiceImpl(t),"PRIVATE")),registerVersion(name$o,version$1$1,e),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$3="firebase",version$2="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$3,version$2,"app");const name$2="@firebase/database",version$1="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SDK_VERSION="";function setSDKVersion(e){SDK_VERSION=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DOMStorageWrapper{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),stringify(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:jsonEval(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return contains(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const createStoragefor=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new DOMStorageWrapper(t)}}catch{}return new MemoryStorage},PersistentStorage=createStoragefor("localStorage"),SessionStorage=createStoragefor("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient$1=new Logger("@firebase/database"),LUIDGenerator=function(){let e=1;return function(){return e++}}(),sha1=function(e){const t=stringToByteArray(e),n=new Sha1;n.update(t);const r=n.digest();return base64$2.encodeByteArray(r)},buildLogMessage_=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=buildLogMessage_.apply(null,r):typeof r=="object"?t+=stringify(r):t+=r,t+=" "}return t};let logger=null,firstLog_=!0;const enableLogging$1=function(e,t){assert(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(logClient$1.logLevel=LogLevel.VERBOSE,logger=logClient$1.log.bind(logClient$1),t&&SessionStorage.set("logging_enabled",!0)):typeof e=="function"?logger=e:(logger=null,SessionStorage.remove("logging_enabled"))},log=function(...e){if(firstLog_===!0&&(firstLog_=!1,logger===null&&SessionStorage.get("logging_enabled")===!0&&enableLogging$1(!0)),logger){const t=buildLogMessage_.apply(null,e);logger(t)}},logWrapper=function(e){return function(...t){log(e,...t)}},error=function(...e){const t="FIREBASE INTERNAL ERROR: "+buildLogMessage_(...e);logClient$1.error(t)},fatal=function(...e){const t=`FIREBASE FATAL ERROR: ${buildLogMessage_(...e)}`;throw logClient$1.error(t),new Error(t)},warn=function(...e){const t="FIREBASE WARNING: "+buildLogMessage_(...e);logClient$1.warn(t)},warnIfPageIsSecure=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},MIN_NAME="[MIN_NAME]",MAX_NAME="[MAX_NAME]",nameCompare=function(e,t){if(e===t)return 0;if(e===MIN_NAME||t===MAX_NAME)return-1;if(t===MIN_NAME||e===MAX_NAME)return 1;{const n=tryParseInt(e),r=tryParseInt(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},stringCompare=function(e,t){return e===t?0:e<t?-1:1},requireKey=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+stringify(t))},ObjectToUniqueKey=function(e){if(typeof e!="object"||e===null)return stringify(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=stringify(t[r]),n+=":",n+=ObjectToUniqueKey(e[t[r]]);return n+="}",n},splitStringBySize=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function each(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const doubleToIEEE754String=function(e){assert(!isInvalidJSONNumber(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let o,s,a,c,d;e===0?(s=0,a=0,o=1/e===-1/0?1:0):(o=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=c+r,a=Math.round(e*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));const f=[];for(d=n;d;d-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(d=t;d;d-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(o?1:0),f.reverse();const m=f.join("");let v="";for(d=0;d<64;d+=8){let _=parseInt(m.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},isChromeExtensionContentScript=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function errorForServerCode(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const INTEGER_REGEXP_=new RegExp("^-?(0*)\\d{1,10}$"),INTEGER_32_MIN=-2147483648,INTEGER_32_MAX=2147483647,tryParseInt=function(e){if(INTEGER_REGEXP_.test(e)){const t=Number(e);if(t>=INTEGER_32_MIN&&t<=INTEGER_32_MAX)return t}return null},exceptionGuard=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw warn("Exception was thrown by user callback.",n),t},Math.floor(0))}},beingCrawled=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AppCheckTokenProvider{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){warn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAuthTokenProvider{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn(t)}}class EmulatorTokenProvider{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}EmulatorTokenProvider.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PROTOCOL_VERSION="5",VERSION_PARAM="v",TRANSPORT_SESSION_PARAM="s",REFERER_PARAM="r",FORGE_REF="f",FORGE_DOMAIN_RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LAST_SESSION_PARAM="ls",APPLICATION_ID_PARAM="p",APP_CHECK_TOKEN_PARAM="ac",WEBSOCKET="websocket",LONG_POLLING="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RepoInfo{constructor(t,n,r,o,s=!1,a="",c=!1,d=!1){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=PersistentStorage.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&PersistentStorage.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function repoInfoNeedsQueryParam(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function repoInfoConnectionURL(e,t,n){assert(typeof t=="string","typeof type must == string"),assert(typeof n=="object","typeof params must == object");let r;if(t===WEBSOCKET)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===LONG_POLLING)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);repoInfoNeedsQueryParam(e)&&(n.ns=e.namespace);const o=[];return each(n,(s,a)=>{o.push(s+"="+a)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsCollection{constructor(){this.counters_={}}incrementCounter(t,n=1){contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return deepCopy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const collections={},reporters={};function statsManagerGetCollection(e){const t=e.toString();return collections[t]||(collections[t]=new StatsCollection),collections[t]}function statsManagerGetOrCreateReporter(e,t){const n=e.toString();return reporters[n]||(reporters[n]=t()),reporters[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PacketReceiver{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&exceptionGuard(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4;class BrowserPollConnection{constructor(t,n,r,o,s,a,c){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper(t),this.stats_=statsManagerGetCollection(n),this.urlFn=d=>(this.appCheckToken&&(d[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),repoInfoConnectionURL(n,LONG_POLLING,d))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new PacketReceiver(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LP_CONNECT_TIMEOUT)),executeWhenDOMReady(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder((...s)=>{const[a,c,d,f,m]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===FIREBASE_LONGPOLL_START_PARAM)this.id=c,this.password=d;else if(a===FIREBASE_LONGPOLL_CLOSE_COMMAND)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[FIREBASE_LONGPOLL_START_PARAM]="t",r[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=this.scriptTagHolder.uniqueCallbackIdentifier),r[VERSION_PARAM]=PROTOCOL_VERSION,this.transportSessionId&&(r[TRANSPORT_SESSION_PARAM]=this.transportSessionId),this.lastSessionId&&(r[LAST_SESSION_PARAM]=this.lastSessionId),this.applicationId&&(r[APPLICATION_ID_PARAM]=this.applicationId),this.appCheckToken&&(r[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(r[REFERER_PARAM]=FORGE_REF);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return BrowserPollConnection.forceAllow_?!0:!BrowserPollConnection.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!isChromeExtensionContentScript()&&!isWindowsStoreApp()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=stringify(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=base64Encode(n),o=splitStringBySize(r,MAX_PAYLOAD_SIZE);for(let s=0;s<o.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",r[FIREBASE_LONGPOLL_ID_PARAM]=t,r[FIREBASE_LONGPOLL_PW_PARAM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=stringify(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class FirebaseIFrameScriptHolder{constructor(t,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=t,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=n,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){log("frame writing exception"),c.stack&&log(c.stack),log(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||log("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,t[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,t[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;let n=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+SEG_HEADER_SIZE+r.length<=MAX_URL_DATA_SIZE;){const a=this.pendingSegs.shift();r=r+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+o+"="+a.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+o+"="+a.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+o+"="+a.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(KEEPALIVE_REQUEST_INTERVAL)),s=()=>{clearTimeout(o),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{log("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3;let WebSocketImpl=null;typeof MozWebSocket<"u"?WebSocketImpl=MozWebSocket:typeof WebSocket<"u"&&(WebSocketImpl=WebSocket);class WebSocketConnection{constructor(t,n,r,o,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(n),this.connURL=WebSocketConnection.connectionURL_(n,a,c,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,o,s){const a={};return a[VERSION_PARAM]=PROTOCOL_VERSION,typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(a[REFERER_PARAM]=FORGE_REF),n&&(a[TRANSPORT_SESSION_PARAM]=n),r&&(a[LAST_SESSION_PARAM]=r),o&&(a[APP_CHECK_TOKEN_PARAM]=o),s&&(a[APPLICATION_ID_PARAM]=s),repoInfoConnectionURL(t,WEBSOCKET,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,PersistentStorage.set("previous_websocket_failure",!0);try{let r;isNodeSdk(),this.mySock=new WebSocketImpl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&WebSocketImpl!==null&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return PersistentStorage.isInMemoryStorage||PersistentStorage.get("previous_websocket_failure")===!0}markConnectionHealthy(){PersistentStorage.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=jsonEval(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(assert(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=stringify(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=splitStringBySize(n,WEBSOCKET_MAX_FRAME_SIZE);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}WebSocketConnection.responsesRequiredToBeHealthy=2;WebSocketConnection.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransportManager{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=WebSocketConnection&&WebSocketConnection.isAvailable();let r=n&&!WebSocketConnection.previouslyFailed();if(t.webSocketOnly&&(n||warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[WebSocketConnection];else{const o=this.transports_=[];for(const s of TransportManager.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}TransportManager.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10*1024,BYTES_RECEIVED_HEALTHY_OVERRIDE=100*1024,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h";class Connection{constructor(t,n,r,o,s,a,c,d,f,m){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=d,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=setTimeoutNonBlocking(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(MESSAGE_TYPE in t){const n=t[MESSAGE_TYPE];n===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():n===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=requireKey("t",t),r=requireKey("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=requireKey("t",t),r=requireKey("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=requireKey(MESSAGE_TYPE,t);if(MESSAGE_DATA in t){const r=t[MESSAGE_DATA];if(n===SERVER_HELLO){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===CONTROL_SHUTDOWN?this.onConnectionShutdown_(r):n===CONTROL_RESET?this.onReset_(r):n===CONTROL_ERROR?error("Server Error: "+r):n===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),PROTOCOL_VERSION!==r&&warn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),setTimeoutNonBlocking(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UPGRADE_TIMEOUT))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ServerActions{put(t,n,r,o){}merge(t,n,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventEmitter{constructor(t){this.allowedEvents_=t,this.listeners_={},assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const o=this.getInitialEvent(t);o&&n.apply(r,o)}off(t,n,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let s=0;s<o.length;s++)if(o[s].callback===n&&(!r||r===o[s].context)){o.splice(s,1);return}}validateEventType_(t){assert(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnlineMonitor extends EventEmitter{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!isMobileCordova()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OnlineMonitor}getInitialEvent(t){return assert(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_PATH_DEPTH=32,MAX_PATH_LENGTH_BYTES=768;class Path{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function newEmptyPath(){return new Path("")}function pathGetFront(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pathGetLength(e){return e.pieces_.length-e.pieceNum_}function pathPopFront(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Path(e.pieces_,t)}function pathGetBack(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function pathToUrlEncodedString(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function pathSlice(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function pathParent(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Path(t,0)}function pathChild(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Path)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new Path(n,0)}function pathIsEmpty(e){return e.pieceNum_>=e.pieces_.length}function newRelativePath(e,t){const n=pathGetFront(e),r=pathGetFront(t);if(n===null)return t;if(n===r)return newRelativePath(pathPopFront(e),pathPopFront(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function pathCompare(e,t){const n=pathSlice(e,0),r=pathSlice(t,0);for(let o=0;o<n.length&&o<r.length;o++){const s=nameCompare(n[o],r[o]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function pathEquals(e,t){if(pathGetLength(e)!==pathGetLength(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function pathContains(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(pathGetLength(e)>pathGetLength(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class ValidationPath{constructor(t,n){this.errorPrefix_=n,this.parts_=pathSlice(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=stringLength(this.parts_[r]);validationPathCheckValid(this)}}function validationPathPush(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=stringLength(t),validationPathCheckValid(e)}function validationPathPop(e){const t=e.parts_.pop();e.byteLength_-=stringLength(t),e.parts_.length>0&&(e.byteLength_-=1)}function validationPathCheckValid(e){if(e.byteLength_>MAX_PATH_LENGTH_BYTES)throw new Error(e.errorPrefix_+"has a key path longer than "+MAX_PATH_LENGTH_BYTES+" bytes ("+e.byteLength_+").");if(e.parts_.length>MAX_PATH_DEPTH)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MAX_PATH_DEPTH+") or object contains a cycle "+validationPathToErrorString(e))}function validationPathToErrorString(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VisibilityMonitor extends EventEmitter{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new VisibilityMonitor}getInitialEvent(t){return assert(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=60*5*1e3,RECONNECT_MAX_DELAY_FOR_ADMINS=30*1e3,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4,SERVER_KILL_INTERRUPT_REASON="server_kill",INVALID_TOKEN_THRESHOLD=3;class PersistentConnection extends ServerActions{constructor(t,n,r,o,s,a,c,d){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=logWrapper("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const o=++this.requestNumber_,s={r:o,a:t,b:n};this.log_(stringify(s)),assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const n=new Deferred,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),assert(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),assert(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:n,query:t,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r},a="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,c=>{const d=c.d,f=c.s;PersistentConnection.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(f,d))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&contains(t,"w")){const r=safeGet(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();warn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=isValidFormat(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),assert(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,n)}sendUnlisten_(t,n,r,o){this.log_("Unlisten on "+t+" for "+n);const s={p:t},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,o){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,n,r,o){this.putInternal("p",t,n,r,o)}merge(t,n,r,o){this.putInternal("m",t,n,r,o)}putInternal(t,n,r,o,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+stringify(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):error("Unrecognized action received from server: "+stringify(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+PersistentConnection.nextConnectionId_++,s=this.lastSessionId;let a=!1,c=null;const d=function(){c?c.close():(a=!0,r())},f=function(v){assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(v)};this.realtime_={close:d,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);a?log("getToken() completed but was canceled"):(log("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,c=new Connection(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,y=>{warn(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(SERVER_KILL_INTERRUPT_REASON)},s))}catch(v){this.log_("Failed to get token: "+v),a||(this.repoInfo_.nodeAdmin&&warn(v),d())}}}interrupt(t){log("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){log("Resuming connection for reason: "+t),delete this.interruptReasons_[t],isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>ObjectToUniqueKey(s)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,n){const r=new Path(t).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,n){log("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=INVALID_TOKEN_THRESHOLD&&(this.reconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){log("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=INVALID_TOKEN_THRESHOLD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+SDK_VERSION.replace(/\./g,"-")]=1,isMobileCordova()?t["framework.cordova"]=1:isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=OnlineMonitor.getInstance().currentlyOnline();return isEmpty(this.interruptReasons_)&&t}}PersistentConnection.nextPersistentConnectionId_=0;PersistentConnection.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NamedNode{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new NamedNode(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Index{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new NamedNode(MIN_NAME,t),o=new NamedNode(MIN_NAME,n);return this.compare(r,o)!==0}minPost(){return NamedNode.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __EMPTY_NODE;class KeyIndex extends Index{static get __EMPTY_NODE(){return __EMPTY_NODE}static set __EMPTY_NODE(t){__EMPTY_NODE=t}compare(t,n){return nameCompare(t.name,n.name)}isDefinedOn(t){throw assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,__EMPTY_NODE)}makePost(t,n){return assert(typeof t=="string","KeyIndex indexValue must always be a string."),new NamedNode(t,__EMPTY_NODE)}toString(){return".key"}}const KEY_INDEX=new KeyIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMapIterator{constructor(t,n,r,o,s=null){this.isReverse_=o,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,o&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class LLRBNode{constructor(t,n,r,o,s){this.key=t,this.value=n,this.color=r!=null?r:LLRBNode.RED,this.left=o!=null?o:SortedMap.EMPTY_NODE,this.right=s!=null?s:SortedMap.EMPTY_NODE}copy(t,n,r,o,s){return new LLRBNode(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const s=r(t,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,o;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return SortedMap.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}LLRBNode.RED=!0;LLRBNode.BLACK=!1;class LLRBEmptyNode{copy(t,n,r,o,s){return this}insert(t,n,r){return new LLRBNode(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class SortedMap{constructor(t,n=SortedMap.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new SortedMap(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove(t){return new SortedMap(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new SortedMapIterator(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new SortedMapIterator(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new SortedMapIterator(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new SortedMapIterator(this.root_,null,this.comparator_,!0,t)}}SortedMap.EMPTY_NODE=new LLRBEmptyNode;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAME_ONLY_COMPARATOR(e,t){return nameCompare(e.name,t.name)}function NAME_COMPARATOR(e,t){return nameCompare(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MAX_NODE$2;function setMaxNode$1(e){MAX_NODE$2=e}const priorityHashText=function(e){return typeof e=="number"?"number:"+doubleToIEEE754String(e):"string:"+e},validatePriorityNode=function(e){if(e.isLeafNode()){const t=e.val();assert(typeof t=="string"||typeof t=="number"||typeof t=="object"&&contains(t,".sv"),"Priority must be a string or number.")}else assert(e===MAX_NODE$2||e.isEmpty(),"priority of unexpected type.");assert(e===MAX_NODE$2||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __childrenNodeConstructor;class LeafNode{constructor(t,n=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,assert(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}static set __childrenNodeConstructor(t){__childrenNodeConstructor=t}static get __childrenNodeConstructor(){return __childrenNodeConstructor}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new LeafNode(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return pathIsEmpty(t)?this:pathGetFront(t)===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=pathGetFront(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(assert(r!==".priority"||pathGetLength(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+priorityHashText(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=doubleToIEEE754String(this.value_):t+=this.value_,this.lazyHash_=sha1(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof LeafNode.__childrenNodeConstructor?-1:(assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,o=LeafNode.VALUE_TYPE_ORDER.indexOf(n),s=LeafNode.VALUE_TYPE_ORDER.indexOf(r);return assert(o>=0,"Unknown leaf type: "+n),assert(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nodeFromJSON$1,MAX_NODE$1;function setNodeFromJSON(e){nodeFromJSON$1=e}function setMaxNode(e){MAX_NODE$1=e}class PriorityIndex extends Index{compare(t,n){const r=t.node.getPriority(),o=n.node.getPriority(),s=r.compareTo(o);return s===0?nameCompare(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,new LeafNode("[PRIORITY-POST]",MAX_NODE$1))}makePost(t,n){const r=nodeFromJSON$1(t);return new NamedNode(n,new LeafNode("[PRIORITY-POST]",r))}toString(){return".priority"}}const PRIORITY_INDEX=new PriorityIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LOG_2=Math.log(2);class Base12Num{constructor(t){const n=s=>parseInt(Math.log(s)/LOG_2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const buildChildSet=function(e,t,n,r){e.sort(t);const o=function(d,f){const m=f-d;let v,_;if(m===0)return null;if(m===1)return v=e[d],_=n?n(v):v,new LLRBNode(_,v.node,LLRBNode.BLACK,null,null);{const y=parseInt(m/2,10)+d,C=o(d,y),S=o(y+1,f);return v=e[y],_=n?n(v):v,new LLRBNode(_,v.node,LLRBNode.BLACK,C,S)}},s=function(d){let f=null,m=null,v=e.length;const _=function(C,S){const I=v-C,T=v;v-=C;const E=o(I+1,T),x=e[I],P=n?n(x):x;y(new LLRBNode(P,x.node,S,null,E))},y=function(C){f?(f.left=C,f=C):(m=C,f=C)};for(let C=0;C<d.count;++C){const S=d.nextBitIsOne(),I=Math.pow(2,d.count-(C+1));S?_(I,LLRBNode.BLACK):(_(I,LLRBNode.BLACK),_(I,LLRBNode.RED))}return m},a=new Base12Num(e.length),c=s(a);return new SortedMap(r||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _defaultIndexMap;const fallbackObject={};class IndexMap{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return assert(fallbackObject&&PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),_defaultIndexMap=_defaultIndexMap||new IndexMap({".priority":fallbackObject},{".priority":PRIORITY_INDEX}),_defaultIndexMap}get(t){const n=safeGet(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof SortedMap?n:null}hasIndex(t){return contains(this.indexSet_,t.toString())}addIndex(t,n){assert(t!==KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const s=n.getIterator(NamedNode.Wrap);let a=s.getNext();for(;a;)o=o||t.isDefinedOn(a.node),r.push(a),a=s.getNext();let c;o?c=buildChildSet(r,t.getCompare()):c=fallbackObject;const d=t.toString(),f=Object.assign({},this.indexSet_);f[d]=t;const m=Object.assign({},this.indexes_);return m[d]=c,new IndexMap(m,f)}addToIndexes(t,n){const r=map$1(this.indexes_,(o,s)=>{const a=safeGet(this.indexSet_,s);if(assert(a,"Missing index implementation for "+s),o===fallbackObject)if(a.isDefinedOn(t.node)){const c=[],d=n.getIterator(NamedNode.Wrap);let f=d.getNext();for(;f;)f.name!==t.name&&c.push(f),f=d.getNext();return c.push(t),buildChildSet(c,a.getCompare())}else return fallbackObject;else{const c=n.get(t.name);let d=o;return c&&(d=d.remove(new NamedNode(t.name,c))),d.insert(t,t.node)}});return new IndexMap(r,this.indexSet_)}removeFromIndexes(t,n){const r=map$1(this.indexes_,o=>{if(o===fallbackObject)return o;{const s=n.get(t.name);return s?o.remove(new NamedNode(t.name,s)):o}});return new IndexMap(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EMPTY_NODE;class ChildrenNode{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return EMPTY_NODE||(EMPTY_NODE=new ChildrenNode(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||EMPTY_NODE}updatePriority(t){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?EMPTY_NODE:n}}getChild(t){const n=pathGetFront(t);return n===null?this:this.getImmediateChild(n).getChild(pathPopFront(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(assert(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new NamedNode(t,n);let o,s;n.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?EMPTY_NODE:this.priorityNode_;return new ChildrenNode(o,a,s)}}updateChild(t,n){const r=pathGetFront(t);if(r===null)return n;{assert(pathGetFront(t)!==".priority"||pathGetLength(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(pathPopFront(t),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,o=0,s=!0;if(this.forEachChild(PRIORITY_INDEX,(a,c)=>{n[a]=c.val(t),r++,s&&ChildrenNode.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){const a=[];for(const c in n)a[c]=n[c];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(PRIORITY_INDEX,(n,r)=>{const o=r.hash();o!==""&&(t+=":"+n+":"+o)}),this.lazyHash_=t===""?"":sha1(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new NamedNode(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new NamedNode(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new NamedNode(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,NamedNode.Wrap);let s=o.peek();for(;s!=null&&n.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,NamedNode.Wrap);let s=o.peek();for(;s!=null&&n.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===MAX_NODE?-1:0}withIndex(t){if(t===KEY_INDEX||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===KEY_INDEX||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(PRIORITY_INDEX),o=n.getIterator(PRIORITY_INDEX);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===KEY_INDEX?null:this.indexMap_.get(t.toString())}}ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}}const MAX_NODE=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(MIN_NAME,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(MAX_NAME,MAX_NODE)}});KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE;LeafNode.__childrenNodeConstructor=ChildrenNode;setMaxNode$1(MAX_NODE);setMaxNode(MAX_NODE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const USE_HINZE=!0;function nodeFromJSON(e,t=null){if(e===null)return ChildrenNode.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),assert(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new LeafNode(n,nodeFromJSON(t))}if(!(e instanceof Array)&&USE_HINZE){const n=[];let r=!1;if(each(e,(a,c)=>{if(a.substring(0,1)!=="."){const d=nodeFromJSON(c);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new NamedNode(a,d)))}}),n.length===0)return ChildrenNode.EMPTY_NODE;const s=buildChildSet(n,NAME_ONLY_COMPARATOR,a=>a.name,NAME_COMPARATOR);if(r){const a=buildChildSet(n,PRIORITY_INDEX.getCompare());return new ChildrenNode(s,nodeFromJSON(t),new IndexMap({".priority":a},{".priority":PRIORITY_INDEX}))}else return new ChildrenNode(s,nodeFromJSON(t),IndexMap.Default)}else{let n=ChildrenNode.EMPTY_NODE;return each(e,(r,o)=>{if(contains(e,r)&&r.substring(0,1)!=="."){const s=nodeFromJSON(o);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(nodeFromJSON(t))}}setNodeFromJSON(nodeFromJSON);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PathIndex extends Index{constructor(t){super(),this.indexPath_=t,assert(!pathIsEmpty(t)&&pathGetFront(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),o=this.extractChild(n.node),s=r.compareTo(o);return s===0?nameCompare(t.name,n.name):s}makePost(t,n){const r=nodeFromJSON(t),o=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,r);return new NamedNode(n,o)}maxPost(){const t=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,MAX_NODE);return new NamedNode(MAX_NAME,t)}toString(){return pathSlice(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ValueIndex extends Index{compare(t,n){const r=t.node.compareTo(n.node);return r===0?nameCompare(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost(t,n){const r=nodeFromJSON(t);return new NamedNode(n,r)}toString(){return".value"}}const VALUE_INDEX=new ValueIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function changeValue(e){return{type:"value",snapshotNode:e}}function changeChildAdded(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function changeChildRemoved(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function changeChildChanged(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function changeChildMoved(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedFilter{constructor(t){this.index_=t}updateChild(t,n,r,o,s,a){assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(n);return c.getChild(o).equals(r.getChild(o))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(changeChildRemoved(n,c)):assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(changeChildAdded(n,r)):a.trackChildChange(changeChildChanged(n,r,c))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(PRIORITY_INDEX,(o,s)=>{n.hasChild(o)||r.trackChildChange(changeChildRemoved(o,s))}),n.isLeafNode()||n.forEachChild(PRIORITY_INDEX,(o,s)=>{if(t.hasChild(o)){const a=t.getImmediateChild(o);a.equals(s)||r.trackChildChange(changeChildChanged(o,s,a))}else r.trackChildChange(changeChildAdded(o,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?ChildrenNode.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RangedFilter{constructor(t){this.indexedFilter_=new IndexedFilter(t.getIndex()),this.index_=t.getIndex(),this.startPost_=RangedFilter.getStartPost_(t),this.endPost_=RangedFilter.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,o,s,a){return this.matches(new NamedNode(n,r))||(r=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,o,s,a)}updateFullNode(t,n,r){n.isLeafNode()&&(n=ChildrenNode.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ChildrenNode.EMPTY_NODE);const s=this;return n.forEachChild(PRIORITY_INDEX,(a,c)=>{s.matches(new NamedNode(a,c))||(o=o.updateImmediateChild(a,ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LimitedFilter{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new RangedFilter(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,o,s,a){return this.rangedFilter_.matches(new NamedNode(n,r))||(r=ChildrenNode.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,o,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)}updateFullNode(t,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ChildrenNode.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))o=o.updateImmediateChild(c.name,c.node),a++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ChildrenNode.EMPTY_NODE);let s;this.reverse_?s=o.getReverseIterator(this.index_):s=o.getIterator(this.index_);let a=0;for(;s.hasNext();){const c=s.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:o=o.updateImmediateChild(c.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,o,s){let a;if(this.reverse_){const v=this.index_.getCompare();a=(_,y)=>v(y,_)}else a=this.index_.getCompare();const c=t;assert(c.numChildren()===this.limit_,"");const d=new NamedNode(n,r),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),m=this.rangedFilter_.matches(d);if(c.hasChild(n)){const v=c.getImmediateChild(n);let _=o.getChildAfterChild(this.index_,f,this.reverse_);for(;_!=null&&(_.name===n||c.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const y=_==null?1:a(_,d);if(m&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(changeChildChanged(n,r,v)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(changeChildRemoved(n,v));const S=c.updateImmediateChild(n,ChildrenNode.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(s!=null&&s.trackChildChange(changeChildAdded(_.name,_.node)),S.updateImmediateChild(_.name,_.node)):S}}else return r.isEmpty()?t:m&&a(f,d)>=0?(s!=null&&(s.trackChildChange(changeChildRemoved(f.name,f.node)),s.trackChildChange(changeChildAdded(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(f.name,ChildrenNode.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PRIORITY_INDEX}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MIN_NAME}hasEnd(){return this.endSet_}getIndexEndValue(){return assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:MAX_NAME}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===PRIORITY_INDEX}copy(){const t=new QueryParams;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function queryParamsGetNodeFilter(e){return e.loadsAllData()?new IndexedFilter(e.getIndex()):e.hasLimit()?new LimitedFilter(e):new RangedFilter(e)}function queryParamsToRestQueryStringParameters(e){const t={};if(e.isDefault())return t;let n;if(e.index_===PRIORITY_INDEX?n="$priority":e.index_===VALUE_INDEX?n="$value":e.index_===KEY_INDEX?n="$key":(assert(e.index_ instanceof PathIndex,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=stringify(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=stringify(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+stringify(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=stringify(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+stringify(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function queryParamsGetQueryObject(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==PRIORITY_INDEX&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ReadonlyRestClient extends ServerActions{constructor(t,n,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=logWrapper("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(assert(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,o){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=ReadonlyRestClient.getListenId_(t,r),c={};this.listens_[a]=c;const d=queryParamsToRestQueryStringParameters(t._queryParams);this.restRequest_(s+".json",d,(f,m)=>{let v=m;if(f===404&&(v=null,f=null),f===null&&this.onDataUpdate_(s,v,!1,r),safeGet(this.listens_,a)===c){let _;f?f===401?_="permission_denied":_="rest_error:"+f:_="ok",o(_,null)}})}unlisten(t,n){const r=ReadonlyRestClient.getListenId_(t,n);delete this.listens_[r]}get(t){const n=queryParamsToRestQueryStringParameters(t._queryParams),r=t._path.toString(),o=new Deferred;return this.restRequest_(r+".json",n,(s,a)=>{let c=a;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),o.resolve(c)):o.reject(new Error(c))}),o.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,s])=>{o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+querystring(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=jsonEval(c.responseText)}catch{warn("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,d)}else c.status!==401&&c.status!==404&&warn("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember(e,t,n){if(pathIsEmpty(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=pathGetFront(t);e.children.has(r)||e.children.set(r,newSparseSnapshotTree());const o=e.children.get(r);t=pathPopFront(t),sparseSnapshotTreeRemember(o,t,n)}}function sparseSnapshotTreeForEachTree(e,t,n){e.value!==null?n(t,e.value):sparseSnapshotTreeForEachChild(e,(r,o)=>{const s=new Path(t.toString()+"/"+r);sparseSnapshotTreeForEachTree(o,s,n)})}function sparseSnapshotTreeForEachChild(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsListener{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&each(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIRST_STATS_MIN_TIME=10*1e3,FIRST_STATS_MAX_TIME=30*1e3,REPORT_STATS_INTERVAL=5*60*1e3;class StatsReporter{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new StatsListener(t);const r=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;each(t,(o,s)=>{s>0&&contains(this.statsToReport_,o)&&(n[o]=s,r=!0)}),r&&this.server_.reportStats(n),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(Math.random()*2*REPORT_STATS_INTERVAL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OperationType;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(OperationType||(OperationType={}));function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AckUserWrite{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=OperationType.ACK_USER_WRITE,this.source=newOperationSourceUser()}operationForChild(t){if(pathIsEmpty(this.path)){if(this.affectedTree.value!=null)return assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Path(t));return new AckUserWrite(newEmptyPath(),n,this.revert)}}else return assert(pathGetFront(this.path)===t,"operationForChild called for unrelated child."),new AckUserWrite(pathPopFront(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ListenComplete{constructor(t,n){this.source=t,this.path=n,this.type=OperationType.LISTEN_COMPLETE}operationForChild(t){return pathIsEmpty(this.path)?new ListenComplete(this.source,newEmptyPath()):new ListenComplete(this.source,pathPopFront(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overwrite{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=OperationType.OVERWRITE}operationForChild(t){return pathIsEmpty(this.path)?new Overwrite(this.source,newEmptyPath(),this.snap.getImmediateChild(t)):new Overwrite(this.source,pathPopFront(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Merge{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=OperationType.MERGE}operationForChild(t){if(pathIsEmpty(this.path)){const n=this.children.subtree(new Path(t));return n.isEmpty()?null:n.value?new Overwrite(this.source,newEmptyPath(),n.value):new Merge(this.source,newEmptyPath(),n)}else return assert(pathGetFront(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,pathPopFront(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CacheNode{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(pathIsEmpty(t))return this.isFullyInitialized()&&!this.filtered_;const n=pathGetFront(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventGenerator{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function eventGeneratorGenerateEventsForChanges(e,t,n,r){const o=[],s=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(changeChildMoved(a.childName,a.snapshotNode))}),eventGeneratorGenerateEventsForType(e,o,"child_removed",t,r,n),eventGeneratorGenerateEventsForType(e,o,"child_added",t,r,n),eventGeneratorGenerateEventsForType(e,o,"child_moved",s,r,n),eventGeneratorGenerateEventsForType(e,o,"child_changed",t,r,n),eventGeneratorGenerateEventsForType(e,o,"value",t,r,n),o}function eventGeneratorGenerateEventsForType(e,t,n,r,o,s){const a=r.filter(c=>c.type===n);a.sort((c,d)=>eventGeneratorCompareChanges(e,c,d)),a.forEach(c=>{const d=eventGeneratorMaterializeSingleChange(e,c,s);o.forEach(f=>{f.respondsTo(c.type)&&t.push(f.createEvent(d,e.query_))})})}function eventGeneratorMaterializeSingleChange(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function eventGeneratorCompareChanges(e,t,n){if(t.childName==null||n.childName==null)throw assertionError("Should only compare child_ events.");const r=new NamedNode(t.childName,t.snapshotNode),o=new NamedNode(n.childName,n.snapshotNode);return e.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewCache(e,t){return{eventCache:e,serverCache:t}}function viewCacheUpdateEventSnap(e,t,n,r){return newViewCache(new CacheNode(t,n,r),e.serverCache)}function viewCacheUpdateServerSnap(e,t,n,r){return newViewCache(e.eventCache,new CacheNode(t,n,r))}function viewCacheGetCompleteEventSnap(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function viewCacheGetCompleteServerSnap(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let emptyChildrenSingleton;const EmptyChildren=()=>(emptyChildrenSingleton||(emptyChildrenSingleton=new SortedMap(stringCompare)),emptyChildrenSingleton);class ImmutableTree{constructor(t,n=EmptyChildren()){this.value=t,this.children=n}static fromObject(t){let n=new ImmutableTree(null);return each(t,(r,o)=>{n=n.set(new Path(r),o)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty(t))return null;{const r=pathGetFront(t),o=this.children.get(r);if(o!==null){const s=o.findRootMostMatchingPathAndValue(pathPopFront(t),n);return s!=null?{path:pathChild(new Path(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(pathIsEmpty(t))return this;{const n=pathGetFront(t),r=this.children.get(n);return r!==null?r.subtree(pathPopFront(t)):new ImmutableTree(null)}}set(t,n){if(pathIsEmpty(t))return new ImmutableTree(n,this.children);{const r=pathGetFront(t),s=(this.children.get(r)||new ImmutableTree(null)).set(pathPopFront(t),n),a=this.children.insert(r,s);return new ImmutableTree(this.value,a)}}remove(t){if(pathIsEmpty(t))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{const n=pathGetFront(t),r=this.children.get(n);if(r){const o=r.remove(pathPopFront(t));let s;return o.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,o),this.value===null&&s.isEmpty()?new ImmutableTree(null):new ImmutableTree(this.value,s)}else return this}}get(t){if(pathIsEmpty(t))return this.value;{const n=pathGetFront(t),r=this.children.get(n);return r?r.get(pathPopFront(t)):null}}setTree(t,n){if(pathIsEmpty(t))return n;{const r=pathGetFront(t),s=(this.children.get(r)||new ImmutableTree(null)).setTree(pathPopFront(t),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new ImmutableTree(this.value,a)}}fold(t){return this.fold_(newEmptyPath(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((o,s)=>{r[o]=s.fold_(pathChild(t,o),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,newEmptyPath(),n)}findOnPath_(t,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(pathIsEmpty(t))return null;{const s=pathGetFront(t),a=this.children.get(s);return a?a.findOnPath_(pathPopFront(t),pathChild(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,newEmptyPath(),n)}foreachOnPath_(t,n,r){if(pathIsEmpty(t))return this;{this.value&&r(n,this.value);const o=pathGetFront(t),s=this.children.get(o);return s?s.foreachOnPath_(pathPopFront(t),pathChild(n,o),r):new ImmutableTree(null)}}foreach(t){this.foreach_(newEmptyPath(),t)}foreach_(t,n){this.children.inorderTraversal((r,o)=>{o.foreach_(pathChild(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CompoundWrite{constructor(t){this.writeTree_=t}static empty(){return new CompoundWrite(new ImmutableTree(null))}}function compoundWriteAddWrite(e,t,n){if(pathIsEmpty(t))return new CompoundWrite(new ImmutableTree(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let s=r.value;const a=newRelativePath(o,t);return s=s.updateChild(a,n),new CompoundWrite(e.writeTree_.set(o,s))}else{const o=new ImmutableTree(n),s=e.writeTree_.setTree(t,o);return new CompoundWrite(s)}}}function compoundWriteAddWrites(e,t,n){let r=e;return each(n,(o,s)=>{r=compoundWriteAddWrite(r,pathChild(t,o),s)}),r}function compoundWriteRemoveWrite(e,t){if(pathIsEmpty(t))return CompoundWrite.empty();{const n=e.writeTree_.setTree(t,new ImmutableTree(null));return new CompoundWrite(n)}}function compoundWriteHasCompleteWrite(e,t){return compoundWriteGetCompleteNode(e,t)!=null}function compoundWriteGetCompleteNode(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(newRelativePath(n.path,t)):null}function compoundWriteGetCompleteChildren(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(PRIORITY_INDEX,(r,o)=>{t.push(new NamedNode(r,o))}):e.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new NamedNode(r,o.value))}),t}function compoundWriteChildCompoundWrite(e,t){if(pathIsEmpty(t))return e;{const n=compoundWriteGetCompleteNode(e,t);return n!=null?new CompoundWrite(new ImmutableTree(n)):new CompoundWrite(e.writeTree_.subtree(t))}}function compoundWriteIsEmpty(e){return e.writeTree_.isEmpty()}function compoundWriteApply(e,t){return applySubtreeWrite(newEmptyPath(),e.writeTree_,t)}function applySubtreeWrite(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((o,s)=>{o===".priority"?(assert(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=applySubtreeWrite(pathChild(e,o),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(pathChild(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeTreeChildWrites(e,t){return newWriteTreeRef(t,e)}function writeTreeAddOverwrite(e,t,n,r,o){assert(r>e.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=compoundWriteAddWrite(e.visibleWrites,t,n)),e.lastWriteId=r}function writeTreeAddMerge(e,t,n,r){assert(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=compoundWriteAddWrites(e.visibleWrites,t,n),e.lastWriteId=r}function writeTreeGetWrite(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function writeTreeRemoveWrite(e,t){const n=e.allWrites.findIndex(c=>c.writeId===t);assert(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,s=!1,a=e.allWrites.length-1;for(;o&&a>=0;){const c=e.allWrites[a];c.visible&&(a>=n&&writeTreeRecordContainsPath_(c,r.path)?o=!1:pathContains(r.path,c.path)&&(s=!0)),a--}if(o){if(s)return writeTreeResetTree_(e),!0;if(r.snap)e.visibleWrites=compoundWriteRemoveWrite(e.visibleWrites,r.path);else{const c=r.children;each(c,d=>{e.visibleWrites=compoundWriteRemoveWrite(e.visibleWrites,pathChild(r.path,d))})}return!0}else return!1}function writeTreeRecordContainsPath_(e,t){if(e.snap)return pathContains(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&pathContains(pathChild(e.path,n),t))return!0;return!1}function writeTreeResetTree_(e){e.visibleWrites=writeTreeLayerTree_(e.allWrites,writeTreeDefaultFilter_,newEmptyPath()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function writeTreeDefaultFilter_(e){return e.visible}function writeTreeLayerTree_(e,t,n){let r=CompoundWrite.empty();for(let o=0;o<e.length;++o){const s=e[o];if(t(s)){const a=s.path;let c;if(s.snap)pathContains(n,a)?(c=newRelativePath(n,a),r=compoundWriteAddWrite(r,c,s.snap)):pathContains(a,n)&&(c=newRelativePath(a,n),r=compoundWriteAddWrite(r,newEmptyPath(),s.snap.getChild(c)));else if(s.children){if(pathContains(n,a))c=newRelativePath(n,a),r=compoundWriteAddWrites(r,c,s.children);else if(pathContains(a,n))if(c=newRelativePath(a,n),pathIsEmpty(c))r=compoundWriteAddWrites(r,newEmptyPath(),s.children);else{const d=safeGet(s.children,pathGetFront(c));if(d){const f=d.getChild(pathPopFront(c));r=compoundWriteAddWrite(r,newEmptyPath(),f)}}}else throw assertionError("WriteRecord should have .snap or .children")}}return r}function writeTreeCalcCompleteEventCache(e,t,n,r,o){if(!r&&!o){const s=compoundWriteGetCompleteNode(e.visibleWrites,t);if(s!=null)return s;{const a=compoundWriteChildCompoundWrite(e.visibleWrites,t);if(compoundWriteIsEmpty(a))return n;if(n==null&&!compoundWriteHasCompleteWrite(a,newEmptyPath()))return null;{const c=n||ChildrenNode.EMPTY_NODE;return compoundWriteApply(a,c)}}}else{const s=compoundWriteChildCompoundWrite(e.visibleWrites,t);if(!o&&compoundWriteIsEmpty(s))return n;if(!o&&n==null&&!compoundWriteHasCompleteWrite(s,newEmptyPath()))return null;{const a=function(f){return(f.visible||o)&&(!r||!~r.indexOf(f.writeId))&&(pathContains(f.path,t)||pathContains(t,f.path))},c=writeTreeLayerTree_(e.allWrites,a,t),d=n||ChildrenNode.EMPTY_NODE;return compoundWriteApply(c,d)}}}function writeTreeCalcCompleteEventChildren(e,t,n){let r=ChildrenNode.EMPTY_NODE;const o=compoundWriteGetCompleteNode(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(PRIORITY_INDEX,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=compoundWriteChildCompoundWrite(e.visibleWrites,t);return n.forEachChild(PRIORITY_INDEX,(a,c)=>{const d=compoundWriteApply(compoundWriteChildCompoundWrite(s,new Path(a)),c);r=r.updateImmediateChild(a,d)}),compoundWriteGetCompleteChildren(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=compoundWriteChildCompoundWrite(e.visibleWrites,t);return compoundWriteGetCompleteChildren(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function writeTreeCalcEventCacheAfterServerOverwrite(e,t,n,r,o){assert(r||o,"Either existingEventSnap or existingServerSnap must exist");const s=pathChild(t,n);if(compoundWriteHasCompleteWrite(e.visibleWrites,s))return null;{const a=compoundWriteChildCompoundWrite(e.visibleWrites,s);return compoundWriteIsEmpty(a)?o.getChild(n):compoundWriteApply(a,o.getChild(n))}}function writeTreeCalcCompleteChild(e,t,n,r){const o=pathChild(t,n),s=compoundWriteGetCompleteNode(e.visibleWrites,o);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=compoundWriteChildCompoundWrite(e.visibleWrites,o);return compoundWriteApply(a,r.getNode().getImmediateChild(n))}else return null}function writeTreeShadowingWrite(e,t){return compoundWriteGetCompleteNode(e.visibleWrites,t)}function writeTreeCalcIndexedSlice(e,t,n,r,o,s,a){let c;const d=compoundWriteChildCompoundWrite(e.visibleWrites,t),f=compoundWriteGetCompleteNode(d,newEmptyPath());if(f!=null)c=f;else if(n!=null)c=compoundWriteApply(d,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const m=[],v=a.getCompare(),_=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let y=_.getNext();for(;y&&m.length<o;)v(y,r)!==0&&m.push(y),y=_.getNext();return m}else return[]}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache(e,t,n,r){return writeTreeCalcCompleteEventCache(e.writeTree,e.treePath,t,n,r)}function writeTreeRefCalcCompleteEventChildren(e,t){return writeTreeCalcCompleteEventChildren(e.writeTree,e.treePath,t)}function writeTreeRefCalcEventCacheAfterServerOverwrite(e,t,n,r){return writeTreeCalcEventCacheAfterServerOverwrite(e.writeTree,e.treePath,t,n,r)}function writeTreeRefShadowingWrite(e,t){return writeTreeShadowingWrite(e.writeTree,pathChild(e.treePath,t))}function writeTreeRefCalcIndexedSlice(e,t,n,r,o,s){return writeTreeCalcIndexedSlice(e.writeTree,e.treePath,t,n,r,o,s)}function writeTreeRefCalcCompleteChild(e,t,n){return writeTreeCalcCompleteChild(e.writeTree,e.treePath,t,n)}function writeTreeRefChild(e,t){return newWriteTreeRef(pathChild(e.treePath,t),e.writeTree)}function newWriteTreeRef(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;assert(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),assert(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const s=o.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,changeChildChanged(r,t.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,changeChildRemoved(r,o.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,changeChildAdded(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,changeChildChanged(r,t.snapshotNode,o.oldSnap));else throw assertionError("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NoCompleteChildSource_{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const NO_COMPLETE_CHILD_SOURCE=new NoCompleteChildSource_;class WriteTreeCompleteChildSource{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,t,r)}}getChildAfterChild(t,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),s=writeTreeRefCalcIndexedSlice(this.writes_,o,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewProcessor(e){return{filter:e}}function viewProcessorAssertIndexed(e,t){assert(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),assert(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation(e,t,n,r,o){const s=new ChildChangeAccumulator;let a,c;if(n.type===OperationType.OVERWRITE){const f=n;f.source.fromUser?a=viewProcessorApplyUserOverwrite(e,t,f.path,f.snap,r,o,s):(assert(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered()&&!pathIsEmpty(f.path),a=viewProcessorApplyServerOverwrite(e,t,f.path,f.snap,r,o,c,s))}else if(n.type===OperationType.MERGE){const f=n;f.source.fromUser?a=viewProcessorApplyUserMerge(e,t,f.path,f.children,r,o,s):(assert(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered(),a=viewProcessorApplyServerMerge(e,t,f.path,f.children,r,o,c,s))}else if(n.type===OperationType.ACK_USER_WRITE){const f=n;f.revert?a=viewProcessorRevertUserWrite(e,t,f.path,r,o,s):a=viewProcessorAckUserWrite(e,t,f.path,f.affectedTree,r,o,s)}else if(n.type===OperationType.LISTEN_COMPLETE)a=viewProcessorListenComplete(e,t,n.path,r,s);else throw assertionError("Unknown operation type: "+n.type);const d=s.getChanges();return viewProcessorMaybeAddValueEvent(t,a,d),{viewCache:a,changes:d}}function viewProcessorMaybeAddValueEvent(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=viewCacheGetCompleteEventSnap(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(changeValue(viewCacheGetCompleteEventSnap(t)))}}function viewProcessorGenerateEventCacheAfterServerEvent(e,t,n,r,o,s){const a=t.eventCache;if(writeTreeRefShadowingWrite(r,n)!=null)return t;{let c,d;if(pathIsEmpty(n))if(assert(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=viewCacheGetCompleteServerSnap(t),m=f instanceof ChildrenNode?f:ChildrenNode.EMPTY_NODE,v=writeTreeRefCalcCompleteEventChildren(r,m);c=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{const f=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(t));c=e.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const f=pathGetFront(n);if(f===".priority"){assert(pathGetLength(n)===1,"Can't have a priority with additional path components");const m=a.getNode();d=t.serverCache.getNode();const v=writeTreeRefCalcEventCacheAfterServerOverwrite(r,n,m,d);v!=null?c=e.filter.updatePriority(m,v):c=a.getNode()}else{const m=pathPopFront(n);let v;if(a.isCompleteForChild(f)){d=t.serverCache.getNode();const _=writeTreeRefCalcEventCacheAfterServerOverwrite(r,n,a.getNode(),d);_!=null?v=a.getNode().getImmediateChild(f).updateChild(m,_):v=a.getNode().getImmediateChild(f)}else v=writeTreeRefCalcCompleteChild(r,f,t.serverCache);v!=null?c=e.filter.updateChild(a.getNode(),f,v,m,o,s):c=a.getNode()}}return viewCacheUpdateEventSnap(t,c,a.isFullyInitialized()||pathIsEmpty(n),e.filter.filtersNodes())}}function viewProcessorApplyServerOverwrite(e,t,n,r,o,s,a,c){const d=t.serverCache;let f;const m=a?e.filter:e.filter.getIndexedFilter();if(pathIsEmpty(n))f=m.updateFullNode(d.getNode(),r,null);else if(m.filtersNodes()&&!d.isFiltered()){const y=d.getNode().updateChild(n,r);f=m.updateFullNode(d.getNode(),y,null)}else{const y=pathGetFront(n);if(!d.isCompleteForPath(n)&&pathGetLength(n)>1)return t;const C=pathPopFront(n),I=d.getNode().getImmediateChild(y).updateChild(C,r);y===".priority"?f=m.updatePriority(d.getNode(),I):f=m.updateChild(d.getNode(),y,I,C,NO_COMPLETE_CHILD_SOURCE,null)}const v=viewCacheUpdateServerSnap(t,f,d.isFullyInitialized()||pathIsEmpty(n),m.filtersNodes()),_=new WriteTreeCompleteChildSource(o,v,s);return viewProcessorGenerateEventCacheAfterServerEvent(e,v,n,o,_,c)}function viewProcessorApplyUserOverwrite(e,t,n,r,o,s,a){const c=t.eventCache;let d,f;const m=new WriteTreeCompleteChildSource(o,t,s);if(pathIsEmpty(n))f=e.filter.updateFullNode(t.eventCache.getNode(),r,a),d=viewCacheUpdateEventSnap(t,f,!0,e.filter.filtersNodes());else{const v=pathGetFront(n);if(v===".priority")f=e.filter.updatePriority(t.eventCache.getNode(),r),d=viewCacheUpdateEventSnap(t,f,c.isFullyInitialized(),c.isFiltered());else{const _=pathPopFront(n),y=c.getNode().getImmediateChild(v);let C;if(pathIsEmpty(_))C=r;else{const S=m.getCompleteChild(v);S!=null?pathGetBack(_)===".priority"&&S.getChild(pathParent(_)).isEmpty()?C=S:C=S.updateChild(_,r):C=ChildrenNode.EMPTY_NODE}if(y.equals(C))d=t;else{const S=e.filter.updateChild(c.getNode(),v,C,_,m,a);d=viewCacheUpdateEventSnap(t,S,c.isFullyInitialized(),e.filter.filtersNodes())}}}return d}function viewProcessorCacheHasChild(e,t){return e.eventCache.isCompleteForChild(t)}function viewProcessorApplyUserMerge(e,t,n,r,o,s,a){let c=t;return r.foreach((d,f)=>{const m=pathChild(n,d);viewProcessorCacheHasChild(t,pathGetFront(m))&&(c=viewProcessorApplyUserOverwrite(e,c,m,f,o,s,a))}),r.foreach((d,f)=>{const m=pathChild(n,d);viewProcessorCacheHasChild(t,pathGetFront(m))||(c=viewProcessorApplyUserOverwrite(e,c,m,f,o,s,a))}),c}function viewProcessorApplyMerge(e,t,n){return n.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function viewProcessorApplyServerMerge(e,t,n,r,o,s,a,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,f;pathIsEmpty(n)?f=r:f=new ImmutableTree(null).setTree(n,r);const m=t.serverCache.getNode();return f.children.inorderTraversal((v,_)=>{if(m.hasChild(v)){const y=t.serverCache.getNode().getImmediateChild(v),C=viewProcessorApplyMerge(e,y,_);d=viewProcessorApplyServerOverwrite(e,d,new Path(v),C,o,s,a,c)}}),f.children.inorderTraversal((v,_)=>{const y=!t.serverCache.isCompleteForChild(v)&&_.value===null;if(!m.hasChild(v)&&!y){const C=t.serverCache.getNode().getImmediateChild(v),S=viewProcessorApplyMerge(e,C,_);d=viewProcessorApplyServerOverwrite(e,d,new Path(v),S,o,s,a,c)}}),d}function viewProcessorAckUserWrite(e,t,n,r,o,s,a){if(writeTreeRefShadowingWrite(o,n)!=null)return t;const c=t.serverCache.isFiltered(),d=t.serverCache;if(r.value!=null){if(pathIsEmpty(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return viewProcessorApplyServerOverwrite(e,t,n,d.getNode().getChild(n),o,s,c,a);if(pathIsEmpty(n)){let f=new ImmutableTree(null);return d.getNode().forEachChild(KEY_INDEX,(m,v)=>{f=f.set(new Path(m),v)}),viewProcessorApplyServerMerge(e,t,n,f,o,s,c,a)}else return t}else{let f=new ImmutableTree(null);return r.foreach((m,v)=>{const _=pathChild(n,m);d.isCompleteForPath(_)&&(f=f.set(m,d.getNode().getChild(_)))}),viewProcessorApplyServerMerge(e,t,n,f,o,s,c,a)}}function viewProcessorListenComplete(e,t,n,r,o){const s=t.serverCache,a=viewCacheUpdateServerSnap(t,s.getNode(),s.isFullyInitialized()||pathIsEmpty(n),s.isFiltered());return viewProcessorGenerateEventCacheAfterServerEvent(e,a,n,r,NO_COMPLETE_CHILD_SOURCE,o)}function viewProcessorRevertUserWrite(e,t,n,r,o,s){let a;if(writeTreeRefShadowingWrite(r,n)!=null)return t;{const c=new WriteTreeCompleteChildSource(r,t,o),d=t.eventCache.getNode();let f;if(pathIsEmpty(n)||pathGetFront(n)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(t));else{const v=t.serverCache.getNode();assert(v instanceof ChildrenNode,"serverChildren would be complete if leaf node"),m=writeTreeRefCalcCompleteEventChildren(r,v)}m=m,f=e.filter.updateFullNode(d,m,s)}else{const m=pathGetFront(n);let v=writeTreeRefCalcCompleteChild(r,m,t.serverCache);v==null&&t.serverCache.isCompleteForChild(m)&&(v=d.getImmediateChild(m)),v!=null?f=e.filter.updateChild(d,m,v,pathPopFront(n),c,s):t.eventCache.getNode().hasChild(m)?f=e.filter.updateChild(d,m,ChildrenNode.EMPTY_NODE,pathPopFront(n),c,s):f=d,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(t)),a.isLeafNode()&&(f=e.filter.updateFullNode(f,a,s)))}return a=t.serverCache.isFullyInitialized()||writeTreeRefShadowingWrite(r,newEmptyPath())!=null,viewCacheUpdateEventSnap(t,f,a,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class View{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new IndexedFilter(r.getIndex()),s=queryParamsGetNodeFilter(r);this.processor_=newViewProcessor(s);const a=n.serverCache,c=n.eventCache,d=o.updateFullNode(ChildrenNode.EMPTY_NODE,a.getNode(),null),f=s.updateFullNode(ChildrenNode.EMPTY_NODE,c.getNode(),null),m=new CacheNode(d,a.isFullyInitialized(),o.filtersNodes()),v=new CacheNode(f,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=newViewCache(v,m),this.eventGenerator_=new EventGenerator(this.query_)}get query(){return this.query_}}function viewGetServerCache(e){return e.viewCache_.serverCache.getNode()}function viewGetCompleteNode(e){return viewCacheGetCompleteEventSnap(e.viewCache_)}function viewGetCompleteServerCache(e,t){const n=viewCacheGetCompleteServerSnap(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!pathIsEmpty(t)&&!n.getImmediateChild(pathGetFront(t)).isEmpty())?n.getChild(t):null}function viewIsEmpty(e){return e.eventRegistrations_.length===0}function viewAddEventRegistration(e,t){e.eventRegistrations_.push(t)}function viewRemoveEventRegistration(e,t,n){const r=[];if(n){assert(t==null,"A cancel should cancel all event registrations.");const o=e.query._path;e.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,o);a&&r.push(a)})}if(t){let o=[];for(let s=0;s<e.eventRegistrations_.length;++s){const a=e.eventRegistrations_[s];if(!a.matches(t))o.push(a);else if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function viewApplyOperation(e,t,n,r){t.type===OperationType.MERGE&&t.source.queryId!==null&&(assert(viewCacheGetCompleteServerSnap(e.viewCache_),"We should always have a full cache before handling merges"),assert(viewCacheGetCompleteEventSnap(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,s=viewProcessorApplyOperation(e.processor_,o,t,n,r);return viewProcessorAssertIndexed(e.processor_,s.viewCache),assert(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,viewGenerateEventsForChanges_(e,s.changes,s.viewCache.eventCache.getNode(),null)}function viewGetInitialEvents(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(PRIORITY_INDEX,(s,a)=>{r.push(changeChildAdded(s,a))}),n.isFullyInitialized()&&r.push(changeValue(n.getNode())),viewGenerateEventsForChanges_(e,r,n.getNode(),t)}function viewGenerateEventsForChanges_(e,t,n,r){const o=r?[r]:e.eventRegistrations_;return eventGeneratorGenerateEventsForChanges(e.eventGenerator_,t,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor$1;class SyncPoint{constructor(){this.views=new Map}}function syncPointSetReferenceConstructor(e){assert(!referenceConstructor$1,"__referenceConstructor has already been defined"),referenceConstructor$1=e}function syncPointGetReferenceConstructor(){return assert(referenceConstructor$1,"Reference.ts has not been loaded"),referenceConstructor$1}function syncPointIsEmpty(e){return e.views.size===0}function syncPointApplyOperation(e,t,n,r){const o=t.source.queryId;if(o!==null){const s=e.views.get(o);return assert(s!=null,"SyncTree gave us an op for an invalid query."),viewApplyOperation(s,t,n,r)}else{let s=[];for(const a of e.views.values())s=s.concat(viewApplyOperation(a,t,n,r));return s}}function syncPointGetView(e,t,n,r,o){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let c=writeTreeRefCalcCompleteEventCache(n,o?r:null),d=!1;c?d=!0:r instanceof ChildrenNode?(c=writeTreeRefCalcCompleteEventChildren(n,r),d=!1):(c=ChildrenNode.EMPTY_NODE,d=!1);const f=newViewCache(new CacheNode(c,d,!1),new CacheNode(r,o,!1));return new View(t,f)}return a}function syncPointAddEventRegistration(e,t,n,r,o,s){const a=syncPointGetView(e,t,r,o,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),viewAddEventRegistration(a,n),viewGetInitialEvents(a,n)}function syncPointRemoveEventRegistration(e,t,n,r){const o=t._queryIdentifier,s=[];let a=[];const c=syncPointHasCompleteView(e);if(o==="default")for(const[d,f]of e.views.entries())a=a.concat(viewRemoveEventRegistration(f,n,r)),viewIsEmpty(f)&&(e.views.delete(d),f.query._queryParams.loadsAllData()||s.push(f.query));else{const d=e.views.get(o);d&&(a=a.concat(viewRemoveEventRegistration(d,n,r)),viewIsEmpty(d)&&(e.views.delete(o),d.query._queryParams.loadsAllData()||s.push(d.query)))}return c&&!syncPointHasCompleteView(e)&&s.push(new(syncPointGetReferenceConstructor())(t._repo,t._path)),{removed:s,events:a}}function syncPointGetQueryViews(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function syncPointGetCompleteServerCache(e,t){let n=null;for(const r of e.views.values())n=n||viewGetCompleteServerCache(r,t);return n}function syncPointViewForQuery(e,t){if(t._queryParams.loadsAllData())return syncPointGetCompleteView(e);{const r=t._queryIdentifier;return e.views.get(r)}}function syncPointViewExistsForQuery(e,t){return syncPointViewForQuery(e,t)!=null}function syncPointHasCompleteView(e){return syncPointGetCompleteView(e)!=null}function syncPointGetCompleteView(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor;function syncTreeSetReferenceConstructor(e){assert(!referenceConstructor,"__referenceConstructor has already been defined"),referenceConstructor=e}function syncTreeGetReferenceConstructor(){return assert(referenceConstructor,"Reference.ts has not been loaded"),referenceConstructor}let syncTreeNextQueryTag_=1;class SyncTree{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function syncTreeApplyUserOverwrite(e,t,n,r,o){return writeTreeAddOverwrite(e.pendingWriteTree_,t,n,r,o),o?syncTreeApplyOperationToSyncPoints_(e,new Overwrite(newOperationSourceUser(),t,n)):[]}function syncTreeApplyUserMerge(e,t,n,r){writeTreeAddMerge(e.pendingWriteTree_,t,n,r);const o=ImmutableTree.fromObject(n);return syncTreeApplyOperationToSyncPoints_(e,new Merge(newOperationSourceUser(),t,o))}function syncTreeAckUserWrite(e,t,n=!1){const r=writeTreeGetWrite(e.pendingWriteTree_,t);if(writeTreeRemoveWrite(e.pendingWriteTree_,t)){let s=new ImmutableTree(null);return r.snap!=null?s=s.set(newEmptyPath(),!0):each(r.children,a=>{s=s.set(new Path(a),!0)}),syncTreeApplyOperationToSyncPoints_(e,new AckUserWrite(r.path,s,n))}else return[]}function syncTreeApplyServerOverwrite(e,t,n){return syncTreeApplyOperationToSyncPoints_(e,new Overwrite(newOperationSourceServer(),t,n))}function syncTreeApplyServerMerge(e,t,n){const r=ImmutableTree.fromObject(n);return syncTreeApplyOperationToSyncPoints_(e,new Merge(newOperationSourceServer(),t,r))}function syncTreeApplyListenComplete(e,t){return syncTreeApplyOperationToSyncPoints_(e,new ListenComplete(newOperationSourceServer(),t))}function syncTreeApplyTaggedListenComplete(e,t,n){const r=syncTreeQueryKeyForTag_(e,n);if(r){const o=syncTreeParseQueryKey_(r),s=o.path,a=o.queryId,c=newRelativePath(s,t),d=new ListenComplete(newOperationSourceServerTaggedQuery(a),c);return syncTreeApplyTaggedOperation_(e,s,d)}else return[]}function syncTreeRemoveEventRegistration(e,t,n,r,o=!1){const s=t._path,a=e.syncPointTree_.get(s);let c=[];if(a&&(t._queryIdentifier==="default"||syncPointViewExistsForQuery(a,t))){const d=syncPointRemoveEventRegistration(a,t,n,r);syncPointIsEmpty(a)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const f=d.removed;if(c=d.events,!o){const m=f.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=e.syncPointTree_.findOnPath(s,(_,y)=>syncPointHasCompleteView(y));if(m&&!v){const _=e.syncPointTree_.subtree(s);if(!_.isEmpty()){const y=syncTreeCollectDistinctViewsForSubTree_(_);for(let C=0;C<y.length;++C){const S=y[C],I=S.query,T=syncTreeCreateListenerForView_(e,S);e.listenProvider_.startListening(syncTreeQueryForListening_(I),syncTreeTagForQuery(e,I),T.hashFn,T.onComplete)}}}!v&&f.length>0&&!r&&(m?e.listenProvider_.stopListening(syncTreeQueryForListening_(t),null):f.forEach(_=>{const y=e.queryToTagMap.get(syncTreeMakeQueryKey_(_));e.listenProvider_.stopListening(syncTreeQueryForListening_(_),y)}))}syncTreeRemoveTags_(e,f)}return c}function syncTreeApplyTaggedQueryOverwrite(e,t,n,r){const o=syncTreeQueryKeyForTag_(e,r);if(o!=null){const s=syncTreeParseQueryKey_(o),a=s.path,c=s.queryId,d=newRelativePath(a,t),f=new Overwrite(newOperationSourceServerTaggedQuery(c),d,n);return syncTreeApplyTaggedOperation_(e,a,f)}else return[]}function syncTreeApplyTaggedQueryMerge(e,t,n,r){const o=syncTreeQueryKeyForTag_(e,r);if(o){const s=syncTreeParseQueryKey_(o),a=s.path,c=s.queryId,d=newRelativePath(a,t),f=ImmutableTree.fromObject(n),m=new Merge(newOperationSourceServerTaggedQuery(c),d,f);return syncTreeApplyTaggedOperation_(e,a,m)}else return[]}function syncTreeAddEventRegistration(e,t,n,r=!1){const o=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(o,(_,y)=>{const C=newRelativePath(_,o);s=s||syncPointGetCompleteServerCache(y,C),a=a||syncPointHasCompleteView(y)});let c=e.syncPointTree_.get(o);c?(a=a||syncPointHasCompleteView(c),s=s||syncPointGetCompleteServerCache(c,newEmptyPath())):(c=new SyncPoint,e.syncPointTree_=e.syncPointTree_.set(o,c));let d;s!=null?d=!0:(d=!1,s=ChildrenNode.EMPTY_NODE,e.syncPointTree_.subtree(o).foreachChild((y,C)=>{const S=syncPointGetCompleteServerCache(C,newEmptyPath());S&&(s=s.updateImmediateChild(y,S))}));const f=syncPointViewExistsForQuery(c,t);if(!f&&!t._queryParams.loadsAllData()){const _=syncTreeMakeQueryKey_(t);assert(!e.queryToTagMap.has(_),"View does not exist, but we have a tag");const y=syncTreeGetNextQueryTag_();e.queryToTagMap.set(_,y),e.tagToQueryMap.set(y,_)}const m=writeTreeChildWrites(e.pendingWriteTree_,o);let v=syncPointAddEventRegistration(c,t,n,m,s,d);if(!f&&!a&&!r){const _=syncPointViewForQuery(c,t);v=v.concat(syncTreeSetupListener_(e,t,_))}return v}function syncTreeCalcCompleteEventCache(e,t,n){const o=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(a,c)=>{const d=newRelativePath(a,t),f=syncPointGetCompleteServerCache(c,d);if(f)return f});return writeTreeCalcCompleteEventCache(o,t,s,n,!0)}function syncTreeGetServerValue(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(f,m)=>{const v=newRelativePath(f,n);r=r||syncPointGetCompleteServerCache(m,v)});let o=e.syncPointTree_.get(n);o?r=r||syncPointGetCompleteServerCache(o,newEmptyPath()):(o=new SyncPoint,e.syncPointTree_=e.syncPointTree_.set(n,o));const s=r!=null,a=s?new CacheNode(r,!0,!1):null,c=writeTreeChildWrites(e.pendingWriteTree_,t._path),d=syncPointGetView(o,t,c,s?a.getNode():ChildrenNode.EMPTY_NODE,s);return viewGetCompleteNode(d)}function syncTreeApplyOperationToSyncPoints_(e,t){return syncTreeApplyOperationHelper_(t,e.syncPointTree_,null,writeTreeChildWrites(e.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_(e,t,n,r){if(pathIsEmpty(e.path))return syncTreeApplyOperationDescendantsHelper_(e,t,n,r);{const o=t.get(newEmptyPath());n==null&&o!=null&&(n=syncPointGetCompleteServerCache(o,newEmptyPath()));let s=[];const a=pathGetFront(e.path),c=e.operationForChild(a),d=t.children.get(a);if(d&&c){const f=n?n.getImmediateChild(a):null,m=writeTreeRefChild(r,a);s=s.concat(syncTreeApplyOperationHelper_(c,d,f,m))}return o&&(s=s.concat(syncPointApplyOperation(o,e,r,n))),s}}function syncTreeApplyOperationDescendantsHelper_(e,t,n,r){const o=t.get(newEmptyPath());n==null&&o!=null&&(n=syncPointGetCompleteServerCache(o,newEmptyPath()));let s=[];return t.children.inorderTraversal((a,c)=>{const d=n?n.getImmediateChild(a):null,f=writeTreeRefChild(r,a),m=e.operationForChild(a);m&&(s=s.concat(syncTreeApplyOperationDescendantsHelper_(m,c,d,f)))}),o&&(s=s.concat(syncPointApplyOperation(o,e,r,n))),s}function syncTreeCreateListenerForView_(e,t){const n=t.query,r=syncTreeTagForQuery(e,n);return{hashFn:()=>(viewGetServerCache(t)||ChildrenNode.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?syncTreeApplyTaggedListenComplete(e,n._path,r):syncTreeApplyListenComplete(e,n._path);{const s=errorForServerCode(o,n);return syncTreeRemoveEventRegistration(e,n,null,s)}}}}function syncTreeTagForQuery(e,t){const n=syncTreeMakeQueryKey_(t);return e.queryToTagMap.get(n)}function syncTreeMakeQueryKey_(e){return e._path.toString()+"$"+e._queryIdentifier}function syncTreeQueryKeyForTag_(e,t){return e.tagToQueryMap.get(t)}function syncTreeParseQueryKey_(e){const t=e.indexOf("$");return assert(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Path(e.substr(0,t))}}function syncTreeApplyTaggedOperation_(e,t,n){const r=e.syncPointTree_.get(t);assert(r,"Missing sync point for query tag that we're tracking");const o=writeTreeChildWrites(e.pendingWriteTree_,t);return syncPointApplyOperation(r,n,o,null)}function syncTreeCollectDistinctViewsForSubTree_(e){return e.fold((t,n,r)=>{if(n&&syncPointHasCompleteView(n))return[syncPointGetCompleteView(n)];{let o=[];return n&&(o=syncPointGetQueryViews(n)),each(r,(s,a)=>{o=o.concat(a)}),o}})}function syncTreeQueryForListening_(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(syncTreeGetReferenceConstructor())(e._repo,e._path):e}function syncTreeRemoveTags_(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const o=syncTreeMakeQueryKey_(r),s=e.queryToTagMap.get(o);e.queryToTagMap.delete(o),e.tagToQueryMap.delete(s)}}}function syncTreeGetNextQueryTag_(){return syncTreeNextQueryTag_++}function syncTreeSetupListener_(e,t,n){const r=t._path,o=syncTreeTagForQuery(e,t),s=syncTreeCreateListenerForView_(e,n),a=e.listenProvider_.startListening(syncTreeQueryForListening_(t),o,s.hashFn,s.onComplete),c=e.syncPointTree_.subtree(r);if(o)assert(!syncPointHasCompleteView(c.value),"If we're adding a query, it shouldn't be shadowed");else{const d=c.fold((f,m,v)=>{if(!pathIsEmpty(f)&&m&&syncPointHasCompleteView(m))return[syncPointGetCompleteView(m).query];{let _=[];return m&&(_=_.concat(syncPointGetQueryViews(m).map(y=>y.query))),each(v,(y,C)=>{_=_.concat(C)}),_}});for(let f=0;f<d.length;++f){const m=d[f];e.listenProvider_.stopListening(syncTreeQueryForListening_(m),syncTreeTagForQuery(e,m))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistingValueProvider{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new ExistingValueProvider(n)}node(){return this.node_}}class DeferredValueProvider{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=pathChild(this.path_,t);return new DeferredValueProvider(this.syncTree_,n)}node(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)}}const generateWithValues=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},resolveDeferredLeafValue=function(e,t,n){if(!e||typeof e!="object")return e;if(assert(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return resolveScalarDeferredValue(e[".sv"],t,n);if(typeof e[".sv"]=="object")return resolveComplexDeferredValue(e[".sv"],t);assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},resolveScalarDeferredValue=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:assert(!1,"Unexpected server value: "+e)}},resolveComplexDeferredValue=function(e,t,n){e.hasOwnProperty("increment")||assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&assert(!1,"Unexpected increment value: "+r);const o=t.node();if(assert(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const a=o.getValue();return typeof a!="number"?r:a+r},resolveDeferredValueTree=function(e,t,n,r){return resolveDeferredValue(t,new DeferredValueProvider(n,e),r)},resolveDeferredValueSnapshot=function(e,t,n){return resolveDeferredValue(e,new ExistingValueProvider(t),n)};function resolveDeferredValue(e,t,n){const r=e.getPriority().val(),o=resolveDeferredLeafValue(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const a=e,c=resolveDeferredLeafValue(a.getValue(),t,n);return c!==a.getValue()||o!==a.getPriority().val()?new LeafNode(c,nodeFromJSON(o)):e}else{const a=e;return s=a,o!==a.getPriority().val()&&(s=s.updatePriority(new LeafNode(o))),a.forEachChild(PRIORITY_INDEX,(c,d)=>{const f=resolveDeferredValue(d,t.getImmediateChild(c),n);f!==d&&(s=s.updateImmediateChild(c,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tree{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function treeSubTree(e,t){let n=t instanceof Path?t:new Path(t),r=e,o=pathGetFront(n);for(;o!==null;){const s=safeGet(r.node.children,o)||{children:{},childCount:0};r=new Tree(o,r,s),n=pathPopFront(n),o=pathGetFront(n)}return r}function treeGetValue(e){return e.node.value}function treeSetValue(e,t){e.node.value=t,treeUpdateParents(e)}function treeHasChildren(e){return e.node.childCount>0}function treeIsEmpty(e){return treeGetValue(e)===void 0&&!treeHasChildren(e)}function treeForEachChild(e,t){each(e.node.children,(n,r)=>{t(new Tree(n,e,r))})}function treeForEachDescendant(e,t,n,r){n&&!r&&t(e),treeForEachChild(e,o=>{treeForEachDescendant(o,t,!0,r)}),n&&r&&t(e)}function treeForEachAncestor(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function treeGetPath(e){return new Path(e.parent===null?e.name:treeGetPath(e.parent)+"/"+e.name)}function treeUpdateParents(e){e.parent!==null&&treeUpdateChild(e.parent,e.name,e)}function treeUpdateChild(e,t,n){const r=treeIsEmpty(n),o=contains(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,treeUpdateParents(e)):!r&&!o&&(e.node.children[t]=n.node,e.node.childCount++,treeUpdateParents(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,MAX_LEAF_SIZE_=10*1024*1024,isValidKey=function(e){return typeof e=="string"&&e.length!==0&&!INVALID_KEY_REGEX_.test(e)},isValidPathString=function(e){return typeof e=="string"&&e.length!==0&&!INVALID_PATH_REGEX_.test(e)},isValidRootPathString=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString(e)},isValidPriority=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!isInvalidJSONNumber(e)||e&&typeof e=="object"&&contains(e,".sv")},validateFirebaseDataArg=function(e,t,n,r){r&&t===void 0||validateFirebaseData(errorPrefix(e,"value"),t,n)},validateFirebaseData=function(e,t,n){const r=n instanceof Path?new ValidationPath(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+validationPathToErrorString(r));if(typeof t=="function")throw new Error(e+"contains a function "+validationPathToErrorString(r)+" with contents = "+t.toString());if(isInvalidJSONNumber(t))throw new Error(e+"contains "+t.toString()+" "+validationPathToErrorString(r));if(typeof t=="string"&&t.length>MAX_LEAF_SIZE_/3&&stringLength(t)>MAX_LEAF_SIZE_)throw new Error(e+"contains a string greater than "+MAX_LEAF_SIZE_+" utf8 bytes "+validationPathToErrorString(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,s=!1;if(each(t,(a,c)=>{if(a===".value")o=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!isValidKey(a)))throw new Error(e+" contains an invalid key ("+a+") "+validationPathToErrorString(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);validationPathPush(r,a),validateFirebaseData(e,c,r),validationPathPop(r)}),o&&s)throw new Error(e+' contains ".value" child '+validationPathToErrorString(r)+" in addition to actual children.")}},validateFirebaseMergePaths=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=pathSlice(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!isValidKey(s[a]))throw new Error(e+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(pathCompare);let o=null;for(n=0;n<t.length;n++){if(r=t[n],o!==null&&pathContains(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},validateFirebaseMergeDataArg=function(e,t,n,r){if(r&&t===void 0)return;const o=errorPrefix(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const s=[];each(t,(a,c)=>{const d=new Path(a);if(validateFirebaseData(o,c,pathChild(n,d)),pathGetBack(d)===".priority"&&!isValidPriority(c))throw new Error(o+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(d)}),validateFirebaseMergePaths(o,s)},validatePathString=function(e,t,n,r){if(!(r&&n===void 0)&&!isValidPathString(n))throw new Error(errorPrefix(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},validateRootPathString=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),validatePathString(e,t,n,r)},validateWritablePath=function(e,t){if(pathGetFront(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},validateUrl=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!isValidKey(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!isValidRootPathString(n))throw new Error(errorPrefix(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eventQueueQueueEvents(e,t){let n=null;for(let r=0;r<t.length;r++){const o=t[r],s=o.getPath();n!==null&&!pathEquals(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(o)}n&&e.eventLists_.push(n)}function eventQueueRaiseEventsAtPath(e,t,n){eventQueueQueueEvents(e,n),eventQueueRaiseQueuedEventsMatchingPredicate(e,r=>pathEquals(r,t))}function eventQueueRaiseEventsForChangedPath(e,t,n){eventQueueQueueEvents(e,n),eventQueueRaiseQueuedEventsMatchingPredicate(e,r=>pathContains(r,t)||pathContains(t,r))}function eventQueueRaiseQueuedEventsMatchingPredicate(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const o=e.eventLists_[r];if(o){const s=o.path;t(s)?(eventListRaise(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function eventListRaise(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();logger&&log("event: "+n.toString()),exceptionGuard(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INTERRUPT_REASON="repo_interrupt",MAX_TRANSACTION_RETRIES=25;class Repo{constructor(t,n,r,o){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function repoStart(e,t,n){if(e.stats_=statsManagerGetCollection(e.repoInfo_),e.forceRestClient_||beingCrawled())e.server_=new ReadonlyRestClient(e.repoInfo_,(r,o,s,a)=>{repoOnDataUpdate(e,r,o,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>repoOnConnectStatus(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{stringify(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new PersistentConnection(e.repoInfo_,t,(r,o,s,a)=>{repoOnDataUpdate(e,r,o,s,a)},r=>{repoOnConnectStatus(e,r)},r=>{repoOnServerInfoUpdate(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=statsManagerGetOrCreateReporter(e.repoInfo_,()=>new StatsReporter(e.stats_,e.server_)),e.infoData_=new SnapshotHolder,e.infoSyncTree_=new SyncTree({startListening:(r,o,s,a)=>{let c=[];const d=e.infoData_.getNode(r._path);return d.isEmpty()||(c=syncTreeApplyServerOverwrite(e.infoSyncTree_,r._path,d),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),repoUpdateInfo(e,"connected",!1),e.serverSyncTree_=new SyncTree({startListening:(r,o,s,a)=>(e.server_.listen(r,s,o,(c,d)=>{const f=a(c,d);eventQueueRaiseEventsForChangedPath(e.eventQueue_,r._path,f)}),[]),stopListening:(r,o)=>{e.server_.unlisten(r,o)}})}function repoServerTime(e){const n=e.infoData_.getNode(new Path(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function repoGenerateServerValues(e){return generateWithValues({timestamp:repoServerTime(e)})}function repoOnDataUpdate(e,t,n,r,o){e.dataUpdateCount++;const s=new Path(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(o)if(r){const d=map$1(n,f=>nodeFromJSON(f));a=syncTreeApplyTaggedQueryMerge(e.serverSyncTree_,s,d,o)}else{const d=nodeFromJSON(n);a=syncTreeApplyTaggedQueryOverwrite(e.serverSyncTree_,s,d,o)}else if(r){const d=map$1(n,f=>nodeFromJSON(f));a=syncTreeApplyServerMerge(e.serverSyncTree_,s,d)}else{const d=nodeFromJSON(n);a=syncTreeApplyServerOverwrite(e.serverSyncTree_,s,d)}let c=s;a.length>0&&(c=repoRerunTransactions(e,s)),eventQueueRaiseEventsForChangedPath(e.eventQueue_,c,a)}function repoOnConnectStatus(e,t){repoUpdateInfo(e,"connected",t),t===!1&&repoRunOnDisconnectEvents(e)}function repoOnServerInfoUpdate(e,t){each(t,(n,r)=>{repoUpdateInfo(e,n,r)})}function repoUpdateInfo(e,t,n){const r=new Path("/.info/"+t),o=nodeFromJSON(n);e.infoData_.updateSnapshot(r,o);const s=syncTreeApplyServerOverwrite(e.infoSyncTree_,r,o);eventQueueRaiseEventsForChangedPath(e.eventQueue_,r,s)}function repoGetNextWriteId(e){return e.nextWriteId_++}function repoGetValue(e,t,n){const r=syncTreeGetServerValue(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(o=>{const s=nodeFromJSON(o).withIndex(t._queryParams.getIndex());syncTreeAddEventRegistration(e.serverSyncTree_,t,n,!0);let a;if(t._queryParams.loadsAllData())a=syncTreeApplyServerOverwrite(e.serverSyncTree_,t._path,s);else{const c=syncTreeTagForQuery(e.serverSyncTree_,t);a=syncTreeApplyTaggedQueryOverwrite(e.serverSyncTree_,t._path,s,c)}return eventQueueRaiseEventsForChangedPath(e.eventQueue_,t._path,a),syncTreeRemoveEventRegistration(e.serverSyncTree_,t,n,null,!0),s},o=>(repoLog(e,"get for query "+stringify(t)+" failed: "+o),Promise.reject(new Error(o))))}function repoSetWithPriority(e,t,n,r,o){repoLog(e,"set",{path:t.toString(),value:n,priority:r});const s=repoGenerateServerValues(e),a=nodeFromJSON(n,r),c=syncTreeCalcCompleteEventCache(e.serverSyncTree_,t),d=resolveDeferredValueSnapshot(a,c,s),f=repoGetNextWriteId(e),m=syncTreeApplyUserOverwrite(e.serverSyncTree_,t,d,f,!0);eventQueueQueueEvents(e.eventQueue_,m),e.server_.put(t.toString(),a.val(!0),(_,y)=>{const C=_==="ok";C||warn("set at "+t+" failed: "+_);const S=syncTreeAckUserWrite(e.serverSyncTree_,f,!C);eventQueueRaiseEventsForChangedPath(e.eventQueue_,t,S),repoCallOnCompleteCallback(e,o,_,y)});const v=repoAbortTransactions(e,t);repoRerunTransactions(e,v),eventQueueRaiseEventsForChangedPath(e.eventQueue_,v,[])}function repoUpdate(e,t,n,r){repoLog(e,"update",{path:t.toString(),value:n});let o=!0;const s=repoGenerateServerValues(e),a={};if(each(n,(c,d)=>{o=!1,a[c]=resolveDeferredValueTree(pathChild(t,c),nodeFromJSON(d),e.serverSyncTree_,s)}),o)log("update() called with empty data.  Don't do anything."),repoCallOnCompleteCallback(e,r,"ok",void 0);else{const c=repoGetNextWriteId(e),d=syncTreeApplyUserMerge(e.serverSyncTree_,t,a,c);eventQueueQueueEvents(e.eventQueue_,d),e.server_.merge(t.toString(),n,(f,m)=>{const v=f==="ok";v||warn("update at "+t+" failed: "+f);const _=syncTreeAckUserWrite(e.serverSyncTree_,c,!v),y=_.length>0?repoRerunTransactions(e,t):t;eventQueueRaiseEventsForChangedPath(e.eventQueue_,y,_),repoCallOnCompleteCallback(e,r,f,m)}),each(n,f=>{const m=repoAbortTransactions(e,pathChild(t,f));repoRerunTransactions(e,m)}),eventQueueRaiseEventsForChangedPath(e.eventQueue_,t,[])}}function repoRunOnDisconnectEvents(e){repoLog(e,"onDisconnectEvents");const t=repoGenerateServerValues(e),n=newSparseSnapshotTree();sparseSnapshotTreeForEachTree(e.onDisconnect_,newEmptyPath(),(o,s)=>{const a=resolveDeferredValueTree(o,s,e.serverSyncTree_,t);sparseSnapshotTreeRemember(n,o,a)});let r=[];sparseSnapshotTreeForEachTree(n,newEmptyPath(),(o,s)=>{r=r.concat(syncTreeApplyServerOverwrite(e.serverSyncTree_,o,s));const a=repoAbortTransactions(e,o);repoRerunTransactions(e,a)}),e.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath(e.eventQueue_,newEmptyPath(),r)}function repoAddEventCallbackForQuery(e,t,n){let r;pathGetFront(t._path)===".info"?r=syncTreeAddEventRegistration(e.infoSyncTree_,t,n):r=syncTreeAddEventRegistration(e.serverSyncTree_,t,n),eventQueueRaiseEventsAtPath(e.eventQueue_,t._path,r)}function repoRemoveEventCallbackForQuery(e,t,n){let r;pathGetFront(t._path)===".info"?r=syncTreeRemoveEventRegistration(e.infoSyncTree_,t,n):r=syncTreeRemoveEventRegistration(e.serverSyncTree_,t,n),eventQueueRaiseEventsAtPath(e.eventQueue_,t._path,r)}function repoInterrupt(e){e.persistentConnection_&&e.persistentConnection_.interrupt(INTERRUPT_REASON)}function repoLog(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),log(n,...t)}function repoCallOnCompleteCallback(e,t,n,r){t&&exceptionGuard(()=>{if(n==="ok")t(null);else{const o=(n||"error").toUpperCase();let s=o;r&&(s+=": "+r);const a=new Error(s);a.code=o,t(a)}})}function repoGetLatestState(e,t,n){return syncTreeCalcCompleteEventCache(e.serverSyncTree_,t,n)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions(e,t=e.transactionQueueTree_){if(t||repoPruneCompletedTransactionsBelowNode(e,t),treeGetValue(t)){const n=repoBuildTransactionQueue(e,t);assert(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&repoSendTransactionQueue(e,treeGetPath(t),n)}else treeHasChildren(t)&&treeForEachChild(t,n=>{repoSendReadyTransactions(e,n)})}function repoSendTransactionQueue(e,t,n){const r=n.map(f=>f.currentWriteId),o=repoGetLatestState(e,t,r);let s=o;const a=o.hash();for(let f=0;f<n.length;f++){const m=n[f];assert(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const v=newRelativePath(t,m.path);s=s.updateChild(v,m.currentOutputSnapshotRaw)}const c=s.val(!0),d=t;e.server_.put(d.toString(),c,f=>{repoLog(e,"transaction put response",{path:d.toString(),status:f});let m=[];if(f==="ok"){const v=[];for(let _=0;_<n.length;_++)n[_].status=2,m=m.concat(syncTreeAckUserWrite(e.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&v.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();repoPruneCompletedTransactionsBelowNode(e,treeSubTree(e.transactionQueueTree_,t)),repoSendReadyTransactions(e,e.transactionQueueTree_),eventQueueRaiseEventsForChangedPath(e.eventQueue_,t,m);for(let _=0;_<v.length;_++)exceptionGuard(v[_])}else{if(f==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{warn("transaction at "+d.toString()+" failed: "+f);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=f}repoRerunTransactions(e,t)}},a)}function repoRerunTransactions(e,t){const n=repoGetAncestorTransactionNode(e,t),r=treeGetPath(n),o=repoBuildTransactionQueue(e,n);return repoRerunTransactionQueue(e,o,r),r}function repoRerunTransactionQueue(e,t,n){if(t.length===0)return;const r=[];let o=[];const a=t.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const d=t[c],f=newRelativePath(n,d.path);let m=!1,v;if(assert(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,v=d.abortReason,o=o.concat(syncTreeAckUserWrite(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=MAX_TRANSACTION_RETRIES)m=!0,v="maxretry",o=o.concat(syncTreeAckUserWrite(e.serverSyncTree_,d.currentWriteId,!0));else{const _=repoGetLatestState(e,d.path,a);d.currentInputSnapshot=_;const y=t[c].update(_.val());if(y!==void 0){validateFirebaseData("transaction failed: Data returned ",y,d.path);let C=nodeFromJSON(y);typeof y=="object"&&y!=null&&contains(y,".priority")||(C=C.updatePriority(_.getPriority()));const I=d.currentWriteId,T=repoGenerateServerValues(e),E=resolveDeferredValueSnapshot(C,_,T);d.currentOutputSnapshotRaw=C,d.currentOutputSnapshotResolved=E,d.currentWriteId=repoGetNextWriteId(e),a.splice(a.indexOf(I),1),o=o.concat(syncTreeApplyUserOverwrite(e.serverSyncTree_,d.path,E,d.currentWriteId,d.applyLocally)),o=o.concat(syncTreeAckUserWrite(e.serverSyncTree_,I,!0))}else m=!0,v="nodata",o=o.concat(syncTreeAckUserWrite(e.serverSyncTree_,d.currentWriteId,!0))}eventQueueRaiseEventsForChangedPath(e.eventQueue_,n,o),o=[],m&&(t[c].status=2,function(_){setTimeout(_,Math.floor(0))}(t[c].unwatcher),t[c].onComplete&&(v==="nodata"?r.push(()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot)):r.push(()=>t[c].onComplete(new Error(v),!1,null))))}repoPruneCompletedTransactionsBelowNode(e,e.transactionQueueTree_);for(let c=0;c<r.length;c++)exceptionGuard(r[c]);repoSendReadyTransactions(e,e.transactionQueueTree_)}function repoGetAncestorTransactionNode(e,t){let n,r=e.transactionQueueTree_;for(n=pathGetFront(t);n!==null&&treeGetValue(r)===void 0;)r=treeSubTree(r,n),t=pathPopFront(t),n=pathGetFront(t);return r}function repoBuildTransactionQueue(e,t){const n=[];return repoAggregateTransactionQueuesForNode(e,t,n),n.sort((r,o)=>r.order-o.order),n}function repoAggregateTransactionQueuesForNode(e,t,n){const r=treeGetValue(t);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);treeForEachChild(t,o=>{repoAggregateTransactionQueuesForNode(e,o,n)})}function repoPruneCompletedTransactionsBelowNode(e,t){const n=treeGetValue(t);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,treeSetValue(t,n.length>0?n:void 0)}treeForEachChild(t,r=>{repoPruneCompletedTransactionsBelowNode(e,r)})}function repoAbortTransactions(e,t){const n=treeGetPath(repoGetAncestorTransactionNode(e,t)),r=treeSubTree(e.transactionQueueTree_,t);return treeForEachAncestor(r,o=>{repoAbortTransactionsOnNode(e,o)}),repoAbortTransactionsOnNode(e,r),treeForEachDescendant(r,o=>{repoAbortTransactionsOnNode(e,o)}),n}function repoAbortTransactionsOnNode(e,t){const n=treeGetValue(t);if(n){const r=[];let o=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(assert(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(assert(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat(syncTreeAckUserWrite(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?treeSetValue(t,void 0):n.length=s+1,eventQueueRaiseEventsForChangedPath(e.eventQueue_,treeGetPath(t),o);for(let a=0;a<r.length;a++)exceptionGuard(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodePath(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function decodeQuery(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):warn(`Invalid query segment '${n}' in query '${e}'`)}return t}const parseRepoInfo=function(e,t){const n=parseDatabaseURL(e),r=n.namespace;n.domain==="firebase.com"&&fatal(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||warnIfPageIsSecure();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new RepoInfo(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new Path(n.pathString)}},parseDatabaseURL=function(e){let t="",n="",r="",o="",s="",a=!0,c="https",d=443;if(typeof e=="string"){let f=e.indexOf("//");f>=0&&(c=e.substring(0,f-1),e=e.substring(f+2));let m=e.indexOf("/");m===-1&&(m=e.length);let v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(m,v)),m<v&&(o=decodePath(e.substring(m,v)));const _=decodeQuery(e.substring(Math.min(e.length,v)));f=t.indexOf(":"),f>=0?(a=c==="https"||c==="wss",d=parseInt(t.substring(f+1),10)):f=t.length;const y=t.slice(0,f);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const C=t.indexOf(".");r=t.substring(0,C).toLowerCase(),n=t.substring(C+1),s=r}"ns"in _&&(s=_.ns)}return{host:t,port:d,domain:n,subdomain:r,secure:a,scheme:c,pathString:o,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PUSH_CHARS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nextPushId=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let o;const s=new Array(8);for(o=7;o>=0;o--)s[o]=PUSH_CHARS.charAt(n%64),n=Math.floor(n/64);assert(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)a+=PUSH_CHARS.charAt(t[o]);return assert(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DataEvent{constructor(t,n,r,o){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+stringify(this.snapshot.exportVal())}}class CancelEvent{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CallbackContext{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryImpl{constructor(t,n,r,o){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){const t=queryParamsGetQueryObject(this._queryParams),n=ObjectToUniqueKey(t);return n==="{}"?"default":n}get _queryObject(){return queryParamsGetQueryObject(this._queryParams)}isEqual(t){if(t=getModularInstance(t),!(t instanceof QueryImpl))return!1;const n=this._repo===t._repo,r=pathEquals(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+pathToUrlEncodedString(this._path)}}class ReferenceImpl extends QueryImpl{constructor(t,n){super(t,n,new QueryParams,!1)}get parent(){const t=pathParent(this._path);return t===null?null:new ReferenceImpl(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class DataSnapshot{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new Path(t),r=child(this.ref,t);return new DataSnapshot(this._node.getChild(n),r,PRIORITY_INDEX)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>t(new DataSnapshot(o,child(this.ref,r),PRIORITY_INDEX)))}hasChild(t){const n=new Path(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ref(e,t){return e=getModularInstance(e),e._checkNotDeleted("ref"),t!==void 0?child(e._root,t):e._root}function child(e,t){return e=getModularInstance(e),pathGetFront(e._path)===null?validateRootPathString("child","path",t,!1):validatePathString("child","path",t,!1),new ReferenceImpl(e._repo,pathChild(e._path,t))}function push$1(e,t){e=getModularInstance(e),validateWritablePath("push",e._path),validateFirebaseDataArg("push",t,e._path,!0);const n=repoServerTime(e._repo),r=nextPushId(n),o=child(e,r),s=child(e,r);let a;return t!=null?a=set$1(s,t).then(()=>s):a=Promise.resolve(s),o.then=a.then.bind(a),o.catch=a.then.bind(a,void 0),o}function set$1(e,t){e=getModularInstance(e),validateWritablePath("set",e._path),validateFirebaseDataArg("set",t,e._path,!1);const n=new Deferred;return repoSetWithPriority(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function update(e,t){validateFirebaseMergeDataArg("update",t,e._path,!1);const n=new Deferred;return repoUpdate(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function get(e){e=getModularInstance(e);const t=new CallbackContext(()=>{}),n=new ValueEventRegistration(t);return repoGetValue(e._repo,e,n).then(r=>new DataSnapshot(r,new ReferenceImpl(e._repo,e._path),e._queryParams.getIndex()))}class ValueEventRegistration{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot(t.snapshotNode,new ReferenceImpl(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new CancelEvent(this,t,n):null}matches(t){return t instanceof ValueEventRegistration?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ChildEventRegistration{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new CancelEvent(this,t,n):null}createEvent(t,n){assert(t.childName!=null,"Child events should have a childName.");const r=child(new ReferenceImpl(n._repo,n._path),t.childName),o=n._queryParams.getIndex();return new DataEvent(t.type,this,new DataSnapshot(t.snapshotNode,r,o),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ChildEventRegistration?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function addEventListener(e,t,n,r,o){let s;if(typeof r=="object"&&(s=void 0,o=r),typeof r=="function"&&(s=r),o&&o.onlyOnce){const d=n,f=(m,v)=>{repoRemoveEventCallbackForQuery(e._repo,e,c),d(m,v)};f.userCallback=n.userCallback,f.context=n.context,n=f}const a=new CallbackContext(n,s||void 0),c=t==="value"?new ValueEventRegistration(a):new ChildEventRegistration(t,a);return repoAddEventCallbackForQuery(e._repo,e,c),()=>repoRemoveEventCallbackForQuery(e._repo,e,c)}function onValue(e,t,n,r){return addEventListener(e,"value",t,n,r)}syncPointSetReferenceConstructor(ReferenceImpl);syncTreeSetReferenceConstructor(ReferenceImpl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_DATABASE_EMULATOR_HOST_VAR="FIREBASE_DATABASE_EMULATOR_HOST",repos={};let useRestClient=!1;function repoManagerApplyEmulatorSettings(e,t,n,r){e.repoInfo_=new RepoInfo(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function repoManagerDatabaseFromApp(e,t,n,r,o){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=parseRepoInfo(s,o),c=a.repoInfo,d,f;typeof process<"u"&&{}&&(f={}[FIREBASE_DATABASE_EMULATOR_HOST_VAR]),f?(d=!0,s=`http://${f}?ns=${c.namespace}`,a=parseRepoInfo(s,o),c=a.repoInfo):d=!a.repoInfo.secure;const m=o&&d?new EmulatorTokenProvider(EmulatorTokenProvider.OWNER):new FirebaseAuthTokenProvider(e.name,e.options,t);validateUrl("Invalid Firebase Database URL",a),pathIsEmpty(a.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");const v=repoManagerCreateRepo(c,e,m,new AppCheckTokenProvider(e.name,n));return new Database(v,e)}function repoManagerDeleteRepo(e,t){const n=repos[t];(!n||n[e.key]!==e)&&fatal(`Database ${t}(${e.repoInfo_}) has already been deleted.`),repoInterrupt(e),delete n[e.key]}function repoManagerCreateRepo(e,t,n,r){let o=repos[t.name];o||(o={},repos[t.name]=o);let s=o[e.toURLString()];return s&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Repo(e,useRestClient,n,r),o[e.toURLString()]=s,s}class Database{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}_delete(){return this._rootInternal!==null&&(repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&fatal("Cannot call "+t+" on a deleted database.")}}function getDatabase(e=getApp(),t){const n=_getProvider(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=getDefaultEmulatorHostnameAndPort("database");r&&connectDatabaseEmulator(n,...r)}return n}function connectDatabaseEmulator(e,t,n,r={}){e=getModularInstance(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&fatal("Cannot call useEmulator() after instance has already been initialized.");const o=e._repoInternal;let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&fatal('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new EmulatorTokenProvider(EmulatorTokenProvider.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:createMockUserToken(r.mockUserToken,e.app.options.projectId);s=new EmulatorTokenProvider(a)}repoManagerApplyEmulatorSettings(o,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerDatabase(e){setSDKVersion(SDK_VERSION$1),_registerComponent(new Component("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return repoManagerDatabaseFromApp(r,o,s,n)},"PUBLIC").setMultipleInstances(!0)),registerVersion(name$2,version$1,e),registerVersion(name$2,version$1,"esm2017")}PersistentConnection.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};PersistentConnection.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};registerDatabase();function __rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function _prodErrorMap(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(e,...t){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION$1}): ${e}`,...t)}function _logError(e,...t){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION$1}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(e,...t){throw createErrorInternal(e,...t)}function _createError(e,...t){return createErrorInternal(e,...t)}function _errorWithCustomMessage(e,t,n){const r=Object.assign(Object.assign({},prodErrorMap()),{[t]:n});return new ErrorFactory("auth","Firebase",r).create(t,{appName:e.name})}function createErrorInternal(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return _DEFAULT_AUTH_ERROR_FACTORY.create(e,...t)}function _assert(e,t,...n){if(!e)throw createErrorInternal(t,...n)}function debugFail(e){const t="INTERNAL ASSERTION FAILED: "+e;throw _logError(t),new Error(t)}function debugAssert(e,t){e||debugFail(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(t,n){this.shortDelay=t,this.longDelay=n,debugAssert(n>t,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(e,t){debugAssert(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function _performApiRequest(e,t,n,r,o={}){return _performFetchWithErrorHandling(e,o,async()=>{let s={},a={};r&&(t==="GET"?a=r:s={body:JSON.stringify(r)});const c=querystring(Object.assign({key:e.config.apiKey},a)).slice(1),d=await e._getAdditionalHeaders();return d["Content-Type"]="application/json",e.languageCode&&(d["X-Firebase-Locale"]=e.languageCode),FetchProvider.fetch()(_getFinalTarget(e,e.config.apiHost,n,c),Object.assign({method:t,headers:d,referrerPolicy:"no-referrer"},s))})}async function _performFetchWithErrorHandling(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},SERVER_ERROR_MAP),t);try{const o=new NetworkTimeout(e),s=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw _makeTaggedError(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(e,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw _makeTaggedError(e,"email-already-in-use",a);if(d==="USER_DISABLED")throw _makeTaggedError(e,"user-disabled",a);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw _errorWithCustomMessage(e,m,f);_fail(e,m)}}catch(o){if(o instanceof FirebaseError)throw o;_fail(e,"network-request-failed",{message:String(o)})}}async function _performSignInRequest(e,t,n,r,o={}){const s=await _performApiRequest(e,t,n,r,o);return"mfaPendingCredential"in s&&_fail(e,"multi-factor-auth-required",{_serverResponse:s}),s}function _getFinalTarget(e,t,n,r){const o=`${t}${n}?${r}`;return e.config.emulator?_emulatorUrl(e.config,o):`${e.config.apiScheme}://${o}`}class NetworkTimeout{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=_createError(e,t,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(e,t){return _performApiRequest(e,"POST","/v1/accounts:delete",t)}async function getAccountInfo(e,t){return _performApiRequest(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(e){if(!!e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function getIdTokenResult(e,t=!1){const n=getModularInstance(e),r=await n.getIdToken(t),o=_parseToken(r);_assert(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s=typeof o.firebase=="object"?o.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:utcTimestampToDateString(secondsStringToMilliseconds(o.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(o.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(o.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function secondsStringToMilliseconds(e){return Number(e)*1e3}function _parseToken(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const o=base64Decode(n);return o?JSON.parse(o):(_logError("Failed to decode base64 JWT payload"),null)}catch(o){return _logError("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function _tokenExpiresIn(e){const t=_parseToken(e);return _assert(t,"internal-error"),_assert(typeof t.exp<"u","internal-error"),_assert(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof FirebaseError&&isUserInvalidated(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function isUserInvalidated({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(e){var t;const n=e.auth,r=await e.getIdToken(),o=await _logoutIfInvalidated(e,getAccountInfo(n,{idToken:r}));_assert(o==null?void 0:o.users.length,n,"internal-error");const s=o.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?extractProviderData(s.providerUserInfo):[],c=mergeProviderData(e.providerData,a),d=e.isAnonymous,f=!(e.email&&s.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new UserMetadata(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(e,v)}async function reload(e){const t=getModularInstance(e);await _reloadWithoutSaving(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mergeProviderData(e,t){return[...e.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function extractProviderData(e){return e.map(t=>{var{providerId:n}=t,r=__rest(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(e,t){const n=await _performFetchWithErrorHandling(e,{},async()=>{const r=querystring({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:s}=e.config,a=_getFinalTarget(e,o,"/v1/token",`key=${s}`),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_assert(t.idToken,"internal-error"),_assert(typeof t.idToken<"u","internal-error"),_assert(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_tokenExpiresIn(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return _assert(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:s}=await requestStsToken(t,n);this.updateTokensAndExpiration(r,o,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:s}=n,a=new StsTokenManager;return r&&(_assert(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),o&&(_assert(typeof o=="string","internal-error",{appName:t}),a.accessToken=o),s&&(_assert(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(e,t){_assert(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class UserImpl{constructor(t){var{uid:n,auth:r,stsTokenManager:o}=t,s=__rest(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new UserMetadata(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,t));return _assert(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return getIdTokenResult(this,t)}reload(){return reload(this)}_assign(t){this!==t&&(_assert(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new UserImpl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,o,s,a,c,d,f,m;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(o=n.email)!==null&&o!==void 0?o:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(c=n.tenantId)!==null&&c!==void 0?c:void 0,I=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,T=(f=n.createdAt)!==null&&f!==void 0?f:void 0,E=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:x,emailVerified:P,isAnonymous:V,providerData:R,stsTokenManager:M}=n;_assert(x&&M,t,"internal-error");const D=StsTokenManager.fromJSON(this.name,M);_assert(typeof x=="string",t,"internal-error"),assertStringOrUndefined(v,t.name),assertStringOrUndefined(_,t.name),_assert(typeof P=="boolean",t,"internal-error"),_assert(typeof V=="boolean",t,"internal-error"),assertStringOrUndefined(y,t.name),assertStringOrUndefined(C,t.name),assertStringOrUndefined(S,t.name),assertStringOrUndefined(I,t.name),assertStringOrUndefined(T,t.name),assertStringOrUndefined(E,t.name);const B=new UserImpl({uid:x,auth:t,email:_,emailVerified:P,displayName:v,isAnonymous:V,photoURL:C,phoneNumber:y,tenantId:S,stsTokenManager:D,createdAt:T,lastLoginAt:E});return R&&Array.isArray(R)&&(B.providerData=R.map(U=>Object.assign({},U))),I&&(B._redirectEventId=I),B}static async _fromIdTokenResponse(t,n,r=!1){const o=new StsTokenManager;o.updateFromServerResponse(n);const s=new UserImpl({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await _reloadWithoutSaving(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(e){debugAssert(e instanceof Function,"Expected a class definition");let t=instanceCache.get(e);return t?(debugAssert(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,instanceCache.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(e,t,n){return`firebase:${e}:${t}:${n}`}class PersistenceUserManager{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:s}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,o.apiKey,s),this.fullPersistenceKey=_persistenceKeyName("persistence",o.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?UserImpl._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),t,r);const o=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=o[0]||_getInstance(inMemoryPersistence);const a=_persistenceKeyName(r,t.config.apiKey,t.name);let c=null;for(const f of n)try{const m=await f._get(a);if(m){const v=UserImpl._fromJSON(t,m);f!==s&&(c=v),s=f;break}}catch{}const d=o.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new PersistenceUserManager(s,t,r):(s=d[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new PersistenceUserManager(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_isIEMobile(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_isFirefox(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_isBlackBerry(t))return"Blackberry";if(_isWebOS(t))return"Webos";if(_isSafari(t))return"Safari";if((t.includes("chrome/")||_isChromeIOS(t))&&!t.includes("edge/"))return"Chrome";if(_isAndroid(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _isFirefox(e=getUA()){return/firefox\//i.test(e)}function _isSafari(e=getUA()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _isChromeIOS(e=getUA()){return/crios\//i.test(e)}function _isIEMobile(e=getUA()){return/iemobile/i.test(e)}function _isAndroid(e=getUA()){return/android/i.test(e)}function _isBlackBerry(e=getUA()){return/blackberry/i.test(e)}function _isWebOS(e=getUA()){return/webos/i.test(e)}function _isIOS(e=getUA()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _isIOSStandalone(e=getUA()){var t;return _isIOS(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(e=getUA()){return _isIOS(e)||_isAndroid(e)||_isWebOS(e)||_isBlackBerry(e)||/windows phone/i.test(e)||_isIEMobile(e)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(e,t=[]){let n;switch(e){case"Browser":n=_getBrowserName(getUA());break;case"Worker":n=`${_getBrowserName(getUA())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${SDK_VERSION$1}/${r}`}async function getRecaptchaConfig(e,t){return _performApiRequest(e,"GET","/v2/recaptchaConfig",_addTidIfNecessary(e,t))}function isEnterprise(e){return e!==void 0&&e.enterprise!==void 0}class RecaptchaConfig{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function _loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=o=>{const s=_createError("internal-error");s.customData=o,n(s)},r.type="text/javascript",r.charset="UTF-8",getScriptParentElement().appendChild(r)})}function _generateCallbackName(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_URL="https://www.google.com/recaptcha/enterprise.js?render=",RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(t){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{getRecaptchaConfig(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new RecaptchaConfig(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(d=>{c(d)})})}function o(s,a,c){const d=window.grecaptcha;isEnterprise(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:t}).then(f=>{a(f)}).catch(()=>{a(FAKE_TOKEN)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(c=>{if(!n&&isEnterprise(window.grecaptcha))o(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}_loadJS(RECAPTCHA_ENTERPRISE_URL+c).then(()=>{o(c,s,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function injectRecaptchaFields(e,t,n,r=!1){const o=new RecaptchaEnterpriseVerifier(e);let s;try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((a,c)=>{try{const d=t(s);a(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_getInstance(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let o=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(t);(!a||a===c)&&(d==null?void 0:d.user)&&(o=d.user,s=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(o)}catch(a){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await _reloadWithoutSaving(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?getModularInstance(t):null;return n&&_assert(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_assert(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(t))})}async initializeRecaptchaConfig(){const t=await getRecaptchaConfig(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new RecaptchaConfig(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new RecaptchaEnterpriseVerifier(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ErrorFactory("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_getInstance(t)||this._popupRedirectResolver;_assert(n,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?t.addObserver(n,r,o):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&_logWarn(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _castAuth(e){return getModularInstance(e)}class Subscription{constructor(t){this.auth=t,this.observer=null,this.addObserver=createSubscribe(n=>this.observer=n)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(e,t){const n=_getProvider(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),s=n.getOptions();if(deepEqual(s,t!=null?t:{}))return o;_fail(o,"already-initialized")}return n.initialize({options:t})}function _initializeAuthInstance(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_getInstance);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function connectAuthEmulator(e,t,n){const r=_castAuth(e);_assert(r._canInitEmulator,r,"emulator-config-failed"),_assert(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),s=extractProtocol(t),{host:a,port:c}=extractHostAndPort(t),d=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||emitEmulatorWarning()}function extractProtocol(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function extractHostAndPort(e){const t=extractProtocol(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const s=o[1];return{host:s,port:parsePort(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:parsePort(a)}}}function parsePort(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function emitEmulatorWarning(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(t){return debugFail("not implemented")}_linkToIdToken(t,n){return debugFail("not implemented")}_getReauthenticationResolver(t){return debugFail("not implemented")}}async function updateEmailPassword(e,t){return _performApiRequest(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(e,t){return _performSignInRequest(e,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(e,t){return _performSignInRequest(e,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(e,t))}async function signInWithEmailLinkForLinking(e,t){return _performSignInRequest(e,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(t,n,r,o=null){super("password",r),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new EmailAuthCredential(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new EmailAuthCredential(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const o=await injectRecaptchaFields(t,r,"signInWithPassword");return signInWithPassword(t,o)}else return signInWithPassword(t,r).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await injectRecaptchaFields(t,r,"signInWithPassword");return signInWithPassword(t,s)}else return Promise.reject(o)});case"emailLink":return signInWithEmailLink$1(t,{email:this._email,oobCode:this._password});default:_fail(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return updateEmailPassword(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLinkForLinking(t,{idToken:n,email:this._email,oobCode:this._password});default:_fail(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(e,t){return _performSignInRequest(e,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new OAuthCredential(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):_fail("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o}=n,s=__rest(n,["providerId","signInMethod"]);if(!r||!o)return null;const a=new OAuthCredential(r,o);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return signInWithIdp(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,signInWithIdp(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,signInWithIdp(t,n)}buildRequest(){const t={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=querystring(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(e){const t=querystringDecode(extractQuerystring(e)).link,n=t?querystringDecode(extractQuerystring(t)).deep_link_id:null,r=querystringDecode(extractQuerystring(e)).deep_link_id;return(r?querystringDecode(extractQuerystring(r)).link:null)||r||n||t||e}class ActionCodeURL{constructor(t){var n,r,o,s,a,c;const d=querystringDecode(extractQuerystring(t)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,v=parseMode((o=d.mode)!==null&&o!==void 0?o:null);_assert(f&&m&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const n=parseDeepLink(t);try{return new ActionCodeURL(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(t,n){return EmailAuthCredential._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=ActionCodeURL.parseLink(n);return _assert(r,"argument-error"),EmailAuthCredential._fromEmailAndCode(t,r.code,r.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(t){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return FacebookAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return FacebookAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(t.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return GoogleAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return GoogleAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return GoogleAuthProvider.credential(n,r)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(t){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return GithubAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return GithubAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return GithubAuthProvider.credential(t.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(t,n){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return TwitterAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return TwitterAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return TwitterAuthProvider.credential(n,r)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(e,t){return _performSignInRequest(e,"POST","/v1/accounts:signUp",_addTidIfNecessary(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const s=await UserImpl._fromIdTokenResponse(t,r,o),a=providerIdForResponse(r);return new UserCredentialImpl({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=providerIdForResponse(r);return new UserCredentialImpl({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function providerIdForResponse(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(t,n,r,o){var s;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new MultiFactorError(t,n,r,o)}}function _processCredentialSavingMfaContextIfNecessary(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(e,s,t,r):s})}async function _link$1(e,t,n=!1){const r=await _logoutIfInvalidated(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return UserCredentialImpl._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(e,t,n=!1){const{auth:r}=e,o="reauthenticate";try{const s=await _logoutIfInvalidated(e,_processCredentialSavingMfaContextIfNecessary(r,o,t,e),n);_assert(s.idToken,r,"internal-error");const a=_parseToken(s.idToken);_assert(a,r,"internal-error");const{sub:c}=a;return _assert(e.uid===c,r,"user-mismatch"),UserCredentialImpl._forOperation(e,o,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_fail(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(e,t,n=!1){const r="signIn",o=await _processCredentialSavingMfaContextIfNecessary(e,r,t),s=await UserCredentialImpl._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(s.user),s}async function signInWithCredential(e,t){return _signInWithCredential(_castAuth(e),t)}async function createUserWithEmailAndPassword(e,t,n){var r;const o=_castAuth(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(!((r=o._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const f=await injectRecaptchaFields(o,s,"signUpPassword");a=signUp(o,f)}else a=signUp(o,s).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const m=await injectRecaptchaFields(o,s,"signUpPassword");return signUp(o,m)}else return Promise.reject(f)});const c=await a.catch(f=>Promise.reject(f)),d=await UserCredentialImpl._fromIdTokenResponse(o,"signIn",c);return await o._updateCurrentUser(d.user),d}function signInWithEmailAndPassword(e,t,n){return signInWithCredential(getModularInstance(e),EmailAuthProvider.credential(t,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile$1(e,t){return _performApiRequest(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=getModularInstance(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},a=await _logoutIfInvalidated(r,updateProfile$1(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function onIdTokenChanged(e,t,n,r){return getModularInstance(e).onIdTokenChanged(t,n,r)}function beforeAuthStateChanged(e,t,n){return getModularInstance(e).beforeAuthStateChanged(t,n)}function onAuthStateChanged(e,t,n,r){return getModularInstance(e).onAuthStateChanged(t,n,r)}function signOut(e){return getModularInstance(e).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const e=getUA();return _isSafari(e)||_isIOS(e)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const o=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);_isIE10()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,IE10_LOCAL_STORAGE_SYNC_DELAY):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Receiver(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:s}=n.data,a=this.handlersMap[o];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const c=Array.from(a).map(async f=>f(n.origin,s)),d=await _allSettled(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,d)=>{const f=_generateEventId("",20);o.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(a),o.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[o.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(e){_window().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function getObjectStore(e,t){return e.transaction([DB_OBJECTSTORE_NAME],t?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const e=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(e).toPromise()}function _openDatabase(){const e=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?t(r):(r.close(),await _deleteDatabase(),t(await _openDatabase()))})})}async function _putObject(e,t,n){const r=getObjectStore(e,!0).put({[DB_DATA_KEYPATH]:t,value:n});return new DBPromise(r).toPromise()}async function getObject(e,t){const n=getObjectStore(e,!1).get(t),r=await new DBPromise(n).toPromise();return r===void 0?null:r.value}function _deleteObject(e,t){const n=getObjectStore(e,!0).delete(t);return new DBPromise(n).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>_TRANSACTION_RETRY_COUNT)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((t=r[0])===null||t===void 0?void 0:t.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _openDatabase();return await _putObject(t,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(t,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_putObject(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>getObject(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_deleteObject(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const s=getObjectStore(o,!1).getAll();return new DBPromise(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(e,t){return t?_getInstance(t):(_assert(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return signInWithIdp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return signInWithIdp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return signInWithIdp(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function _signIn(e){return _signInWithCredential(e.auth,new IdpCredential(e),e.bypassAuthState)}function _reauth(e){const{auth:t,user:n}=e;return _assert(n,t,"internal-error"),_reauthenticate(n,new IdpCredential(e),e.bypassAuthState)}async function _link(e){const{auth:t,user:n}=e;return _assert(n,t,"internal-error"),_link$1(n,new IdpCredential(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(t,n,r,o,s=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:s,error:a,type:c}=t;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(t){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(t,n,r,o,s){super(t,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _assert(t,this.auth,"internal-error"),t}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const t=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_POLL_WINDOW_CLOSE_TIMEOUT.get())};t()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=redirectOutcomeMap.get(this.auth._key());if(!t){try{const r=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}redirectOutcomeMap.set(this.auth._key(),t)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(e,t){const n=pendingRedirectKey(t),r=resolverPersistence(e);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function _overrideRedirectResult(e,t){redirectOutcomeMap.set(e._key(),t)}function resolverPersistence(e){return _getInstance(e._redirectPersistence)}function pendingRedirectKey(e){return _persistenceKeyName(PENDING_REDIRECT_KEY,e.config.apiKey,e.name)}async function _getRedirectResult(e,t,n=!1){const r=_castAuth(e),o=_withDefaultResolver(r,t),a=await new RedirectAction(r,o,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!isRedirectEvent(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!isNullRedirectEvent(t)){const o=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_createError(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(t))}saveEventToCache(t){this.cachedEventUids.add(eventUid(t)),this.lastProcessedEventTime=Date.now()}}function eventUid(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function isNullRedirectEvent({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function isRedirectEvent(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(e,t={}){return _performApiRequest(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(e){if(e.config.emulator)return;const{authorizedDomains:t}=await _getProjectConfig(e);for(const n of t)try{if(matchDomain(n))return}catch{}_fail(e,"unauthorized-domain")}function matchDomain(e){const t=_getCurrentUrl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!HTTP_REGEX.test(n))return!1;if(IP_ADDRESS_REGEX.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const e=_window().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function loadGapi(e){return new Promise((t,n)=>{var r,o,s;function a(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),n(_createError(e,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((o=(r=_window().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((s=_window().gapi)===null||s===void 0)&&s.load)a();else{const c=_generateCallbackName("iframefcb");return _window()[c]=()=>{gapi.load?a():n(_createError(e,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${c}`).catch(d=>n(d))}}).catch(t=>{throw cachedGApiLoader=null,t})}let cachedGApiLoader=null;function _loadGapi(e){return cachedGApiLoader=cachedGApiLoader||loadGapi(e),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(e){const t=e.config;_assert(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_emulatorUrl(t,EMULATED_IFRAME_PATH):`https://${e.config.authDomain}/${IFRAME_PATH}`,r={apiKey:t.apiKey,appName:e.name,v:SDK_VERSION$1},o=EID_FROM_APIHOST.get(e.config.apiHost);o&&(r.eid=o);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${querystring(r).slice(1)}`}async function _openIframe(e){const t=await _loadGapi(e),n=_window().gapi;return _assert(n,e,"internal-error"),t.open({where:document.body,url:getIframeUrl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},r=>new Promise(async(o,s)=>{await r.restyle({setHideOnLeave:!1});const a=_createError(e,"network-request-failed"),c=_window().setTimeout(()=>{s(a)},PING_TIMEOUT.get());function d(){_window().clearTimeout(c),o(r)}r.ping(d).then(d,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(e,t,n,r=DEFAULT_WIDTH,o=DEFAULT_HEIGHT){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:r.toString(),height:o.toString(),top:s,left:a}),f=getUA().toLowerCase();n&&(c=_isChromeIOS(f)?TARGET_BLANK:n),_isFirefox(f)&&(t=t||FIREFOX_EMPTY_URL,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[y,C])=>`${_}${y}=${C},`,"");if(_isIOSStandalone(f)&&c!=="_self")return openAsNewWindowIOS(t||"",c),new AuthPopup(null);const v=window.open(t||"",c,m);_assert(v,e,"popup-blocked");try{v.focus()}catch{}return new AuthPopup(v)}function openAsNewWindowIOS(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(e,t,n,r,o,s){_assert(e.config.authDomain,e,"auth-domain-config-required"),_assert(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:SDK_VERSION$1,eventId:o};if(t instanceof FederatedAuthProvider){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",isEmpty(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,v]of Object.entries(s||{}))a[m]=v}if(t instanceof BaseOAuthProvider){const m=t.getScopes().filter(v=>v!=="");m.length>0&&(a.scopes=m.join(","))}e.tenantId&&(a.tid=e.tenantId);const c=a;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await e._getAppCheckToken(),f=d?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(d)}`:"";return`${getHandlerBase(e)}?${querystring(c).slice(1)}${f}`}function getHandlerBase({config:e}){return e.emulator?_emulatorUrl(e,EMULATOR_WIDGET_PATH):`https://${e.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(t,n,r,o){var s;debugAssert((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await _getRedirectUrl(t,n,r,_getCurrentUrl(),o);return _open(t,a,_generateEventId())}async _openRedirect(t,n,r,o){await this._originValidation(t);const s=await _getRedirectUrl(t,n,r,_getCurrentUrl(),o);return _setWindowLocation(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:s}=this.eventManagers[n];return o?Promise.resolve(o):(debugAssert(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await _openIframe(t),r=new AuthEventManager(t);return n.register("authEvent",o=>(_assert(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},o=>{var s;const a=(s=o==null?void 0:o[0])===null||s===void 0?void 0:s[WEB_STORAGE_SUPPORT_KEY];a!==void 0&&n(!!a),_fail(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_validateOrigin(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$1="@firebase/auth",version="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);!n||(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth(e){_registerComponent(new Component("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;_assert(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:a,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(e)},f=new AuthImpl(r,o,s,d);return _initializeAuthInstance(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",t=>{const n=_castAuth(t.getProvider("auth").getImmediate());return(r=>new AuthInterop(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$1,version,getVersionForPlatform(e)),registerVersion(name$1,version,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>authIdTokenMaxAge)return;const o=n==null?void 0:n.token;lastPostedIdToken!==o&&(lastPostedIdToken=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function getAuth(e=getApp()){const t=_getProvider(e,"auth");if(t.isInitialized())return t.getImmediate();const n=initializeAuth(e,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),r=getExperimentalSetting("authTokenSyncURL");if(r){const s=mintCookieFactory(r);beforeAuthStateChanged(n,s,()=>s(n.currentUser)),onIdTokenChanged(n,a=>s(a))}const o=getDefaultEmulatorHost("auth");return o&&connectAuthEmulator(n,`http://${o}`),n}registerAuth("Browser");const firebaseConfig={apiKey:"AIzaSyCIDQsbksT60mQxVsr2IDZwFsK54MyQwGA",authDomain:"legendary-randomizer-data.firebaseapp.com",databaseURL:"https://legendary-randomizer-data-default-rtdb.firebaseio.com",projectId:"legendary-randomizer-data",storageBucket:"legendary-randomizer-data.appspot.com",messagingSenderId:"330850882367",appId:"1:330850882367:web:8d2aae2fd681a3b2d0b98a"};initializeApp(firebaseConfig);const firebase={auth:getAuth(),child,signOut,updateProfile,get,onAuthStateChanged,getDatabase,ref,onValue,set:set$1,update,push:push$1,createUserWithEmailAndPassword,signInWithEmailAndPassword},remembered=e=>{const t=useStore();firebase.onAuthStateChanged(firebase.auth,n=>{t.userLoaded=!0,n&&(t.user=n,e.currentRoute.value.path=="/"&&e.push("/dashboard"))})};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){var t=e.default;if(typeof t=="function"){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,m="__lodash_placeholder__",v=1,_=2,y=4,C=1,S=2,I=1,T=2,E=4,x=8,P=16,V=32,R=64,M=128,D=256,B=512,U=30,j="...",z=800,W=16,$=1,te=2,X=3,ue=1/0,K=9007199254740991,pe=17976931348623157e292,de=0/0,me=4294967295,Ee=me-1,Ue=me>>>1,$e=[["ary",M],["bind",I],["bindKey",T],["curry",x],["curryRight",P],["flip",B],["partial",V],["partialRight",R],["rearg",D]],Qe="[object Arguments]",ie="[object Array]",Y="[object AsyncFunction]",be="[object Boolean]",_e="[object Date]",Ie="[object DOMException]",He="[object Error]",N="[object Function]",L="[object GeneratorFunction]",H="[object Map]",J="[object Number]",ae="[object Null]",ce="[object Object]",we="[object Promise]",ve="[object Proxy]",ye="[object RegExp]",fe="[object Set]",xe="[object String]",ke="[object Symbol]",Ae="[object Undefined]",Ne="[object WeakMap]",qe="[object WeakSet]",Ke="[object ArrayBuffer]",ze="[object DataView]",nt="[object Float32Array]",yt="[object Float64Array]",Kt="[object Int8Array]",xn="[object Int16Array]",Jt="[object Int32Array]",An="[object Uint8Array]",ht="[object Uint8ClampedArray]",St="[object Uint16Array]",Rn="[object Uint32Array]",Qa=/\b__p \+= '';/g,Xa=/\b(__p \+=) '' \+/g,Ja=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ps=/&(?:amp|lt|gt|quot|#39);/g,ms=/[&<>"']/g,Za=RegExp(ps.source),tl=RegExp(ms.source),nl=/<%-([\s\S]+?)%>/g,rl=/<%([\s\S]+?)%>/g,gs=/<%=([\s\S]+?)%>/g,ol=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sl=/^\w*$/,il=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eo=/[\\^$.*+?()[\]{}|]/g,al=RegExp(eo.source),to=/^\s+/,cl=/\s/,ul=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,dl=/\{\n\/\* \[wrapped with (.+)\] \*/,fl=/,? & /,hl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pl=/[()=,{}\[\]\/\s]/,ml=/\\(\\)?/g,vl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vs=/\w*$/,_l=/^[-+]0x[0-9a-f]+$/i,yl=/^0b[01]+$/i,bl=/^\[object .+?Constructor\]$/,Cl=/^0o[0-7]+$/i,wl=/^(?:0|[1-9]\d*)$/,Sl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ar=/($^)/,El=/['\n\r\u2028\u2029\\]/g,lr="\\ud800-\\udfff",kl="\\u0300-\\u036f",Tl="\\ufe20-\\ufe2f",Il="\\u20d0-\\u20ff",_s=kl+Tl+Il,ys="\\u2700-\\u27bf",bs="a-z\\xdf-\\xf6\\xf8-\\xff",xl="\\xac\\xb1\\xd7\\xf7",Al="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rl="\\u2000-\\u206f",Pl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cs="A-Z\\xc0-\\xd6\\xd8-\\xde",ws="\\ufe0e\\ufe0f",Ss=xl+Al+Rl+Pl,no="['\u2019]",Nl="["+lr+"]",Es="["+Ss+"]",cr="["+_s+"]",ks="\\d+",Vl="["+ys+"]",Ts="["+bs+"]",Is="[^"+lr+Ss+ks+ys+bs+Cs+"]",ro="\\ud83c[\\udffb-\\udfff]",Ol="(?:"+cr+"|"+ro+")",xs="[^"+lr+"]",oo="(?:\\ud83c[\\udde6-\\uddff]){2}",so="[\\ud800-\\udbff][\\udc00-\\udfff]",Pn="["+Cs+"]",As="\\u200d",Rs="(?:"+Ts+"|"+Is+")",Dl="(?:"+Pn+"|"+Is+")",Ps="(?:"+no+"(?:d|ll|m|re|s|t|ve))?",Ns="(?:"+no+"(?:D|LL|M|RE|S|T|VE))?",Vs=Ol+"?",Os="["+ws+"]?",Fl="(?:"+As+"(?:"+[xs,oo,so].join("|")+")"+Os+Vs+")*",Ml="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$l="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ds=Os+Vs+Fl,Bl="(?:"+[Vl,oo,so].join("|")+")"+Ds,Ul="(?:"+[xs+cr+"?",cr,oo,so,Nl].join("|")+")",ql=RegExp(no,"g"),Hl=RegExp(cr,"g"),io=RegExp(ro+"(?="+ro+")|"+Ul+Ds,"g"),Wl=RegExp([Pn+"?"+Ts+"+"+Ps+"(?="+[Es,Pn,"$"].join("|")+")",Dl+"+"+Ns+"(?="+[Es,Pn+Rs,"$"].join("|")+")",Pn+"?"+Rs+"+"+Ps,Pn+"+"+Ns,$l,Ml,ks,Bl].join("|"),"g"),Gl=RegExp("["+As+lr+_s+ws+"]"),zl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kl=-1,tt={};tt[nt]=tt[yt]=tt[Kt]=tt[xn]=tt[Jt]=tt[An]=tt[ht]=tt[St]=tt[Rn]=!0,tt[Qe]=tt[ie]=tt[Ke]=tt[be]=tt[ze]=tt[_e]=tt[He]=tt[N]=tt[H]=tt[J]=tt[ce]=tt[ye]=tt[fe]=tt[xe]=tt[Ne]=!1;var et={};et[Qe]=et[ie]=et[Ke]=et[ze]=et[be]=et[_e]=et[nt]=et[yt]=et[Kt]=et[xn]=et[Jt]=et[H]=et[J]=et[ce]=et[ye]=et[fe]=et[xe]=et[ke]=et[An]=et[ht]=et[St]=et[Rn]=!0,et[He]=et[N]=et[Ne]=!1;var Yl={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ql={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zl=parseFloat,ec=parseInt,Ls=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,tc=typeof self=="object"&&self&&self.Object===Object&&self,pt=Ls||tc||Function("return this")(),ao=t&&!t.nodeType&&t,yn=ao&&!0&&e&&!e.nodeType&&e,Fs=yn&&yn.exports===ao,lo=Fs&&Ls.process,Ot=function(){try{var q=yn&&yn.require&&yn.require("util").types;return q||lo&&lo.binding&&lo.binding("util")}catch{}}(),Ms=Ot&&Ot.isArrayBuffer,$s=Ot&&Ot.isDate,Bs=Ot&&Ot.isMap,Us=Ot&&Ot.isRegExp,qs=Ot&&Ot.isSet,Hs=Ot&&Ot.isTypedArray;function xt(q,Z,Q){switch(Q.length){case 0:return q.call(Z);case 1:return q.call(Z,Q[0]);case 2:return q.call(Z,Q[0],Q[1]);case 3:return q.call(Z,Q[0],Q[1],Q[2])}return q.apply(Z,Q)}function nc(q,Z,Q,Se){for(var De=-1,Ye=q==null?0:q.length;++De<Ye;){var ut=q[De];Z(Se,ut,Q(ut),q)}return Se}function Dt(q,Z){for(var Q=-1,Se=q==null?0:q.length;++Q<Se&&Z(q[Q],Q,q)!==!1;);return q}function rc(q,Z){for(var Q=q==null?0:q.length;Q--&&Z(q[Q],Q,q)!==!1;);return q}function Ws(q,Z){for(var Q=-1,Se=q==null?0:q.length;++Q<Se;)if(!Z(q[Q],Q,q))return!1;return!0}function un(q,Z){for(var Q=-1,Se=q==null?0:q.length,De=0,Ye=[];++Q<Se;){var ut=q[Q];Z(ut,Q,q)&&(Ye[De++]=ut)}return Ye}function ur(q,Z){var Q=q==null?0:q.length;return!!Q&&Nn(q,Z,0)>-1}function co(q,Z,Q){for(var Se=-1,De=q==null?0:q.length;++Se<De;)if(Q(Z,q[Se]))return!0;return!1}function rt(q,Z){for(var Q=-1,Se=q==null?0:q.length,De=Array(Se);++Q<Se;)De[Q]=Z(q[Q],Q,q);return De}function dn(q,Z){for(var Q=-1,Se=Z.length,De=q.length;++Q<Se;)q[De+Q]=Z[Q];return q}function uo(q,Z,Q,Se){var De=-1,Ye=q==null?0:q.length;for(Se&&Ye&&(Q=q[++De]);++De<Ye;)Q=Z(Q,q[De],De,q);return Q}function oc(q,Z,Q,Se){var De=q==null?0:q.length;for(Se&&De&&(Q=q[--De]);De--;)Q=Z(Q,q[De],De,q);return Q}function fo(q,Z){for(var Q=-1,Se=q==null?0:q.length;++Q<Se;)if(Z(q[Q],Q,q))return!0;return!1}var lc=ho("length");function cc(q){return q.split("")}function uc(q){return q.match(hl)||[]}function Gs(q,Z,Q){var Se;return Q(q,function(De,Ye,ut){if(Z(De,Ye,ut))return Se=Ye,!1}),Se}function dr(q,Z,Q,Se){for(var De=q.length,Ye=Q+(Se?1:-1);Se?Ye--:++Ye<De;)if(Z(q[Ye],Ye,q))return Ye;return-1}function Nn(q,Z,Q){return Z===Z?wc(q,Z,Q):dr(q,zs,Q)}function dc(q,Z,Q,Se){for(var De=Q-1,Ye=q.length;++De<Ye;)if(Se(q[De],Z))return De;return-1}function zs(q){return q!==q}function js(q,Z){var Q=q==null?0:q.length;return Q?mo(q,Z)/Q:de}function ho(q){return function(Z){return Z==null?n:Z[q]}}function po(q){return function(Z){return q==null?n:q[Z]}}function Ks(q,Z,Q,Se,De){return De(q,function(Ye,ut,Ze){Q=Se?(Se=!1,Ye):Z(Q,Ye,ut,Ze)}),Q}function fc(q,Z){var Q=q.length;for(q.sort(Z);Q--;)q[Q]=q[Q].value;return q}function mo(q,Z){for(var Q,Se=-1,De=q.length;++Se<De;){var Ye=Z(q[Se]);Ye!==n&&(Q=Q===n?Ye:Q+Ye)}return Q}function go(q,Z){for(var Q=-1,Se=Array(q);++Q<q;)Se[Q]=Z(Q);return Se}function hc(q,Z){return rt(Z,function(Q){return[Q,q[Q]]})}function Ys(q){return q&&q.slice(0,Zs(q)+1).replace(to,"")}function At(q){return function(Z){return q(Z)}}function vo(q,Z){return rt(Z,function(Q){return q[Q]})}function Gn(q,Z){return q.has(Z)}function Qs(q,Z){for(var Q=-1,Se=q.length;++Q<Se&&Nn(Z,q[Q],0)>-1;);return Q}function Xs(q,Z){for(var Q=q.length;Q--&&Nn(Z,q[Q],0)>-1;);return Q}function pc(q,Z){for(var Q=q.length,Se=0;Q--;)q[Q]===Z&&++Se;return Se}var mc=po(Yl),gc=po(Ql);function vc(q){return"\\"+Jl[q]}function _c(q,Z){return q==null?n:q[Z]}function Vn(q){return Gl.test(q)}function yc(q){return zl.test(q)}function bc(q){for(var Z,Q=[];!(Z=q.next()).done;)Q.push(Z.value);return Q}function _o(q){var Z=-1,Q=Array(q.size);return q.forEach(function(Se,De){Q[++Z]=[De,Se]}),Q}function Js(q,Z){return function(Q){return q(Z(Q))}}function fn(q,Z){for(var Q=-1,Se=q.length,De=0,Ye=[];++Q<Se;){var ut=q[Q];(ut===Z||ut===m)&&(q[Q]=m,Ye[De++]=Q)}return Ye}function fr(q){var Z=-1,Q=Array(q.size);return q.forEach(function(Se){Q[++Z]=Se}),Q}function Cc(q){var Z=-1,Q=Array(q.size);return q.forEach(function(Se){Q[++Z]=[Se,Se]}),Q}function wc(q,Z,Q){for(var Se=Q-1,De=q.length;++Se<De;)if(q[Se]===Z)return Se;return-1}function Ec(q,Z,Q){for(var Se=Q+1;Se--;)if(q[Se]===Z)return Se;return Se}function On(q){return Vn(q)?Tc(q):lc(q)}function Ht(q){return Vn(q)?Ic(q):cc(q)}function Zs(q){for(var Z=q.length;Z--&&cl.test(q.charAt(Z)););return Z}var kc=po(Xl);function Tc(q){for(var Z=io.lastIndex=0;io.test(q);)++Z;return Z}function Ic(q){return q.match(io)||[]}function xc(q){return q.match(Wl)||[]}var Ac=function q(Z){Z=Z==null?pt:Dn.defaults(pt.Object(),Z,Dn.pick(pt,jl));var Q=Z.Array,Se=Z.Date,De=Z.Error,Ye=Z.Function,ut=Z.Math,Ze=Z.Object,yo=Z.RegExp,Rc=Z.String,Ft=Z.TypeError,mr=Q.prototype,Pc=Ye.prototype,Ln=Ze.prototype,gr=Z["__core-js_shared__"],vr=Pc.toString,Je=Ln.hasOwnProperty,Nc=0,ei=function(){var l=/[^.]+$/.exec(gr&&gr.keys&&gr.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),_r=Ln.toString,Vc=vr.call(Ze),Oc=pt._,Dc=yo("^"+vr.call(Je).replace(eo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yr=Fs?Z.Buffer:n,hn=Z.Symbol,br=Z.Uint8Array,ti=yr?yr.allocUnsafe:n,Cr=Js(Ze.getPrototypeOf,Ze),ri=Ze.create,oi=Ln.propertyIsEnumerable,Sr=mr.splice,si=hn?hn.isConcatSpreadable:n,zn=hn?hn.iterator:n,bn=hn?hn.toStringTag:n,Er=function(){try{var l=kn(Ze,"defineProperty");return l({},"",{}),l}catch{}}(),Lc=Z.clearTimeout!==pt.clearTimeout&&Z.clearTimeout,Fc=Se&&Se.now!==pt.Date.now&&Se.now,Mc=Z.setTimeout!==pt.setTimeout&&Z.setTimeout,kr=ut.ceil,Tr=ut.floor,bo=Ze.getOwnPropertySymbols,$c=yr?yr.isBuffer:n,ai=Z.isFinite,Bc=mr.join,Uc=Js(Ze.keys,Ze),dt=ut.max,vt=ut.min,qc=Se.now,Hc=Z.parseInt,li=ut.random,Wc=mr.reverse,Co=kn(Z,"DataView"),jn=kn(Z,"Map"),wo=kn(Z,"Promise"),Fn=kn(Z,"Set"),Kn=kn(Z,"WeakMap"),Yn=kn(Ze,"create"),Ir=Kn&&new Kn,Mn={},Gc=Tn(Co),zc=Tn(jn),jc=Tn(wo),Kc=Tn(Fn),Yc=Tn(Kn),xr=hn?hn.prototype:n,Qn=xr?xr.valueOf:n,ci=xr?xr.toString:n;function k(l){if(st(l)&&!Le(l)&&!(l instanceof Ge)){if(l instanceof Mt)return l;if(Je.call(l,"__wrapped__"))return pa(l)}return new Mt(l)}var $n=function(){function l(){}return function(u){if(!ot(u))return{};if(ri)return ri(u);l.prototype=u;var g=new l;return l.prototype=n,g}}();function Ar(){}function Mt(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}k.templateSettings={escape:nl,evaluate:rl,interpolate:gs,variable:"",imports:{_:k}},k.prototype=Ar.prototype,k.prototype.constructor=k,Mt.prototype=$n(Ar.prototype),Mt.prototype.constructor=Mt;function Ge(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function Qc(){var l=new Ge(this.__wrapped__);return l.__actions__=Et(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Et(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Et(this.__views__),l}function Xc(){if(this.__filtered__){var l=new Ge(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Jc(){var l=this.__wrapped__.value(),u=this.__dir__,g=Le(l),b=u<0,w=g?l.length:0,A=gd(0,w,this.__views__),O=A.start,F=A.end,G=F-O,oe=b?F:O-1,se=this.__iteratees__,he=se.length,Ce=0,Te=vt(G,this.__takeCount__);if(!g||!b&&w==G&&Te==G)return Li(l,this.__actions__);var Ve=[];e:for(;G--&&Ce<Te;){oe+=u;for(var Me=-1,Oe=l[oe];++Me<he;){var We=se[Me],je=We.iteratee,Nt=We.type,wt=je(Oe);if(Nt==te)Oe=wt;else if(!wt){if(Nt==$)continue e;break e}}Ve[Ce++]=Oe}return Ve}Ge.prototype=$n(Ar.prototype),Ge.prototype.constructor=Ge;function Cn(l){var u=-1,g=l==null?0:l.length;for(this.clear();++u<g;){var b=l[u];this.set(b[0],b[1])}}function Zc(){this.__data__=Yn?Yn(null):{},this.size=0}function eu(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}function tu(l){var u=this.__data__;if(Yn){var g=u[l];return g===d?n:g}return Je.call(u,l)?u[l]:n}function ru(l){var u=this.__data__;return Yn?u[l]!==n:Je.call(u,l)}function ou(l,u){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=Yn&&u===n?d:u,this}Cn.prototype.clear=Zc,Cn.prototype.delete=eu,Cn.prototype.get=tu,Cn.prototype.has=ru,Cn.prototype.set=ou;function Zt(l){var u=-1,g=l==null?0:l.length;for(this.clear();++u<g;){var b=l[u];this.set(b[0],b[1])}}function su(){this.__data__=[],this.size=0}function iu(l){var u=this.__data__,g=Rr(u,l);if(g<0)return!1;var b=u.length-1;return g==b?u.pop():Sr.call(u,g,1),--this.size,!0}function au(l){var u=this.__data__,g=Rr(u,l);return g<0?n:u[g][1]}function lu(l){return Rr(this.__data__,l)>-1}function cu(l,u){var g=this.__data__,b=Rr(g,l);return b<0?(++this.size,g.push([l,u])):g[b][1]=u,this}Zt.prototype.clear=su,Zt.prototype.delete=iu,Zt.prototype.get=au,Zt.prototype.has=lu,Zt.prototype.set=cu;function tn(l){var u=-1,g=l==null?0:l.length;for(this.clear();++u<g;){var b=l[u];this.set(b[0],b[1])}}function uu(){this.size=0,this.__data__={hash:new Cn,map:new(jn||Zt),string:new Cn}}function du(l){var u=Wr(this,l).delete(l);return this.size-=u?1:0,u}function fu(l){return Wr(this,l).get(l)}function hu(l){return Wr(this,l).has(l)}function pu(l,u){var g=Wr(this,l),b=g.size;return g.set(l,u),this.size+=g.size==b?0:1,this}tn.prototype.clear=uu,tn.prototype.delete=du,tn.prototype.get=fu,tn.prototype.has=hu,tn.prototype.set=pu;function wn(l){var u=-1,g=l==null?0:l.length;for(this.__data__=new tn;++u<g;)this.add(l[u])}function gu(l){return this.__data__.set(l,d),this}function vu(l){return this.__data__.has(l)}wn.prototype.add=wn.prototype.push=gu,wn.prototype.has=vu;function Wt(l){var u=this.__data__=new Zt(l);this.size=u.size}function _u(){this.__data__=new Zt,this.size=0}function yu(l){var u=this.__data__,g=u.delete(l);return this.size=u.size,g}function bu(l){return this.__data__.get(l)}function Cu(l){return this.__data__.has(l)}function wu(l,u){var g=this.__data__;if(g instanceof Zt){var b=g.__data__;if(!jn||b.length<o-1)return b.push([l,u]),this.size=++g.size,this;g=this.__data__=new tn(b)}return g.set(l,u),this.size=g.size,this}Wt.prototype.clear=_u,Wt.prototype.delete=yu,Wt.prototype.get=bu,Wt.prototype.has=Cu,Wt.prototype.set=wu;function ui(l,u){var g=Le(l),b=!g&&In(l),w=!g&&!b&&_n(l),A=!g&&!b&&!w&&Hn(l),O=g||b||w||A,F=O?go(l.length,Rc):[],G=F.length;for(var oe in l)(u||Je.call(l,oe))&&!(O&&(oe=="length"||w&&(oe=="offset"||oe=="parent")||A&&(oe=="buffer"||oe=="byteLength"||oe=="byteOffset")||sn(oe,G)))&&F.push(oe);return F}function di(l){var u=l.length;return u?l[Vo(0,u-1)]:n}function Su(l,u){return Gr(Et(l),Sn(u,0,l.length))}function Eu(l){return Gr(Et(l))}function So(l,u,g){(g!==n&&!zt(l[u],g)||g===n&&!(u in l))&&nn(l,u,g)}function Xn(l,u,g){var b=l[u];(!(Je.call(l,u)&&zt(b,g))||g===n&&!(u in l))&&nn(l,u,g)}function Rr(l,u){for(var g=l.length;g--;)if(zt(l[g][0],u))return g;return-1}function ku(l,u,g,b){return pn(l,function(w,A,O){u(b,w,g(w),O)}),b}function fi(l,u){return l&&Qt(u,ft(u),l)}function Tu(l,u){return l&&Qt(u,Tt(u),l)}function nn(l,u,g){u=="__proto__"&&Er?Er(l,u,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[u]=g}function Eo(l,u){for(var g=-1,b=u.length,w=Q(b),A=l==null;++g<b;)w[g]=A?n:ss(l,u[g]);return w}function Sn(l,u,g){return l===l&&(g!==n&&(l=l<=g?l:g),u!==n&&(l=l>=u?l:u)),l}function $t(l,u,g,b,w,A){var O,F=u&v,G=u&_,oe=u&y;if(g&&(O=w?g(l,b,w,A):g(l)),O!==n)return O;if(!ot(l))return l;var se=Le(l);if(se){if(O=_d(l),!F)return Et(l,O)}else{var he=_t(l),Ce=he==N||he==L;if(_n(l))return $i(l,F);if(he==ce||he==Qe||Ce&&!w){if(O=G||Ce?{}:sa(l),!F)return G?sd(l,Tu(O,l)):od(l,fi(O,l))}else{if(!et[he])return w?l:{};O=yd(l,he,F)}}A||(A=new Wt);var Te=A.get(l);if(Te)return Te;A.set(l,O),Oa(l)?l.forEach(function(Oe){O.add($t(Oe,u,g,Oe,l,A))}):Na(l)&&l.forEach(function(Oe,We){O.set(We,$t(Oe,u,g,We,l,A))});var Ve=oe?G?Wo:Ho:G?Tt:ft,Me=se?n:Ve(l);return Dt(Me||l,function(Oe,We){Me&&(We=Oe,Oe=l[We]),Xn(O,We,$t(Oe,u,g,We,l,A))}),O}function Iu(l){var u=ft(l);return function(g){return hi(g,l,u)}}function hi(l,u,g){var b=g.length;if(l==null)return!b;for(l=Ze(l);b--;){var w=g[b],A=u[w],O=l[w];if(O===n&&!(w in l)||!A(O))return!1}return!0}function mi(l,u,g){if(typeof l!="function")throw new Ft(a);return sr(function(){l.apply(n,g)},u)}function Jn(l,u,g,b){var w=-1,A=ur,O=!0,F=l.length,G=[],oe=u.length;if(!F)return G;g&&(u=rt(u,At(g))),b?(A=co,O=!1):u.length>=o&&(A=Gn,O=!1,u=new wn(u));e:for(;++w<F;){var se=l[w],he=g==null?se:g(se);if(se=b||se!==0?se:0,O&&he===he){for(var Ce=oe;Ce--;)if(u[Ce]===he)continue e;G.push(se)}else A(u,he,b)||G.push(se)}return G}var pn=Wi(Yt),gi=Wi(To,!0);function xu(l,u){var g=!0;return pn(l,function(b,w,A){return g=!!u(b,w,A),g}),g}function Nr(l,u,g){for(var b=-1,w=l.length;++b<w;){var A=l[b],O=u(A);if(O!=null&&(F===n?O===O&&!Pt(O):g(O,F)))var F=O,G=A}return G}function Au(l,u,g,b){var w=l.length;for(g=Fe(g),g<0&&(g=-g>w?0:w+g),b=b===n||b>w?w:Fe(b),b<0&&(b+=w),b=g>b?0:La(b);g<b;)l[g++]=u;return l}function vi(l,u){var g=[];return pn(l,function(b,w,A){u(b,w,A)&&g.push(b)}),g}function mt(l,u,g,b,w){var A=-1,O=l.length;for(g||(g=Cd),w||(w=[]);++A<O;){var F=l[A];u>0&&g(F)?u>1?mt(F,u-1,g,b,w):dn(w,F):b||(w[w.length]=F)}return w}var ko=Gi(),_i=Gi(!0);function Yt(l,u){return l&&ko(l,u,ft)}function To(l,u){return l&&_i(l,u,ft)}function Vr(l,u){return un(u,function(g){return an(l[g])})}function En(l,u){u=gn(u,l);for(var g=0,b=u.length;l!=null&&g<b;)l=l[Xt(u[g++])];return g&&g==b?l:n}function yi(l,u,g){var b=u(l);return Le(l)?b:dn(b,g(l))}function bt(l){return l==null?l===n?Ae:ae:bn&&bn in Ze(l)?pd(l):xd(l)}function Io(l,u){return l>u}function Ru(l,u){return l!=null&&Je.call(l,u)}function Pu(l,u){return l!=null&&u in Ze(l)}function Vu(l,u,g){return l>=vt(u,g)&&l<dt(u,g)}function xo(l,u,g){for(var b=g?co:ur,w=l[0].length,A=l.length,O=A,F=Q(A),G=1/0,oe=[];O--;){var se=l[O];O&&u&&(se=rt(se,At(u))),G=vt(se.length,G),F[O]=!g&&(u||w>=120&&se.length>=120)?new wn(O&&se):n}se=l[0];var he=-1,Ce=F[0];e:for(;++he<w&&oe.length<G;){var Te=se[he],Ve=u?u(Te):Te;if(Te=g||Te!==0?Te:0,!(Ce?Gn(Ce,Ve):b(oe,Ve,g))){for(O=A;--O;){var Me=F[O];if(!(Me?Gn(Me,Ve):b(l[O],Ve,g)))continue e}Ce&&Ce.push(Ve),oe.push(Te)}}return oe}function Ou(l,u,g,b){return Yt(l,function(w,A,O){u(b,g(w),A,O)}),b}function Zn(l,u,g){u=gn(u,l),l=ca(l,u);var b=l==null?l:l[Xt(Ut(u))];return b==null?n:xt(b,l,g)}function bi(l){return st(l)&&bt(l)==Qe}function Du(l){return st(l)&&bt(l)==Ke}function Lu(l){return st(l)&&bt(l)==_e}function er(l,u,g,b,w){return l===u?!0:l==null||u==null||!st(l)&&!st(u)?l!==l&&u!==u:Fu(l,u,g,b,er,w)}function Fu(l,u,g,b,w,A){var O=Le(l),F=Le(u),G=O?ie:_t(l),oe=F?ie:_t(u);G=G==Qe?ce:G,oe=oe==Qe?ce:oe;var se=G==ce,he=oe==ce,Ce=G==oe;if(Ce&&_n(l)){if(!_n(u))return!1;O=!0,se=!1}if(Ce&&!se)return A||(A=new Wt),O||Hn(l)?na(l,u,g,b,w,A):fd(l,u,G,g,b,w,A);if(!(g&C)){var Te=se&&Je.call(l,"__wrapped__"),Ve=he&&Je.call(u,"__wrapped__");if(Te||Ve){var Me=Te?l.value():l,Oe=Ve?u.value():u;return A||(A=new Wt),w(Me,Oe,g,b,A)}}return Ce?(A||(A=new Wt),hd(l,u,g,b,w,A)):!1}function $u(l){return st(l)&&_t(l)==H}function Ao(l,u,g,b){var w=g.length,A=w,O=!b;if(l==null)return!A;for(l=Ze(l);w--;){var F=g[w];if(O&&F[2]?F[1]!==l[F[0]]:!(F[0]in l))return!1}for(;++w<A;){F=g[w];var G=F[0],oe=l[G],se=F[1];if(O&&F[2]){if(oe===n&&!(G in l))return!1}else{var he=new Wt;if(b)var Ce=b(oe,se,G,l,u,he);if(!(Ce===n?er(se,oe,C|S,b,he):Ce))return!1}}return!0}function Ci(l){if(!ot(l)||Sd(l))return!1;var u=an(l)?Dc:bl;return u.test(Tn(l))}function Bu(l){return st(l)&&bt(l)==ye}function Uu(l){return st(l)&&_t(l)==fe}function qu(l){return st(l)&&Xr(l.length)&&!!tt[bt(l)]}function wi(l){return typeof l=="function"?l:l==null?It:typeof l=="object"?Le(l)?ki(l[0],l[1]):Ei(l):ja(l)}function Ro(l){if(!rr(l))return Uc(l);var u=[];for(var g in Ze(l))Je.call(l,g)&&g!="constructor"&&u.push(g);return u}function Hu(l){if(!ot(l))return Id(l);var u=rr(l),g=[];for(var b in l)b=="constructor"&&(u||!Je.call(l,b))||g.push(b);return g}function Po(l,u){return l<u}function Si(l,u){var g=-1,b=kt(l)?Q(l.length):[];return pn(l,function(w,A,O){b[++g]=u(w,A,O)}),b}function Ei(l){var u=zo(l);return u.length==1&&u[0][2]?aa(u[0][0],u[0][1]):function(g){return g===l||Ao(g,l,u)}}function ki(l,u){return Ko(l)&&ia(u)?aa(Xt(l),u):function(g){var b=ss(g,l);return b===n&&b===u?is(g,l):er(u,b,C|S)}}function Dr(l,u,g,b,w){l!==u&&ko(u,function(A,O){if(w||(w=new Wt),ot(A))Wu(l,u,O,g,Dr,b,w);else{var F=b?b(Qo(l,O),A,O+"",l,u,w):n;F===n&&(F=A),So(l,O,F)}},Tt)}function Wu(l,u,g,b,w,A,O){var F=Qo(l,g),G=Qo(u,g),oe=O.get(G);if(oe){So(l,g,oe);return}var se=A?A(F,G,g+"",l,u,O):n,he=se===n;if(he){var Ce=Le(G),Te=!Ce&&_n(G),Ve=!Ce&&!Te&&Hn(G);se=G,Ce||Te||Ve?Le(F)?se=F:at(F)?se=Et(F):Te?(he=!1,se=$i(G,!0)):Ve?(he=!1,se=Bi(G,!0)):se=[]:ir(G)||In(G)?(se=F,In(F)?se=Fa(F):(!ot(F)||an(F))&&(se=sa(G))):he=!1}he&&(O.set(G,se),w(se,G,b,A,O),O.delete(G)),So(l,g,se)}function Ti(l,u){var g=l.length;if(!!g)return u+=u<0?g:0,sn(u,g)?l[u]:n}function Ii(l,u,g){u.length?u=rt(u,function(A){return Le(A)?function(O){return En(O,A.length===1?A[0]:A)}:A}):u=[It];var b=-1;u=rt(u,At(Pe()));var w=Si(l,function(A,O,F){var G=rt(u,function(oe){return oe(A)});return{criteria:G,index:++b,value:A}});return fc(w,function(A,O){return rd(A,O,g)})}function Gu(l,u){return Ai(l,u,function(g,b){return is(l,b)})}function Ai(l,u,g){for(var b=-1,w=u.length,A={};++b<w;){var O=u[b],F=En(l,O);g(F,O)&&tr(A,gn(O,l),F)}return A}function zu(l){return function(u){return En(u,l)}}function No(l,u,g,b){var w=b?dc:Nn,A=-1,O=u.length,F=l;for(l===u&&(u=Et(u)),g&&(F=rt(l,At(g)));++A<O;)for(var G=0,oe=u[A],se=g?g(oe):oe;(G=w(F,se,G,b))>-1;)F!==l&&Sr.call(F,G,1),Sr.call(l,G,1);return l}function Ri(l,u){for(var g=l?u.length:0,b=g-1;g--;){var w=u[g];if(g==b||w!==A){var A=w;sn(w)?Sr.call(l,w,1):Lo(l,w)}}return l}function Vo(l,u){return l+Tr(li()*(u-l+1))}function ju(l,u,g,b){for(var w=-1,A=dt(kr((u-l)/(g||1)),0),O=Q(A);A--;)O[b?A:++w]=l,l+=g;return O}function Oo(l,u){var g="";if(!l||u<1||u>K)return g;do u%2&&(g+=l),u=Tr(u/2),u&&(l+=l);while(u);return g}function Be(l,u){return Xo(la(l,u,It),l+"")}function Ku(l){return di(Wn(l))}function Yu(l,u){var g=Wn(l);return Gr(g,Sn(u,0,g.length))}function tr(l,u,g,b){if(!ot(l))return l;u=gn(u,l);for(var w=-1,A=u.length,O=A-1,F=l;F!=null&&++w<A;){var G=Xt(u[w]),oe=g;if(G==="__proto__"||G==="constructor"||G==="prototype")return l;if(w!=O){var se=F[G];oe=b?b(se,G,F):n,oe===n&&(oe=ot(se)?se:sn(u[w+1])?[]:{})}Xn(F,G,oe),F=F[G]}return l}var Ni=Ir?function(l,u){return Ir.set(l,u),l}:It,Qu=Er?function(l,u){return Er(l,"toString",{configurable:!0,enumerable:!1,value:ls(u),writable:!0})}:It;function Xu(l){return Gr(Wn(l))}function Bt(l,u,g){var b=-1,w=l.length;u<0&&(u=-u>w?0:w+u),g=g>w?w:g,g<0&&(g+=w),w=u>g?0:g-u>>>0,u>>>=0;for(var A=Q(w);++b<w;)A[b]=l[b+u];return A}function Ju(l,u){var g;return pn(l,function(b,w,A){return g=u(b,w,A),!g}),!!g}function Lr(l,u,g){var b=0,w=l==null?b:l.length;if(typeof u=="number"&&u===u&&w<=Ue){for(;b<w;){var A=b+w>>>1,O=l[A];O!==null&&!Pt(O)&&(g?O<=u:O<u)?b=A+1:w=A}return w}return Do(l,u,It,g)}function Do(l,u,g,b){var w=0,A=l==null?0:l.length;if(A===0)return 0;u=g(u);for(var O=u!==u,F=u===null,G=Pt(u),oe=u===n;w<A;){var se=Tr((w+A)/2),he=g(l[se]),Ce=he!==n,Te=he===null,Ve=he===he,Me=Pt(he);if(O)var Oe=b||Ve;else oe?Oe=Ve&&(b||Ce):F?Oe=Ve&&Ce&&(b||!Te):G?Oe=Ve&&Ce&&!Te&&(b||!Me):Te||Me?Oe=!1:Oe=b?he<=u:he<u;Oe?w=se+1:A=se}return vt(A,Ee)}function Vi(l,u){for(var g=-1,b=l.length,w=0,A=[];++g<b;){var O=l[g],F=u?u(O):O;if(!g||!zt(F,G)){var G=F;A[w++]=O===0?0:O}}return A}function Oi(l){return typeof l=="number"?l:Pt(l)?de:+l}function Rt(l){if(typeof l=="string")return l;if(Le(l))return rt(l,Rt)+"";if(Pt(l))return ci?ci.call(l):"";var u=l+"";return u=="0"&&1/l==-ue?"-0":u}function mn(l,u,g){var b=-1,w=ur,A=l.length,O=!0,F=[],G=F;if(g)O=!1,w=co;else if(A>=o){var oe=u?null:cd(l);if(oe)return fr(oe);O=!1,w=Gn,G=new wn}else G=u?[]:F;e:for(;++b<A;){var se=l[b],he=u?u(se):se;if(se=g||se!==0?se:0,O&&he===he){for(var Ce=G.length;Ce--;)if(G[Ce]===he)continue e;u&&G.push(he),F.push(se)}else w(G,he,g)||(G!==F&&G.push(he),F.push(se))}return F}function Lo(l,u){return u=gn(u,l),l=ca(l,u),l==null||delete l[Xt(Ut(u))]}function Di(l,u,g,b){return tr(l,u,g(En(l,u)),b)}function Fr(l,u,g,b){for(var w=l.length,A=b?w:-1;(b?A--:++A<w)&&u(l[A],A,l););return g?Bt(l,b?0:A,b?A+1:w):Bt(l,b?A+1:0,b?w:A)}function Li(l,u){var g=l;return g instanceof Ge&&(g=g.value()),uo(u,function(b,w){return w.func.apply(w.thisArg,dn([b],w.args))},g)}function Fo(l,u,g){var b=l.length;if(b<2)return b?mn(l[0]):[];for(var w=-1,A=Q(b);++w<b;)for(var O=l[w],F=-1;++F<b;)F!=w&&(A[w]=Jn(A[w]||O,l[F],u,g));return mn(mt(A,1),u,g)}function Fi(l,u,g){for(var b=-1,w=l.length,A=u.length,O={};++b<w;){var F=b<A?u[b]:n;g(O,l[b],F)}return O}function Mo(l){return at(l)?l:[]}function $o(l){return typeof l=="function"?l:It}function gn(l,u){return Le(l)?l:Ko(l,u)?[l]:ha(Xe(l))}var Zu=Be;function vn(l,u,g){var b=l.length;return g=g===n?b:g,!u&&g>=b?l:Bt(l,u,g)}var Mi=Lc||function(l){return pt.clearTimeout(l)};function $i(l,u){if(u)return l.slice();var g=l.length,b=ti?ti(g):new l.constructor(g);return l.copy(b),b}function Bo(l){var u=new l.constructor(l.byteLength);return new br(u).set(new br(l)),u}function ed(l,u){var g=u?Bo(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}function td(l){var u=new l.constructor(l.source,vs.exec(l));return u.lastIndex=l.lastIndex,u}function nd(l){return Qn?Ze(Qn.call(l)):{}}function Bi(l,u){var g=u?Bo(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function Ui(l,u){if(l!==u){var g=l!==n,b=l===null,w=l===l,A=Pt(l),O=u!==n,F=u===null,G=u===u,oe=Pt(u);if(!F&&!oe&&!A&&l>u||A&&O&&G&&!F&&!oe||b&&O&&G||!g&&G||!w)return 1;if(!b&&!A&&!oe&&l<u||oe&&g&&w&&!b&&!A||F&&g&&w||!O&&w||!G)return-1}return 0}function rd(l,u,g){for(var b=-1,w=l.criteria,A=u.criteria,O=w.length,F=g.length;++b<O;){var G=Ui(w[b],A[b]);if(G){if(b>=F)return G;var oe=g[b];return G*(oe=="desc"?-1:1)}}return l.index-u.index}function qi(l,u,g,b){for(var w=-1,A=l.length,O=g.length,F=-1,G=u.length,oe=dt(A-O,0),se=Q(G+oe),he=!b;++F<G;)se[F]=u[F];for(;++w<O;)(he||w<A)&&(se[g[w]]=l[w]);for(;oe--;)se[F++]=l[w++];return se}function Hi(l,u,g,b){for(var w=-1,A=l.length,O=-1,F=g.length,G=-1,oe=u.length,se=dt(A-F,0),he=Q(se+oe),Ce=!b;++w<se;)he[w]=l[w];for(var Te=w;++G<oe;)he[Te+G]=u[G];for(;++O<F;)(Ce||w<A)&&(he[Te+g[O]]=l[w++]);return he}function Et(l,u){var g=-1,b=l.length;for(u||(u=Q(b));++g<b;)u[g]=l[g];return u}function Qt(l,u,g,b){var w=!g;g||(g={});for(var A=-1,O=u.length;++A<O;){var F=u[A],G=b?b(g[F],l[F],F,g,l):n;G===n&&(G=l[F]),w?nn(g,F,G):Xn(g,F,G)}return g}function od(l,u){return Qt(l,jo(l),u)}function sd(l,u){return Qt(l,ra(l),u)}function Mr(l,u){return function(g,b){var w=Le(g)?nc:ku,A=u?u():{};return w(g,l,Pe(b,2),A)}}function Bn(l){return Be(function(u,g){var b=-1,w=g.length,A=w>1?g[w-1]:n,O=w>2?g[2]:n;for(A=l.length>3&&typeof A=="function"?(w--,A):n,O&&Ct(g[0],g[1],O)&&(A=w<3?n:A,w=1),u=Ze(u);++b<w;){var F=g[b];F&&l(u,F,b,A)}return u})}function Wi(l,u){return function(g,b){if(g==null)return g;if(!kt(g))return l(g,b);for(var w=g.length,A=u?w:-1,O=Ze(g);(u?A--:++A<w)&&b(O[A],A,O)!==!1;);return g}}function Gi(l){return function(u,g,b){for(var w=-1,A=Ze(u),O=b(u),F=O.length;F--;){var G=O[l?F:++w];if(g(A[G],G,A)===!1)break}return u}}function id(l,u,g){var b=u&I,w=nr(l);function A(){var O=this&&this!==pt&&this instanceof A?w:l;return O.apply(b?g:this,arguments)}return A}function zi(l){return function(u){u=Xe(u);var g=Vn(u)?Ht(u):n,b=g?g[0]:u.charAt(0),w=g?vn(g,1).join(""):u.slice(1);return b[l]()+w}}function Un(l){return function(u){return uo(Ga(Wa(u).replace(ql,"")),l,"")}}function nr(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var g=$n(l.prototype),b=l.apply(g,u);return ot(b)?b:g}}function ad(l,u,g){var b=nr(l);function w(){for(var A=arguments.length,O=Q(A),F=A,G=qn(w);F--;)O[F]=arguments[F];var oe=A<3&&O[0]!==G&&O[A-1]!==G?[]:fn(O,G);if(A-=oe.length,A<g)return Ji(l,u,$r,w.placeholder,n,O,oe,n,n,g-A);var se=this&&this!==pt&&this instanceof w?b:l;return xt(se,this,O)}return w}function ji(l){return function(u,g,b){var w=Ze(u);if(!kt(u)){var A=Pe(g,3);u=ft(u),g=function(F){return A(w[F],F,w)}}var O=l(u,g,b);return O>-1?w[A?u[O]:O]:n}}function Ki(l){return on(function(u){var g=u.length,b=g,w=Mt.prototype.thru;for(l&&u.reverse();b--;){var A=u[b];if(typeof A!="function")throw new Ft(a);if(w&&!O&&Hr(A)=="wrapper")var O=new Mt([],!0)}for(b=O?b:g;++b<g;){A=u[b];var F=Hr(A),G=F=="wrapper"?Go(A):n;G&&Yo(G[0])&&G[1]==(M|x|V|D)&&!G[4].length&&G[9]==1?O=O[Hr(G[0])].apply(O,G[3]):O=A.length==1&&Yo(A)?O[F]():O.thru(A)}return function(){var oe=arguments,se=oe[0];if(O&&oe.length==1&&Le(se))return O.plant(se).value();for(var he=0,Ce=g?u[he].apply(this,oe):se;++he<g;)Ce=u[he].call(this,Ce);return Ce}})}function $r(l,u,g,b,w,A,O,F,G,oe){var se=u&M,he=u&I,Ce=u&T,Te=u&(x|P),Ve=u&B,Me=Ce?n:nr(l);function Oe(){for(var We=arguments.length,je=Q(We),Nt=We;Nt--;)je[Nt]=arguments[Nt];if(Te)var wt=qn(Oe),Vt=pc(je,wt);if(b&&(je=qi(je,b,w,Te)),A&&(je=Hi(je,A,O,Te)),We-=Vt,Te&&We<oe){var ct=fn(je,wt);return Ji(l,u,$r,Oe.placeholder,g,je,ct,F,G,oe-We)}var jt=he?g:this,cn=Ce?jt[l]:l;return We=je.length,F?je=Ad(je,F):Ve&&We>1&&je.reverse(),se&&G<We&&(je.length=G),this&&this!==pt&&this instanceof Oe&&(cn=Me||nr(cn)),cn.apply(jt,je)}return Oe}function Yi(l,u){return function(g,b){return Ou(g,l,u(b),{})}}function Br(l,u){return function(g,b){var w;if(g===n&&b===n)return u;if(g!==n&&(w=g),b!==n){if(w===n)return b;typeof g=="string"||typeof b=="string"?(g=Rt(g),b=Rt(b)):(g=Oi(g),b=Oi(b)),w=l(g,b)}return w}}function Uo(l){return on(function(u){return u=rt(u,At(Pe())),Be(function(g){var b=this;return l(u,function(w){return xt(w,b,g)})})})}function Ur(l,u){u=u===n?" ":Rt(u);var g=u.length;if(g<2)return g?Oo(u,l):u;var b=Oo(u,kr(l/On(u)));return Vn(u)?vn(Ht(b),0,l).join(""):b.slice(0,l)}function ld(l,u,g,b){var w=u&I,A=nr(l);function O(){for(var F=-1,G=arguments.length,oe=-1,se=b.length,he=Q(se+G),Ce=this&&this!==pt&&this instanceof O?A:l;++oe<se;)he[oe]=b[oe];for(;G--;)he[oe++]=arguments[++F];return xt(Ce,w?g:this,he)}return O}function Qi(l){return function(u,g,b){return b&&typeof b!="number"&&Ct(u,g,b)&&(g=b=n),u=ln(u),g===n?(g=u,u=0):g=ln(g),b=b===n?u<g?1:-1:ln(b),ju(u,g,b,l)}}function qr(l){return function(u,g){return typeof u=="string"&&typeof g=="string"||(u=qt(u),g=qt(g)),l(u,g)}}function Ji(l,u,g,b,w,A,O,F,G,oe){var se=u&x,he=se?O:n,Ce=se?n:O,Te=se?A:n,Ve=se?n:A;u|=se?V:R,u&=~(se?R:V),u&E||(u&=~(I|T));var Me=[l,u,w,Te,he,Ve,Ce,F,G,oe],Oe=g.apply(n,Me);return Yo(l)&&ua(Oe,Me),Oe.placeholder=b,da(Oe,l,u)}function qo(l){var u=ut[l];return function(g,b){if(g=qt(g),b=b==null?0:vt(Fe(b),292),b&&ai(g)){var w=(Xe(g)+"e").split("e"),A=u(w[0]+"e"+(+w[1]+b));return w=(Xe(A)+"e").split("e"),+(w[0]+"e"+(+w[1]-b))}return u(g)}}var cd=Fn&&1/fr(new Fn([,-0]))[1]==ue?function(l){return new Fn(l)}:ds;function Zi(l){return function(u){var g=_t(u);return g==H?_o(u):g==fe?Cc(u):hc(u,l(u))}}function rn(l,u,g,b,w,A,O,F){var G=u&T;if(!G&&typeof l!="function")throw new Ft(a);var oe=b?b.length:0;if(oe||(u&=~(V|R),b=w=n),O=O===n?O:dt(Fe(O),0),F=F===n?F:Fe(F),oe-=w?w.length:0,u&R){var se=b,he=w;b=w=n}var Ce=G?n:Go(l),Te=[l,u,g,b,w,se,he,A,O,F];if(Ce&&Td(Te,Ce),l=Te[0],u=Te[1],g=Te[2],b=Te[3],w=Te[4],F=Te[9]=Te[9]===n?G?0:l.length:dt(Te[9]-oe,0),!F&&u&(x|P)&&(u&=~(x|P)),!u||u==I)var Ve=id(l,u,g);else u==x||u==P?Ve=ad(l,u,F):(u==V||u==(I|V))&&!w.length?Ve=ld(l,u,g,b):Ve=$r.apply(n,Te);var Me=Ce?Ni:ua;return da(Me(Ve,Te),l,u)}function ea(l,u,g,b){return l===n||zt(l,Ln[g])&&!Je.call(b,g)?u:l}function ta(l,u,g,b,w,A){return ot(l)&&ot(u)&&(A.set(u,l),Dr(l,u,n,ta,A),A.delete(u)),l}function ud(l){return ir(l)?n:l}function na(l,u,g,b,w,A){var O=g&C,F=l.length,G=u.length;if(F!=G&&!(O&&G>F))return!1;var oe=A.get(l),se=A.get(u);if(oe&&se)return oe==u&&se==l;var he=-1,Ce=!0,Te=g&S?new wn:n;for(A.set(l,u),A.set(u,l);++he<F;){var Ve=l[he],Me=u[he];if(b)var Oe=O?b(Me,Ve,he,u,l,A):b(Ve,Me,he,l,u,A);if(Oe!==n){if(Oe)continue;Ce=!1;break}if(Te){if(!fo(u,function(We,je){if(!Gn(Te,je)&&(Ve===We||w(Ve,We,g,b,A)))return Te.push(je)})){Ce=!1;break}}else if(!(Ve===Me||w(Ve,Me,g,b,A))){Ce=!1;break}}return A.delete(l),A.delete(u),Ce}function fd(l,u,g,b,w,A,O){switch(g){case ze:if(l.byteLength!=u.byteLength||l.byteOffset!=u.byteOffset)return!1;l=l.buffer,u=u.buffer;case Ke:return!(l.byteLength!=u.byteLength||!A(new br(l),new br(u)));case be:case _e:case J:return zt(+l,+u);case He:return l.name==u.name&&l.message==u.message;case ye:case xe:return l==u+"";case H:var F=_o;case fe:var G=b&C;if(F||(F=fr),l.size!=u.size&&!G)return!1;var oe=O.get(l);if(oe)return oe==u;b|=S,O.set(l,u);var se=na(F(l),F(u),b,w,A,O);return O.delete(l),se;case ke:if(Qn)return Qn.call(l)==Qn.call(u)}return!1}function hd(l,u,g,b,w,A){var O=g&C,F=Ho(l),G=F.length,oe=Ho(u),se=oe.length;if(G!=se&&!O)return!1;for(var he=G;he--;){var Ce=F[he];if(!(O?Ce in u:Je.call(u,Ce)))return!1}var Te=A.get(l),Ve=A.get(u);if(Te&&Ve)return Te==u&&Ve==l;var Me=!0;A.set(l,u),A.set(u,l);for(var Oe=O;++he<G;){Ce=F[he];var We=l[Ce],je=u[Ce];if(b)var Nt=O?b(je,We,Ce,u,l,A):b(We,je,Ce,l,u,A);if(!(Nt===n?We===je||w(We,je,g,b,A):Nt)){Me=!1;break}Oe||(Oe=Ce=="constructor")}if(Me&&!Oe){var wt=l.constructor,Vt=u.constructor;wt!=Vt&&"constructor"in l&&"constructor"in u&&!(typeof wt=="function"&&wt instanceof wt&&typeof Vt=="function"&&Vt instanceof Vt)&&(Me=!1)}return A.delete(l),A.delete(u),Me}function on(l){return Xo(la(l,n,va),l+"")}function Ho(l){return yi(l,ft,jo)}function Wo(l){return yi(l,Tt,ra)}var Go=Ir?function(l){return Ir.get(l)}:ds;function Hr(l){for(var u=l.name+"",g=Mn[u],b=Je.call(Mn,u)?g.length:0;b--;){var w=g[b],A=w.func;if(A==null||A==l)return w.name}return u}function qn(l){var u=Je.call(k,"placeholder")?k:l;return u.placeholder}function Pe(){var l=k.iteratee||cs;return l=l===cs?wi:l,arguments.length?l(arguments[0],arguments[1]):l}function Wr(l,u){var g=l.__data__;return wd(u)?g[typeof u=="string"?"string":"hash"]:g.map}function zo(l){for(var u=ft(l),g=u.length;g--;){var b=u[g],w=l[b];u[g]=[b,w,ia(w)]}return u}function kn(l,u){var g=_c(l,u);return Ci(g)?g:n}function pd(l){var u=Je.call(l,bn),g=l[bn];try{l[bn]=n;var b=!0}catch{}var w=_r.call(l);return b&&(u?l[bn]=g:delete l[bn]),w}var jo=bo?function(l){return l==null?[]:(l=Ze(l),un(bo(l),function(u){return oi.call(l,u)}))}:fs,ra=bo?function(l){for(var u=[];l;)dn(u,jo(l)),l=Cr(l);return u}:fs,_t=bt;(Co&&_t(new Co(new ArrayBuffer(1)))!=ze||jn&&_t(new jn)!=H||wo&&_t(wo.resolve())!=we||Fn&&_t(new Fn)!=fe||Kn&&_t(new Kn)!=Ne)&&(_t=function(l){var u=bt(l),g=u==ce?l.constructor:n,b=g?Tn(g):"";if(b)switch(b){case Gc:return ze;case zc:return H;case jc:return we;case Kc:return fe;case Yc:return Ne}return u});function gd(l,u,g){for(var b=-1,w=g.length;++b<w;){var A=g[b],O=A.size;switch(A.type){case"drop":l+=O;break;case"dropRight":u-=O;break;case"take":u=vt(u,l+O);break;case"takeRight":l=dt(l,u-O);break}}return{start:l,end:u}}function vd(l){var u=l.match(dl);return u?u[1].split(fl):[]}function oa(l,u,g){u=gn(u,l);for(var b=-1,w=u.length,A=!1;++b<w;){var O=Xt(u[b]);if(!(A=l!=null&&g(l,O)))break;l=l[O]}return A||++b!=w?A:(w=l==null?0:l.length,!!w&&Xr(w)&&sn(O,w)&&(Le(l)||In(l)))}function _d(l){var u=l.length,g=new l.constructor(u);return u&&typeof l[0]=="string"&&Je.call(l,"index")&&(g.index=l.index,g.input=l.input),g}function sa(l){return typeof l.constructor=="function"&&!rr(l)?$n(Cr(l)):{}}function yd(l,u,g){var b=l.constructor;switch(u){case Ke:return Bo(l);case be:case _e:return new b(+l);case ze:return ed(l,g);case nt:case yt:case Kt:case xn:case Jt:case An:case ht:case St:case Rn:return Bi(l,g);case H:return new b;case J:case xe:return new b(l);case ye:return td(l);case fe:return new b;case ke:return nd(l)}}function bd(l,u){var g=u.length;if(!g)return l;var b=g-1;return u[b]=(g>1?"& ":"")+u[b],u=u.join(g>2?", ":" "),l.replace(ul,`{
/* [wrapped with `+u+`] */
`)}function Cd(l){return Le(l)||In(l)||!!(si&&l&&l[si])}function sn(l,u){var g=typeof l;return u=u==null?K:u,!!u&&(g=="number"||g!="symbol"&&wl.test(l))&&l>-1&&l%1==0&&l<u}function Ct(l,u,g){if(!ot(g))return!1;var b=typeof u;return(b=="number"?kt(g)&&sn(u,g.length):b=="string"&&u in g)?zt(g[u],l):!1}function Ko(l,u){if(Le(l))return!1;var g=typeof l;return g=="number"||g=="symbol"||g=="boolean"||l==null||Pt(l)?!0:sl.test(l)||!ol.test(l)||u!=null&&l in Ze(u)}function wd(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}function Yo(l){var u=Hr(l),g=k[u];if(typeof g!="function"||!(u in Ge.prototype))return!1;if(l===g)return!0;var b=Go(g);return!!b&&l===b[0]}function Sd(l){return!!ei&&ei in l}var Ed=gr?an:hs;function rr(l){var u=l&&l.constructor,g=typeof u=="function"&&u.prototype||Ln;return l===g}function ia(l){return l===l&&!ot(l)}function aa(l,u){return function(g){return g==null?!1:g[l]===u&&(u!==n||l in Ze(g))}}function kd(l){var u=Yr(l,function(b){return g.size===f&&g.clear(),b}),g=u.cache;return u}function Td(l,u){var g=l[1],b=u[1],w=g|b,A=w<(I|T|M),O=b==M&&g==x||b==M&&g==D&&l[7].length<=u[8]||b==(M|D)&&u[7].length<=u[8]&&g==x;if(!(A||O))return l;b&I&&(l[2]=u[2],w|=g&I?0:E);var F=u[3];if(F){var G=l[3];l[3]=G?qi(G,F,u[4]):F,l[4]=G?fn(l[3],m):u[4]}return F=u[5],F&&(G=l[5],l[5]=G?Hi(G,F,u[6]):F,l[6]=G?fn(l[5],m):u[6]),F=u[7],F&&(l[7]=F),b&M&&(l[8]=l[8]==null?u[8]:vt(l[8],u[8])),l[9]==null&&(l[9]=u[9]),l[0]=u[0],l[1]=w,l}function Id(l){var u=[];if(l!=null)for(var g in Ze(l))u.push(g);return u}function xd(l){return _r.call(l)}function la(l,u,g){return u=dt(u===n?l.length-1:u,0),function(){for(var b=arguments,w=-1,A=dt(b.length-u,0),O=Q(A);++w<A;)O[w]=b[u+w];w=-1;for(var F=Q(u+1);++w<u;)F[w]=b[w];return F[u]=g(O),xt(l,this,F)}}function ca(l,u){return u.length<2?l:En(l,Bt(u,0,-1))}function Ad(l,u){for(var g=l.length,b=vt(u.length,g),w=Et(l);b--;){var A=u[b];l[b]=sn(A,g)?w[A]:n}return l}function Qo(l,u){if(!(u==="constructor"&&typeof l[u]=="function")&&u!="__proto__")return l[u]}var ua=fa(Ni),sr=Mc||function(l,u){return pt.setTimeout(l,u)},Xo=fa(Qu);function da(l,u,g){var b=u+"";return Xo(l,bd(b,Rd(vd(b),g)))}function fa(l){var u=0,g=0;return function(){var b=qc(),w=W-(b-g);if(g=b,w>0){if(++u>=z)return arguments[0]}else u=0;return l.apply(n,arguments)}}function Gr(l,u){var g=-1,b=l.length,w=b-1;for(u=u===n?b:u;++g<u;){var A=Vo(g,w),O=l[A];l[A]=l[g],l[g]=O}return l.length=u,l}var ha=kd(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(il,function(g,b,w,A){u.push(w?A.replace(ml,"$1"):b||g)}),u});function Xt(l){if(typeof l=="string"||Pt(l))return l;var u=l+"";return u=="0"&&1/l==-ue?"-0":u}function Tn(l){if(l!=null){try{return vr.call(l)}catch{}try{return l+""}catch{}}return""}function Rd(l,u){return Dt($e,function(g){var b="_."+g[0];u&g[1]&&!ur(l,b)&&l.push(b)}),l.sort()}function pa(l){if(l instanceof Ge)return l.clone();var u=new Mt(l.__wrapped__,l.__chain__);return u.__actions__=Et(l.__actions__),u.__index__=l.__index__,u.__values__=l.__values__,u}function Pd(l,u,g){(g?Ct(l,u,g):u===n)?u=1:u=dt(Fe(u),0);var b=l==null?0:l.length;if(!b||u<1)return[];for(var w=0,A=0,O=Q(kr(b/u));w<b;)O[A++]=Bt(l,w,w+=u);return O}function Nd(l){for(var u=-1,g=l==null?0:l.length,b=0,w=[];++u<g;){var A=l[u];A&&(w[b++]=A)}return w}function Vd(){var l=arguments.length;if(!l)return[];for(var u=Q(l-1),g=arguments[0],b=l;b--;)u[b-1]=arguments[b];return dn(Le(g)?Et(g):[g],mt(u,1))}var Od=Be(function(l,u){return at(l)?Jn(l,mt(u,1,at,!0)):[]}),Dd=Be(function(l,u){var g=Ut(u);return at(g)&&(g=n),at(l)?Jn(l,mt(u,1,at,!0),Pe(g,2)):[]}),Ld=Be(function(l,u){var g=Ut(u);return at(g)&&(g=n),at(l)?Jn(l,mt(u,1,at,!0),n,g):[]});function Fd(l,u,g){var b=l==null?0:l.length;return b?(u=g||u===n?1:Fe(u),Bt(l,u<0?0:u,b)):[]}function Md(l,u,g){var b=l==null?0:l.length;return b?(u=g||u===n?1:Fe(u),u=b-u,Bt(l,0,u<0?0:u)):[]}function $d(l,u){return l&&l.length?Fr(l,Pe(u,3),!0,!0):[]}function Bd(l,u){return l&&l.length?Fr(l,Pe(u,3),!0):[]}function Ud(l,u,g,b){var w=l==null?0:l.length;return w?(g&&typeof g!="number"&&Ct(l,u,g)&&(g=0,b=w),Au(l,u,g,b)):[]}function ma(l,u,g){var b=l==null?0:l.length;if(!b)return-1;var w=g==null?0:Fe(g);return w<0&&(w=dt(b+w,0)),dr(l,Pe(u,3),w)}function ga(l,u,g){var b=l==null?0:l.length;if(!b)return-1;var w=b-1;return g!==n&&(w=Fe(g),w=g<0?dt(b+w,0):vt(w,b-1)),dr(l,Pe(u,3),w,!0)}function va(l){var u=l==null?0:l.length;return u?mt(l,1):[]}function qd(l){var u=l==null?0:l.length;return u?mt(l,ue):[]}function Hd(l,u){var g=l==null?0:l.length;return g?(u=u===n?1:Fe(u),mt(l,u)):[]}function Wd(l){for(var u=-1,g=l==null?0:l.length,b={};++u<g;){var w=l[u];b[w[0]]=w[1]}return b}function _a(l){return l&&l.length?l[0]:n}function Gd(l,u,g){var b=l==null?0:l.length;if(!b)return-1;var w=g==null?0:Fe(g);return w<0&&(w=dt(b+w,0)),Nn(l,u,w)}function zd(l){var u=l==null?0:l.length;return u?Bt(l,0,-1):[]}var jd=Be(function(l){var u=rt(l,Mo);return u.length&&u[0]===l[0]?xo(u):[]}),Kd=Be(function(l){var u=Ut(l),g=rt(l,Mo);return u===Ut(g)?u=n:g.pop(),g.length&&g[0]===l[0]?xo(g,Pe(u,2)):[]}),Yd=Be(function(l){var u=Ut(l),g=rt(l,Mo);return u=typeof u=="function"?u:n,u&&g.pop(),g.length&&g[0]===l[0]?xo(g,n,u):[]});function Qd(l,u){return l==null?"":Bc.call(l,u)}function Ut(l){var u=l==null?0:l.length;return u?l[u-1]:n}function Xd(l,u,g){var b=l==null?0:l.length;if(!b)return-1;var w=b;return g!==n&&(w=Fe(g),w=w<0?dt(b+w,0):vt(w,b-1)),u===u?Ec(l,u,w):dr(l,zs,w,!0)}function Jd(l,u){return l&&l.length?Ti(l,Fe(u)):n}var Zd=Be(ya);function ya(l,u){return l&&l.length&&u&&u.length?No(l,u):l}function ef(l,u,g){return l&&l.length&&u&&u.length?No(l,u,Pe(g,2)):l}function tf(l,u,g){return l&&l.length&&u&&u.length?No(l,u,n,g):l}var nf=on(function(l,u){var g=l==null?0:l.length,b=Eo(l,u);return Ri(l,rt(u,function(w){return sn(w,g)?+w:w}).sort(Ui)),b});function rf(l,u){var g=[];if(!(l&&l.length))return g;var b=-1,w=[],A=l.length;for(u=Pe(u,3);++b<A;){var O=l[b];u(O,b,l)&&(g.push(O),w.push(b))}return Ri(l,w),g}function Jo(l){return l==null?l:Wc.call(l)}function of(l,u,g){var b=l==null?0:l.length;return b?(g&&typeof g!="number"&&Ct(l,u,g)?(u=0,g=b):(u=u==null?0:Fe(u),g=g===n?b:Fe(g)),Bt(l,u,g)):[]}function sf(l,u){return Lr(l,u)}function lf(l,u,g){return Do(l,u,Pe(g,2))}function cf(l,u){var g=l==null?0:l.length;if(g){var b=Lr(l,u);if(b<g&&zt(l[b],u))return b}return-1}function uf(l,u){return Lr(l,u,!0)}function df(l,u,g){return Do(l,u,Pe(g,2),!0)}function ff(l,u){var g=l==null?0:l.length;if(g){var b=Lr(l,u,!0)-1;if(zt(l[b],u))return b}return-1}function hf(l){return l&&l.length?Vi(l):[]}function pf(l,u){return l&&l.length?Vi(l,Pe(u,2)):[]}function mf(l){var u=l==null?0:l.length;return u?Bt(l,1,u):[]}function gf(l,u,g){return l&&l.length?(u=g||u===n?1:Fe(u),Bt(l,0,u<0?0:u)):[]}function vf(l,u,g){var b=l==null?0:l.length;return b?(u=g||u===n?1:Fe(u),u=b-u,Bt(l,u<0?0:u,b)):[]}function _f(l,u){return l&&l.length?Fr(l,Pe(u,3),!1,!0):[]}function yf(l,u){return l&&l.length?Fr(l,Pe(u,3)):[]}var bf=Be(function(l){return mn(mt(l,1,at,!0))}),Cf=Be(function(l){var u=Ut(l);return at(u)&&(u=n),mn(mt(l,1,at,!0),Pe(u,2))}),wf=Be(function(l){var u=Ut(l);return u=typeof u=="function"?u:n,mn(mt(l,1,at,!0),n,u)});function Sf(l){return l&&l.length?mn(l):[]}function Ef(l,u){return l&&l.length?mn(l,Pe(u,2)):[]}function kf(l,u){return u=typeof u=="function"?u:n,l&&l.length?mn(l,n,u):[]}function Zo(l){if(!(l&&l.length))return[];var u=0;return l=un(l,function(g){if(at(g))return u=dt(g.length,u),!0}),go(u,function(g){return rt(l,ho(g))})}function ba(l,u){if(!(l&&l.length))return[];var g=Zo(l);return u==null?g:rt(g,function(b){return xt(u,n,b)})}var Tf=Be(function(l,u){return at(l)?Jn(l,u):[]}),If=Be(function(l){return Fo(un(l,at))}),xf=Be(function(l){var u=Ut(l);return at(u)&&(u=n),Fo(un(l,at),Pe(u,2))}),Af=Be(function(l){var u=Ut(l);return u=typeof u=="function"?u:n,Fo(un(l,at),n,u)}),Rf=Be(Zo);function Pf(l,u){return Fi(l||[],u||[],Xn)}function Nf(l,u){return Fi(l||[],u||[],tr)}var Vf=Be(function(l){var u=l.length,g=u>1?l[u-1]:n;return g=typeof g=="function"?(l.pop(),g):n,ba(l,g)});function Ca(l){var u=k(l);return u.__chain__=!0,u}function Of(l,u){return u(l),l}function zr(l,u){return u(l)}var Df=on(function(l){var u=l.length,g=u?l[0]:0,b=this.__wrapped__,w=function(A){return Eo(A,l)};return u>1||this.__actions__.length||!(b instanceof Ge)||!sn(g)?this.thru(w):(b=b.slice(g,+g+(u?1:0)),b.__actions__.push({func:zr,args:[w],thisArg:n}),new Mt(b,this.__chain__).thru(function(A){return u&&!A.length&&A.push(n),A}))});function Lf(){return Ca(this)}function Ff(){return new Mt(this.value(),this.__chain__)}function Mf(){this.__values__===n&&(this.__values__=Da(this.value()));var l=this.__index__>=this.__values__.length,u=l?n:this.__values__[this.__index__++];return{done:l,value:u}}function $f(){return this}function Bf(l){for(var u,g=this;g instanceof Ar;){var b=pa(g);b.__index__=0,b.__values__=n,u?w.__wrapped__=b:u=b;var w=b;g=g.__wrapped__}return w.__wrapped__=l,u}function Uf(){var l=this.__wrapped__;if(l instanceof Ge){var u=l;return this.__actions__.length&&(u=new Ge(this)),u=u.reverse(),u.__actions__.push({func:zr,args:[Jo],thisArg:n}),new Mt(u,this.__chain__)}return this.thru(Jo)}function qf(){return Li(this.__wrapped__,this.__actions__)}var Hf=Mr(function(l,u,g){Je.call(l,g)?++l[g]:nn(l,g,1)});function Wf(l,u,g){var b=Le(l)?Ws:xu;return g&&Ct(l,u,g)&&(u=n),b(l,Pe(u,3))}function Gf(l,u){var g=Le(l)?un:vi;return g(l,Pe(u,3))}var zf=ji(ma),jf=ji(ga);function Kf(l,u){return mt(jr(l,u),1)}function Yf(l,u){return mt(jr(l,u),ue)}function Qf(l,u,g){return g=g===n?1:Fe(g),mt(jr(l,u),g)}function wa(l,u){var g=Le(l)?Dt:pn;return g(l,Pe(u,3))}function Sa(l,u){var g=Le(l)?rc:gi;return g(l,Pe(u,3))}var Xf=Mr(function(l,u,g){Je.call(l,g)?l[g].push(u):nn(l,g,[u])});function Jf(l,u,g,b){l=kt(l)?l:Wn(l),g=g&&!b?Fe(g):0;var w=l.length;return g<0&&(g=dt(w+g,0)),Jr(l)?g<=w&&l.indexOf(u,g)>-1:!!w&&Nn(l,u,g)>-1}var Zf=Be(function(l,u,g){var b=-1,w=typeof u=="function",A=kt(l)?Q(l.length):[];return pn(l,function(O){A[++b]=w?xt(u,O,g):Zn(O,u,g)}),A}),eh=Mr(function(l,u,g){nn(l,g,u)});function jr(l,u){var g=Le(l)?rt:Si;return g(l,Pe(u,3))}function th(l,u,g,b){return l==null?[]:(Le(u)||(u=u==null?[]:[u]),g=b?n:g,Le(g)||(g=g==null?[]:[g]),Ii(l,u,g))}var nh=Mr(function(l,u,g){l[g?0:1].push(u)},function(){return[[],[]]});function rh(l,u,g){var b=Le(l)?uo:Ks,w=arguments.length<3;return b(l,Pe(u,4),g,w,pn)}function oh(l,u,g){var b=Le(l)?oc:Ks,w=arguments.length<3;return b(l,Pe(u,4),g,w,gi)}function sh(l,u){var g=Le(l)?un:vi;return g(l,Qr(Pe(u,3)))}function ih(l){var u=Le(l)?di:Ku;return u(l)}function ah(l,u,g){(g?Ct(l,u,g):u===n)?u=1:u=Fe(u);var b=Le(l)?Su:Yu;return b(l,u)}function lh(l){var u=Le(l)?Eu:Xu;return u(l)}function ch(l){if(l==null)return 0;if(kt(l))return Jr(l)?On(l):l.length;var u=_t(l);return u==H||u==fe?l.size:Ro(l).length}function uh(l,u,g){var b=Le(l)?fo:Ju;return g&&Ct(l,u,g)&&(u=n),b(l,Pe(u,3))}var dh=Be(function(l,u){if(l==null)return[];var g=u.length;return g>1&&Ct(l,u[0],u[1])?u=[]:g>2&&Ct(u[0],u[1],u[2])&&(u=[u[0]]),Ii(l,mt(u,1),[])}),Kr=Fc||function(){return pt.Date.now()};function fh(l,u){if(typeof u!="function")throw new Ft(a);return l=Fe(l),function(){if(--l<1)return u.apply(this,arguments)}}function Ea(l,u,g){return u=g?n:u,u=l&&u==null?l.length:u,rn(l,M,n,n,n,n,u)}function ka(l,u){var g;if(typeof u!="function")throw new Ft(a);return l=Fe(l),function(){return--l>0&&(g=u.apply(this,arguments)),l<=1&&(u=n),g}}var es=Be(function(l,u,g){var b=I;if(g.length){var w=fn(g,qn(es));b|=V}return rn(l,b,u,g,w)}),Ta=Be(function(l,u,g){var b=I|T;if(g.length){var w=fn(g,qn(Ta));b|=V}return rn(u,b,l,g,w)});function Ia(l,u,g){u=g?n:u;var b=rn(l,x,n,n,n,n,n,u);return b.placeholder=Ia.placeholder,b}function xa(l,u,g){u=g?n:u;var b=rn(l,P,n,n,n,n,n,u);return b.placeholder=xa.placeholder,b}function Aa(l,u,g){var b,w,A,O,F,G,oe=0,se=!1,he=!1,Ce=!0;if(typeof l!="function")throw new Ft(a);u=qt(u)||0,ot(g)&&(se=!!g.leading,he="maxWait"in g,A=he?dt(qt(g.maxWait)||0,u):A,Ce="trailing"in g?!!g.trailing:Ce);function Te(ct){var jt=b,cn=w;return b=w=n,oe=ct,O=l.apply(cn,jt),O}function Ve(ct){return oe=ct,F=sr(We,u),se?Te(ct):O}function Me(ct){var jt=ct-G,cn=ct-oe,Ka=u-jt;return he?vt(Ka,A-cn):Ka}function Oe(ct){var jt=ct-G,cn=ct-oe;return G===n||jt>=u||jt<0||he&&cn>=A}function We(){var ct=Kr();if(Oe(ct))return je(ct);F=sr(We,Me(ct))}function je(ct){return F=n,Ce&&b?Te(ct):(b=w=n,O)}function Nt(){F!==n&&Mi(F),oe=0,b=G=w=F=n}function wt(){return F===n?O:je(Kr())}function Vt(){var ct=Kr(),jt=Oe(ct);if(b=arguments,w=this,G=ct,jt){if(F===n)return Ve(G);if(he)return Mi(F),F=sr(We,u),Te(G)}return F===n&&(F=sr(We,u)),O}return Vt.cancel=Nt,Vt.flush=wt,Vt}var hh=Be(function(l,u){return mi(l,1,u)}),ph=Be(function(l,u,g){return mi(l,qt(u)||0,g)});function mh(l){return rn(l,B)}function Yr(l,u){if(typeof l!="function"||u!=null&&typeof u!="function")throw new Ft(a);var g=function(){var b=arguments,w=u?u.apply(this,b):b[0],A=g.cache;if(A.has(w))return A.get(w);var O=l.apply(this,b);return g.cache=A.set(w,O)||A,O};return g.cache=new(Yr.Cache||tn),g}Yr.Cache=tn;function Qr(l){if(typeof l!="function")throw new Ft(a);return function(){var u=arguments;switch(u.length){case 0:return!l.call(this);case 1:return!l.call(this,u[0]);case 2:return!l.call(this,u[0],u[1]);case 3:return!l.call(this,u[0],u[1],u[2])}return!l.apply(this,u)}}function gh(l){return ka(2,l)}var vh=Zu(function(l,u){u=u.length==1&&Le(u[0])?rt(u[0],At(Pe())):rt(mt(u,1),At(Pe()));var g=u.length;return Be(function(b){for(var w=-1,A=vt(b.length,g);++w<A;)b[w]=u[w].call(this,b[w]);return xt(l,this,b)})}),ts=Be(function(l,u){var g=fn(u,qn(ts));return rn(l,V,n,u,g)}),Ra=Be(function(l,u){var g=fn(u,qn(Ra));return rn(l,R,n,u,g)}),_h=on(function(l,u){return rn(l,D,n,n,n,u)});function yh(l,u){if(typeof l!="function")throw new Ft(a);return u=u===n?u:Fe(u),Be(l,u)}function bh(l,u){if(typeof l!="function")throw new Ft(a);return u=u==null?0:dt(Fe(u),0),Be(function(g){var b=g[u],w=vn(g,0,u);return b&&dn(w,b),xt(l,this,w)})}function Ch(l,u,g){var b=!0,w=!0;if(typeof l!="function")throw new Ft(a);return ot(g)&&(b="leading"in g?!!g.leading:b,w="trailing"in g?!!g.trailing:w),Aa(l,u,{leading:b,maxWait:u,trailing:w})}function wh(l){return Ea(l,1)}function Sh(l,u){return ts($o(u),l)}function Eh(){if(!arguments.length)return[];var l=arguments[0];return Le(l)?l:[l]}function kh(l){return $t(l,y)}function Th(l,u){return u=typeof u=="function"?u:n,$t(l,y,u)}function Ih(l){return $t(l,v|y)}function xh(l,u){return u=typeof u=="function"?u:n,$t(l,v|y,u)}function Ah(l,u){return u==null||hi(l,u,ft(u))}function zt(l,u){return l===u||l!==l&&u!==u}var Rh=qr(Io),Ph=qr(function(l,u){return l>=u}),In=bi(function(){return arguments}())?bi:function(l){return st(l)&&Je.call(l,"callee")&&!oi.call(l,"callee")},Le=Q.isArray,Nh=Ms?At(Ms):Du;function kt(l){return l!=null&&Xr(l.length)&&!an(l)}function at(l){return st(l)&&kt(l)}function Vh(l){return l===!0||l===!1||st(l)&&bt(l)==be}var _n=$c||hs,Oh=$s?At($s):Lu;function Dh(l){return st(l)&&l.nodeType===1&&!ir(l)}function Lh(l){if(l==null)return!0;if(kt(l)&&(Le(l)||typeof l=="string"||typeof l.splice=="function"||_n(l)||Hn(l)||In(l)))return!l.length;var u=_t(l);if(u==H||u==fe)return!l.size;if(rr(l))return!Ro(l).length;for(var g in l)if(Je.call(l,g))return!1;return!0}function Fh(l,u){return er(l,u)}function Mh(l,u,g){g=typeof g=="function"?g:n;var b=g?g(l,u):n;return b===n?er(l,u,n,g):!!b}function ns(l){if(!st(l))return!1;var u=bt(l);return u==He||u==Ie||typeof l.message=="string"&&typeof l.name=="string"&&!ir(l)}function $h(l){return typeof l=="number"&&ai(l)}function an(l){if(!ot(l))return!1;var u=bt(l);return u==N||u==L||u==Y||u==ve}function Pa(l){return typeof l=="number"&&l==Fe(l)}function Xr(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=K}function ot(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}function st(l){return l!=null&&typeof l=="object"}var Na=Bs?At(Bs):$u;function Bh(l,u){return l===u||Ao(l,u,zo(u))}function Uh(l,u,g){return g=typeof g=="function"?g:n,Ao(l,u,zo(u),g)}function qh(l){return Va(l)&&l!=+l}function Hh(l){if(Ed(l))throw new De(s);return Ci(l)}function Wh(l){return l===null}function Gh(l){return l==null}function Va(l){return typeof l=="number"||st(l)&&bt(l)==J}function ir(l){if(!st(l)||bt(l)!=ce)return!1;var u=Cr(l);if(u===null)return!0;var g=Je.call(u,"constructor")&&u.constructor;return typeof g=="function"&&g instanceof g&&vr.call(g)==Vc}var rs=Us?At(Us):Bu;function zh(l){return Pa(l)&&l>=-K&&l<=K}var Oa=qs?At(qs):Uu;function Jr(l){return typeof l=="string"||!Le(l)&&st(l)&&bt(l)==xe}function Pt(l){return typeof l=="symbol"||st(l)&&bt(l)==ke}var Hn=Hs?At(Hs):qu;function jh(l){return l===n}function Kh(l){return st(l)&&_t(l)==Ne}function Yh(l){return st(l)&&bt(l)==qe}var Qh=qr(Po),Xh=qr(function(l,u){return l<=u});function Da(l){if(!l)return[];if(kt(l))return Jr(l)?Ht(l):Et(l);if(zn&&l[zn])return bc(l[zn]());var u=_t(l),g=u==H?_o:u==fe?fr:Wn;return g(l)}function ln(l){if(!l)return l===0?l:0;if(l=qt(l),l===ue||l===-ue){var u=l<0?-1:1;return u*pe}return l===l?l:0}function Fe(l){var u=ln(l),g=u%1;return u===u?g?u-g:u:0}function La(l){return l?Sn(Fe(l),0,me):0}function qt(l){if(typeof l=="number")return l;if(Pt(l))return de;if(ot(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=ot(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=Ys(l);var g=yl.test(l);return g||Cl.test(l)?ec(l.slice(2),g?2:8):_l.test(l)?de:+l}function Fa(l){return Qt(l,Tt(l))}function Jh(l){return l?Sn(Fe(l),-K,K):l===0?l:0}function Xe(l){return l==null?"":Rt(l)}var Zh=Bn(function(l,u){if(rr(u)||kt(u)){Qt(u,ft(u),l);return}for(var g in u)Je.call(u,g)&&Xn(l,g,u[g])}),Ma=Bn(function(l,u){Qt(u,Tt(u),l)}),Zr=Bn(function(l,u,g,b){Qt(u,Tt(u),l,b)}),ep=Bn(function(l,u,g,b){Qt(u,ft(u),l,b)}),tp=on(Eo);function np(l,u){var g=$n(l);return u==null?g:fi(g,u)}var rp=Be(function(l,u){l=Ze(l);var g=-1,b=u.length,w=b>2?u[2]:n;for(w&&Ct(u[0],u[1],w)&&(b=1);++g<b;)for(var A=u[g],O=Tt(A),F=-1,G=O.length;++F<G;){var oe=O[F],se=l[oe];(se===n||zt(se,Ln[oe])&&!Je.call(l,oe))&&(l[oe]=A[oe])}return l}),op=Be(function(l){return l.push(n,ta),xt($a,n,l)});function sp(l,u){return Gs(l,Pe(u,3),Yt)}function ip(l,u){return Gs(l,Pe(u,3),To)}function lp(l,u){return l==null?l:ko(l,Pe(u,3),Tt)}function cp(l,u){return l==null?l:_i(l,Pe(u,3),Tt)}function up(l,u){return l&&Yt(l,Pe(u,3))}function dp(l,u){return l&&To(l,Pe(u,3))}function fp(l){return l==null?[]:Vr(l,ft(l))}function hp(l){return l==null?[]:Vr(l,Tt(l))}function ss(l,u,g){var b=l==null?n:En(l,u);return b===n?g:b}function pp(l,u){return l!=null&&oa(l,u,Ru)}function is(l,u){return l!=null&&oa(l,u,Pu)}var gp=Yi(function(l,u,g){u!=null&&typeof u.toString!="function"&&(u=_r.call(u)),l[u]=g},ls(It)),vp=Yi(function(l,u,g){u!=null&&typeof u.toString!="function"&&(u=_r.call(u)),Je.call(l,u)?l[u].push(g):l[u]=[g]},Pe),_p=Be(Zn);function ft(l){return kt(l)?ui(l):Ro(l)}function Tt(l){return kt(l)?ui(l,!0):Hu(l)}function yp(l,u){var g={};return u=Pe(u,3),Yt(l,function(b,w,A){nn(g,u(b,w,A),b)}),g}function bp(l,u){var g={};return u=Pe(u,3),Yt(l,function(b,w,A){nn(g,w,u(b,w,A))}),g}var Cp=Bn(function(l,u,g){Dr(l,u,g)}),$a=Bn(function(l,u,g,b){Dr(l,u,g,b)}),Sp=on(function(l,u){var g={};if(l==null)return g;var b=!1;u=rt(u,function(A){return A=gn(A,l),b||(b=A.length>1),A}),Qt(l,Wo(l),g),b&&(g=$t(g,v|_|y,ud));for(var w=u.length;w--;)Lo(g,u[w]);return g});function Ep(l,u){return Ba(l,Qr(Pe(u)))}var kp=on(function(l,u){return l==null?{}:Gu(l,u)});function Ba(l,u){if(l==null)return{};var g=rt(Wo(l),function(b){return[b]});return u=Pe(u),Ai(l,g,function(b,w){return u(b,w[0])})}function Tp(l,u,g){u=gn(u,l);var b=-1,w=u.length;for(w||(w=1,l=n);++b<w;){var A=l==null?n:l[Xt(u[b])];A===n&&(b=w,A=g),l=an(A)?A.call(l):A}return l}function Ip(l,u,g){return l==null?l:tr(l,u,g)}function xp(l,u,g,b){return b=typeof b=="function"?b:n,l==null?l:tr(l,u,g,b)}var Ua=Zi(ft),qa=Zi(Tt);function Ap(l,u,g){var b=Le(l),w=b||_n(l)||Hn(l);if(u=Pe(u,4),g==null){var A=l&&l.constructor;w?g=b?new A:[]:ot(l)?g=an(A)?$n(Cr(l)):{}:g={}}return(w?Dt:Yt)(l,function(O,F,G){return u(g,O,F,G)}),g}function Rp(l,u){return l==null?!0:Lo(l,u)}function Pp(l,u,g){return l==null?l:Di(l,u,$o(g))}function Np(l,u,g,b){return b=typeof b=="function"?b:n,l==null?l:Di(l,u,$o(g),b)}function Wn(l){return l==null?[]:vo(l,ft(l))}function Vp(l){return l==null?[]:vo(l,Tt(l))}function Op(l,u,g){return g===n&&(g=u,u=n),g!==n&&(g=qt(g),g=g===g?g:0),u!==n&&(u=qt(u),u=u===u?u:0),Sn(qt(l),u,g)}function Dp(l,u,g){return u=ln(u),g===n?(g=u,u=0):g=ln(g),l=qt(l),Vu(l,u,g)}function Lp(l,u,g){if(g&&typeof g!="boolean"&&Ct(l,u,g)&&(u=g=n),g===n&&(typeof u=="boolean"?(g=u,u=n):typeof l=="boolean"&&(g=l,l=n)),l===n&&u===n?(l=0,u=1):(l=ln(l),u===n?(u=l,l=0):u=ln(u)),l>u){var b=l;l=u,u=b}if(g||l%1||u%1){var w=li();return vt(l+w*(u-l+Zl("1e-"+((w+"").length-1))),u)}return Vo(l,u)}var Fp=Un(function(l,u,g){return u=u.toLowerCase(),l+(g?Ha(u):u)});function Ha(l){return as(Xe(l).toLowerCase())}function Wa(l){return l=Xe(l),l&&l.replace(Sl,mc).replace(Hl,"")}function Mp(l,u,g){l=Xe(l),u=Rt(u);var b=l.length;g=g===n?b:Sn(Fe(g),0,b);var w=g;return g-=u.length,g>=0&&l.slice(g,w)==u}function $p(l){return l=Xe(l),l&&tl.test(l)?l.replace(ms,gc):l}function Bp(l){return l=Xe(l),l&&al.test(l)?l.replace(eo,"\\$&"):l}var Up=Un(function(l,u,g){return l+(g?"-":"")+u.toLowerCase()}),qp=Un(function(l,u,g){return l+(g?" ":"")+u.toLowerCase()}),Hp=zi("toLowerCase");function Wp(l,u,g){l=Xe(l),u=Fe(u);var b=u?On(l):0;if(!u||b>=u)return l;var w=(u-b)/2;return Ur(Tr(w),g)+l+Ur(kr(w),g)}function Gp(l,u,g){l=Xe(l),u=Fe(u);var b=u?On(l):0;return u&&b<u?l+Ur(u-b,g):l}function zp(l,u,g){l=Xe(l),u=Fe(u);var b=u?On(l):0;return u&&b<u?Ur(u-b,g)+l:l}function jp(l,u,g){return g||u==null?u=0:u&&(u=+u),Hc(Xe(l).replace(to,""),u||0)}function Kp(l,u,g){return(g?Ct(l,u,g):u===n)?u=1:u=Fe(u),Oo(Xe(l),u)}function Yp(){var l=arguments,u=Xe(l[0]);return l.length<3?u:u.replace(l[1],l[2])}var Qp=Un(function(l,u,g){return l+(g?"_":"")+u.toLowerCase()});function Xp(l,u,g){return g&&typeof g!="number"&&Ct(l,u,g)&&(u=g=n),g=g===n?me:g>>>0,g?(l=Xe(l),l&&(typeof u=="string"||u!=null&&!rs(u))&&(u=Rt(u),!u&&Vn(l))?vn(Ht(l),0,g):l.split(u,g)):[]}var Jp=Un(function(l,u,g){return l+(g?" ":"")+as(u)});function Zp(l,u,g){return l=Xe(l),g=g==null?0:Sn(Fe(g),0,l.length),u=Rt(u),l.slice(g,g+u.length)==u}function em(l,u,g){var b=k.templateSettings;g&&Ct(l,u,g)&&(u=n),l=Xe(l),u=Zr({},u,b,ea);var w=Zr({},u.imports,b.imports,ea),A=ft(w),O=vo(w,A),F,G,oe=0,se=u.interpolate||ar,he="__p += '",Ce=yo((u.escape||ar).source+"|"+se.source+"|"+(se===gs?vl:ar).source+"|"+(u.evaluate||ar).source+"|$","g"),Te="//# sourceURL="+(Je.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kl+"]")+`
`;l.replace(Ce,function(Oe,We,je,Nt,wt,Vt){return je||(je=Nt),he+=l.slice(oe,Vt).replace(El,vc),We&&(F=!0,he+=`' +
__e(`+We+`) +
'`),wt&&(G=!0,he+=`';
`+wt+`;
__p += '`),je&&(he+=`' +
((__t = (`+je+`)) == null ? '' : __t) +
'`),oe=Vt+Oe.length,Oe}),he+=`';
`;var Ve=Je.call(u,"variable")&&u.variable;if(!Ve)he=`with (obj) {
`+he+`
}
`;else if(pl.test(Ve))throw new De(c);he=(G?he.replace(Qa,""):he).replace(Xa,"$1").replace(Ja,"$1;"),he="function("+(Ve||"obj")+`) {
`+(Ve?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(F?", __e = _.escape":"")+(G?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+he+`return __p
}`;var Me=za(function(){return Ye(A,Te+"return "+he).apply(n,O)});if(Me.source=he,ns(Me))throw Me;return Me}function tm(l){return Xe(l).toLowerCase()}function nm(l){return Xe(l).toUpperCase()}function rm(l,u,g){if(l=Xe(l),l&&(g||u===n))return Ys(l);if(!l||!(u=Rt(u)))return l;var b=Ht(l),w=Ht(u),A=Qs(b,w),O=Xs(b,w)+1;return vn(b,A,O).join("")}function om(l,u,g){if(l=Xe(l),l&&(g||u===n))return l.slice(0,Zs(l)+1);if(!l||!(u=Rt(u)))return l;var b=Ht(l),w=Xs(b,Ht(u))+1;return vn(b,0,w).join("")}function sm(l,u,g){if(l=Xe(l),l&&(g||u===n))return l.replace(to,"");if(!l||!(u=Rt(u)))return l;var b=Ht(l),w=Qs(b,Ht(u));return vn(b,w).join("")}function im(l,u){var g=U,b=j;if(ot(u)){var w="separator"in u?u.separator:w;g="length"in u?Fe(u.length):g,b="omission"in u?Rt(u.omission):b}l=Xe(l);var A=l.length;if(Vn(l)){var O=Ht(l);A=O.length}if(g>=A)return l;var F=g-On(b);if(F<1)return b;var G=O?vn(O,0,F).join(""):l.slice(0,F);if(w===n)return G+b;if(O&&(F+=G.length-F),rs(w)){if(l.slice(F).search(w)){var oe,se=G;for(w.global||(w=yo(w.source,Xe(vs.exec(w))+"g")),w.lastIndex=0;oe=w.exec(se);)var he=oe.index;G=G.slice(0,he===n?F:he)}}else if(l.indexOf(Rt(w),F)!=F){var Ce=G.lastIndexOf(w);Ce>-1&&(G=G.slice(0,Ce))}return G+b}function am(l){return l=Xe(l),l&&Za.test(l)?l.replace(ps,kc):l}var lm=Un(function(l,u,g){return l+(g?" ":"")+u.toUpperCase()}),as=zi("toUpperCase");function Ga(l,u,g){return l=Xe(l),u=g?n:u,u===n?yc(l)?xc(l):uc(l):l.match(u)||[]}var za=Be(function(l,u){try{return xt(l,n,u)}catch(g){return ns(g)?g:new De(g)}}),cm=on(function(l,u){return Dt(u,function(g){g=Xt(g),nn(l,g,es(l[g],l))}),l});function um(l){var u=l==null?0:l.length,g=Pe();return l=u?rt(l,function(b){if(typeof b[1]!="function")throw new Ft(a);return[g(b[0]),b[1]]}):[],Be(function(b){for(var w=-1;++w<u;){var A=l[w];if(xt(A[0],this,b))return xt(A[1],this,b)}})}function dm(l){return Iu($t(l,v))}function ls(l){return function(){return l}}function fm(l,u){return l==null||l!==l?u:l}var hm=Ki(),mm=Ki(!0);function It(l){return l}function cs(l){return wi(typeof l=="function"?l:$t(l,v))}function gm(l){return Ei($t(l,v))}function vm(l,u){return ki(l,$t(u,v))}var _m=Be(function(l,u){return function(g){return Zn(g,l,u)}}),ym=Be(function(l,u){return function(g){return Zn(l,g,u)}});function us(l,u,g){var b=ft(u),w=Vr(u,b);g==null&&!(ot(u)&&(w.length||!b.length))&&(g=u,u=l,l=this,w=Vr(u,ft(u)));var A=!(ot(g)&&"chain"in g)||!!g.chain,O=an(l);return Dt(w,function(F){var G=u[F];l[F]=G,O&&(l.prototype[F]=function(){var oe=this.__chain__;if(A||oe){var se=l(this.__wrapped__),he=se.__actions__=Et(this.__actions__);return he.push({func:G,args:arguments,thisArg:l}),se.__chain__=oe,se}return G.apply(l,dn([this.value()],arguments))})}),l}function bm(){return pt._===this&&(pt._=Oc),this}function ds(){}function Cm(l){return l=Fe(l),Be(function(u){return Ti(u,l)})}var wm=Uo(rt),Sm=Uo(Ws),Em=Uo(fo);function ja(l){return Ko(l)?ho(Xt(l)):zu(l)}function km(l){return function(u){return l==null?n:En(l,u)}}var Tm=Qi(),xm=Qi(!0);function fs(){return[]}function hs(){return!1}function Am(){return{}}function Rm(){return""}function Pm(){return!0}function Nm(l,u){if(l=Fe(l),l<1||l>K)return[];var g=me,b=vt(l,me);u=Pe(u),l-=me;for(var w=go(b,u);++g<l;)u(g);return w}function Vm(l){return Le(l)?rt(l,Xt):Pt(l)?[l]:Et(ha(Xe(l)))}function Om(l){var u=++Nc;return Xe(l)+u}var Dm=Br(function(l,u){return l+u},0),Lm=qo("ceil"),Fm=Br(function(l,u){return l/u},1),Mm=qo("floor");function $m(l){return l&&l.length?Nr(l,It,Io):n}function Bm(l,u){return l&&l.length?Nr(l,Pe(u,2),Io):n}function Um(l){return js(l,It)}function qm(l,u){return js(l,Pe(u,2))}function Hm(l){return l&&l.length?Nr(l,It,Po):n}function Wm(l,u){return l&&l.length?Nr(l,Pe(u,2),Po):n}var Gm=Br(function(l,u){return l*u},1),zm=qo("round"),jm=Br(function(l,u){return l-u},0);function Km(l){return l&&l.length?mo(l,It):0}function Ym(l,u){return l&&l.length?mo(l,Pe(u,2)):0}return k.after=fh,k.ary=Ea,k.assign=Zh,k.assignIn=Ma,k.assignInWith=Zr,k.assignWith=ep,k.at=tp,k.before=ka,k.bind=es,k.bindAll=cm,k.bindKey=Ta,k.castArray=Eh,k.chain=Ca,k.chunk=Pd,k.compact=Nd,k.concat=Vd,k.cond=um,k.conforms=dm,k.constant=ls,k.countBy=Hf,k.create=np,k.curry=Ia,k.curryRight=xa,k.debounce=Aa,k.defaults=rp,k.defaultsDeep=op,k.defer=hh,k.delay=ph,k.difference=Od,k.differenceBy=Dd,k.differenceWith=Ld,k.drop=Fd,k.dropRight=Md,k.dropRightWhile=$d,k.dropWhile=Bd,k.fill=Ud,k.filter=Gf,k.flatMap=Kf,k.flatMapDeep=Yf,k.flatMapDepth=Qf,k.flatten=va,k.flattenDeep=qd,k.flattenDepth=Hd,k.flip=mh,k.flow=hm,k.flowRight=mm,k.fromPairs=Wd,k.functions=fp,k.functionsIn=hp,k.groupBy=Xf,k.initial=zd,k.intersection=jd,k.intersectionBy=Kd,k.intersectionWith=Yd,k.invert=gp,k.invertBy=vp,k.invokeMap=Zf,k.iteratee=cs,k.keyBy=eh,k.keys=ft,k.keysIn=Tt,k.map=jr,k.mapKeys=yp,k.mapValues=bp,k.matches=gm,k.matchesProperty=vm,k.memoize=Yr,k.merge=Cp,k.mergeWith=$a,k.method=_m,k.methodOf=ym,k.mixin=us,k.negate=Qr,k.nthArg=Cm,k.omit=Sp,k.omitBy=Ep,k.once=gh,k.orderBy=th,k.over=wm,k.overArgs=vh,k.overEvery=Sm,k.overSome=Em,k.partial=ts,k.partialRight=Ra,k.partition=nh,k.pick=kp,k.pickBy=Ba,k.property=ja,k.propertyOf=km,k.pull=Zd,k.pullAll=ya,k.pullAllBy=ef,k.pullAllWith=tf,k.pullAt=nf,k.range=Tm,k.rangeRight=xm,k.rearg=_h,k.reject=sh,k.remove=rf,k.rest=yh,k.reverse=Jo,k.sampleSize=ah,k.set=Ip,k.setWith=xp,k.shuffle=lh,k.slice=of,k.sortBy=dh,k.sortedUniq=hf,k.sortedUniqBy=pf,k.split=Xp,k.spread=bh,k.tail=mf,k.take=gf,k.takeRight=vf,k.takeRightWhile=_f,k.takeWhile=yf,k.tap=Of,k.throttle=Ch,k.thru=zr,k.toArray=Da,k.toPairs=Ua,k.toPairsIn=qa,k.toPath=Vm,k.toPlainObject=Fa,k.transform=Ap,k.unary=wh,k.union=bf,k.unionBy=Cf,k.unionWith=wf,k.uniq=Sf,k.uniqBy=Ef,k.uniqWith=kf,k.unset=Rp,k.unzip=Zo,k.unzipWith=ba,k.update=Pp,k.updateWith=Np,k.values=Wn,k.valuesIn=Vp,k.without=Tf,k.words=Ga,k.wrap=Sh,k.xor=If,k.xorBy=xf,k.xorWith=Af,k.zip=Rf,k.zipObject=Pf,k.zipObjectDeep=Nf,k.zipWith=Vf,k.entries=Ua,k.entriesIn=qa,k.extend=Ma,k.extendWith=Zr,us(k,k),k.add=Dm,k.attempt=za,k.camelCase=Fp,k.capitalize=Ha,k.ceil=Lm,k.clamp=Op,k.clone=kh,k.cloneDeep=Ih,k.cloneDeepWith=xh,k.cloneWith=Th,k.conformsTo=Ah,k.deburr=Wa,k.defaultTo=fm,k.divide=Fm,k.endsWith=Mp,k.eq=zt,k.escape=$p,k.escapeRegExp=Bp,k.every=Wf,k.find=zf,k.findIndex=ma,k.findKey=sp,k.findLast=jf,k.findLastIndex=ga,k.findLastKey=ip,k.floor=Mm,k.forEach=wa,k.forEachRight=Sa,k.forIn=lp,k.forInRight=cp,k.forOwn=up,k.forOwnRight=dp,k.get=ss,k.gt=Rh,k.gte=Ph,k.has=pp,k.hasIn=is,k.head=_a,k.identity=It,k.includes=Jf,k.indexOf=Gd,k.inRange=Dp,k.invoke=_p,k.isArguments=In,k.isArray=Le,k.isArrayBuffer=Nh,k.isArrayLike=kt,k.isArrayLikeObject=at,k.isBoolean=Vh,k.isBuffer=_n,k.isDate=Oh,k.isElement=Dh,k.isEmpty=Lh,k.isEqual=Fh,k.isEqualWith=Mh,k.isError=ns,k.isFinite=$h,k.isFunction=an,k.isInteger=Pa,k.isLength=Xr,k.isMap=Na,k.isMatch=Bh,k.isMatchWith=Uh,k.isNaN=qh,k.isNative=Hh,k.isNil=Gh,k.isNull=Wh,k.isNumber=Va,k.isObject=ot,k.isObjectLike=st,k.isPlainObject=ir,k.isRegExp=rs,k.isSafeInteger=zh,k.isSet=Oa,k.isString=Jr,k.isSymbol=Pt,k.isTypedArray=Hn,k.isUndefined=jh,k.isWeakMap=Kh,k.isWeakSet=Yh,k.join=Qd,k.kebabCase=Up,k.last=Ut,k.lastIndexOf=Xd,k.lowerCase=qp,k.lowerFirst=Hp,k.lt=Qh,k.lte=Xh,k.max=$m,k.maxBy=Bm,k.mean=Um,k.meanBy=qm,k.min=Hm,k.minBy=Wm,k.stubArray=fs,k.stubFalse=hs,k.stubObject=Am,k.stubString=Rm,k.stubTrue=Pm,k.multiply=Gm,k.nth=Jd,k.noConflict=bm,k.noop=ds,k.now=Kr,k.pad=Wp,k.padEnd=Gp,k.padStart=zp,k.parseInt=jp,k.random=Lp,k.reduce=rh,k.reduceRight=oh,k.repeat=Kp,k.replace=Yp,k.result=Tp,k.round=zm,k.runInContext=q,k.sample=ih,k.size=ch,k.snakeCase=Qp,k.some=uh,k.sortedIndex=sf,k.sortedIndexBy=lf,k.sortedIndexOf=cf,k.sortedLastIndex=uf,k.sortedLastIndexBy=df,k.sortedLastIndexOf=ff,k.startCase=Jp,k.startsWith=Zp,k.subtract=jm,k.sum=Km,k.sumBy=Ym,k.template=em,k.times=Nm,k.toFinite=ln,k.toInteger=Fe,k.toLength=La,k.toLower=tm,k.toNumber=qt,k.toSafeInteger=Jh,k.toString=Xe,k.toUpper=nm,k.trim=rm,k.trimEnd=om,k.trimStart=sm,k.truncate=im,k.unescape=am,k.uniqueId=Om,k.upperCase=lm,k.upperFirst=as,k.each=wa,k.eachRight=Sa,k.first=_a,us(k,function(){var l={};return Yt(k,function(u,g){Je.call(k.prototype,g)||(l[g]=u)}),l}(),{chain:!1}),k.VERSION=r,Dt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){k[l].placeholder=k}),Dt(["drop","take"],function(l,u){Ge.prototype[l]=function(g){g=g===n?1:dt(Fe(g),0);var b=this.__filtered__&&!u?new Ge(this):this.clone();return b.__filtered__?b.__takeCount__=vt(g,b.__takeCount__):b.__views__.push({size:vt(g,me),type:l+(b.__dir__<0?"Right":"")}),b},Ge.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),Dt(["filter","map","takeWhile"],function(l,u){var g=u+1,b=g==$||g==X;Ge.prototype[l]=function(w){var A=this.clone();return A.__iteratees__.push({iteratee:Pe(w,3),type:g}),A.__filtered__=A.__filtered__||b,A}}),Dt(["head","last"],function(l,u){var g="take"+(u?"Right":"");Ge.prototype[l]=function(){return this[g](1).value()[0]}}),Dt(["initial","tail"],function(l,u){var g="drop"+(u?"":"Right");Ge.prototype[l]=function(){return this.__filtered__?new Ge(this):this[g](1)}}),Ge.prototype.compact=function(){return this.filter(It)},Ge.prototype.find=function(l){return this.filter(l).head()},Ge.prototype.findLast=function(l){return this.reverse().find(l)},Ge.prototype.invokeMap=Be(function(l,u){return typeof l=="function"?new Ge(this):this.map(function(g){return Zn(g,l,u)})}),Ge.prototype.reject=function(l){return this.filter(Qr(Pe(l)))},Ge.prototype.slice=function(l,u){l=Fe(l);var g=this;return g.__filtered__&&(l>0||u<0)?new Ge(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),u!==n&&(u=Fe(u),g=u<0?g.dropRight(-u):g.take(u-l)),g)},Ge.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Ge.prototype.toArray=function(){return this.take(me)},Yt(Ge.prototype,function(l,u){var g=/^(?:filter|find|map|reject)|While$/.test(u),b=/^(?:head|last)$/.test(u),w=k[b?"take"+(u=="last"?"Right":""):u],A=b||/^find/.test(u);!w||(k.prototype[u]=function(){var O=this.__wrapped__,F=b?[1]:arguments,G=O instanceof Ge,oe=F[0],se=G||Le(O),he=function(We){var je=w.apply(k,dn([We],F));return b&&Ce?je[0]:je};se&&g&&typeof oe=="function"&&oe.length!=1&&(G=se=!1);var Ce=this.__chain__,Te=!!this.__actions__.length,Ve=A&&!Ce,Me=G&&!Te;if(!A&&se){O=Me?O:new Ge(this);var Oe=l.apply(O,F);return Oe.__actions__.push({func:zr,args:[he],thisArg:n}),new Mt(Oe,Ce)}return Ve&&Me?l.apply(this,F):(Oe=this.thru(he),Ve?b?Oe.value()[0]:Oe.value():Oe)})}),Dt(["pop","push","shift","sort","splice","unshift"],function(l){var u=mr[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",b=/^(?:pop|shift)$/.test(l);k.prototype[l]=function(){var w=arguments;if(b&&!this.__chain__){var A=this.value();return u.apply(Le(A)?A:[],w)}return this[g](function(O){return u.apply(Le(O)?O:[],w)})}}),Yt(Ge.prototype,function(l,u){var g=k[u];if(g){var b=g.name+"";Je.call(Mn,b)||(Mn[b]=[]),Mn[b].push({name:u,func:g})}}),Mn[$r(n,T).name]=[{name:"wrapper",func:n}],Ge.prototype.clone=Qc,Ge.prototype.reverse=Xc,Ge.prototype.value=Jc,k.prototype.at=Df,k.prototype.chain=Lf,k.prototype.commit=Ff,k.prototype.next=Mf,k.prototype.plant=Bf,k.prototype.reverse=Uf,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=qf,k.prototype.first=k.prototype.head,zn&&(k.prototype[zn]=$f),k},Dn=Ac();yn?((yn.exports=Dn)._=Dn,ao._=Dn):pt._=Dn}).call(commonjsGlobal)})(lodash,lodash.exports);const resetPlayedCounts=async()=>{firebase.getDatabase();const e=useStore(),t=[{deck:"schemes",items:e.schemes},{deck:"masterminds",items:e.masterminds},{deck:"villains",items:e.villains},{deck:"henchmen",items:e.henchmen},{deck:"heroes",items:e.heroes}];for(let{deck:n,items:r}of t)for(let o of r){const s=`/${n}/${o.id}/played/${e.user.uid}`;e.set(s,1)}},logIn=async(e,t,{email:n,password:r})=>{const o=await firebase.signInWithEmailAndPassword(firebase.auth,n,r).catch(()=>{e.snack={visible:!0,color:"error",text:"Invalid credentials"}});o&&(e.user=o.user,t.currentRoute.value.path=="/"&&t.push("/dashboard"))},logOut=async e=>{const t=useStore();await firebase.signOut(firebase.auth),t.user=null,e.push("/")},getUserData=e=>{const t=useStore(),n=`${e}/${t.user.uid}`,r=firebase.getDatabase(),o=firebase.ref(r,n);firebase.onValue(o,s=>{if(!s.val()){e=="game"&&(t.game=null,t.true=!1);return}t[e]=s.val(),e=="game"&&t.setExpiration()}),e=="game"&&(t.gameLoaded=!0)},schemes$1={primary:"scheme_name",secondary:"veiled"},masterminds$1={primary:"mastermind_name",secondary:"always_leads"},villains$1={primary:"villain_group"},henchmen$1={primary:"henchmen_name"},heroes$1={primary:"hero_name",secondary:"affiliation",colors:"colors"},tableFields={schemes:schemes$1,masterminds:masterminds$1,villains:villains$1,henchmen:henchmen$1,heroes:heroes$1};var lib$1={},util={};Object.defineProperty(util,"__esModule",{value:!0});util.fromObject=util.fromArray=util.weightFunc=void 0;function weightFunc(e){return Math.pow(Math.random(),1/e)}util.weightFunc=weightFunc;function fromArray(e){return e.map(function(t){return[t[0],weightFunc(t[1])]})}util.fromArray=fromArray;function fromObject(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push([n,weightFunc(e[n])]);return t}util.fromObject=fromObject;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.shuffle=e.Direction=void 0;var t=util,n;(function(o){o.asc="asc",o.desc="desc"})(n=e.Direction||(e.Direction={}));function r(o,s){s===void 0&&(s=n.asc);var a=Array.isArray(o)?t.fromArray(o):t.fromObject(o);return a.sort(s===n.desc?function(c,d){return d[1]-c[1]}:function(c,d){return c[1]-d[1]}),a}e.default=r,e.shuffle=r})(lib$1);var base64$1={exports:{}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */(function(e,t){(function(n){var r=t,o=e&&e.exports==r&&e,s=typeof commonjsGlobal=="object"&&commonjsGlobal;(s.global===s||s.window===s)&&(n=s);var a=function(C){this.message=C};a.prototype=new Error,a.prototype.name="InvalidCharacterError";var c=function(C){throw new a(C)},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,m=function(C){C=String(C).replace(f,"");var S=C.length;S%4==0&&(C=C.replace(/==?$/,""),S=C.length),(S%4==1||/[^+a-zA-Z0-9/]/.test(C))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var I=0,T,E,x="",P=-1;++P<S;)E=d.indexOf(C.charAt(P)),T=I%4?T*64+E:E,I++%4&&(x+=String.fromCharCode(255&T>>(-2*I&6)));return x},v=function(C){C=String(C),/[^\0-\xFF]/.test(C)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var S=C.length%3,I="",T=-1,E,x,P,V,R=C.length-S;++T<R;)E=C.charCodeAt(T)<<16,x=C.charCodeAt(++T)<<8,P=C.charCodeAt(++T),V=E+x+P,I+=d.charAt(V>>18&63)+d.charAt(V>>12&63)+d.charAt(V>>6&63)+d.charAt(V&63);return S==2?(E=C.charCodeAt(T)<<8,x=C.charCodeAt(++T),V=E+x,I+=d.charAt(V>>10)+d.charAt(V>>4&63)+d.charAt(V<<2&63)+"="):S==1&&(V=C.charCodeAt(T),I+=d.charAt(V>>2)+d.charAt(V<<4&63)+"=="),I},_={encode:v,decode:m,version:"1.0.0"};if(r&&!r.nodeType)if(o)o.exports=_;else for(var y in _)_.hasOwnProperty(y)&&(r[y]=_[y]);else n.base64=_})(commonjsGlobal)})(base64$1,base64$1.exports);const base64=base64$1.exports,runHandler=({setup,deck,candidates,itemName,alwaysLeadsExtra=!1})=>{const store=useStore(),handlerName=lodash.exports.camelCase(itemName);let code=store.handlers[handlerName];if(!code)return[];code=base64.decode(code);const handlerFn=eval(code),criteria=handlerFn({store,setup,deck,candidates,alwaysLeadsExtra})||[];for(let e of criteria)getItems(deck,setup,candidates,e)},getAlwaysLeads=({setup:e,deck:t,candidates:n,alwaysLeadsExtra:r=!1,item:o})=>{if(e.players==1)return;if(o.always_leads=="*"){runHandler({setup:e,deck:t,candidates:n,itemName:lodash.exports.camelCase(o.mastermind_name),alwaysLeadsExtra:r});return}const s=o.always_leads;[...t.villains,...t.henchmen,...t.heroes].map(c=>c.primary).includes(s)||getItems(t,e,n,{table:"villains",field:"villain_group",value:s})||getItems(t,e,n,{table:"henchmen",field:"henchmen_name",value:s})},getItems=(e,t,n,{table:r,field:o,value:s,append:a=r,special:c=!1,num:d=1,removeAll:f=!1,retrieveAlwaysLeads:m=!1,alwaysLeadsExtra:v=!1,canRepeat:_=!1})=>{const y=useStore();if(e[a]&&e[a].length>=t[a]||d<=0)return;const C=n[r].map(E=>{const x=E.played&&E.played[y.user.uid]?E.played[y.user.uid]:1;return y.userSettings.usePlayedCount?[E.id,x]:[E.id,1]});let I=lib$1.shuffle(C,"asc").map(E=>n[r].filter(({id:x})=>x==E[0]).shift());if(o&&s&&(I=s instanceof RegExp?n[r].filter(E=>s.test(E[o])):n[r].filter(E=>E[o]==s)),I.length==0)return!1;let T=[];if(_)for(let E=0;E<d;E++)T.push(lib$1.shuffle(I).shift());if(_||(T=I.splice(0,d)),T=T.map(E=>{E.special=c,m&&getAlwaysLeads({setup:t,deck:e,candidates:n,alwaysLeadsExtra:v,item:E});const x=tableFields[r];let P=[];r=="heroes"&&(P=E.colors,typeof P=="string"&&(P=JSON.parse(P)));const V=E.played&&E.played[y.user.uid]?E.played[y.user.uid]:1;return{primary:E[x.primary],secondary:E[x.secondary]||!1,colors:P,special:c,id:E.id,played:V,table:r}}),e[a]||(e[a]=[]),e[a]=[...e[a],...T],!_)for(let E of T)n[r]=n[r].filter(({id:x})=>x!=E.id);f&&(n[r]=n[r].filter(E=>E[o]!=s))},defaultSetups={1:{players:1,schemes:1,masterminds:1,villains:1,henchmen:1,heroes:3,bystanders:1},2:{players:2,schemes:1,masterminds:1,villains:2,henchmen:1,heroes:5,bystanders:2},3:{players:3,schemes:1,masterminds:1,villains:3,henchmen:1,heroes:5,bystanders:8},4:{players:4,schemes:1,masterminds:1,villains:3,henchmen:2,heroes:5,bystanders:8},5:{players:5,schemes:1,masterminds:1,villains:4,henchmen:2,heroes:6,bystanders:12}},buildDeck=({numPlayers:e,schemeName:t=null})=>{const n=useStore();if(!n.userSettings.expansions||n.userSettings.expansions.length==0){n.snack={visible:!0,color:"error",text:"No Expansions Found. Go to Settings and select your expansions."};return}const r=n.userSettings.expansions.map(f=>n.expansionList.filter(v=>v.id==f).shift().expansion);let o={schemes:[],masterminds:[],villains:[],henchmen:[],heroes:[]},s={...defaultSetups[e]},a={};for(let f of["schemes","masterminds","villains","henchmen","heroes"])a[f]=n[f].filter(m=>f=="masterminds"&&!n.userSettings.useEpics&&/^Epic/.test(m.mastermind_name)||f=="schemes"&&parseInt(m.min_players)>e?!1:n.userSettings.usePortable?n.userSettings.portable.includes(m.id):r.includes(m.expansion));const c=t?{field:"scheme_name",value:t}:{};o.schemes=[],getItems(o,s,a,{table:"schemes",field:c.field,value:c.value}),runHandler({setup:s,deck:o,candidates:a,itemName:o.schemes[0].primary}),getItems(o,s,a,{table:"masterminds",retrieveAlwaysLeads:!0}),getItems(o,s,a,{table:"villains",num:s.villains-o.villains.length}),getItems(o,s,a,{table:"henchmen",num:s.henchmen-o.henchmen.length}),getItems(o,s,a,{table:"heroes",num:s.heroes-o.heroes.length});for(let f in o)o[f]=o[f].sort((m,v)=>m.primary<v.primary?-1:1),o[f]=o[f].map(m=>(m.table&&m.table!=f&&o[m.table].push({...m,special:!0}),m));s.expires=new Date().getTime()+9e5;const d={deck:o,setup:s};n.updateGame(d),n.showMarkPlayed=!1},tables=["expansionList","handlers","henchmen","heroes","keywords","masterminds","schemes","villains"],getUniversalData=()=>{const e=useStore(),t=firebase.getDatabase();tables.forEach(n=>{const r=firebase.ref(t,n);firebase.onValue(r,o=>{if(!o.val())return;let s=n!="handlers"?Object.entries(o.val()).map(([a,c])=>({...c,id:a})):o.val();["schemes","masterminds","villains","henchmen","heroes"].includes(n)&&(s=s.filter(a=>a.expansion)),e[n]=s})})},markPlayed=()=>{const e=firebase.getDatabase(),t=useStore(),n=lodash.exports.cloneDeep(t.game.deck);t.game=null,firebase.set(firebase.ref(e,`game/${t.user.uid}`),null);for(let r of Object.keys(n))for(let o of n[r]){if(!o.id)continue;const s=`${r}/${o.id}/played/${t.user.uid}`,a=o.played+1;firebase.set(firebase.ref(e,s),a)}t.showMarkPlayed=!1},setExpiration=()=>{const e=useStore();clearTimeout(e.smpTimer),setTimeout(()=>{e.showMarkPlayed=!0},e.game.setup.expires-new Date().getTime())},updateGame=e=>{const n=`game/${useStore().user.uid}`,r=firebase.getDatabase(),o=firebase.ref(r,n);firebase.set(o,e)},updateHandler=({key:e,contents:t})=>{t=base64.encode(t);const n=`handlers/${e}`,r=firebase.getDatabase(),o=firebase.ref(r,n);firebase.set(o,t);const s=useStore();s.snack={visible:!0,color:"success",text:"Handler Updated"}},updateSettings=()=>{const e=useStore(),t=`userSettings/${e.user.uid}`,n=firebase.getDatabase(),r=firebase.ref(n,t);firebase.set(r,e.userSettings)};function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function requiredArgs(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function toDate(e){requiredArgs(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||_typeof(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function isDate(e){return requiredArgs(1,arguments),e instanceof Date||_typeof(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function isValid(e){if(requiredArgs(1,arguments),!isDate(e)&&typeof e!="number")return!1;var t=toDate(e);return!isNaN(Number(t))}function addLeadingZeros(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}function formatISO9075(e,t){var n,r;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var o=toDate(e);if(!isValid(o))throw new RangeError("Invalid time value");var s=String((n=t==null?void 0:t.format)!==null&&n!==void 0?n:"extended"),a=String((r=t==null?void 0:t.representation)!==null&&r!==void 0?r:"complete");if(s!=="extended"&&s!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var c="",d=s==="extended"?"-":"",f=s==="extended"?":":"";if(a!=="time"){var m=addLeadingZeros(o.getDate(),2),v=addLeadingZeros(o.getMonth()+1,2),_=addLeadingZeros(o.getFullYear(),4);c="".concat(_).concat(d).concat(v).concat(d).concat(m)}if(a!=="date"){var y=addLeadingZeros(o.getHours(),2),C=addLeadingZeros(o.getMinutes(),2),S=addLeadingZeros(o.getSeconds(),2),I=c===""?"":" ";c="".concat(c).concat(I).concat(y).concat(f).concat(C).concat(f).concat(S)}return c}const addExpansion=async e=>{const t=useStore(),n=e.schemes.map(d=>({min_players:0,scheme_name:d.primary,veiled:!!d.secondary,veiledName:d.secondary||null,expansion:e.name})),r=e.masterminds.map(d=>({mastermind_name:d.primary,always_leads:d.secondary,expansion:e.name})),o=e.villains.map(d=>({expansion:e.name,villain_group:d.primary})),s=e.henchmen.map(d=>({expansion:e.name,henchmen_name:d.primary})),a=e.heroes.map(d=>({expansion:e.name,hero_name:d.primary,affiliation:d.secondary,colors:d.colors}));return t.push("expansionList",{expansion:e.name,created:formatISO9075(new Date,{representation:"date"}),rulesName:e.name}),[{name:"schemes",items:n},{name:"masterminds",items:r},{name:"villains",items:o},{name:"henchmen",items:s},{name:"heroes",items:a}].forEach(({name:d,items:f})=>{f.forEach(m=>{t.push(d,m)})}),t.snack={visible:!0,color:"success",text:"Expansion Added"},!0},buildPortable=()=>{const n=useStore();if(n.userSettings.portable=[],!n.userSettings.expansions||n.userSettings.expansions.length==0){n.snack={visible:!0,color:"error",text:"No Expansions Found. Go to Settings and select your expansions."};return}const r=n.userSettings.expansions.map(o=>n.expansionList.filter(a=>a.id==o).shift().expansion);for(let o=0;o<3;o++){let s={schemes:[],masterminds:[],villains:[],henchmen:[],heroes:[]},a={...defaultSetups[5]},c={};for(let m of["schemes","masterminds","villains","henchmen","heroes"])c[m]=n[m].filter(v=>m=="masterminds"&&!n.userSettings.useEpics&&/^Epic/.test(v.mastermind_name)||m=="schemes"&&parseInt(v.min_players)>5?!1:r.includes(v.expansion));const d={};s.schemes=[],getItems(s,a,c,{table:"schemes",field:d.field,value:d.value}),runHandler({setup:a,deck:s,candidates:c,itemName:s.schemes[0].primary}),getItems(s,a,c,{table:"masterminds",retrieveAlwaysLeads:!0}),getItems(s,a,c,{table:"villains",num:a.villains-s.villains.length}),getItems(s,a,c,{table:"henchmen",num:a.henchmen-s.henchmen.length}),getItems(s,a,c,{table:"heroes",num:a.heroes-s.heroes.length});for(let m in s)s[m]=s[m].sort((v,_)=>v.primary<_.primary?-1:1),s[m]=s[m].map(v=>(v.table&&v.table!=m&&s[v.table].push({...v,special:!0}),v));a.expires=new Date().getTime()+9e5;const f=lodash.exports.flattenDeep(Object.keys(s).map(m=>s[m].map(({id:v})=>v))).filter(m=>m);n.userSettings.portable=lodash.exports.uniq([...n.userSettings.portable,...f]),n.updateSettings()}},push=(e,t)=>{const n=`${e}`,r=firebase.getDatabase(),o=firebase.ref(r,n),s=firebase.push(o);firebase.set(s,t)},set=(e,t)=>{const n=firebase.getDatabase(),r=firebase.ref(n,e);firebase.set(r,t)},usePortable=()=>{useStore().updateSettings()},useStore=defineStore("store",{state:()=>({smpTimer:null,showMarkPlayed:!1,user:null,userLoaded:!1,snack:{visible:!1,color:"",text:""},expansionList:[],handlers:[],henchmen:[],heroes:[],keywords:[],masterminds:[],schemes:[],villains:[],game:null,display:{},gameLoaded:!1,userSettings:{usePlayedCount:!0,useEpics:!0,bgColors:{henchmen:"grey",heroes:"white",masterminds:"blue",schemes:"blue-grey",villains:"red"},textColors:{henchmen:"white",heroes:"black",masterminds:"white",schemes:"white",villains:"white"},enemiesLayout:["masterminds","villains","henchmen","schemes"],portable:null,usePortable:!1}}),actions:{getUniversalData,async getUserData(e){return await getUserData(e)},setDisplay(){this.display=useDisplay()},remembered,async logIn(e,{email:t,password:n}){logIn(this,e,{email:t,password:n})},logOut,buildDeck,buildPortable,markPlayed,setExpiration,updateGame,updateHandler,updateSettings,addExpansion,push,set,resetPlayedCounts,usePortable}}),name="Midnight Sons",schemes=[{id:"lim3a6qw",primary:"Ritual Sacrifice to Summon Chthon",table:"schemes"},{id:"lim3adqv",primary:"Midnight Massacre",table:"schemes"},{id:"lim3b3td",primary:"Wager at Blackjack for Heroes Souls",table:"schemes"},{id:"lim3bb2o",primary:"Sire Vampires at the Blood Bank",table:"schemes"}],masterminds=[{id:"lim3cunv",primary:"Zarathos",secondary:"Fallen",table:"masterminds"},{id:"lim3d9t3",primary:"Lilith, Mother of Demons",secondary:"Lilin",table:"masterminds"}],villains=[{id:"lim3ds24",primary:"Fallen",table:"villains"},{id:"lim3e60z",primary:"Lilin",table:"villains"}],henchmen=[],heroes=[{id:"lim3er26",primary:"Wong, Master of the Mystic Arts",secondary:"MK",colors:["blue","red"],table:"heroes"},{id:"lim3fnf2",primary:"Elsa Bloodstone",secondary:"MK",colors:["black","yellow"],table:"heroes"},{id:"lim3fzl3",primary:"Werewolf By Night",secondary:"MK",colors:["yellow","green"],table:"heroes"},{id:"lim3ge41",primary:"Morbius",secondary:"MK",colors:["red","green"],table:"heroes"},{id:"lim3hbpy",primary:"Blade, Day Walker",secondary:"MK",colors:["green","yellow","black"],table:"heroes"}],temporaryExpansionInfo={name,schemes,masterminds,villains,henchmen,heroes},_export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},VApp$1="",makeVAppProps=propsFactory({...makeComponentProps(),...makeLayoutProps({fullHeight:!0}),...makeThemeProps()},"VApp"),VApp=genericComponent()({name:"VApp",props:makeVAppProps(),setup(e,t){let{slots:n}=t;const r=provideTheme(e),{layoutClasses:o,layoutStyles:s,getLayoutItem:a,items:c,layoutRef:d}=createLayout(e),{rtlClasses:f}=useRtl();return useRender(()=>{var m;return createVNode("div",{ref:d,class:["v-application",r.themeClasses.value,o.value,f.value,e.class],style:[s.value,e.style]},[createVNode("div",{class:"v-application__wrap"},[(m=n.default)==null?void 0:m.call(n)])])}),{getLayoutItem:a,items:c,theme:r}}}),VMain$1="";function useSsrBoot(){const e=shallowRef(!1);return onMounted(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:computed(()=>e.value?void 0:{transition:"none !important"}),isBooted:readonly(e)}}const makeTagProps=propsFactory({tag:{type:String,default:"div"}},"tag"),makeVMainProps=propsFactory({scrollable:Boolean,...makeComponentProps(),...makeTagProps({tag:"main"})},"VMain"),VMain=genericComponent()({name:"VMain",props:makeVMainProps(),setup(e,t){let{slots:n}=t;const{mainStyles:r}=useLayout(),{ssrBootStyles:o}=useSsrBoot();return useRender(()=>createVNode(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,o.value,e.style]},{default:()=>{var s,a;return[e.scrollable?createVNode("div",{class:"v-main__scroller"},[(s=n.default)==null?void 0:s.call(n)]):(a=n.default)==null?void 0:a.call(n)]}})),{}}}),VSnackbar$1="",makeVDefaultsProviderProps=propsFactory({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),VDefaultsProvider=genericComponent(!1)({name:"VDefaultsProvider",props:makeVDefaultsProviderProps(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:o,reset:s,root:a,scoped:c}=toRefs(e);return provideDefaults(r,{reset:s,root:a,scoped:c,disabled:o}),()=>{var d;return(d=n.default)==null?void 0:d.call(n)}}}),VOverlay$1="";function elementToViewport(e,t){return{x:e.x+t.x,y:e.y+t.y}}function getOffset$1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function anchorToPoint(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,o=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,s=n==="top"?0:n==="bottom"?t.height:n;return elementToViewport({x:o,y:s},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,o=n==="left"?0:n==="right"?t.width:n,s=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return elementToViewport({x:o,y:s},t)}return elementToViewport({x:t.width/2,y:t.height/2},t)}const locationStrategies={static:staticLocationStrategy,connected:connectedLocationStrategy},makeLocationStrategyProps=propsFactory({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in locationStrategies},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function useLocationStrategies(e,t){const n=ref$1({}),r=ref$1();IN_BROWSER&&(useToggleScope(()=>!!(t.isActive.value&&e.locationStrategy),s=>{var a,c;watch(()=>e.locationStrategy,s),onScopeDispose(()=>{r.value=void 0}),typeof e.locationStrategy=="function"?r.value=(a=e.locationStrategy(t,e,n))==null?void 0:a.updateLocation:r.value=(c=locationStrategies[e.locationStrategy](t,e,n))==null?void 0:c.updateLocation}),window.addEventListener("resize",o,{passive:!0}),onScopeDispose(()=>{window.removeEventListener("resize",o),r.value=void 0}));function o(s){var a;(a=r.value)==null||a.call(r,s)}return{contentStyles:n,updateLocation:r}}function staticLocationStrategy(){}function getIntrinsicSize(e,t){const n=nullifyTransforms(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function connectedLocationStrategy(e,t,n){isFixedPosition(e.activatorEl.value)&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:o,preferredOrigin:s}=destructComputed(()=>{const C=parseAnchor(t.location,e.isRtl.value),S=t.origin==="overlap"?C:t.origin==="auto"?flipSide(C):parseAnchor(t.origin,e.isRtl.value);return C.side===S.side&&C.align===flipAlign(S).align?{preferredAnchor:flipCorner(C),preferredOrigin:flipCorner(S)}:{preferredAnchor:C,preferredOrigin:S}}),[a,c,d,f]=["minWidth","minHeight","maxWidth","maxHeight"].map(C=>computed(()=>{const S=parseFloat(t[C]);return isNaN(S)?1/0:S})),m=computed(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const C=t.offset.split(" ").map(parseFloat);return C.length<2&&C.push(0),C}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let v=!1;const _=new ResizeObserver(()=>{v&&y()});watch([e.activatorEl,e.contentEl],(C,S)=>{let[I,T]=C,[E,x]=S;E&&_.unobserve(E),I&&_.observe(I),x&&_.unobserve(x),T&&_.observe(T)},{immediate:!0}),onScopeDispose(()=>{_.disconnect()});function y(){if(v=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>v=!0)}),!e.activatorEl.value||!e.contentEl.value)return;const C=e.activatorEl.value.getBoundingClientRect(),S=getIntrinsicSize(e.contentEl.value,e.isRtl.value),I=getScrollParents(e.contentEl.value),T=12;I.length||(I.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(S.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),S.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const E=I.reduce((j,z)=>{const W=z.getBoundingClientRect(),$=new Box({x:z===document.documentElement?0:W.x,y:z===document.documentElement?0:W.y,width:z.clientWidth,height:z.clientHeight});return j?new Box({x:Math.max(j.left,$.left),y:Math.max(j.top,$.top),width:Math.min(j.right,$.right)-Math.max(j.left,$.left),height:Math.min(j.bottom,$.bottom)-Math.max(j.top,$.top)}):$},void 0);E.x+=T,E.y+=T,E.width-=T*2,E.height-=T*2;let x={anchor:o.value,origin:s.value};function P(j){const z=new Box(S),W=anchorToPoint(j.anchor,C),$=anchorToPoint(j.origin,z);let{x:te,y:X}=getOffset$1(W,$);switch(j.anchor.side){case"top":X-=m.value[0];break;case"bottom":X+=m.value[0];break;case"left":te-=m.value[0];break;case"right":te+=m.value[0];break}switch(j.anchor.align){case"top":X-=m.value[1];break;case"bottom":X+=m.value[1];break;case"left":te-=m.value[1];break;case"right":te+=m.value[1];break}return z.x+=te,z.y+=X,z.width=Math.min(z.width,d.value),z.height=Math.min(z.height,f.value),{overflows:getOverflow(z,E),x:te,y:X}}let V=0,R=0;const M={x:0,y:0},D={x:!1,y:!1};let B=-1;for(;!(B++>10);){const{x:j,y:z,overflows:W}=P(x);V+=j,R+=z,S.x+=j,S.y+=z;{const $=getAxis(x.anchor),te=W.x.before||W.x.after,X=W.y.before||W.y.after;let ue=!1;if(["x","y"].forEach(K=>{if(K==="x"&&te&&!D.x||K==="y"&&X&&!D.y){const pe={anchor:{...x.anchor},origin:{...x.origin}},de=K==="x"?$==="y"?flipAlign:flipSide:$==="y"?flipSide:flipAlign;pe.anchor=de(pe.anchor),pe.origin=de(pe.origin);const{overflows:me}=P(pe);(me[K].before<=W[K].before&&me[K].after<=W[K].after||me[K].before+me[K].after<(W[K].before+W[K].after)/2)&&(x=pe,ue=D[K]=!0)}}),ue)continue}W.x.before&&(V+=W.x.before,S.x+=W.x.before),W.x.after&&(V-=W.x.after,S.x-=W.x.after),W.y.before&&(R+=W.y.before,S.y+=W.y.before),W.y.after&&(R-=W.y.after,S.y-=W.y.after);{const $=getOverflow(S,E);M.x=E.width-$.x.before-$.x.after,M.y=E.height-$.y.before-$.y.after,V+=$.x.before,S.x+=$.x.before,R+=$.y.before,S.y+=$.y.before}break}const U=getAxis(x.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:convertToUnit(pixelRound(R)),left:e.isRtl.value?void 0:convertToUnit(pixelRound(V)),right:e.isRtl.value?convertToUnit(pixelRound(-V)):void 0,minWidth:convertToUnit(U==="y"?Math.min(a.value,C.width):a.value),maxWidth:convertToUnit(pixelCeil(clamp(M.x,a.value===1/0?0:a.value,d.value))),maxHeight:convertToUnit(pixelCeil(clamp(M.y,c.value===1/0?0:c.value,f.value)))}),{available:M,contentBox:S}}return watch(()=>[o.value,s.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>y()),nextTick(()=>{const C=y();if(!C)return;const{available:S,contentBox:I}=C;I.height>S.y&&requestAnimationFrame(()=>{y(),requestAnimationFrame(()=>{y()})})}),{updateLocation:y}}function pixelRound(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function pixelCeil(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let clean=!0;const frames=[];function requestNewFrame(e){!clean||frames.length?(frames.push(e),run()):(clean=!1,e(),run())}let raf=-1;function run(){cancelAnimationFrame(raf),raf=requestAnimationFrame(()=>{const e=frames.shift();e&&e(),frames.length?run():clean=!0})}const scrollStrategies={none:null,close:closeScrollStrategy,block:blockScrollStrategy,reposition:repositionScrollStrategy},makeScrollStrategyProps=propsFactory({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in scrollStrategies}},"VOverlay-scroll-strategies");function useScrollStrategies(e,t){if(!IN_BROWSER)return;let n;watchEffect(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=effectScope(),await nextTick(),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=scrollStrategies[e.scrollStrategy])==null||r.call(scrollStrategies,t,e,n)}))}),onScopeDispose(()=>{n==null||n.stop()})}function closeScrollStrategy(e){var n;function t(r){e.isActive.value=!1}bindScroll((n=e.activatorEl.value)!=null?n:e.contentEl.value,t)}function blockScrollStrategy(e,t){var a;const n=(a=e.root.value)==null?void 0:a.offsetParent,r=[...new Set([...getScrollParents(e.activatorEl.value,t.contained?n:void 0),...getScrollParents(e.contentEl.value,t.contained?n:void 0)])].filter(c=>!c.classList.contains("v-overlay-scroll-blocked")),o=window.innerWidth-document.documentElement.offsetWidth,s=(c=>hasScrollbar(c)&&c)(n||document.documentElement);s&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((c,d)=>{c.style.setProperty("--v-body-scroll-x",convertToUnit(-c.scrollLeft)),c.style.setProperty("--v-body-scroll-y",convertToUnit(-c.scrollTop)),c.style.setProperty("--v-scrollbar-offset",convertToUnit(o)),c.classList.add("v-overlay-scroll-blocked")}),onScopeDispose(()=>{r.forEach((c,d)=>{const f=parseFloat(c.style.getPropertyValue("--v-body-scroll-x")),m=parseFloat(c.style.getPropertyValue("--v-body-scroll-y"));c.style.removeProperty("--v-body-scroll-x"),c.style.removeProperty("--v-body-scroll-y"),c.style.removeProperty("--v-scrollbar-offset"),c.classList.remove("v-overlay-scroll-blocked"),c.scrollLeft=-f,c.scrollTop=-m}),s&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function repositionScrollStrategy(e,t,n){let r=!1,o=-1,s=-1;function a(c){requestNewFrame(()=>{var m,v;const d=performance.now();(v=(m=e.updateLocation).value)==null||v.call(m,c),r=(performance.now()-d)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?c=>c():requestIdleCallback)(()=>{n.run(()=>{var c;bindScroll((c=e.activatorEl.value)!=null?c:e.contentEl.value,d=>{r?(cancelAnimationFrame(o),o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{a(d)})})):a(d)})})}),onScopeDispose(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(o)})}function bindScroll(e,t){const n=[document,...getScrollParents(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),onScopeDispose(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const VMenuSymbol=Symbol.for("vuetify:v-menu"),makeDelayProps=propsFactory({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function useDelay(e,t){const n={},r=o=>()=>{if(!IN_BROWSER)return Promise.resolve(!0);const s=o==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(a=>{var d;const c=parseInt((d=e[o])!=null?d:0,10);n[o]=window.setTimeout(()=>{t==null||t(s),a(s)},c)})};return{runCloseDelay:r("closeDelay"),runOpenDelay:r("openDelay")}}const makeActivatorProps=propsFactory({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...makeDelayProps()},"VOverlay-activator");function useActivator(e,t){let{isActive:n,isTop:r}=t;const o=ref$1();let s=!1,a=!1,c=!0;const d=computed(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),f=computed(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!d.value),{runOpenDelay:m,runCloseDelay:v}=useDelay(e,x=>{x===(e.openOnHover&&s||d.value&&a)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==x&&(c=!0),n.value=x)}),_={onClick:x=>{x.stopPropagation(),o.value=x.currentTarget||x.target,n.value=!n.value},onMouseenter:x=>{var P;(P=x.sourceCapabilities)!=null&&P.firesTouchEvents||(s=!0,o.value=x.currentTarget||x.target,m())},onMouseleave:x=>{s=!1,v()},onFocus:x=>{SUPPORTS_FOCUS_VISIBLE&&!x.target.matches(":focus-visible")||(a=!0,x.stopPropagation(),o.value=x.currentTarget||x.target,m())},onBlur:x=>{a=!1,x.stopPropagation(),v()}},y=computed(()=>{const x={};return f.value&&(x.onClick=_.onClick),e.openOnHover&&(x.onMouseenter=_.onMouseenter,x.onMouseleave=_.onMouseleave),d.value&&(x.onFocus=_.onFocus,x.onBlur=_.onBlur),x}),C=computed(()=>{const x={};if(e.openOnHover&&(x.onMouseenter=()=>{s=!0,m()},x.onMouseleave=()=>{s=!1,v()}),d.value&&(x.onFocusin=()=>{a=!0,m()},x.onFocusout=()=>{a=!1,v()}),e.closeOnContentClick){const P=inject$1(VMenuSymbol,null);x.onClick=()=>{n.value=!1,P==null||P.closeParents()}}return x}),S=computed(()=>{const x={};return e.openOnHover&&(x.onMouseenter=()=>{c&&(s=!0,c=!1,m())},x.onMouseleave=()=>{s=!1,v()}),x});watch(r,x=>{x&&(e.openOnHover&&!s&&(!d.value||!a)||d.value&&!a&&(!e.openOnHover||!s))&&(n.value=!1)});const I=ref$1();watchEffect(()=>{!I.value||nextTick(()=>{o.value=refElement(I.value)})});const T=getCurrentInstance("useActivator");let E;return watch(()=>!!e.activator,x=>{x&&IN_BROWSER?(E=effectScope(),E.run(()=>{_useActivator(e,T,{activatorEl:o,activatorEvents:y})})):E&&E.stop()},{flush:"post",immediate:!0}),onScopeDispose(()=>{E==null||E.stop()}),{activatorEl:o,activatorRef:I,activatorEvents:y,contentEvents:C,scrimEvents:S}}function _useActivator(e,t,n){let{activatorEl:r,activatorEvents:o}=n;watch(()=>e.activator,(d,f)=>{if(f&&d!==f){const m=c(f);m&&a(m)}d&&nextTick(()=>s())},{immediate:!0}),watch(()=>e.activatorProps,()=>{s()}),onScopeDispose(()=>{a()});function s(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!d||bindProps(d,mergeProps(o.value,f))}function a(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!d||unbindProps(d,mergeProps(o.value,f))}function c(){var m,v;let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,f;if(d)if(d==="parent"){let _=(v=(m=t==null?void 0:t.proxy)==null?void 0:m.$el)==null?void 0:v.parentNode;for(;_.hasAttribute("data-no-activator");)_=_.parentNode;f=_}else typeof d=="string"?f=document.querySelector(d):"$el"in d?f=d.$el:f=d;return r.value=(f==null?void 0:f.nodeType)===Node.ELEMENT_NODE?f:null,r.value}}function useColor(e){return destructComputed(()=>{const t=[],n={};return e.value.background&&(isCssColor(e.value.background)?n.backgroundColor=e.value.background:t.push(`bg-${e.value.background}`)),e.value.text&&(isCssColor(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function useTextColor(e,t){const n=computed(()=>({text:isRef(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:o}=useColor(n);return{textColorClasses:r,textColorStyles:o}}function useBackgroundColor(e,t){const n=computed(()=>({background:isRef(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:o}=useColor(n);return{backgroundColorClasses:r,backgroundColorStyles:o}}const makeDimensionProps=propsFactory({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function useDimension(e){return{dimensionStyles:computed(()=>({height:convertToUnit(e.height),maxHeight:convertToUnit(e.maxHeight),maxWidth:convertToUnit(e.maxWidth),minHeight:convertToUnit(e.minHeight),minWidth:convertToUnit(e.minWidth),width:convertToUnit(e.width)}))}}function useHydration(){if(!IN_BROWSER)return shallowRef(!1);const{ssr:e}=useDisplay();if(e){const t=shallowRef(!1);return onMounted(()=>{t.value=!0}),t}else return shallowRef(!0)}const makeLazyProps=propsFactory({eager:Boolean},"lazy");function useLazy(e,t){const n=shallowRef(!1),r=computed(()=>n.value||e.eager||t.value);watch(t,()=>n.value=!0);function o(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:o}}function useRouter(){var e,t;return(t=(e=getCurrentInstance("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function useLink$1(e,t){const n=resolveDynamicComponent("RouterLink"),r=computed(()=>!!(e.href||e.to)),o=computed(()=>(r==null?void 0:r.value)||hasEvent(t,"click")||hasEvent(e,"click"));if(typeof n=="string")return{isLink:r,isClickable:o,href:toRef(e,"href")};const s=e.to?n.useLink(e):void 0;return{isLink:r,isClickable:o,route:s==null?void 0:s.route,navigate:s==null?void 0:s.navigate,isActive:s&&computed(()=>{var a,c;return e.exact?(a=s.isExactActive)==null?void 0:a.value:(c=s.isActive)==null?void 0:c.value}),href:computed(()=>e.to?s==null?void 0:s.route.value.href:e.href)}}const makeRouterProps=propsFactory({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let inTransition=!1;function useBackButton(e,t){let n=!1,r,o;IN_BROWSER&&(nextTick(()=>{window.addEventListener("popstate",s),r=e==null?void 0:e.beforeEach((a,c,d)=>{inTransition?n?t(d):d():setTimeout(()=>n?t(d):d()),inTransition=!0}),o=e==null?void 0:e.afterEach(()=>{inTransition=!1})}),onScopeDispose(()=>{window.removeEventListener("popstate",s),r==null||r(),o==null||o()}));function s(a){var c;(c=a.state)!=null&&c.replaced||(n=!0,setTimeout(()=>n=!1))}}function useScopeId(){const t=getCurrentInstance("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const StackSymbol=Symbol.for("vuetify:stack"),globalStack=reactive([]);function useStack(e,t,n){const r=getCurrentInstance("useStack"),o=!n,s=inject$1(StackSymbol,void 0),a=reactive({activeChildren:new Set});provide(StackSymbol,a);const c=shallowRef(+t.value);useToggleScope(e,()=>{var v;const m=(v=globalStack.at(-1))==null?void 0:v[1];c.value=m?m+10:+t.value,o&&globalStack.push([r.uid,c.value]),s==null||s.activeChildren.add(r.uid),onScopeDispose(()=>{if(o){const _=toRaw(globalStack).findIndex(y=>y[0]===r.uid);globalStack.splice(_,1)}s==null||s.activeChildren.delete(r.uid)})});const d=shallowRef(!0);o&&watchEffect(()=>{var v;const m=((v=globalStack.at(-1))==null?void 0:v[0])===r.uid;setTimeout(()=>d.value=m)});const f=computed(()=>!a.activeChildren.size);return{globalTop:readonly(d),localTop:f,stackStyles:computed(()=>({zIndex:c.value}))}}function useTeleport(e){return{teleportTarget:computed(()=>{const n=e.value;if(n===!0||!IN_BROWSER)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let o=r.querySelector(":scope > .v-overlay-container");return o||(o=document.createElement("div"),o.className="v-overlay-container",r.appendChild(o)),o})}}const makeTransitionProps$1=propsFactory({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),MaybeTransition=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:o,...s}=e,{component:a=Transition,...c}=typeof r=="object"?r:{};return h(a,mergeProps(typeof r=="string"?{name:o?"":r}:c,s,{disabled:o}),n)};function defaultConditional(){return!0}function checkEvent(e,t,n){if(!e||checkIsActive(e,n)===!1)return!1;const r=attachedRoot(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const o=(typeof n.value=="object"&&n.value.include||(()=>[]))();return o.push(t),!o.some(s=>s==null?void 0:s.contains(e.target))}function checkIsActive(e,t){return(typeof t.value=="object"&&t.value.closeConditional||defaultConditional)(e)}function directive(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&checkEvent(e,t,n)&&setTimeout(()=>{checkIsActive(e,n)&&r&&r(e)},0)}function handleShadow(e,t){const n=attachedRoot(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const ClickOutside={mounted(e,t){const n=o=>directive(o,e,t),r=o=>{e._clickOutside.lastMousedownWasOutside=checkEvent(o,e,t)};handleShadow(e,o=>{o.addEventListener("click",n,!0),o.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(e,t){!e._clickOutside||(handleShadow(e,n=>{var s;if(!n||!((s=e._clickOutside)!=null&&s[t.instance.$.uid]))return;const{onClick:r,onMousedown:o}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",o,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Scrim(e){const{modelValue:t,color:n,...r}=e;return createVNode(Transition,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&createVNode("div",mergeProps({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const makeVOverlayProps=propsFactory({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...makeActivatorProps(),...makeComponentProps(),...makeDimensionProps(),...makeLazyProps(),...makeLocationStrategyProps(),...makeScrollStrategyProps(),...makeThemeProps(),...makeTransitionProps$1()},"VOverlay"),VOverlay=genericComponent()({name:"VOverlay",directives:{ClickOutside},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...makeVOverlayProps()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:o}=t;const s=useProxiedModel(e,"modelValue"),a=computed({get:()=>s.value,set:pe=>{pe&&e.disabled||(s.value=pe)}}),{teleportTarget:c}=useTeleport(computed(()=>e.attach||e.contained)),{themeClasses:d}=provideTheme(e),{rtlClasses:f,isRtl:m}=useRtl(),{hasContent:v,onAfterLeave:_}=useLazy(e,a),y=useBackgroundColor(computed(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:C,localTop:S,stackStyles:I}=useStack(a,toRef(e,"zIndex"),e._disableGlobalStack),{activatorEl:T,activatorRef:E,activatorEvents:x,contentEvents:P,scrimEvents:V}=useActivator(e,{isActive:a,isTop:S}),{dimensionStyles:R}=useDimension(e),M=useHydration(),{scopeId:D}=useScopeId();watch(()=>e.disabled,pe=>{pe&&(a.value=!1)});const B=ref$1(),U=ref$1(),{contentStyles:j,updateLocation:z}=useLocationStrategies(e,{isRtl:m,contentEl:U,activatorEl:T,isActive:a});useScrollStrategies(e,{root:B,contentEl:U,activatorEl:T,isActive:a,updateLocation:z});function W(pe){o("click:outside",pe),e.persistent?K():a.value=!1}function $(){return a.value&&C.value}IN_BROWSER&&watch(a,pe=>{pe?window.addEventListener("keydown",te):window.removeEventListener("keydown",te)},{immediate:!0});function te(pe){var de,me;pe.key==="Escape"&&C.value&&(e.persistent?K():(a.value=!1,(de=U.value)!=null&&de.contains(document.activeElement)&&((me=T.value)==null||me.focus())))}const X=useRouter();useToggleScope(()=>e.closeOnBack,()=>{useBackButton(X,pe=>{C.value&&a.value?(pe(!1),e.persistent?K():a.value=!1):pe()})});const ue=ref$1();watch(()=>a.value&&(e.absolute||e.contained)&&c.value==null,pe=>{if(pe){const de=getScrollParent(B.value);de&&de!==document.scrollingElement&&(ue.value=de.scrollTop)}});function K(){e.noClickAnimation||U.value&&animate(U.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:standardEasing})}return useRender(()=>{var pe;return createVNode(Fragment,null,[(pe=n.activator)==null?void 0:pe.call(n,{isActive:a.value,props:mergeProps({ref:E},x.value,e.activatorProps)}),M.value&&createVNode(Teleport,{disabled:!c.value,to:c.value},{default:()=>[v.value&&createVNode("div",mergeProps({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":a.value,"v-overlay--contained":e.contained},d.value,f.value,e.class],style:[I.value,{top:convertToUnit(ue.value)},e.style],ref:B},D,r),[createVNode(Scrim,mergeProps({color:y,modelValue:a.value&&!!e.scrim},V.value),null),createVNode(MaybeTransition,{appear:!0,persisted:!0,transition:e.transition,target:T.value,onAfterLeave:()=>{_(),o("afterLeave")}},{default:()=>{var de;return[withDirectives(createVNode("div",mergeProps({ref:U,class:["v-overlay__content",e.contentClass],style:[R.value,j.value]},P.value,e.contentProps),[(de=n.default)==null?void 0:de.call(n,{isActive:a})]),[[vShow,a.value],[resolveDirective("click-outside"),{handler:W,closeConditional:$,include:()=>[T.value]}]])]}})])]})])}),{activatorEl:T,animateClick:K,contentEl:U,globalTop:C,localTop:S,updateLocation:z}}}),Refs=Symbol("Forwarded refs");function getDescriptor(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function forwardRefs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[Refs]=n,new Proxy(e,{get(o,s){if(Reflect.has(o,s))return Reflect.get(o,s);if(!(typeof s=="symbol"||s.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,s)){const c=Reflect.get(a.value,s);return typeof c=="function"?c.bind(a.value):c}}},has(o,s){if(Reflect.has(o,s))return!0;if(typeof s=="symbol"||s.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,s))return!0;return!1},getOwnPropertyDescriptor(o,s){var c,d;const a=Reflect.getOwnPropertyDescriptor(o,s);if(a)return a;if(!(typeof s=="symbol"||s.startsWith("__"))){for(const f of n){if(!f.value)continue;const m=(d=getDescriptor(f.value,s))!=null?d:"_"in f.value?getDescriptor((c=f.value._)==null?void 0:c.setupState,s):void 0;if(m)return m}for(const f of n){const m=f.value&&f.value[Refs];if(!m)continue;const v=m.slice();for(;v.length;){const _=v.shift(),y=getDescriptor(_.value,s);if(y)return y;const C=_.value&&_.value[Refs];C&&v.push(...C)}}}}})}const oppositeMap={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},makeLocationProps=propsFactory({location:String},"location");function useLocation(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=useRtl();return{locationStyles:computed(()=>{if(!e.location)return{};const{side:s,align:a}=parseAnchor(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function c(f){return n?n(f):0}const d={};return s!=="center"&&(t?d[oppositeMap[s]]=`calc(100% - ${c(s)}px)`:d[s]=0),a!=="center"?t?d[oppositeMap[a]]=`calc(100% - ${c(a)}px)`:d[a]=0:(s==="center"?d.top=d.left="50%":d[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",d.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),d})}}const positionValues=["static","relative","fixed","absolute","sticky"],makePositionProps=propsFactory({position:{type:String,validator:e=>positionValues.includes(e)}},"position");function usePosition(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{positionClasses:computed(()=>e.position?`${t}--${e.position}`:void 0)}}const makeRoundedProps=propsFactory({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function useRounded(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{roundedClasses:computed(()=>{const r=isRef(e)?e.value:e.rounded,o=[];if(r===!0||r==="")o.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const s of String(r).split(" "))o.push(`rounded-${s}`);return o})}}const allowedVariants$2=["elevated","flat","tonal","outlined","text","plain"];function genOverlays(e,t){return createVNode(Fragment,null,[e&&createVNode("span",{key:"overlay",class:`${t}__overlay`},null),createVNode("span",{key:"underlay",class:`${t}__underlay`},null)])}const makeVariantProps=propsFactory({color:String,variant:{type:String,default:"elevated",validator:e=>allowedVariants$2.includes(e)}},"variant");function useVariant(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const n=computed(()=>{const{variant:s}=unref(e);return`${t}--variant-${s}`}),{colorClasses:r,colorStyles:o}=useColor(computed(()=>{const{variant:s,color:a}=unref(e);return{[["elevated","flat"].includes(s)?"background":"text"]:a}}));return{colorClasses:r,colorStyles:o,variantClasses:n}}const makeVSnackbarProps=propsFactory({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...makeLocationProps({location:"bottom"}),...makePositionProps(),...makeRoundedProps(),...makeVariantProps(),...makeThemeProps(),...omit(makeVOverlayProps({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),VSnackbar=genericComponent()({name:"VSnackbar",props:makeVSnackbarProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=useProxiedModel(e,"modelValue"),{locationStyles:o}=useLocation(e),{positionClasses:s}=usePosition(e),{scopeId:a}=useScopeId(),{themeClasses:c}=provideTheme(e),{colorClasses:d,colorStyles:f,variantClasses:m}=useVariant(e),{roundedClasses:v}=useRounded(e),_=ref$1();watch(r,C),watch(()=>e.timeout,C),onMounted(()=>{r.value&&C()});let y=-1;function C(){window.clearTimeout(y);const I=Number(e.timeout);!r.value||I===-1||(y=window.setTimeout(()=>{r.value=!1},I))}function S(){window.clearTimeout(y)}return useRender(()=>{const[I]=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:_,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},s.value,e.class],style:e.style},I,{modelValue:r.value,"onUpdate:modelValue":T=>r.value=T,contentProps:mergeProps({class:["v-snackbar__wrapper",c.value,d.value,v.value,m.value],style:[o.value,f.value],onPointerenter:S,onPointerleave:C},I.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},a),{default:()=>[genOverlays(!1,"v-snackbar"),n.default&&createVNode("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.default()]),n.actions&&createVNode(VDefaultsProvider,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[createVNode("div",{class:"v-snackbar__actions"},[n.actions()])]})],activator:n.activator})}),forwardRefs({},_)}}),_sfc_main$j={computed:{...mapState(useStore,["user","userLoaded","display","snack"])},watch:{$route(){!this.user&&this.userLoaded&&this.$route.meta.requireAuth&&this.$router.push("/")}},methods:{...mapActions(useStore,["remembered","setDisplay"])},mounted(){this.setDisplay(),!this.user&&!this.userLoaded&&this.remembered(this.$router),sessionStorage.setItem("temporary-expansion-info",JSON.stringify(temporaryExpansionInfo))}};function _sfc_render$j(e,t,n,r,o,s){const a=resolveComponent("router-view");return openBlock(),createBlock(VApp,null,{default:withCtx(()=>[createVNode(VMain,null,{default:withCtx(()=>[e.userLoaded?(openBlock(),createBlock(a,{key:0})):createCommentVNode("",!0)]),_:1}),createVNode(VSnackbar,{modelValue:e.snack.visible,"onUpdate:modelValue":t[0]||(t[0]=c=>e.snack.visible=c),color:e.snack.color},{default:withCtx(()=>[createTextVNode(toDisplayString(e.snack.text),1)]),_:1},8,["modelValue","color"])]),_:1})}const App=_export_sfc(_sfc_main$j,[["render",_sfc_render$j]]),scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function e(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=assetsURL(s),s in seen)return;seen[s]=!0;const a=s.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!r)for(let m=o.length-1;m>=0;m--){const v=o[m];if(v.href===s&&(!a||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":scriptRel,a||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),a)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};async function loadFonts(){(await __vitePreload(()=>import("./webfontloader.b777d690.js").then(t=>t.w),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}const materialdesignicons="",main="",vuetify=createVuetify({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});function registerPlugins(e){loadFonts(),e.use(vuetify)}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const assign$2=Object.assign;function applyToParams(e,t){const n={};for(const r in t){const o=t[r];n[r]=isArray(o)?o.map(e):e(o)}return n}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,t,n="/"){let r,o={},s="",a="";const c=t.indexOf("#");let d=t.indexOf("?");return c<d&&c>=0&&(d=-1),d>-1&&(r=t.slice(0,d),s=t.slice(d+1,c>-1?c:t.length),o=e(s)),c>-1&&(r=r||t.slice(0,c),a=t.slice(c,t.length)),r=resolveRelativePath(r!=null?r:t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:o,hash:a}}function stringifyURL(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function stripBase(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function isSameRouteLocation(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&isSameRouteRecord(t.matched[r],n.matched[o])&&isSameRouteLocationParams(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!isSameRouteLocationParamsValue(e[n],t[n]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return isArray(e)?isEquivalentArray(e,t):isArray(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,t){return isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,a,c;for(a=0;a<r.length;a++)if(c=r[a],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var NavigationType;(function(e){e.pop="pop",e.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(e){e.back="back",e.forward="forward",e.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(e){if(!e)if(isBrowser){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=getElementPosition(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){const t=scrollPositions.get(e);return scrollPositions.delete(e),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let c=o.includes(e.slice(s))?e.slice(s).length:1,d=o.slice(c);return d[0]!=="/"&&(d="/"+d),stripBase(d,"")}return stripBase(n,e)+r+o}function useHistoryListeners(e,t,n,r){let o=[],s=[],a=null;const c=({state:_})=>{const y=createCurrentLocation(e,location),C=n.value,S=t.value;let I=0;if(_){if(n.value=y,t.value=_,a&&a===C){a=null;return}I=S?_.position-S.position:0}else r(y);o.forEach(T=>{T(n.value,C,{delta:I,type:NavigationType.pop,direction:I?I>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function d(){a=n.value}function f(_){o.push(_);const y=()=>{const C=o.indexOf(_);C>-1&&o.splice(C,1)};return s.push(y),y}function m(){const{history:_}=window;!_.state||_.replaceState(assign$2({},_.state,{scroll:computeScrollPosition()}),"")}function v(){for(const _ of s)_();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:d,listen:f,destroy:v}}function buildState(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:t,location:n}=window,r={value:createCurrentLocation(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(d,f,m){const v=e.indexOf("#"),_=v>-1?(n.host&&document.querySelector("base")?e:e.slice(v))+d:createBaseLocation()+e+d;try{t[m?"replaceState":"pushState"](f,"",_),o.value=f}catch(y){console.error(y),n[m?"replace":"assign"](_)}}function a(d,f){const m=assign$2({},t.state,buildState(o.value.back,d,o.value.forward,!0),f,{position:o.value.position});s(d,m,!0),r.value=d}function c(d,f){const m=assign$2({},o.value,t.state,{forward:d,scroll:computeScrollPosition()});s(m.current,m,!0);const v=assign$2({},buildState(r.value,d,null),{position:m.position+1},f);s(d,v,!1),r.value=d}return{location:r,state:o,push:c,replace:a}}function createWebHistory(e){e=normalizeBase(e);const t=useHistoryStateNavigation(e),n=useHistoryListeners(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=assign$2({location:"",base:e,go:r,createHref:createHref.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(e,t){return assign$2(new Error,{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(t==null||!!(e.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){const n=assign$2({},BASE_PATH_PARSER_OPTIONS,t),r=[];let o=n.start?"^":"";const s=[];for(const f of e){const m=f.length?[]:[90];n.strict&&!f.length&&(o+="/");for(let v=0;v<f.length;v++){const _=f[v];let y=40+(n.sensitive?.25:0);if(_.type===0)v||(o+="/"),o+=_.value.replace(REGEX_CHARS_RE,"\\$&"),y+=40;else if(_.type===1){const{value:C,repeatable:S,optional:I,regexp:T}=_;s.push({name:C,repeatable:S,optional:I});const E=T||BASE_PARAM_PATTERN;if(E!==BASE_PARAM_PATTERN){y+=10;try{new RegExp(`(${E})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${C}" (${E}): `+P.message)}}let x=S?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;v||(x=I&&f.length<2?`(?:/${x})`:"/"+x),I&&(x+="?"),o+=x,y+=20,I&&(y+=-8),S&&(y+=-20),E===".*"&&(y+=-50)}m.push(y)}r.push(m)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function c(f){const m=f.match(a),v={};if(!m)return null;for(let _=1;_<m.length;_++){const y=m[_]||"",C=s[_-1];v[C.name]=y&&C.repeatable?y.split("/"):y}return v}function d(f){let m="",v=!1;for(const _ of e){(!v||!m.endsWith("/"))&&(m+="/"),v=!1;for(const y of _)if(y.type===0)m+=y.value;else if(y.type===1){const{value:C,repeatable:S,optional:I}=y,T=C in f?f[C]:"";if(isArray(T)&&!S)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const E=isArray(T)?T.join("/"):T;if(!E)if(I)_.length<2&&(m.endsWith("/")?m=m.slice(0,-1):v=!0);else throw new Error(`Missing required param "${C}"`);m+=E}}return m||"/"}return{re:a,score:r,keys:s,parse:c,stringify:d}}function compareScoreArray(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function comparePathParserScore(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=compareScoreArray(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(isLastScoreNegative(r))return 1;if(isLastScoreNegative(o))return-1}return o.length-r.length}function isLastScoreNegative(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${f}": ${y}`)}let n=0,r=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let c=0,d,f="",m="";function v(){!f||(n===0?s.push({type:0,value:f}):n===1||n===2||n===3?(s.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:f,regexp:m,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),f="")}function _(){f+=d}for(;c<e.length;){if(d=e[c++],d==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:d==="/"?(f&&v(),a()):d===":"?(v(),n=1):_();break;case 4:_(),n=r;break;case 1:d==="("?n=2:VALID_PARAM_RE.test(d)?_():(v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case 2:d===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+d:n=3:m+=d;break;case 3:v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--,m="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),v(),a(),o}function createRouteRecordMatcher(e,t,n){const r=tokensToParser(tokenizePath(e.path),n),o=assign$2(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function createRouterMatcher(e,t){const n=[],r=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function o(m){return r.get(m)}function s(m,v,_){const y=!_,C=normalizeRouteRecord(m);C.aliasOf=_&&_.record;const S=mergeOptions(t,m),I=[C];if("alias"in m){const x=typeof m.alias=="string"?[m.alias]:m.alias;for(const P of x)I.push(assign$2({},C,{components:_?_.record.components:C.components,path:P,aliasOf:_?_.record:C}))}let T,E;for(const x of I){const{path:P}=x;if(v&&P[0]!=="/"){const V=v.record.path,R=V[V.length-1]==="/"?"":"/";x.path=v.record.path+(P&&R+P)}if(T=createRouteRecordMatcher(x,v,S),_?_.alias.push(T):(E=E||T,E!==T&&E.alias.push(T),y&&m.name&&!isAliasRecord(T)&&a(m.name)),C.children){const V=C.children;for(let R=0;R<V.length;R++)s(V[R],T,_&&_.children[R])}_=_||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&d(T)}return E?()=>{a(E)}:noop}function a(m){if(isRouteName(m)){const v=r.get(m);v&&(r.delete(m),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(m);v>-1&&(n.splice(v,1),m.record.name&&r.delete(m.record.name),m.children.forEach(a),m.alias.forEach(a))}}function c(){return n}function d(m){let v=0;for(;v<n.length&&comparePathParserScore(m,n[v])>=0&&(m.record.path!==n[v].record.path||!isRecordChildOf(m,n[v]));)v++;n.splice(v,0,m),m.record.name&&!isAliasRecord(m)&&r.set(m.record.name,m)}function f(m,v){let _,y={},C,S;if("name"in m&&m.name){if(_=r.get(m.name),!_)throw createRouterError(1,{location:m});S=_.record.name,y=assign$2(paramsFromLocation(v.params,_.keys.filter(E=>!E.optional).map(E=>E.name)),m.params&&paramsFromLocation(m.params,_.keys.map(E=>E.name))),C=_.stringify(y)}else if("path"in m)C=m.path,_=n.find(E=>E.re.test(C)),_&&(y=_.parse(C),S=_.record.name);else{if(_=v.name?r.get(v.name):n.find(E=>E.re.test(v.path)),!_)throw createRouterError(1,{location:m,currentLocation:v});S=_.record.name,y=assign$2({},v.params,m.params),C=_.stringify(y)}const I=[];let T=_;for(;T;)I.unshift(T.record),T=T.parent;return{name:S,path:C,params:y,matched:I,meta:mergeMetaFields(I)}}return e.forEach(m=>s(m)),{addRoute:s,resolve:f,removeRoute:a,getRoutes:c,getRecordMatcher:o}}function paramsFromLocation(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function normalizeRecordProps(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((t,n)=>assign$2(t,n.meta),{})}function mergeOptions(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function isRecordChildOf(e,t){return t.children.some(n=>n===e||isRecordChildOf(e,n))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return e==null?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode$1(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function parseQuery(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(PLUS_RE," "),a=s.indexOf("="),c=decode$1(a<0?s:s.slice(0,a)),d=a<0?null:decode$1(s.slice(a+1));if(c in t){let f=t[c];isArray(f)||(f=t[c]=[f]),f.push(d)}else t[c]=d}return t}function stringifyQuery(e){let t="";for(let n in e){const r=e[n];if(n=encodeQueryKey(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(isArray(r)?r.map(s=>s&&encodeQueryValue(s)):[r&&encodeQueryValue(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function normalizeQuery(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=isArray(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function guardToPromiseFn(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,c)=>{const d=v=>{v===!1?c(createRouterError(4,{from:n,to:t})):v instanceof Error?c(v):isRouteLocation(v)?c(createRouterError(2,{from:t,to:v})):(s&&r.enterCallbacks[o]===s&&typeof v=="function"&&s.push(v),a())},f=e.call(r&&r.instances[o],t,n,d);let m=Promise.resolve(f);e.length<3&&(m=m.then(d)),m.catch(v=>c(v))})}function extractComponentsGuards(e,t,n,r){const o=[];for(const s of e)for(const a in s.components){let c=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(isRouteComponent(c)){const f=(c.__vccOpts||c)[t];f&&o.push(guardToPromiseFn(f,n,r,s,a))}else{let d=c();o.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const m=isESModule(f)?f.default:f;s.components[a]=m;const _=(m.__vccOpts||m)[t];return _&&guardToPromiseFn(_,n,r,s,a)()}))}}return o}function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(e){const t=inject$1(routerKey),n=inject$1(routeLocationKey),r=computed(()=>t.resolve(unref(e.to))),o=computed(()=>{const{matched:d}=r.value,{length:f}=d,m=d[f-1],v=n.matched;if(!m||!v.length)return-1;const _=v.findIndex(isSameRouteRecord.bind(null,m));if(_>-1)return _;const y=getOriginalPath(d[f-2]);return f>1&&getOriginalPath(m)===y&&v[v.length-1].path!==y?v.findIndex(isSameRouteRecord.bind(null,d[f-2])):_}),s=computed(()=>o.value>-1&&includesParams(n.params,r.value.params)),a=computed(()=>o.value>-1&&o.value===n.matched.length-1&&isSameRouteLocationParams(n.params,r.value.params));function c(d={}){return guardEvent(d)?t[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop):Promise.resolve()}return{route:r,href:computed(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const RouterLinkImpl=defineComponent$1({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(e,{slots:t}){const n=reactive(useLink(e)),{options:r}=inject$1(routerKey),o=computed(()=>({[getLinkClass(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[getLinkClass(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:h("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!isArray(o)||o.length!==r.length||r.some((s,a)=>s!==o[a]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,t,n)=>e!=null?e:t!=null?t:n,RouterViewImpl=defineComponent$1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=inject$1(routerViewLocationKey),o=computed(()=>e.route||r.value),s=inject$1(viewDepthKey,0),a=computed(()=>{let f=unref(s);const{matched:m}=o.value;let v;for(;(v=m[f])&&!v.components;)f++;return f}),c=computed(()=>o.value.matched[a.value]);provide(viewDepthKey,computed(()=>a.value+1)),provide(matchedRouteKey,c),provide(routerViewLocationKey,o);const d=ref$1();return watch(()=>[d.value,c.value,e.name],([f,m,v],[_,y,C])=>{m&&(m.instances[v]=f,y&&y!==m&&f&&f===_&&(m.leaveGuards.size||(m.leaveGuards=y.leaveGuards),m.updateGuards.size||(m.updateGuards=y.updateGuards))),f&&m&&(!y||!isSameRouteRecord(m,y)||!_)&&(m.enterCallbacks[v]||[]).forEach(S=>S(f))},{flush:"post"}),()=>{const f=o.value,m=e.name,v=c.value,_=v&&v.components[m];if(!_)return normalizeSlot(n.default,{Component:_,route:f});const y=v.props[m],C=y?y===!0?f.params:typeof y=="function"?y(f):y:null,I=h(_,assign$2({},C,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(v.instances[m]=null)},ref:d}));return normalizeSlot(n.default,{Component:I,route:f})||I}}});function normalizeSlot(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const RouterView=RouterViewImpl;function createRouter(e){const t=createRouterMatcher(e.routes,e),n=e.parseQuery||parseQuery,r=e.stringifyQuery||stringifyQuery,o=e.history,s=useCallbacks(),a=useCallbacks(),c=useCallbacks(),d=shallowRef(START_LOCATION_NORMALIZED);let f=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=applyToParams.bind(null,Y=>""+Y),v=applyToParams.bind(null,encodeParam),_=applyToParams.bind(null,decode$1);function y(Y,be){let _e,Ie;return isRouteName(Y)?(_e=t.getRecordMatcher(Y),Ie=be):Ie=Y,t.addRoute(Ie,_e)}function C(Y){const be=t.getRecordMatcher(Y);be&&t.removeRoute(be)}function S(){return t.getRoutes().map(Y=>Y.record)}function I(Y){return!!t.getRecordMatcher(Y)}function T(Y,be){if(be=assign$2({},be||d.value),typeof Y=="string"){const H=parseURL(n,Y,be.path),J=t.resolve({path:H.path},be),ae=o.createHref(H.fullPath);return assign$2(H,J,{params:_(J.params),hash:decode$1(H.hash),redirectedFrom:void 0,href:ae})}let _e;if("path"in Y)_e=assign$2({},Y,{path:parseURL(n,Y.path,be.path).path});else{const H=assign$2({},Y.params);for(const J in H)H[J]==null&&delete H[J];_e=assign$2({},Y,{params:v(H)}),be.params=v(be.params)}const Ie=t.resolve(_e,be),He=Y.hash||"";Ie.params=m(_(Ie.params));const N=stringifyURL(r,assign$2({},Y,{hash:encodeHash(He),path:Ie.path})),L=o.createHref(N);return assign$2({fullPath:N,hash:He,query:r===stringifyQuery?normalizeQuery(Y.query):Y.query||{}},Ie,{redirectedFrom:void 0,href:L})}function E(Y){return typeof Y=="string"?parseURL(n,Y,d.value.path):assign$2({},Y)}function x(Y,be){if(f!==Y)return createRouterError(8,{from:be,to:Y})}function P(Y){return M(Y)}function V(Y){return P(assign$2(E(Y),{replace:!0}))}function R(Y){const be=Y.matched[Y.matched.length-1];if(be&&be.redirect){const{redirect:_e}=be;let Ie=typeof _e=="function"?_e(Y):_e;return typeof Ie=="string"&&(Ie=Ie.includes("?")||Ie.includes("#")?Ie=E(Ie):{path:Ie},Ie.params={}),assign$2({query:Y.query,hash:Y.hash,params:"path"in Ie?{}:Y.params},Ie)}}function M(Y,be){const _e=f=T(Y),Ie=d.value,He=Y.state,N=Y.force,L=Y.replace===!0,H=R(_e);if(H)return M(assign$2(E(H),{state:typeof H=="object"?assign$2({},He,H.state):He,force:N,replace:L}),be||_e);const J=_e;J.redirectedFrom=be;let ae;return!N&&isSameRouteLocation(r,Ie,_e)&&(ae=createRouterError(16,{to:J,from:Ie}),me(Ie,Ie,!0,!1)),(ae?Promise.resolve(ae):U(J,Ie)).catch(ce=>isNavigationFailure(ce)?isNavigationFailure(ce,2)?ce:de(ce):K(ce,J,Ie)).then(ce=>{if(ce){if(isNavigationFailure(ce,2))return M(assign$2({replace:L},E(ce.to),{state:typeof ce.to=="object"?assign$2({},He,ce.to.state):He,force:N}),be||J)}else ce=z(J,Ie,!0,L,He);return j(J,Ie,ce),ce})}function D(Y,be){const _e=x(Y,be);return _e?Promise.reject(_e):Promise.resolve()}function B(Y){const be=$e.values().next().value;return be&&typeof be.runWithContext=="function"?be.runWithContext(Y):Y()}function U(Y,be){let _e;const[Ie,He,N]=extractChangingRecords(Y,be);_e=extractComponentsGuards(Ie.reverse(),"beforeRouteLeave",Y,be);for(const H of Ie)H.leaveGuards.forEach(J=>{_e.push(guardToPromiseFn(J,Y,be))});const L=D.bind(null,Y,be);return _e.push(L),ie(_e).then(()=>{_e=[];for(const H of s.list())_e.push(guardToPromiseFn(H,Y,be));return _e.push(L),ie(_e)}).then(()=>{_e=extractComponentsGuards(He,"beforeRouteUpdate",Y,be);for(const H of He)H.updateGuards.forEach(J=>{_e.push(guardToPromiseFn(J,Y,be))});return _e.push(L),ie(_e)}).then(()=>{_e=[];for(const H of Y.matched)if(H.beforeEnter&&!be.matched.includes(H))if(isArray(H.beforeEnter))for(const J of H.beforeEnter)_e.push(guardToPromiseFn(J,Y,be));else _e.push(guardToPromiseFn(H.beforeEnter,Y,be));return _e.push(L),ie(_e)}).then(()=>(Y.matched.forEach(H=>H.enterCallbacks={}),_e=extractComponentsGuards(N,"beforeRouteEnter",Y,be),_e.push(L),ie(_e))).then(()=>{_e=[];for(const H of a.list())_e.push(guardToPromiseFn(H,Y,be));return _e.push(L),ie(_e)}).catch(H=>isNavigationFailure(H,8)?H:Promise.reject(H))}function j(Y,be,_e){for(const Ie of c.list())B(()=>Ie(Y,be,_e))}function z(Y,be,_e,Ie,He){const N=x(Y,be);if(N)return N;const L=be===START_LOCATION_NORMALIZED,H=isBrowser?history.state:{};_e&&(Ie||L?o.replace(Y.fullPath,assign$2({scroll:L&&H&&H.scroll},He)):o.push(Y.fullPath,He)),d.value=Y,me(Y,be,_e,L),de()}let W;function $(){W||(W=o.listen((Y,be,_e)=>{if(!Qe.listening)return;const Ie=T(Y),He=R(Ie);if(He){M(assign$2(He,{replace:!0}),Ie).catch(noop);return}f=Ie;const N=d.value;isBrowser&&saveScrollPosition(getScrollKey(N.fullPath,_e.delta),computeScrollPosition()),U(Ie,N).catch(L=>isNavigationFailure(L,12)?L:isNavigationFailure(L,2)?(M(L.to,Ie).then(H=>{isNavigationFailure(H,20)&&!_e.delta&&_e.type===NavigationType.pop&&o.go(-1,!1)}).catch(noop),Promise.reject()):(_e.delta&&o.go(-_e.delta,!1),K(L,Ie,N))).then(L=>{L=L||z(Ie,N,!1),L&&(_e.delta&&!isNavigationFailure(L,8)?o.go(-_e.delta,!1):_e.type===NavigationType.pop&&isNavigationFailure(L,20)&&o.go(-1,!1)),j(Ie,N,L)}).catch(noop)}))}let te=useCallbacks(),X=useCallbacks(),ue;function K(Y,be,_e){de(Y);const Ie=X.list();return Ie.length?Ie.forEach(He=>He(Y,be,_e)):console.error(Y),Promise.reject(Y)}function pe(){return ue&&d.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Y,be)=>{te.add([Y,be])})}function de(Y){return ue||(ue=!Y,$(),te.list().forEach(([be,_e])=>Y?_e(Y):be()),te.reset()),Y}function me(Y,be,_e,Ie){const{scrollBehavior:He}=e;if(!isBrowser||!He)return Promise.resolve();const N=!_e&&getSavedScrollPosition(getScrollKey(Y.fullPath,0))||(Ie||!_e)&&history.state&&history.state.scroll||null;return nextTick().then(()=>He(Y,be,N)).then(L=>L&&scrollToPosition(L)).catch(L=>K(L,Y,be))}const Ee=Y=>o.go(Y);let Ue;const $e=new Set,Qe={currentRoute:d,listening:!0,addRoute:y,removeRoute:C,hasRoute:I,getRoutes:S,resolve:T,options:e,push:P,replace:V,go:Ee,back:()=>Ee(-1),forward:()=>Ee(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:X.add,isReady:pe,install(Y){const be=this;Y.component("RouterLink",RouterLink),Y.component("RouterView",RouterView),Y.config.globalProperties.$router=be,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(d)}),isBrowser&&!Ue&&d.value===START_LOCATION_NORMALIZED&&(Ue=!0,P(o.location).catch(He=>{}));const _e={};for(const He in START_LOCATION_NORMALIZED)_e[He]=computed(()=>d.value[He]);Y.provide(routerKey,be),Y.provide(routeLocationKey,reactive(_e)),Y.provide(routerViewLocationKey,d);const Ie=Y.unmount;$e.add(Y),Y.unmount=function(){$e.delete(Y),$e.size<1&&(f=START_LOCATION_NORMALIZED,W&&W(),W=null,d.value=START_LOCATION_NORMALIZED,Ue=!1,ue=!1),Ie()}}};function ie(Y){return Y.reduce((be,_e)=>be.then(()=>B(_e)),Promise.resolve())}return Qe}function extractChangingRecords(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const c=t.matched[a];c&&(e.matched.find(f=>isSameRouteRecord(f,c))?r.push(c):n.push(c));const d=e.matched[a];d&&(t.matched.find(f=>isSameRouteRecord(f,d))||o.push(d))}return[n,r,o]}const VBtn$1="",VBtnToggle="",VBtnGroup$1="",makeBorderProps=propsFactory({border:[Boolean,Number,String]},"border");function useBorder(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{borderClasses:computed(()=>{const r=isRef(e)?e.value:e.border,o=[];if(r===!0||r==="")o.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const s of String(r).split(" "))o.push(`border-${s}`);return o})}}const allowedDensities$1=[null,"default","comfortable","compact"],makeDensityProps=propsFactory({density:{type:String,default:"default",validator:e=>allowedDensities$1.includes(e)}},"density");function useDensity(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{densityClasses:computed(()=>`${t}--density-${e.density}`)}}const makeElevationProps=propsFactory({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function useElevation(e){return{elevationClasses:computed(()=>{const n=isRef(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const makeVBtnGroupProps=propsFactory({divided:Boolean,...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps()},"VBtnGroup"),VBtnGroup=genericComponent()({name:"VBtnGroup",props:makeVBtnGroupProps(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=provideTheme(e),{densityClasses:o}=useDensity(e),{borderClasses:s}=useBorder(e),{elevationClasses:a}=useElevation(e),{roundedClasses:c}=useRounded(e);provideDefaults({VBtn:{height:"auto",color:toRef(e,"color"),density:toRef(e,"density"),flat:!0,variant:toRef(e,"variant")}}),useRender(()=>createVNode(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,s.value,o.value,a.value,c.value,e.class],style:e.style},n))}}),makeGroupProps=propsFactory({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),makeGroupItemProps=propsFactory({value:null,disabled:Boolean,selectedClass:String},"group-item");function useGroupItem(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=getCurrentInstance("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const o=getUid();provide(Symbol.for(`${t.description}:id`),o);const s=inject$1(t,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const a=toRef(e,"value"),c=computed(()=>s.disabled.value||e.disabled);s.register({id:o,value:a,disabled:c},r),onBeforeUnmount(()=>{s.unregister(o)});const d=computed(()=>s.isSelected(o)),f=computed(()=>d.value&&[s.selectedClass.value,e.selectedClass]);return watch(d,m=>{r.emit("group:selected",{value:m})}),{id:o,isSelected:d,toggle:()=>s.select(o,!d.value),select:m=>s.select(o,m),selectedClass:f,value:a,disabled:c,group:s}}function useGroup(e,t){let n=!1;const r=reactive([]),o=useProxiedModel(e,"modelValue",[],_=>_==null?[]:getIds(r,wrapInArray(_)),_=>{const y=getValues(r,_);return e.multiple?y:y[0]}),s=getCurrentInstance("useGroup");function a(_,y){const C=_,S=Symbol.for(`${t.description}:id`),T=findChildrenWithProvide(S,s==null?void 0:s.vnode).indexOf(y);T>-1?r.splice(T,0,C):r.push(C)}function c(_){if(n)return;d();const y=r.findIndex(C=>C.id===_);r.splice(y,1)}function d(){const _=r.find(y=>!y.disabled);_&&e.mandatory==="force"&&!o.value.length&&(o.value=[_.id])}onMounted(()=>{d()}),onBeforeUnmount(()=>{n=!0});function f(_,y){const C=r.find(S=>S.id===_);if(!(y&&(C==null?void 0:C.disabled)))if(e.multiple){const S=o.value.slice(),I=S.findIndex(E=>E===_),T=~I;if(y=y!=null?y:!T,T&&e.mandatory&&S.length<=1||!T&&e.max!=null&&S.length+1>e.max)return;I<0&&y?S.push(_):I>=0&&!y&&S.splice(I,1),o.value=S}else{const S=o.value.includes(_);if(e.mandatory&&S)return;o.value=(y!=null?y:!S)?[_]:[]}}function m(_){if(e.multiple,o.value.length){const y=o.value[0],C=r.findIndex(T=>T.id===y);let S=(C+_)%r.length,I=r[S];for(;I.disabled&&S!==C;)S=(S+_)%r.length,I=r[S];if(I.disabled)return;o.value=[r[S].id]}else{const y=r.find(C=>!C.disabled);y&&(o.value=[y.id])}}const v={register:a,unregister:c,selected:o,select:f,disabled:toRef(e,"disabled"),prev:()=>m(r.length-1),next:()=>m(1),isSelected:_=>o.value.includes(_),selectedClass:computed(()=>e.selectedClass),items:computed(()=>r),getItemIndex:_=>getItemIndex(r,_)};return provide(t,v),v}function getItemIndex(e,t){const n=getIds(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function getIds(e,t){const n=[];return t.forEach(r=>{const o=e.find(a=>deepEqual$1(r,a.value)),s=e[r];(o==null?void 0:o.value)!=null?n.push(o.id):s!=null&&n.push(s.id)}),n}function getValues(e,t){const n=[];return t.forEach(r=>{const o=e.findIndex(s=>s.id===r);if(~o){const s=e[o];n.push(s.value!=null?s.value:o)}}),n}const VBtnToggleSymbol=Symbol.for("vuetify:v-btn-toggle"),makeVBtnToggleProps=propsFactory({...makeVBtnGroupProps(),...makeGroupProps()},"VBtnToggle");genericComponent()({name:"VBtnToggle",props:makeVBtnToggleProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:o,prev:s,select:a,selected:c}=useGroup(e,VBtnToggleSymbol);return useRender(()=>{const[d]=VBtnGroup.filterProps(e);return createVNode(VBtnGroup,mergeProps({class:["v-btn-toggle",e.class]},d,{style:e.style}),{default:()=>{var f;return[(f=n.default)==null?void 0:f.call(n,{isSelected:r,next:o,prev:s,select:a,selected:c})]}})}),{next:o,prev:s,select:a}}});const VIcon$1="",predefinedSizes=["x-small","small","default","large","x-large"],makeSizeProps=propsFactory({size:{type:[String,Number],default:"default"}},"size");function useSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return destructComputed(()=>{let n,r;return includes(predefinedSizes,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:convertToUnit(e.size),height:convertToUnit(e.size)}),{sizeClasses:n,sizeStyles:r}})}const makeVIconProps=propsFactory({color:String,start:Boolean,end:Boolean,icon:IconValue,...makeComponentProps(),...makeSizeProps(),...makeTagProps({tag:"i"}),...makeThemeProps()},"VIcon"),VIcon=genericComponent()({name:"VIcon",props:makeVIconProps(),setup(e,t){let{attrs:n,slots:r}=t;const o=ref$1(),{themeClasses:s}=provideTheme(e),{iconData:a}=useIcon(computed(()=>o.value||e.icon)),{sizeClasses:c}=useSize(e),{textColorClasses:d,textColorStyles:f}=useTextColor(toRef(e,"color"));return useRender(()=>{var v,_;const m=(v=r.default)==null?void 0:v.call(r);return m&&(o.value=(_=flattenFragments(m).filter(y=>y.type===Text&&y.children&&typeof y.children=="string")[0])==null?void 0:_.children),createVNode(a.value.component,{tag:e.tag,icon:a.value.icon,class:["v-icon","notranslate",s.value,c.value,d.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[c.value?void 0:{fontSize:convertToUnit(e.size),height:convertToUnit(e.size),width:convertToUnit(e.size)},f.value,e.style],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},{default:()=>[m]})}),{}}}),VProgressCircular$1="";function useIntersectionObserver(e,t){const n=ref$1(),r=shallowRef(!1);if(SUPPORTS_INTERSECTION){const o=new IntersectionObserver(s=>{e==null||e(s,o),r.value=!!s.find(a=>a.isIntersecting)},t);onBeforeUnmount(()=>{o.disconnect()}),watch(n,(s,a)=>{a&&(o.unobserve(a),r.value=!1),s&&o.observe(s)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const makeVProgressCircularProps=propsFactory({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...makeComponentProps(),...makeSizeProps(),...makeTagProps({tag:"div"}),...makeThemeProps()},"VProgressCircular"),VProgressCircular=genericComponent()({name:"VProgressCircular",props:makeVProgressCircularProps(),setup(e,t){let{slots:n}=t;const r=20,o=2*Math.PI*r,s=ref$1(),{themeClasses:a}=provideTheme(e),{sizeClasses:c,sizeStyles:d}=useSize(e),{textColorClasses:f,textColorStyles:m}=useTextColor(toRef(e,"color")),{textColorClasses:v,textColorStyles:_}=useTextColor(toRef(e,"bgColor")),{intersectionRef:y,isIntersecting:C}=useIntersectionObserver(),{resizeRef:S,contentRect:I}=useResizeObserver(),T=computed(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),E=computed(()=>Number(e.width)),x=computed(()=>d.value?Number(e.size):I.value?I.value.width:Math.max(E.value,32)),P=computed(()=>r/(1-E.value/x.value)*2),V=computed(()=>E.value/x.value*P.value),R=computed(()=>convertToUnit((100-T.value)/100*o));return watchEffect(()=>{y.value=s.value,S.value=s.value}),useRender(()=>createVNode(e.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":C.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},a.value,c.value,f.value,e.class],style:[d.value,m.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:T.value},{default:()=>[createVNode("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${P.value} ${P.value}`},[createVNode("circle",{class:["v-progress-circular__underlay",v.value],style:_.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":V.value,"stroke-dasharray":o,"stroke-dashoffset":0},null),createVNode("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":V.value,"stroke-dasharray":o,"stroke-dashoffset":R.value},null)]),n.default&&createVNode("div",{class:"v-progress-circular__content"},[n.default({value:T.value})])]})),{}}}),VProgressLinear$1="",makeVProgressLinearProps=propsFactory({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...makeComponentProps(),...makeLocationProps({location:"top"}),...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},"VProgressLinear"),VProgressLinear=genericComponent()({name:"VProgressLinear",props:makeVProgressLinearProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=useProxiedModel(e,"modelValue"),{isRtl:o,rtlClasses:s}=useRtl(),{themeClasses:a}=provideTheme(e),{locationStyles:c}=useLocation(e),{textColorClasses:d,textColorStyles:f}=useTextColor(e,"color"),{backgroundColorClasses:m,backgroundColorStyles:v}=useBackgroundColor(computed(()=>e.bgColor||e.color)),{backgroundColorClasses:_,backgroundColorStyles:y}=useBackgroundColor(e,"color"),{roundedClasses:C}=useRounded(e),{intersectionRef:S,isIntersecting:I}=useIntersectionObserver(),T=computed(()=>parseInt(e.max,10)),E=computed(()=>parseInt(e.height,10)),x=computed(()=>parseFloat(e.bufferValue)/T.value*100),P=computed(()=>parseFloat(r.value)/T.value*100),V=computed(()=>o.value!==e.reverse),R=computed(()=>e.indeterminate?"fade-transition":"slide-x-transition"),M=computed(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function D(B){if(!S.value)return;const{left:U,right:j,width:z}=S.value.getBoundingClientRect(),W=V.value?z-B.clientX+(j-z):B.clientX-U;r.value=Math.round(W/z*T.value)}return useRender(()=>createVNode(e.tag,{ref:S,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&I.value,"v-progress-linear--reverse":V.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},C.value,a.value,s.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?convertToUnit(E.value):0,"--v-progress-linear-height":convertToUnit(E.value),...c.value},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:P.value,onClick:e.clickable&&D},{default:()=>[e.stream&&createVNode("div",{key:"stream",class:["v-progress-linear__stream",d.value],style:{...f.value,[V.value?"left":"right"]:convertToUnit(-E.value),borderTop:`${convertToUnit(E.value/2)} dotted`,opacity:M.value,top:`calc(50% - ${convertToUnit(E.value/4)})`,width:convertToUnit(100-x.value,"%"),"--v-progress-linear-stream-to":convertToUnit(E.value*(V.value?1:-1))}},null),createVNode("div",{class:["v-progress-linear__background",m.value],style:[v.value,{opacity:M.value,width:convertToUnit(e.stream?x.value:100,"%")}]},null),createVNode(Transition,{name:R.value},{default:()=>[e.indeterminate?createVNode("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(B=>createVNode("div",{key:B,class:["v-progress-linear__indeterminate",B,_.value],style:y.value},null))]):createVNode("div",{class:["v-progress-linear__determinate",_.value],style:[y.value,{width:convertToUnit(P.value,"%")}]},null)]}),n.default&&createVNode("div",{class:"v-progress-linear__content"},[n.default({value:P.value,buffer:x.value})])]})),{}}}),makeLoaderProps=propsFactory({loading:[Boolean,String]},"loader");function useLoader(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{loaderClasses:computed(()=>({[`${t}--loading`]:e.loading}))}}function LoaderSlot(e,t){var r;let{slots:n}=t;return createVNode("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||createVNode(VProgressLinear,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}function useSelectLink(e,t){watch(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&nextTick(()=>{t(!0)})},{immediate:!0})}const VRipple="",stopSymbol=Symbol("rippleStop"),DELAY_RIPPLE=80;function transform(e,t){e.style.transform=t,e.style.webkitTransform=t}function isTouchEvent(e){return e.constructor.name==="TouchEvent"}function isKeyboardEvent(e){return e.constructor.name==="KeyboardEvent"}const calculate=function(e,t){var v;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;if(!isKeyboardEvent(e)){const _=t.getBoundingClientRect(),y=isTouchEvent(e)?e.touches[e.touches.length-1]:e;r=y.clientX-_.left,o=y.clientY-_.top}let s=0,a=.3;(v=t._ripple)!=null&&v.circle?(a=.15,s=t.clientWidth/2,s=n.center?s:s+Math.sqrt((r-s)**2+(o-s)**2)/4):s=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const c=`${(t.clientWidth-s*2)/2}px`,d=`${(t.clientHeight-s*2)/2}px`,f=n.center?c:`${r-s}px`,m=n.center?d:`${o-s}px`;return{radius:s,scale:a,x:f,y:m,centerX:c,centerY:d}},ripples={show(e,t){var y;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((y=t==null?void 0:t._ripple)!=null&&y.enabled))return;const r=document.createElement("span"),o=document.createElement("span");r.appendChild(o),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:s,scale:a,x:c,y:d,centerX:f,centerY:m}=calculate(e,t,n),v=`${s*2}px`;o.className="v-ripple__animation",o.style.width=v,o.style.height=v,t.appendChild(r);const _=window.getComputedStyle(t);_&&_.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),o.classList.add("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--visible"),transform(o,`translate(${c}, ${d}) scale3d(${a},${a},${a})`),o.dataset.activated=String(performance.now()),setTimeout(()=>{o.classList.remove("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--in"),transform(o,`translate(${f}, ${m}) scale3d(1,1,1)`)},0)},hide(e){var s;if(!((s=e==null?void 0:e._ripple)!=null&&s.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),o=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var c;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((c=n.parentNode)==null?void 0:c.parentNode)===e&&e.removeChild(n.parentNode)},300)},o)}};function isRippleEnabled(e){return typeof e>"u"||!!e}function rippleShow(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[stopSymbol])){if(e[stopSymbol]=!0,isTouchEvent(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||isKeyboardEvent(e),n._ripple.class&&(t.class=n._ripple.class),isTouchEvent(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{ripples.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},DELAY_RIPPLE)}else ripples.show(e,n,t)}}function rippleStop(e){e[stopSymbol]=!0}function rippleHide(e){const t=e.currentTarget;if(!!(t!=null&&t._ripple)){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{rippleHide(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),ripples.hide(t)}}function rippleCancelShow(e){const t=e.currentTarget;!(t!=null&&t._ripple)||(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let keyboardRipple=!1;function keyboardRippleShow(e){!keyboardRipple&&(e.keyCode===keyCodes.enter||e.keyCode===keyCodes.space)&&(keyboardRipple=!0,rippleShow(e))}function keyboardRippleHide(e){keyboardRipple=!1,rippleHide(e)}function focusRippleHide(e){keyboardRipple&&(keyboardRipple=!1,rippleHide(e))}function updateRipple(e,t,n){var a;const{value:r,modifiers:o}=t,s=isRippleEnabled(r);if(s||ripples.hide(e),e._ripple=(a=e._ripple)!=null?a:{},e._ripple.enabled=s,e._ripple.centered=o.center,e._ripple.circle=o.circle,isObject$2(r)&&r.class&&(e._ripple.class=r.class),s&&!n){if(o.stop){e.addEventListener("touchstart",rippleStop,{passive:!0}),e.addEventListener("mousedown",rippleStop);return}e.addEventListener("touchstart",rippleShow,{passive:!0}),e.addEventListener("touchend",rippleHide,{passive:!0}),e.addEventListener("touchmove",rippleCancelShow,{passive:!0}),e.addEventListener("touchcancel",rippleHide),e.addEventListener("mousedown",rippleShow),e.addEventListener("mouseup",rippleHide),e.addEventListener("mouseleave",rippleHide),e.addEventListener("keydown",keyboardRippleShow),e.addEventListener("keyup",keyboardRippleHide),e.addEventListener("blur",focusRippleHide),e.addEventListener("dragstart",rippleHide,{passive:!0})}else!s&&n&&removeListeners(e)}function removeListeners(e){e.removeEventListener("mousedown",rippleShow),e.removeEventListener("touchstart",rippleShow),e.removeEventListener("touchend",rippleHide),e.removeEventListener("touchmove",rippleCancelShow),e.removeEventListener("touchcancel",rippleHide),e.removeEventListener("mouseup",rippleHide),e.removeEventListener("mouseleave",rippleHide),e.removeEventListener("keydown",keyboardRippleShow),e.removeEventListener("keyup",keyboardRippleHide),e.removeEventListener("dragstart",rippleHide),e.removeEventListener("blur",focusRippleHide)}function mounted$2(e,t){updateRipple(e,t,!1)}function unmounted$2(e){delete e._ripple,removeListeners(e)}function updated(e,t){if(t.value===t.oldValue)return;const n=isRippleEnabled(t.oldValue);updateRipple(e,t,n)}const Ripple={mounted:mounted$2,unmounted:unmounted$2,updated},makeVBtnProps=propsFactory({active:{type:Boolean,default:void 0},symbol:{type:null,default:VBtnToggleSymbol},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:IconValue,appendIcon:IconValue,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeGroupItemProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"button"}),...makeThemeProps(),...makeVariantProps({variant:"elevated"})},"VBtn"),VBtn=genericComponent()({name:"VBtn",directives:{Ripple},props:makeVBtnProps(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:o}=provideTheme(e),{borderClasses:s}=useBorder(e),{colorClasses:a,colorStyles:c,variantClasses:d}=useVariant(e),{densityClasses:f}=useDensity(e),{dimensionStyles:m}=useDimension(e),{elevationClasses:v}=useElevation(e),{loaderClasses:_}=useLoader(e),{locationStyles:y}=useLocation(e),{positionClasses:C}=usePosition(e),{roundedClasses:S}=useRounded(e),{sizeClasses:I,sizeStyles:T}=useSize(e),E=useGroupItem(e,e.symbol,!1),x=useLink$1(e,n),P=computed(()=>{var B;return e.active!==void 0?e.active:x.isLink.value?(B=x.isActive)==null?void 0:B.value:E==null?void 0:E.isSelected.value}),V=computed(()=>(E==null?void 0:E.disabled.value)||e.disabled),R=computed(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),M=computed(()=>{if(e.value!==void 0)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function D(B){var U;V.value||((U=x.navigate)==null||U.call(x,B),E==null||E.toggle())}return useSelectLink(x,E==null?void 0:E.select),useRender(()=>{var $,te;const B=x.isLink.value?"a":e.tag,U=!!(e.prependIcon||r.prepend),j=!!(e.appendIcon||r.append),z=!!(e.icon&&e.icon!==!0),W=(E==null?void 0:E.isSelected.value)&&(!x.isLink.value||(($=x.isActive)==null?void 0:$.value))||!E||((te=x.isActive)==null?void 0:te.value);return withDirectives(createVNode(B,{type:B==="a"?void 0:"button",class:["v-btn",E==null?void 0:E.selectedClass.value,{"v-btn--active":P.value,"v-btn--block":e.block,"v-btn--disabled":V.value,"v-btn--elevated":R.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--stacked":e.stacked},o.value,s.value,W?a.value:void 0,f.value,v.value,_.value,C.value,S.value,I.value,d.value,e.class],style:[W?c.value:void 0,m.value,y.value,T.value,e.style],disabled:V.value||void 0,href:x.href.value,onClick:D,value:M.value},{default:()=>{var X,ue;return[genOverlays(!0,"v-btn"),!e.icon&&U&&createVNode("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):createVNode(VIcon,{key:"prepend-icon",icon:e.prependIcon},null)]),createVNode("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&z?createVNode(VIcon,{key:"content-icon",icon:e.icon},null):createVNode(VDefaultsProvider,{key:"content-defaults",disabled:!z,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var K,pe;return[(pe=(K=r.default)==null?void 0:K.call(r))!=null?pe:e.text]}})]),!e.icon&&j&&createVNode("span",{key:"append",class:"v-btn__append"},[r.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):createVNode(VIcon,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&createVNode("span",{key:"loader",class:"v-btn__loader"},[(ue=(X=r.loader)==null?void 0:X.call(r))!=null?ue:createVNode(VProgressCircular,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[resolveDirective("ripple"),!V.value&&e.ripple,null]])}),{}}}),VGrid="",makeVContainerProps=propsFactory({fluid:{type:Boolean,default:!1},...makeComponentProps(),...makeTagProps()},"VContainer"),VContainer=genericComponent()({name:"VContainer",props:makeVContainerProps(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=useRtl();return useRender(()=>createVNode(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:e.style},n)),{}}}),breakpointProps=(()=>breakpoints.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),offsetProps=(()=>breakpoints.reduce((e,t)=>{const n="offset"+capitalize(t);return e[n]={type:[String,Number],default:null},e},{}))(),orderProps=(()=>breakpoints.reduce((e,t)=>{const n="order"+capitalize(t);return e[n]={type:[String,Number],default:null},e},{}))(),propMap$1={col:Object.keys(breakpointProps),offset:Object.keys(offsetProps),order:Object.keys(orderProps)};function breakpointClass$1(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const o=t.replace(e,"");r+=`-${o}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const ALIGN_SELF_VALUES=["auto","start","end","center","baseline","stretch"],makeVColProps=propsFactory({cols:{type:[Boolean,String,Number],default:!1},...breakpointProps,offset:{type:[String,Number],default:null},...offsetProps,order:{type:[String,Number],default:null},...orderProps,alignSelf:{type:String,default:null,validator:e=>ALIGN_SELF_VALUES.includes(e)},...makeComponentProps(),...makeTagProps()},"VCol"),VCol=genericComponent()({name:"VCol",props:makeVColProps(),setup(e,t){let{slots:n}=t;const r=computed(()=>{const o=[];let s;for(s in propMap$1)propMap$1[s].forEach(c=>{const d=e[c],f=breakpointClass$1(s,c,d);f&&o.push(f)});const a=o.some(c=>c.startsWith("v-col-"));return o.push({"v-col":!a||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),o});return()=>{var o;return h(e.tag,{class:[r.value,e.class],style:e.style},(o=n.default)==null?void 0:o.call(n))}}}),ALIGNMENT=["start","end","center"],SPACE=["space-between","space-around","space-evenly"];function makeRowProps(e,t){return breakpoints.reduce((n,r)=>{const o=e+capitalize(r);return n[o]=t(),n},{})}const ALIGN_VALUES=[...ALIGNMENT,"baseline","stretch"],alignValidator=e=>ALIGN_VALUES.includes(e),alignProps=makeRowProps("align",()=>({type:String,default:null,validator:alignValidator})),JUSTIFY_VALUES=[...ALIGNMENT,...SPACE],justifyValidator=e=>JUSTIFY_VALUES.includes(e),justifyProps=makeRowProps("justify",()=>({type:String,default:null,validator:justifyValidator})),ALIGN_CONTENT_VALUES=[...ALIGNMENT,...SPACE,"stretch"],alignContentValidator=e=>ALIGN_CONTENT_VALUES.includes(e),alignContentProps=makeRowProps("alignContent",()=>({type:String,default:null,validator:alignContentValidator})),propMap={align:Object.keys(alignProps),justify:Object.keys(justifyProps),alignContent:Object.keys(alignContentProps)},classMap={align:"align",justify:"justify",alignContent:"align-content"};function breakpointClass(e,t,n){let r=classMap[e];if(n!=null){if(t){const o=t.replace(e,"");r+=`-${o}`}return r+=`-${n}`,r.toLowerCase()}}const makeVRowProps=propsFactory({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:alignValidator},...alignProps,justify:{type:String,default:null,validator:justifyValidator},...justifyProps,alignContent:{type:String,default:null,validator:alignContentValidator},...alignContentProps,...makeComponentProps(),...makeTagProps()},"VRow"),VRow=genericComponent()({name:"VRow",props:makeVRowProps(),setup(e,t){let{slots:n}=t;const r=computed(()=>{const o=[];let s;for(s in propMap)propMap[s].forEach(a=>{const c=e[a],d=breakpointClass(s,a,c);d&&o.push(d)});return o.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),o});return()=>{var o;return h(e.tag,{class:["v-row",r.value,e.class],style:e.style},(o=n.default)==null?void 0:o.call(n))}}}),VSpacer=createSimpleFunctional("flex-grow-1","div","VSpacer"),VTextField$1="",VCounter$1="",makeTransitionProps=propsFactory({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function createCssTransition(e,t,n){return genericComponent()({name:e,props:makeTransitionProps({mode:n,origin:t}),setup(r,o){let{slots:s}=o;const a={onBeforeEnter(c){r.origin&&(c.style.transformOrigin=r.origin)},onLeave(c){if(r.leaveAbsolute){const{offsetTop:d,offsetLeft:f,offsetWidth:m,offsetHeight:v}=c;c._transitionInitialStyles={position:c.style.position,top:c.style.top,left:c.style.left,width:c.style.width,height:c.style.height},c.style.position="absolute",c.style.top=`${d}px`,c.style.left=`${f}px`,c.style.width=`${m}px`,c.style.height=`${v}px`}r.hideOnLeave&&c.style.setProperty("display","none","important")},onAfterLeave(c){if(r.leaveAbsolute&&(c==null?void 0:c._transitionInitialStyles)){const{position:d,top:f,left:m,width:v,height:_}=c._transitionInitialStyles;delete c._transitionInitialStyles,c.style.position=d||"",c.style.top=f||"",c.style.left=m||"",c.style.width=v||"",c.style.height=_||""}}};return()=>{const c=r.group?TransitionGroup:Transition;return h(c,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:a},s.default)}}})}function createJavascriptTransition(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return genericComponent()({name:e,props:{mode:{type:String,default:n},disabled:Boolean},setup(r,o){let{slots:s}=o;return()=>h(Transition,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},s.default)}})}function ExpandTransitionGenerator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=camelize(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const c=a._initialStyle;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const d=`${a[r]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=c.transition,e&&a._parent&&a._parent.classList.add(e),requestAnimationFrame(()=>{a.style[n]=d})},onAfterEnter:s,onEnterCancelled:s,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[r]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:o,onLeaveCancelled:o};function o(a){e&&a._parent&&a._parent.classList.remove(e),s(a)}function s(a){const c=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,c!=null&&(a.style[n]=c),delete a._initialStyle}}const makeVDialogTransitionProps=propsFactory({target:Object},"v-dialog-transition"),VDialogTransition=genericComponent()({name:"VDialogTransition",props:makeVDialogTransitionProps(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(o){o.style.pointerEvents="none",o.style.visibility="hidden"},async onEnter(o,s){var _;await new Promise(y=>requestAnimationFrame(y)),await new Promise(y=>requestAnimationFrame(y)),o.style.visibility="";const{x:a,y:c,sx:d,sy:f,speed:m}=getDimensions(e.target,o),v=animate(o,[{transform:`translate(${a}px, ${c}px) scale(${d}, ${f})`,opacity:0},{}],{duration:225*m,easing:deceleratedEasing});(_=getChildren(o))==null||_.forEach(y=>{animate(y,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*m,easing:standardEasing})}),v.finished.then(()=>s())},onAfterEnter(o){o.style.removeProperty("pointer-events")},onBeforeLeave(o){o.style.pointerEvents="none"},async onLeave(o,s){var _;await new Promise(y=>requestAnimationFrame(y));const{x:a,y:c,sx:d,sy:f,speed:m}=getDimensions(e.target,o);animate(o,[{},{transform:`translate(${a}px, ${c}px) scale(${d}, ${f})`,opacity:0}],{duration:125*m,easing:acceleratedEasing}).finished.then(()=>s()),(_=getChildren(o))==null||_.forEach(y=>{animate(y,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*m,easing:standardEasing})})},onAfterLeave(o){o.style.removeProperty("pointer-events")}};return()=>e.target?createVNode(Transition,mergeProps({name:"dialog-transition"},r,{css:!1}),n):createVNode(Transition,{name:"dialog-transition"},n)}});function getChildren(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function getDimensions(e,t){const n=e.getBoundingClientRect(),r=nullifyTransforms(t),[o,s]=getComputedStyle(t).transformOrigin.split(" ").map(T=>parseFloat(T)),[a,c]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=n.left+n.width/2;a==="left"||c==="left"?d-=n.width/2:(a==="right"||c==="right")&&(d+=n.width/2);let f=n.top+n.height/2;a==="top"||c==="top"?f-=n.height/2:(a==="bottom"||c==="bottom")&&(f+=n.height/2);const m=n.width/r.width,v=n.height/r.height,_=Math.max(1,m,v),y=m/_||0,C=v/_||0,S=r.width*r.height/(window.innerWidth*window.innerHeight),I=S>.12?Math.min(1.5,(S-.12)*10+1):1;return{x:d-(o+r.left),y:f-(s+r.top),sx:y,sy:C,speed:I}}createCssTransition("fab-transition","center center","out-in");createCssTransition("dialog-bottom-transition");createCssTransition("dialog-top-transition");const VFadeTransition=createCssTransition("fade-transition"),VScaleTransition=createCssTransition("scale-transition");createCssTransition("scroll-x-transition");createCssTransition("scroll-x-reverse-transition");createCssTransition("scroll-y-transition");createCssTransition("scroll-y-reverse-transition");createCssTransition("slide-x-transition");createCssTransition("slide-x-reverse-transition");const VSlideYTransition=createCssTransition("slide-y-transition");createCssTransition("slide-y-reverse-transition");const VExpandTransition=createJavascriptTransition("expand-transition",ExpandTransitionGenerator()),VExpandXTransition=createJavascriptTransition("expand-x-transition",ExpandTransitionGenerator("",!0)),makeVCounterProps=propsFactory({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...makeComponentProps(),...makeTransitionProps$1({transition:{component:VSlideYTransition}})},"VCounter"),VCounter=genericComponent()({name:"VCounter",functional:!0,props:makeVCounterProps(),setup(e,t){let{slots:n}=t;const r=computed(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return useRender(()=>createVNode(MaybeTransition,{transition:e.transition},{default:()=>[withDirectives(createVNode("div",{class:["v-counter",e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[vShow,e.active]])]})),{}}}),VField$1="",VLabel$1="",makeVLabelProps=propsFactory({text:String,clickable:Boolean,...makeComponentProps(),...makeThemeProps()},"VLabel"),VLabel=genericComponent()({name:"VLabel",props:makeVLabelProps(),setup(e,t){let{slots:n}=t;return useRender(()=>{var r;return createVNode("label",{class:["v-label",{"v-label--clickable":e.clickable},e.class],style:e.style},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),makeVFieldLabelProps=propsFactory({floating:Boolean,...makeComponentProps()},"VFieldLabel"),VFieldLabel=genericComponent()({name:"VFieldLabel",props:makeVFieldLabelProps(),setup(e,t){let{slots:n}=t;return useRender(()=>createVNode(VLabel,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}});function useInputIcon(e){const{t}=useLocale();function n(r){var d;let{name:o}=r;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],a=e[`onClick:${o}`],c=a&&s?t(`$vuetify.input.${s}`,(d=e.label)!=null?d:""):void 0;return createVNode(VIcon,{icon:e[`${o}Icon`],"aria-label":c,onClick:a},null)}return{InputIcon:n}}const makeFocusProps=propsFactory({focused:Boolean,"onUpdate:focused":EventProp()},"focus");function useFocus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const n=useProxiedModel(e,"focused"),r=computed(()=>({[`${t}--focused`]:n.value}));function o(){n.value=!0}function s(){n.value=!1}return{focusClasses:r,isFocused:n,focus:o,blur:s}}const allowedVariants$1=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],makeVFieldProps=propsFactory({appendInnerIcon:IconValue,bgColor:String,clearable:Boolean,clearIcon:{type:IconValue,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:IconValue,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>allowedVariants$1.includes(e)},"onClick:clear":EventProp(),"onClick:appendInner":EventProp(),"onClick:prependInner":EventProp(),...makeComponentProps(),...makeLoaderProps(),...makeRoundedProps(),...makeThemeProps()},"VField"),VField=genericComponent()({name:"VField",inheritAttrs:!1,props:{id:String,...makeFocusProps(),...makeVFieldProps()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:o}=t;const{themeClasses:s}=provideTheme(e),{loaderClasses:a}=useLoader(e),{focusClasses:c,isFocused:d,focus:f,blur:m}=useFocus(e),{InputIcon:v}=useInputIcon(e),{roundedClasses:_}=useRounded(e),{rtlClasses:y}=useRtl(),C=computed(()=>e.dirty||e.active),S=computed(()=>!e.singleLine&&!!(e.label||o.label)),I=getUid(),T=computed(()=>e.id||`input-${I}`),E=computed(()=>`${T.value}-messages`),x=ref$1(),P=ref$1(),V=ref$1(),R=computed(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:M,backgroundColorStyles:D}=useBackgroundColor(toRef(e,"bgColor")),{textColorClasses:B,textColorStyles:U}=useTextColor(computed(()=>e.error||e.disabled?void 0:C.value&&d.value?e.color:e.baseColor));watch(C,W=>{if(S.value){const $=x.value.$el,te=P.value.$el;requestAnimationFrame(()=>{const X=nullifyTransforms($),ue=te.getBoundingClientRect(),K=ue.x-X.x,pe=ue.y-X.y-(X.height/2-ue.height/2),de=ue.width/.75,me=Math.abs(de-X.width)>1?{maxWidth:convertToUnit(de)}:void 0,Ee=getComputedStyle($),Ue=getComputedStyle(te),$e=parseFloat(Ee.transitionDuration)*1e3||150,Qe=parseFloat(Ue.getPropertyValue("--v-field-label-scale")),ie=Ue.getPropertyValue("color");$.style.visibility="visible",te.style.visibility="hidden",animate($,{transform:`translate(${K}px, ${pe}px) scale(${Qe})`,color:ie,...me},{duration:$e,easing:standardEasing,direction:W?"normal":"reverse"}).finished.then(()=>{$.style.removeProperty("visibility"),te.style.removeProperty("visibility")})})}},{flush:"post"});const j=computed(()=>({isActive:C,isFocused:d,controlRef:V,blur:m,focus:f}));function z(W){W.target!==document.activeElement&&W.preventDefault()}return useRender(()=>{var K,pe,de,me;const W=e.variant==="outlined",$=o["prepend-inner"]||e.prependInnerIcon,te=!!(e.clearable||o.clear),X=!!(o["append-inner"]||e.appendInnerIcon||te),ue=o.label?o.label({...j.value,label:e.label,props:{for:T.value}}):e.label;return createVNode("div",mergeProps({class:["v-field",{"v-field--active":C.value,"v-field--appended":X,"v-field--center-affix":(K=e.centerAffix)!=null?K:!R.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":$,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!ue,[`v-field--variant-${e.variant}`]:!0},s.value,M.value,c.value,a.value,_.value,y.value,e.class],style:[D.value,U.value,e.style],onClick:z},n),[createVNode("div",{class:"v-field__overlay"},null),createVNode(LoaderSlot,{name:"v-field",active:!!e.loading,color:e.error?"error":e.color},{default:o.loader}),$&&createVNode("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&createVNode(v,{key:"prepend-icon",name:"prependInner"},null),(pe=o["prepend-inner"])==null?void 0:pe.call(o,j.value)]),createVNode("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&S.value&&createVNode(VFieldLabel,{key:"floating-label",ref:P,class:[B.value],floating:!0,for:T.value},{default:()=>[ue]}),createVNode(VFieldLabel,{ref:x,for:T.value},{default:()=>[ue]}),(de=o.default)==null?void 0:de.call(o,{...j.value,props:{id:T.value,class:"v-field__input","aria-describedby":E.value},focus:f,blur:m})]),te&&createVNode(VExpandXTransition,{key:"clear"},{default:()=>[withDirectives(createVNode("div",{class:"v-field__clearable",onMousedown:Ee=>{Ee.preventDefault(),Ee.stopPropagation()}},[o.clear?o.clear():createVNode(v,{name:"clear"},null)]),[[vShow,e.dirty]])]}),X&&createVNode("div",{key:"append",class:"v-field__append-inner"},[(me=o["append-inner"])==null?void 0:me.call(o,j.value),e.appendInnerIcon&&createVNode(v,{key:"append-icon",name:"appendInner"},null)]),createVNode("div",{class:["v-field__outline",B.value]},[W&&createVNode(Fragment,null,[createVNode("div",{class:"v-field__outline__start"},null),S.value&&createVNode("div",{class:"v-field__outline__notch"},[createVNode(VFieldLabel,{ref:P,floating:!0,for:T.value},{default:()=>[ue]})]),createVNode("div",{class:"v-field__outline__end"},null)]),R.value&&S.value&&createVNode(VFieldLabel,{ref:P,floating:!0,for:T.value},{default:()=>[ue]})])])}),{controlRef:V}}});function filterFieldProps(e){const t=Object.keys(VField.props).filter(n=>!isOn(n)&&n!=="class"&&n!=="style");return pick(e,t)}const VInput$1="",VMessages$1="",makeVMessagesProps=propsFactory({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...makeComponentProps(),...makeTransitionProps$1({transition:{component:VSlideYTransition,leaveAbsolute:!0,group:!0}})},"VMessages"),VMessages=genericComponent()({name:"VMessages",props:makeVMessagesProps(),setup(e,t){let{slots:n}=t;const r=computed(()=>wrapInArray(e.messages)),{textColorClasses:o,textColorStyles:s}=useTextColor(computed(()=>e.color));return useRender(()=>createVNode(MaybeTransition,{transition:e.transition,tag:"div",class:["v-messages",o.value,e.class],style:[s.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((a,c)=>createVNode("div",{class:"v-messages__message",key:`${c}-${r.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),FormKey=Symbol.for("vuetify:form");function useForm(){return inject$1(FormKey,null)}const makeValidationProps=propsFactory({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...makeFocusProps()},"validation");function useValidation(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:getUid();const r=useProxiedModel(e,"modelValue"),o=computed(()=>e.validationValue===void 0?r.value:e.validationValue),s=useForm(),a=ref$1([]),c=shallowRef(!0),d=computed(()=>!!(wrapInArray(r.value===""?null:r.value).length||wrapInArray(o.value===""?null:o.value).length)),f=computed(()=>{var P;return!!((P=e.disabled)!=null?P:s==null?void 0:s.isDisabled.value)}),m=computed(()=>{var P;return!!((P=e.readonly)!=null?P:s==null?void 0:s.isReadonly.value)}),v=computed(()=>e.errorMessages.length?wrapInArray(e.errorMessages).slice(0,Math.max(0,+e.maxErrors)):a.value),_=computed(()=>{var R,M;let P=((R=e.validateOn)!=null?R:s==null?void 0:s.validateOn.value)||"input";P==="lazy"&&(P="input lazy");const V=new Set((M=P==null?void 0:P.split(" "))!=null?M:[]);return{blur:V.has("blur")||V.has("input"),input:V.has("input"),submit:V.has("submit"),lazy:V.has("lazy")}}),y=computed(()=>e.error||e.errorMessages.length?!1:e.rules.length?c.value?a.value.length||_.value.lazy?null:!0:!a.value.length:!0),C=shallowRef(!1),S=computed(()=>({[`${t}--error`]:y.value===!1,[`${t}--dirty`]:d.value,[`${t}--disabled`]:f.value,[`${t}--readonly`]:m.value})),I=computed(()=>{var P;return(P=e.name)!=null?P:unref(n)});onBeforeMount(()=>{s==null||s.register({id:I.value,validate:x,reset:T,resetValidation:E})}),onBeforeUnmount(()=>{s==null||s.unregister(I.value)}),onMounted(async()=>{_.value.lazy||await x(!0),s==null||s.update(I.value,y.value,v.value)}),useToggleScope(()=>_.value.input,()=>{watch(o,()=>{if(o.value!=null)x();else if(e.focused){const P=watch(()=>e.focused,V=>{V||x(),P()})}})}),useToggleScope(()=>_.value.blur,()=>{watch(()=>e.focused,P=>{P||x()})}),watch(y,()=>{s==null||s.update(I.value,y.value,v.value)});function T(){r.value=null,nextTick(E)}function E(){c.value=!0,_.value.lazy?a.value=[]:x(!0)}async function x(){var R;let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const V=[];C.value=!0;for(const M of e.rules){if(V.length>=+((R=e.maxErrors)!=null?R:1))break;const B=await(typeof M=="function"?M:()=>M)(o.value);if(B!==!0){if(typeof B!="string"){console.warn(`${B} is not a valid value. Rule functions must return boolean true or a string.`);continue}V.push(B)}}return a.value=V,C.value=!1,c.value=P,a.value}return{errorMessages:v,isDirty:d,isDisabled:f,isReadonly:m,isPristine:c,isValid:y,isValidating:C,reset:T,resetValidation:E,validate:x,validationClasses:S}}const makeVInputProps=propsFactory({id:String,appendIcon:IconValue,centerAffix:{type:Boolean,default:!0},prependIcon:IconValue,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":EventProp(),"onClick:append":EventProp(),...makeComponentProps(),...makeDensityProps(),...makeValidationProps()},"VInput"),VInput=genericComponent()({name:"VInput",props:{...makeVInputProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:o}=t;const{densityClasses:s}=useDensity(e),{rtlClasses:a}=useRtl(),{InputIcon:c}=useInputIcon(e),d=getUid(),f=computed(()=>e.id||`input-${d}`),m=computed(()=>`${f.value}-messages`),{errorMessages:v,isDirty:_,isDisabled:y,isReadonly:C,isPristine:S,isValid:I,isValidating:T,reset:E,resetValidation:x,validate:P,validationClasses:V}=useValidation(e,"v-input",f),R=computed(()=>({id:f,messagesId:m,isDirty:_,isDisabled:y,isReadonly:C,isPristine:S,isValid:I,isValidating:T,reset:E,resetValidation:x,validate:P})),M=computed(()=>{var D;return((D=e.errorMessages)==null?void 0:D.length)||!S.value&&v.value.length?v.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return useRender(()=>{var z,W,$,te;const D=!!(r.prepend||e.prependIcon),B=!!(r.append||e.appendIcon),U=M.value.length>0,j=!e.hideDetails||e.hideDetails==="auto"&&(U||!!r.details);return createVNode("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix},s.value,a.value,V.value,e.class],style:e.style},[D&&createVNode("div",{key:"prepend",class:"v-input__prepend"},[(z=r.prepend)==null?void 0:z.call(r,R.value),e.prependIcon&&createVNode(c,{key:"prepend-icon",name:"prepend"},null)]),r.default&&createVNode("div",{class:"v-input__control"},[(W=r.default)==null?void 0:W.call(r,R.value)]),B&&createVNode("div",{key:"append",class:"v-input__append"},[e.appendIcon&&createVNode(c,{key:"append-icon",name:"append"},null),($=r.append)==null?void 0:$.call(r,R.value)]),j&&createVNode("div",{class:"v-input__details"},[createVNode(VMessages,{id:m.value,active:U,messages:M.value},{message:r.message}),(te=r.details)==null?void 0:te.call(r,R.value)])])}),{reset:E,resetValidation:x,validate:P}}});function mounted$1(e,t){if(!SUPPORTS_INTERSECTION)return;const n=t.modifiers||{},r=t.value,{handler:o,options:s}=typeof r=="object"?r:{handler:r,options:{}},a=new IntersectionObserver(function(){var v;let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0;const f=(v=e._observe)==null?void 0:v[t.instance.$.uid];if(!f)return;const m=c.some(_=>_.isIntersecting);o&&(!n.quiet||f.init)&&(!n.once||m||f.init)&&o(m,c,d),m&&n.once?unmounted$1(e,t):f.init=!0},s);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:a},a.observe(e)}function unmounted$1(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];!n||(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Intersect={mounted:mounted$1,unmounted:unmounted$1},Intersect$1=Intersect,activeTypes=["color","file","time","date","datetime-local","week","month"],makeVTextFieldProps=propsFactory({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...makeVInputProps(),...makeVFieldProps()},"VTextField"),VTextField=genericComponent()({name:"VTextField",directives:{Intersect:Intersect$1},inheritAttrs:!1,props:makeVTextFieldProps(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:o}=t;const s=useProxiedModel(e,"modelValue"),{isFocused:a,focus:c,blur:d}=useFocus(e),f=computed(()=>{var R;return typeof e.counterValue=="function"?e.counterValue(s.value):((R=s.value)!=null?R:"").toString().length}),m=computed(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),v=computed(()=>["plain","underlined"].includes(e.variant));function _(R,M){var D,B;!e.autofocus||!R||(B=(D=M[0].target)==null?void 0:D.focus)==null||B.call(D)}const y=ref$1(),C=ref$1(),S=ref$1(),I=computed(()=>activeTypes.includes(e.type)||e.persistentPlaceholder||a.value||e.active);function T(){var R;S.value!==document.activeElement&&((R=S.value)==null||R.focus()),a.value||c()}function E(R){r("mousedown:control",R),R.target!==S.value&&(T(),R.preventDefault())}function x(R){T(),r("click:control",R)}function P(R){R.stopPropagation(),T(),nextTick(()=>{s.value=null,callEvent(e["onClick:clear"],R)})}function V(R){var D;const M=R.target;if(s.value=M.value,((D=e.modelModifiers)==null?void 0:D.trim)&&["text","search","password","tel","url"].includes(e.type)){const B=[M.selectionStart,M.selectionEnd];nextTick(()=>{M.selectionStart=B[0],M.selectionEnd=B[1]})}}return useRender(()=>{const R=!!(o.counter||e.counter||e.counterValue),M=!!(R||o.details),[D,B]=filterInputAttrs(n),[{modelValue:U,...j}]=VInput.filterProps(e),[z]=filterFieldProps(e);return createVNode(VInput,mergeProps({ref:y,modelValue:s.value,"onUpdate:modelValue":W=>s.value=W,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(e.variant)},e.class],style:e.style},D,j,{centerAffix:!v.value,focused:a.value}),{...o,default:W=>{let{id:$,isDisabled:te,isDirty:X,isReadonly:ue,isValid:K}=W;return createVNode(VField,mergeProps({ref:C,onMousedown:E,onClick:x,"onClick:clear":P,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},z,{id:$.value,active:I.value||X.value,dirty:X.value||e.dirty,disabled:te.value,focused:a.value,error:K.value===!1}),{...o,default:pe=>{let{props:{class:de,...me}}=pe;const Ee=withDirectives(createVNode("input",mergeProps({ref:S,value:s.value,onInput:V,autofocus:e.autofocus,readonly:ue.value,disabled:te.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:T,onBlur:d},me,B),null),[[resolveDirective("intersect"),{handler:_},null,{once:!0}]]);return createVNode(Fragment,null,[e.prefix&&createVNode("span",{class:"v-text-field__prefix"},[e.prefix]),o.default?createVNode("div",{class:de,"data-no-activator":""},[o.default(),Ee]):cloneVNode(Ee,{class:de}),e.suffix&&createVNode("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:M?W=>{var $;return createVNode(Fragment,null,[($=o.details)==null?void 0:$.call(o,W),R&&createVNode(Fragment,null,[createVNode("span",null,null),createVNode(VCounter,{active:e.persistentCounter||a.value,value:f.value,max:m.value},o.counter)])])}:void 0})}),forwardRefs({},y,C,S)}}),VToolbar$1="",makeVToolbarTitleProps=propsFactory({text:String,...makeComponentProps(),...makeTagProps()},"VToolbarTitle"),VToolbarTitle=genericComponent()({name:"VToolbarTitle",props:makeVToolbarTitleProps(),setup(e,t){let{slots:n}=t;return useRender(()=>{const r=!!(n.default||n.text||e.text);return createVNode(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var o;return[r&&createVNode("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(o=n.default)==null?void 0:o.call(n)])]}})}),{}}}),VImg$1="",VResponsive$1="";function useAspectStyles(e){return{aspectStyles:computed(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const makeVResponsiveProps=propsFactory({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...makeComponentProps(),...makeDimensionProps()},"VResponsive"),VResponsive=genericComponent()({name:"VResponsive",props:makeVResponsiveProps(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=useAspectStyles(e),{dimensionStyles:o}=useDimension(e);return useRender(()=>{var s;return createVNode("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[o.value,e.style]},[createVNode("div",{class:"v-responsive__sizer",style:r.value},null),(s=n.additional)==null?void 0:s.call(n),n.default&&createVNode("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}}),makeVImgProps=propsFactory({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...makeVResponsiveProps(),...makeComponentProps(),...makeTransitionProps$1()},"VImg"),VImg=genericComponent()({name:"VImg",directives:{intersect:Intersect$1},props:makeVImgProps(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const o=shallowRef(""),s=ref$1(),a=shallowRef(e.eager?"loading":"idle"),c=shallowRef(),d=shallowRef(),f=computed(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),m=computed(()=>f.value.aspect||c.value/d.value||0);watch(()=>e.src,()=>{v(a.value!=="idle")}),watch(m,(D,B)=>{!D&&B&&s.value&&I(s.value)}),onBeforeMount(()=>v());function v(D){if(!(e.eager&&D)&&!(SUPPORTS_INTERSECTION&&!D&&!e.eager)){if(a.value="loading",f.value.lazySrc){const B=new Image;B.src=f.value.lazySrc,I(B,null)}!f.value.src||nextTick(()=>{var B,U;if(n("loadstart",((B=s.value)==null?void 0:B.currentSrc)||f.value.src),(U=s.value)!=null&&U.complete){if(s.value.naturalWidth||y(),a.value==="error")return;m.value||I(s.value,null),_()}else m.value||I(s.value),C()})}}function _(){var D;C(),a.value="loaded",n("load",((D=s.value)==null?void 0:D.currentSrc)||f.value.src)}function y(){var D;a.value="error",n("error",((D=s.value)==null?void 0:D.currentSrc)||f.value.src)}function C(){const D=s.value;D&&(o.value=D.currentSrc||D.src)}let S=-1;function I(D){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const U=()=>{clearTimeout(S);const{naturalHeight:j,naturalWidth:z}=D;j||z?(c.value=z,d.value=j):!D.complete&&a.value==="loading"&&B!=null?S=window.setTimeout(U,B):(D.currentSrc.endsWith(".svg")||D.currentSrc.startsWith("data:image/svg+xml"))&&(c.value=1,d.value=1)};U()}const T=computed(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),E=()=>{var U;if(!f.value.src||a.value==="idle")return null;const D=createVNode("img",{class:["v-img__img",T.value],src:f.value.src,srcset:f.value.srcset,alt:e.alt,sizes:e.sizes,ref:s,onLoad:_,onError:y},null),B=(U=r.sources)==null?void 0:U.call(r);return createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[withDirectives(B?createVNode("picture",{class:"v-img__picture"},[B,D]):D,[[vShow,a.value==="loaded"]])]})},x=()=>createVNode(MaybeTransition,{transition:e.transition},{default:()=>[f.value.lazySrc&&a.value!=="loaded"&&createVNode("img",{class:["v-img__img","v-img__img--preload",T.value],src:f.value.lazySrc,alt:e.alt},null)]}),P=()=>r.placeholder?createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[(a.value==="loading"||a.value==="error"&&!r.error)&&createVNode("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,V=()=>r.error?createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[a.value==="error"&&createVNode("div",{class:"v-img__error"},[r.error()])]}):null,R=()=>e.gradient?createVNode("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,M=shallowRef(!1);{const D=watch(m,B=>{B&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{M.value=!0})}),D())})}return useRender(()=>{const[D]=VResponsive.filterProps(e);return withDirectives(createVNode(VResponsive,mergeProps({class:["v-img",{"v-img--booting":!M.value},e.class],style:e.style},D,{aspectRatio:m.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>createVNode(Fragment,null,[createVNode(E,null,null),createVNode(x,null,null),createVNode(R,null,null),createVNode(P,null,null),createVNode(V,null,null)]),default:r.default}),[[resolveDirective("intersect"),{handler:v,options:e.options},null,{once:!0}]])}),{currentSrc:o,image:s,state:a,naturalWidth:c,naturalHeight:d}}}),allowedDensities=[null,"prominent","default","comfortable","compact"],makeVToolbarProps=propsFactory({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>allowedDensities.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...makeBorderProps(),...makeComponentProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps({tag:"header"}),...makeThemeProps()},"VToolbar"),VToolbar=genericComponent()({name:"VToolbar",props:makeVToolbarProps(),setup(e,t){var y;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:o}=useBackgroundColor(toRef(e,"color")),{borderClasses:s}=useBorder(e),{elevationClasses:a}=useElevation(e),{roundedClasses:c}=useRounded(e),{themeClasses:d}=provideTheme(e),{rtlClasses:f}=useRtl(),m=shallowRef(!!(e.extended||((y=n.extension)==null?void 0:y.call(n)))),v=computed(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),_=computed(()=>m.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>{var T;const C=!!(e.title||n.title),S=!!(n.image||e.image),I=(T=n.extension)==null?void 0:T.call(n);return m.value=!!(e.extended||I),createVNode(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,s.value,a.value,c.value,d.value,f.value,e.class],style:[o.value,e.style]},{default:()=>[S&&createVNode("div",{key:"image",class:"v-toolbar__image"},[n.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):createVNode(VImg,{key:"image-img",cover:!0,src:e.image},null)]),createVNode(VDefaultsProvider,{defaults:{VTabs:{height:convertToUnit(v.value)}}},{default:()=>{var E,x,P;return[createVNode("div",{class:"v-toolbar__content",style:{height:convertToUnit(v.value)}},[n.prepend&&createVNode("div",{class:"v-toolbar__prepend"},[(E=n.prepend)==null?void 0:E.call(n)]),C&&createVNode(VToolbarTitle,{key:"title",text:e.title},{text:n.title}),(x=n.default)==null?void 0:x.call(n),n.append&&createVNode("div",{class:"v-toolbar__append"},[(P=n.append)==null?void 0:P.call(n)])])]}}),createVNode(VDefaultsProvider,{defaults:{VTabs:{height:convertToUnit(_.value)}}},{default:()=>[createVNode(VExpandTransition,null,{default:()=>[m.value&&createVNode("div",{class:"v-toolbar__extension",style:{height:convertToUnit(_.value)}},[I])]})]})]})}),{contentHeight:v,extensionHeight:_}}}),makeVToolbarItemsProps=propsFactory({...makeComponentProps(),...makeVariantProps({variant:"text"})},"VToolbarItems"),VToolbarItems=genericComponent()({name:"VToolbarItems",props:makeVToolbarItemsProps(),setup(e,t){let{slots:n}=t;return provideDefaults({VBtn:{color:toRef(e,"color"),height:"inherit",variant:toRef(e,"variant")}}),useRender(()=>{var r;return createVNode("div",{class:["v-toolbar-items",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),_sfc_main$i={data:()=>({email:"",password:"",showPass:!1}),computed:{...mapState(useStore,["user","gameLoaded"])},methods:{...mapActions(useStore,["logIn"])}};function _sfc_render$i(e,t,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{color:"grey",density:"compact"},{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(" Legendary Randomizer ")]),_:1})]),_:1}),createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VTextField,{label:"E-Mail",modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=a=>e.email=a)},null,8,["modelValue"]),createVNode(VTextField,{label:"Password",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=a=>e.password=a),type:e.showPass?"text":"password","append-inner-icon":e.showPass?"mdi-eye-off":"mdi-eye","onClick:appendInner":t[2]||(t[2]=a=>e.showPass=!e.showPass)},null,8,["modelValue","type","append-inner-icon"]),createVNode(VBtn,{onClick:t[3]||(t[3]=a=>e.logIn(e.$router,{email:e.email,password:e.password}))},{default:withCtx(()=>[createTextVNode("Sign In")]),_:1})]),_:1})])}const Home=_export_sfc(_sfc_main$i,[["render",_sfc_render$i]]),VCard$1="",VCardActions=genericComponent()({name:"VCardActions",props:makeComponentProps(),setup(e,t){let{slots:n}=t;return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>{var r;return createVNode("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),VCardSubtitle=createSimpleFunctional("v-card-subtitle"),VCardTitle=createSimpleFunctional("v-card-title"),VAvatar$1="",makeVAvatarProps=propsFactory({start:Boolean,end:Boolean,icon:IconValue,image:String,...makeComponentProps(),...makeDensityProps(),...makeRoundedProps(),...makeSizeProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"flat"})},"VAvatar"),VAvatar=genericComponent()({name:"VAvatar",props:makeVAvatarProps(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=provideTheme(e),{colorClasses:o,colorStyles:s,variantClasses:a}=useVariant(e),{densityClasses:c}=useDensity(e),{roundedClasses:d}=useRounded(e),{sizeClasses:f,sizeStyles:m}=useSize(e);return useRender(()=>createVNode(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,o.value,c.value,d.value,f.value,a.value,e.class],style:[s.value,m.value,e.style]},{default:()=>{var v;return[e.image?createVNode(VImg,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?createVNode(VIcon,{key:"icon",icon:e.icon},null):(v=n.default)==null?void 0:v.call(n),genOverlays(!1,"v-avatar")]}})),{}}}),makeCardItemProps=propsFactory({appendAvatar:String,appendIcon:IconValue,prependAvatar:String,prependIcon:IconValue,subtitle:String,title:String,...makeComponentProps(),...makeDensityProps()},"VCardItem"),VCardItem=genericComponent()({name:"VCardItem",props:makeCardItemProps(),setup(e,t){let{slots:n}=t;return useRender(()=>{var f;const r=!!(e.prependAvatar||e.prependIcon),o=!!(r||n.prepend),s=!!(e.appendAvatar||e.appendIcon),a=!!(s||n.append),c=!!(e.title||n.title),d=!!(e.subtitle||n.subtitle);return createVNode("div",{class:["v-card-item",e.class],style:e.style},[o&&createVNode("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},n.prepend):r&&createVNode(VAvatar,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),createVNode("div",{class:"v-card-item__content"},[c&&createVNode(VCardTitle,{key:"title"},{default:()=>{var m,v;return[(v=(m=n.title)==null?void 0:m.call(n))!=null?v:e.title]}}),d&&createVNode(VCardSubtitle,{key:"subtitle"},{default:()=>{var m,v;return[(v=(m=n.subtitle)==null?void 0:m.call(n))!=null?v:e.subtitle]}}),(f=n.default)==null?void 0:f.call(n)]),a&&createVNode("div",{key:"append",class:"v-card-item__append"},[n.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},n.append):s&&createVNode(VAvatar,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),VCardText=createSimpleFunctional("v-card-text"),makeVCardProps=propsFactory({appendAvatar:String,appendIcon:IconValue,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:IconValue,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"elevated"})},"VCard"),VCard=genericComponent()({name:"VCard",directives:{Ripple},props:makeVCardProps(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:o}=provideTheme(e),{borderClasses:s}=useBorder(e),{colorClasses:a,colorStyles:c,variantClasses:d}=useVariant(e),{densityClasses:f}=useDensity(e),{dimensionStyles:m}=useDimension(e),{elevationClasses:v}=useElevation(e),{loaderClasses:_}=useLoader(e),{locationStyles:y}=useLocation(e),{positionClasses:C}=usePosition(e),{roundedClasses:S}=useRounded(e),I=useLink$1(e,n),T=computed(()=>e.link!==!1&&I.isLink.value),E=computed(()=>!e.disabled&&e.link!==!1&&(e.link||I.isClickable.value));return useRender(()=>{const x=T.value?"a":e.tag,P=!!(r.title||e.title),V=!!(r.subtitle||e.subtitle),R=P||V,M=!!(r.append||e.appendAvatar||e.appendIcon),D=!!(r.prepend||e.prependAvatar||e.prependIcon),B=!!(r.image||e.image),U=R||D||M,j=!!(r.text||e.text);return withDirectives(createVNode(x,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":E.value},o.value,s.value,a.value,f.value,v.value,_.value,C.value,S.value,d.value,e.class],style:[c.value,m.value,y.value,e.style],href:I.href.value,onClick:E.value&&I.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var z;return[B&&createVNode("div",{key:"image",class:"v-card__image"},[r.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):createVNode(VImg,{key:"image-img",cover:!0,src:e.image},null)]),createVNode(LoaderSlot,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),U&&createVNode(VCardItem,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),j&&createVNode(VCardText,{key:"text"},{default:()=>{var W,$;return[($=(W=r.text)==null?void 0:W.call(r))!=null?$:e.text]}}),(z=r.default)==null?void 0:z.call(r),r.actions&&createVNode(VCardActions,null,{default:r.actions}),genOverlays(E.value,"v-card")]}}),[[resolveDirective("ripple"),E.value&&e.ripple]])}),{}}}),VList$1="",ListKey=Symbol.for("vuetify:list");function createList(){const e=inject$1(ListKey,{hasPrepend:shallowRef(!1),updateHasPrepend:()=>null}),t={hasPrepend:shallowRef(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return provide(ListKey,t),e}function useList(){return inject$1(ListKey,null)}const singleOpenStrategy={open:e=>{let{id:t,value:n,opened:r,parents:o}=e;if(n){const s=new Set;s.add(t);let a=o.get(t);for(;a!=null;)s.add(a),a=o.get(a);return s}else return r.delete(t),r},select:()=>null},multipleOpenStrategy={open:e=>{let{id:t,value:n,opened:r,parents:o}=e;if(n){let s=o.get(t);for(r.add(t);s!=null&&s!==t;)r.add(s),s=o.get(s);return r}else r.delete(t);return r},select:()=>null},listOpenStrategy={open:multipleOpenStrategy.open,select:e=>{let{id:t,value:n,opened:r,parents:o}=e;if(!n)return r;const s=[];let a=o.get(t);for(;a!=null;)s.push(a),a=o.get(a);return new Set(s)}},independentSelectStrategy=e=>{const t={select:n=>{let{id:r,value:o,selected:s}=n;if(r=toRaw(r),e&&!o){const a=Array.from(s.entries()).reduce((c,d)=>{let[f,m]=d;return m==="on"?[...c,f]:c},[]);if(a.length===1&&a[0]===r)return s}return s.set(r,o?"on":"off"),s},in:(n,r,o)=>{let s=new Map;for(const a of n||[])s=t.select({id:a,value:!0,selected:new Map(s),children:r,parents:o});return s},out:n=>{const r=[];for(const[o,s]of n.entries())s==="on"&&r.push(o);return r}};return t},independentSingleSelectStrategy=e=>{const t=independentSelectStrategy(e);return{select:r=>{let{selected:o,id:s,...a}=r;s=toRaw(s);const c=o.has(s)?new Map([[s,o.get(s)]]):new Map;return t.select({...a,id:s,selected:c})},in:(r,o,s)=>{let a=new Map;return r!=null&&r.length&&(a=t.in(r.slice(0,1),o,s)),a},out:(r,o,s)=>t.out(r,o,s)}},leafSelectStrategy=e=>{const t=independentSelectStrategy(e);return{select:r=>{let{id:o,selected:s,children:a,...c}=r;return o=toRaw(o),a.has(o)?s:t.select({id:o,selected:s,children:a,...c})},in:t.in,out:t.out}},leafSingleSelectStrategy=e=>{const t=independentSingleSelectStrategy(e);return{select:r=>{let{id:o,selected:s,children:a,...c}=r;return o=toRaw(o),a.has(o)?s:t.select({id:o,selected:s,children:a,...c})},in:t.in,out:t.out}},classicSelectStrategy=e=>{const t={select:n=>{let{id:r,value:o,selected:s,children:a,parents:c}=n;r=toRaw(r);const d=new Map(s),f=[r];for(;f.length;){const v=f.shift();s.set(v,o?"on":"off"),a.has(v)&&f.push(...a.get(v))}let m=c.get(r);for(;m;){const v=a.get(m),_=v.every(C=>s.get(C)==="on"),y=v.every(C=>!s.has(C)||s.get(C)==="off");s.set(m,_?"on":y?"off":"indeterminate"),m=c.get(m)}return e&&!o&&Array.from(s.entries()).reduce((_,y)=>{let[C,S]=y;return S==="on"?[..._,C]:_},[]).length===0?d:s},in:(n,r,o)=>{let s=new Map;for(const a of n||[])s=t.select({id:a,value:!0,selected:new Map(s),children:r,parents:o});return s},out:(n,r)=>{const o=[];for(const[s,a]of n.entries())a==="on"&&!r.has(s)&&o.push(s);return o}};return t},VNestedSymbol=Symbol.for("vuetify:nested"),emptyNested={id:shallowRef(),root:{register:()=>null,unregister:()=>null,parents:ref$1(new Map),children:ref$1(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:ref$1(new Set),selected:ref$1(new Map),selectedValues:ref$1([])}},makeNestedProps=propsFactory({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),useNested=e=>{let t=!1;const n=ref$1(new Map),r=ref$1(new Map),o=useProxiedModel(e,"opened",e.opened,v=>new Set(v),v=>[...v.values()]),s=computed(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return leafSingleSelectStrategy(e.mandatory);case"leaf":return leafSelectStrategy(e.mandatory);case"independent":return independentSelectStrategy(e.mandatory);case"single-independent":return independentSingleSelectStrategy(e.mandatory);case"classic":default:return classicSelectStrategy(e.mandatory)}}),a=computed(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return listOpenStrategy;case"single":return singleOpenStrategy;case"multiple":default:return multipleOpenStrategy}}),c=useProxiedModel(e,"selected",e.selected,v=>s.value.in(v,n.value,r.value),v=>s.value.out(v,n.value,r.value));onBeforeUnmount(()=>{t=!0});function d(v){const _=[];let y=v;for(;y!=null;)_.unshift(y),y=r.value.get(y);return _}const f=getCurrentInstance("nested"),m={id:shallowRef(),root:{opened:o,selected:c,selectedValues:computed(()=>{const v=[];for(const[_,y]of c.value.entries())y==="on"&&v.push(_);return v}),register:(v,_,y)=>{_&&v!==_&&r.value.set(v,_),y&&n.value.set(v,[]),_!=null&&n.value.set(_,[...n.value.get(_)||[],v])},unregister:v=>{var y;if(t)return;n.value.delete(v);const _=r.value.get(v);if(_){const C=(y=n.value.get(_))!=null?y:[];n.value.set(_,C.filter(S=>S!==v))}r.value.delete(v),o.value.delete(v)},open:(v,_,y)=>{f.emit("click:open",{id:v,value:_,path:d(v),event:y});const C=a.value.open({id:v,value:_,opened:new Set(o.value),children:n.value,parents:r.value,event:y});C&&(o.value=C)},openOnSelect:(v,_,y)=>{const C=a.value.select({id:v,value:_,selected:new Map(c.value),opened:new Set(o.value),children:n.value,parents:r.value,event:y});C&&(o.value=C)},select:(v,_,y)=>{f.emit("click:select",{id:v,value:_,path:d(v),event:y});const C=s.value.select({id:v,value:_,selected:new Map(c.value),children:n.value,parents:r.value,event:y});C&&(c.value=C),m.root.openOnSelect(v,_,y)},children:n,parents:r}};return provide(VNestedSymbol,m),m.root},useNestedItem=(e,t)=>{const n=inject$1(VNestedSymbol,emptyNested),r=Symbol(getUid()),o=computed(()=>{var a;return(a=e.value)!=null?a:r}),s={...n,id:o,open:(a,c)=>n.root.open(o.value,a,c),openOnSelect:(a,c)=>n.root.openOnSelect(o.value,a,c),isOpen:computed(()=>n.root.opened.value.has(o.value)),parent:computed(()=>n.root.parents.value.get(o.value)),select:(a,c)=>n.root.select(o.value,a,c),isSelected:computed(()=>n.root.selected.value.get(toRaw(o.value))==="on"),isIndeterminate:computed(()=>n.root.selected.value.get(o.value)==="indeterminate"),isLeaf:computed(()=>!n.root.children.value.get(o.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(o.value,n.id.value,t),onBeforeUnmount(()=>{!n.isGroupActivator&&n.root.unregister(o.value)}),t&&provide(VNestedSymbol,s),s},useNestedGroupActivator=()=>{const e=inject$1(VNestedSymbol,emptyNested);provide(VNestedSymbol,{...e,isGroupActivator:!0})},VListGroupActivator=defineComponent({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return useNestedGroupActivator(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),makeVListGroupProps=propsFactory({activeColor:String,baseColor:String,color:String,collapseIcon:{type:IconValue,default:"$collapse"},expandIcon:{type:IconValue,default:"$expand"},prependIcon:IconValue,appendIcon:IconValue,fluid:Boolean,subgroup:Boolean,title:String,value:null,...makeComponentProps(),...makeTagProps()},"VListGroup"),VListGroup=genericComponent()({name:"VListGroup",props:makeVListGroupProps(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:o,id:s}=useNestedItem(toRef(e,"value"),!0),a=computed(()=>`v-list-group--id-${String(s.value)}`),c=useList(),{isBooted:d}=useSsrBoot();function f(y){o(!r.value,y)}const m=computed(()=>({onClick:f,class:"v-list-group__header",id:a.value})),v=computed(()=>r.value?e.collapseIcon:e.expandIcon),_=computed(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&v.value,appendIcon:e.appendIcon||!e.subgroup&&v.value,title:e.title,value:e.value}}));return useRender(()=>createVNode(e.tag,{class:["v-list-group",{"v-list-group--prepend":c==null?void 0:c.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&createVNode(VDefaultsProvider,{defaults:_.value},{default:()=>[createVNode(VListGroupActivator,null,{default:()=>[n.activator({props:m.value,isOpen:r.value})]})]}),createVNode(MaybeTransition,{transition:{component:VExpandTransition},disabled:!d.value},{default:()=>{var y;return[withDirectives(createVNode("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(y=n.default)==null?void 0:y.call(n)]),[[vShow,r.value]])]}})]})),{}}}),VListItem$1="",VListItemSubtitle=createSimpleFunctional("v-list-item-subtitle"),VListItemTitle=createSimpleFunctional("v-list-item-title"),makeVListItemProps=propsFactory({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:IconValue,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:IconValue,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:EventProp(),onClickOnce:EventProp(),...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},"VListItem"),VListItem=genericComponent()({name:"VListItem",directives:{Ripple},props:makeVListItemProps(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:o}=t;const s=useLink$1(e,n),a=computed(()=>{var K;return(K=e.value)!=null?K:s.href.value}),{select:c,isSelected:d,isIndeterminate:f,isGroupActivator:m,root:v,parent:_,openOnSelect:y}=useNestedItem(a,!1),C=useList(),S=computed(()=>{var K;return e.active!==!1&&(e.active||((K=s.isActive)==null?void 0:K.value)||d.value)}),I=computed(()=>e.link!==!1&&s.isLink.value),T=computed(()=>!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||e.value!=null&&!!C)),E=computed(()=>e.rounded||e.nav),x=computed(()=>{var K;return(K=e.color)!=null?K:e.activeColor}),P=computed(()=>{var K;return{color:S.value&&(K=x.value)!=null?K:e.baseColor,variant:e.variant}});watch(()=>{var K;return(K=s.isActive)==null?void 0:K.value},K=>{K&&_.value!=null&&v.open(_.value,!0),K&&y(K)},{immediate:!0});const{themeClasses:V}=provideTheme(e),{borderClasses:R}=useBorder(e),{colorClasses:M,colorStyles:D,variantClasses:B}=useVariant(P),{densityClasses:U}=useDensity(e),{dimensionStyles:j}=useDimension(e),{elevationClasses:z}=useElevation(e),{roundedClasses:W}=useRounded(E),$=computed(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),te=computed(()=>({isActive:S.value,select:c,isSelected:d.value,isIndeterminate:f.value}));function X(K){var pe;o("click",K),!(m||!T.value)&&((pe=s.navigate)==null||pe.call(s,K),e.value!=null&&c(!d.value,K))}function ue(K){(K.key==="Enter"||K.key===" ")&&(K.preventDefault(),X(K))}return useRender(()=>{const K=I.value?"a":e.tag,pe=r.title||e.title,de=r.subtitle||e.subtitle,me=!!(e.appendAvatar||e.appendIcon),Ee=!!(me||r.append),Ue=!!(e.prependAvatar||e.prependIcon),$e=!!(Ue||r.prepend);return C==null||C.updateHasPrepend($e),e.activeColor&&deprecate("active-color",["color","base-color"]),withDirectives(createVNode(K,{class:["v-list-item",{"v-list-item--active":S.value,"v-list-item--disabled":e.disabled,"v-list-item--link":T.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!$e&&(C==null?void 0:C.hasPrepend.value),[`${e.activeClass}`]:e.activeClass&&S.value},V.value,R.value,M.value,U.value,z.value,$.value,W.value,B.value,e.class],style:[D.value,j.value,e.style],href:s.href.value,tabindex:T.value?C?-2:0:void 0,onClick:X,onKeydown:T.value&&!I.value&&ue},{default:()=>{var Qe;return[genOverlays(T.value||S.value,"v-list-item"),$e&&createVNode("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!Ue,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ie;return[(ie=r.prepend)==null?void 0:ie.call(r,te.value)]}}):createVNode(Fragment,null,[e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),createVNode("div",{class:"v-list-item__content","data-no-activator":""},[pe&&createVNode(VListItemTitle,{key:"title"},{default:()=>{var ie,Y;return[(Y=(ie=r.title)==null?void 0:ie.call(r,{title:e.title}))!=null?Y:e.title]}}),de&&createVNode(VListItemSubtitle,{key:"subtitle"},{default:()=>{var ie,Y;return[(Y=(ie=r.subtitle)==null?void 0:ie.call(r,{subtitle:e.subtitle}))!=null?Y:e.subtitle]}}),(Qe=r.default)==null?void 0:Qe.call(r,te.value)]),Ee&&createVNode("div",{key:"append",class:"v-list-item__append"},[r.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!me,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ie;return[(ie=r.append)==null?void 0:ie.call(r,te.value)]}}):createVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]}}),[[resolveDirective("ripple"),T.value&&e.ripple]])}),{}}}),makeVListSubheaderProps=propsFactory({color:String,inset:Boolean,sticky:Boolean,title:String,...makeComponentProps(),...makeTagProps()},"VListSubheader"),VListSubheader=genericComponent()({name:"VListSubheader",props:makeVListSubheaderProps(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:o}=useTextColor(toRef(e,"color"));return useRender(()=>{const s=!!(n.default||e.title);return createVNode(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:o},e.style]},{default:()=>{var a,c;return[s&&createVNode("div",{class:"v-list-subheader__text"},[(c=(a=n.default)==null?void 0:a.call(n))!=null?c:e.title])]}})}),{}}}),VDivider$1="",makeVDividerProps=propsFactory({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...makeComponentProps(),...makeThemeProps()},"VDivider"),VDivider=genericComponent()({name:"VDivider",props:makeVDividerProps(),setup(e,t){let{attrs:n}=t;const{themeClasses:r}=provideTheme(e),{textColorClasses:o,textColorStyles:s}=useTextColor(toRef(e,"color")),a=computed(()=>{const c={};return e.length&&(c[e.vertical?"maxHeight":"maxWidth"]=convertToUnit(e.length)),e.thickness&&(c[e.vertical?"borderRightWidth":"borderTopWidth"]=convertToUnit(e.thickness)),c});return useRender(()=>createVNode("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,o.value,e.class],style:[a.value,s.value,e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}}),makeVListChildrenProps=propsFactory({items:Array},"VListChildren"),VListChildren=genericComponent()({name:"VListChildren",props:makeVListChildrenProps(),setup(e,t){let{slots:n}=t;return createList(),()=>{var r,o,s;return(s=(r=n.default)==null?void 0:r.call(n))!=null?s:(o=e.items)==null?void 0:o.map(a=>{var C,S,I,T;let{children:c,props:d,type:f,raw:m}=a;if(f==="divider")return(S=(C=n.divider)==null?void 0:C.call(n,{props:d}))!=null?S:createVNode(VDivider,d,null);if(f==="subheader")return(T=(I=n.subheader)==null?void 0:I.call(n,{props:d}))!=null?T:createVNode(VListSubheader,d,null);const v={subtitle:n.subtitle?E=>{var x;return(x=n.subtitle)==null?void 0:x.call(n,{...E,item:m})}:void 0,prepend:n.prepend?E=>{var x;return(x=n.prepend)==null?void 0:x.call(n,{...E,item:m})}:void 0,append:n.append?E=>{var x;return(x=n.append)==null?void 0:x.call(n,{...E,item:m})}:void 0,title:n.title?E=>{var x;return(x=n.title)==null?void 0:x.call(n,{...E,item:m})}:void 0},[_,y]=VListGroup.filterProps(d);return c?createVNode(VListGroup,mergeProps({value:d==null?void 0:d.value},_),{activator:E=>{let{props:x}=E;return n.header?n.header({props:{...d,...x}}):createVNode(VListItem,mergeProps(d,x),v)},default:()=>createVNode(VListChildren,{items:c},n)}):n.item?n.item({props:d}):createVNode(VListItem,d,v)})}}}),makeItemsProps=propsFactory({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"list-items");function transformItem$1(e,t){var c;const n=getPropertyFromItem(t,e.itemTitle,t),r=e.returnObject?t:getPropertyFromItem(t,e.itemValue,n),o=getPropertyFromItem(t,e.itemChildren),s=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?pick(t,["children"])[1]:t:void 0:getPropertyFromItem(t,e.itemProps),a={title:n,value:r,...s};return{title:String((c=a.title)!=null?c:""),value:a.value,props:a,children:Array.isArray(o)?transformItems$1(e,o):void 0,raw:t}}function transformItems$1(e,t){const n=[];for(const r of t)n.push(transformItem$1(e,r));return n}function useItems(e){const t=computed(()=>transformItems$1(e,e.items));return useTransformItems(t,n=>transformItem$1(e,n))}function useTransformItems(e,t){function n(o){return o.map(s=>{const a=e.value.find(c=>deepEqual$1(s,c.value));return a!=null?a:t(s)})}function r(o){return o.map(s=>{let{value:a}=s;return a})}return{items:e,transformIn:n,transformOut:r}}function isPrimitive(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function transformItem(e,t){const n=getPropertyFromItem(t,e.itemType,"item"),r=isPrimitive(t)?t:getPropertyFromItem(t,e.itemTitle),o=getPropertyFromItem(t,e.itemValue,void 0),s=getPropertyFromItem(t,e.itemChildren),a=e.itemProps===!0?pick(t,["children"])[1]:getPropertyFromItem(t,e.itemProps),c={title:r,value:o,...a};return{type:n,title:c.title,value:c.value,props:c,children:n==="item"&&s?transformItems(e,s):void 0,raw:t}}function transformItems(e,t){const n=[];for(const r of t)n.push(transformItem(e,r));return n}function useListItems(e){return{items:computed(()=>transformItems(e,e.items))}}const makeVListProps=propsFactory({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...makeNestedProps({selectStrategy:"single-leaf",openStrategy:"list"}),...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),itemType:{type:String,default:"type"},...makeItemsProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},"VList"),VList=genericComponent()({name:"VList",props:makeVListProps(),emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=useListItems(e),{themeClasses:o}=provideTheme(e),{backgroundColorClasses:s,backgroundColorStyles:a}=useBackgroundColor(toRef(e,"bgColor")),{borderClasses:c}=useBorder(e),{densityClasses:d}=useDensity(e),{dimensionStyles:f}=useDimension(e),{elevationClasses:m}=useElevation(e),{roundedClasses:v}=useRounded(e),{open:_,select:y}=useNested(e),C=computed(()=>e.lines?`v-list--${e.lines}-line`:void 0),S=toRef(e,"activeColor"),I=toRef(e,"baseColor"),T=toRef(e,"color");createList(),provideDefaults({VListGroup:{activeColor:S,baseColor:I,color:T},VListItem:{activeClass:toRef(e,"activeClass"),activeColor:S,baseColor:I,color:T,density:toRef(e,"density"),disabled:toRef(e,"disabled"),lines:toRef(e,"lines"),nav:toRef(e,"nav"),variant:toRef(e,"variant")}});const E=shallowRef(!1),x=ref$1();function P(B){E.value=!0}function V(B){E.value=!1}function R(B){var U;!E.value&&!(B.relatedTarget&&((U=x.value)==null?void 0:U.contains(B.relatedTarget)))&&D()}function M(B){if(!!x.value){if(B.key==="ArrowDown")D("next");else if(B.key==="ArrowUp")D("prev");else if(B.key==="Home")D("first");else if(B.key==="End")D("last");else return;B.preventDefault()}}function D(B){if(x.value)return focusChild(x.value,B)}return useRender(()=>createVNode(e.tag,{ref:x,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},o.value,s.value,c.value,d.value,m.value,C.value,v.value,e.class],style:[a.value,f.value,e.style],tabindex:e.disabled||E.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:P,onFocusout:V,onFocus:R,onKeydown:M},{default:()=>[createVNode(VListChildren,{items:r.value},n)]})),{open:_,select:y,focus:D}}}),_sfc_main$h={computed:{...mapState(useStore,["game","userSettings","display"])}};function _sfc_render$h(e,t,n,r,o,s){return openBlock(),createBlock(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.game.deck.heroes,a=>(openBlock(),createBlock(VCol,{cols:e.display.xs?12:4},{default:withCtx(()=>[createVNode(VCard,{variant:"outlined","min-height":"85px"},{default:withCtx(()=>[createVNode(VListItem,null,createSlots({default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(a.primary),1)]),_:2},1024),a.secondary?(openBlock(),createBlock(VListItemSubtitle,{key:0},{default:withCtx(()=>[createTextVNode(toDisplayString(a.secondary),1)]),_:2},1024)):createCommentVNode("",!0),a.colors?(openBlock(),createBlock(VListItemSubtitle,{key:1},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.colors,c=>(openBlock(),createBlock(VIcon,{color:c},{default:withCtx(()=>[createTextVNode(" mdi-circle ")]),_:2},1032,["color"]))),256))]),_:2},1024)):createCommentVNode("",!0)]),_:2},[a.special?{name:"append",fn:withCtx(()=>[createVNode(VIcon,{color:"error"},{default:withCtx(()=>[createTextVNode("mdi-star")]),_:1})]),key:"0"}:void 0]),1024)]),_:2},1024)]),_:2},1032,["cols"]))),256))]),_:1})]),_:1})}const Heroes=_export_sfc(_sfc_main$h,[["render",_sfc_render$h]]),EnemySection_vue_vue_type_style_index_0_lang="",_sfc_main$g={props:["enemy","section"],computed:{...mapState(useStore,["userSettings"]),label(){return lodash.exports.startCase(this.section)}}},_hoisted_1$6={class:"mb-3"},_hoisted_2$3={class:"mx-1 px-1"};function _sfc_render$g(e,t,n,r,o,s){return openBlock(),createElementBlock("fieldset",_hoisted_1$6,[createBaseVNode("legend",_hoisted_2$3,toDisplayString(s.label),1),createVNode(VList,{density:"compact","bg-color":e.userSettings.bgColors?e.userSettings.bgColors[n.section]:"",class:normalizeClass(e.userSettings.textColors?`text-${e.userSettings.textColors[n.section]}`:"")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.enemy,a=>(openBlock(),createBlock(VListItem,null,createSlots({default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-black",style:normalizeStyle(`color:${e.userSettings.textColors[n.section]}`)},{default:withCtx(()=>[createTextVNode(toDisplayString(a.primary),1)]),_:2},1032,["style"]),a.secondary&&a.secondary!="0"?(openBlock(),createBlock(VListItemSubtitle,{key:0,style:normalizeStyle(`color:${e.userSettings.textColors[n.section]}`)},{default:withCtx(()=>[createTextVNode(toDisplayString(a.secondary),1)]),_:2},1032,["style"])):createCommentVNode("",!0),a.colors?(openBlock(),createBlock(VListItemSubtitle,{key:1,style:normalizeStyle(`color:${e.userSettings.textColors[n.section]}`)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.colors,c=>(openBlock(),createBlock(VIcon,{color:c},{default:withCtx(()=>[createTextVNode(" mdi-circle ")]),_:2},1032,["color"]))),256))]),_:2},1032,["style"])):createCommentVNode("",!0)]),_:2},[a.special?{name:"append",fn:withCtx(()=>[createVNode(VIcon,{color:"black"},{default:withCtx(()=>[createTextVNode("mdi-star")]),_:1})]),key:"0"}:void 0]),1024))),256))]),_:1},8,["bg-color","class"])])}const EnemySection=_export_sfc(_sfc_main$g,[["render",_sfc_render$g]]),_sfc_main$f={components:{EnemySection},computed:{...mapState(useStore,["game","userSettings"])}};function _sfc_render$f(e,t,n,r,o,s){const a=resolveComponent("enemy-section");return openBlock(),createBlock(VContainer,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.userSettings.enemiesLayout,c=>(openBlock(),createElementBlock("div",null,[createVNode(a,{section:c,enemy:e.game.deck[c]},null,8,["section","enemy"])]))),256))]),_:1})}const Enemies=_export_sfc(_sfc_main$f,[["render",_sfc_render$f]]),VDialog$1="",makeVDialogProps=propsFactory({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...makeVOverlayProps({origin:"center center",scrollStrategy:"block",transition:{component:VDialogTransition},zIndex:2400})},"VDialog"),VDialog=genericComponent()({name:"VDialog",props:makeVDialogProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=useProxiedModel(e,"modelValue"),{scopeId:o}=useScopeId(),s=ref$1();function a(d){var v,_;const f=d.relatedTarget,m=d.target;if(f!==m&&((v=s.value)==null?void 0:v.contentEl)&&((_=s.value)==null?void 0:_.globalTop)&&![document,s.value.contentEl].includes(m)&&!s.value.contentEl.contains(m)){const y=focusableChildren(s.value.contentEl);if(!y.length)return;const C=y[0],S=y[y.length-1];f===C?S.focus():C.focus()}}IN_BROWSER&&watch(()=>r.value&&e.retainFocus,d=>{d?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0}),watch(r,async d=>{var f,m;await nextTick(),d?(f=s.value.contentEl)==null||f.focus({preventScroll:!0}):(m=s.value.activatorEl)==null||m.focus({preventScroll:!0})});const c=computed(()=>mergeProps({"aria-haspopup":"dialog","aria-expanded":String(r.value)},e.activatorProps));return useRender(()=>{const[d]=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:s,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},d,{modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,"aria-modal":"true",activatorProps:c.value,role:"dialog"},o),{activator:n.activator,default:function(){for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];return createVNode(VDefaultsProvider,{root:"VDialog"},{default:()=>{var _;return[(_=n.default)==null?void 0:_.call(n,...m)]}})}})}),forwardRefs({},s)}}),_sfc_main$e={props:["dialog"],data:()=>({search:null}),computed:{...mapState(useStore,["schemes"]),filteredList(){const e=this.schemes.sort((t,n)=>t.scheme_name<n.scheme_name?-1:1);return this.search?e.filter(({scheme_name:t})=>t.toLowerCase().includes(this.search.toLowerCase())):e}},methods:{...mapActions(useStore,["buildDeck"]),playScheme(e,t){this.buildDeck({numPlayers:t,schemeName:e.scheme_name}),this.dialog.visible=!1}}};function _sfc_render$e(e,t,n,r,o,s){return openBlock(),createBlock(VDialog,{modelValue:n.dialog.visible,"onUpdate:modelValue":t[2]||(t[2]=a=>n.dialog.visible=a),"max-width":"750px"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(" Specify Scheme ")]),_:1}),createVNode(VCardSubtitle,null,{default:withCtx(()=>[createVNode(VTextField,{label:"Search",modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=a=>e.search=a),clearable:"",onKeydown:t[1]||(t[1]=withKeys(a=>e.search=null,["esc"]))},null,8,["modelValue"])]),_:1}),createVNode(VContainer,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.filteredList,a=>(openBlock(),createBlock(VToolbar,{class:"my-1"},{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(a.scheme_name),1)]),_:2},1024),createVNode(VToolbarItems,null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList([1,2,3,4,5],c=>createVNode(VBtn,{onClick:d=>s.playScheme(a,c)},{default:withCtx(()=>[createTextVNode(toDisplayString(c),1)]),_:2},1032,["onClick"])),64))]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"])}const PlaySpecificScheme=_export_sfc(_sfc_main$e,[["render",_sfc_render$e]]),VCheckbox$1="",VSelectionControl$1="",VSelectionControlGroup$1="",VSelectionControlGroupSymbol=Symbol.for("vuetify:selection-control-group"),makeSelectionControlGroupProps=propsFactory({color:String,disabled:Boolean,defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:IconValue,trueIcon:IconValue,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:deepEqual$1},...makeComponentProps(),...makeDensityProps(),...makeThemeProps()},"SelectionControlGroup"),makeVSelectionControlGroupProps=propsFactory({...makeSelectionControlGroupProps({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),VSelectionControlGroup=genericComponent()({name:"VSelectionControlGroup",props:makeVSelectionControlGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=useProxiedModel(e,"modelValue"),o=getUid(),s=computed(()=>e.id||`v-selection-control-group-${o}`),a=computed(()=>e.name||s.value),c=new Set;return provide(VSelectionControlGroupSymbol,{modelValue:r,forceUpdate:()=>{c.forEach(d=>d())},onForceUpdate:d=>{c.add(d),onScopeDispose(()=>{c.delete(d)})}}),provideDefaults({[e.defaultsTarget]:{color:toRef(e,"color"),disabled:toRef(e,"disabled"),density:toRef(e,"density"),error:toRef(e,"error"),inline:toRef(e,"inline"),modelValue:r,multiple:computed(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:a,falseIcon:toRef(e,"falseIcon"),trueIcon:toRef(e,"trueIcon"),readonly:toRef(e,"readonly"),ripple:toRef(e,"ripple"),type:toRef(e,"type"),valueComparator:toRef(e,"valueComparator")}}),useRender(()=>{var d;return createVNode("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(d=n.default)==null?void 0:d.call(n)])}),{}}}),makeVSelectionControlProps=propsFactory({label:String,trueValue:null,falseValue:null,value:null,...makeComponentProps(),...makeSelectionControlGroupProps()},"VSelectionControl");function useSelectionControl(e){const t=inject$1(VSelectionControlGroupSymbol,void 0),{densityClasses:n}=useDensity(e),r=useProxiedModel(e,"modelValue"),o=computed(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),s=computed(()=>e.falseValue!==void 0?e.falseValue:!1),a=computed(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),c=computed({get(){const v=t?t.modelValue.value:r.value;return a.value?v.some(_=>e.valueComparator(_,o.value)):e.valueComparator(v,o.value)},set(v){if(e.readonly)return;const _=v?o.value:s.value;let y=_;a.value&&(y=v?[...wrapInArray(r.value),_]:wrapInArray(r.value).filter(C=>!e.valueComparator(C,o.value))),t?t.modelValue.value=y:r.value=y}}),{textColorClasses:d,textColorStyles:f}=useTextColor(computed(()=>c.value&&!e.error&&!e.disabled?e.color:void 0)),m=computed(()=>c.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:o,falseValue:s,model:c,textColorClasses:d,textColorStyles:f,icon:m}}const VSelectionControl=genericComponent()({name:"VSelectionControl",directives:{Ripple},inheritAttrs:!1,props:makeVSelectionControlProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{group:o,densityClasses:s,icon:a,model:c,textColorClasses:d,textColorStyles:f,trueValue:m}=useSelectionControl(e),v=getUid(),_=computed(()=>e.id||`input-${v}`),y=shallowRef(!1),C=shallowRef(!1),S=ref$1();o==null||o.onForceUpdate(()=>{S.value&&(S.value.checked=c.value)});function I(x){y.value=!0,(!SUPPORTS_FOCUS_VISIBLE||SUPPORTS_FOCUS_VISIBLE&&x.target.matches(":focus-visible"))&&(C.value=!0)}function T(){y.value=!1,C.value=!1}function E(x){e.readonly&&o&&nextTick(()=>o.forceUpdate()),c.value=x.target.checked}return useRender(()=>{var R,M;const x=r.label?r.label({label:e.label,props:{for:_.value}}):e.label,[P,V]=filterInputAttrs(n);return createVNode("div",mergeProps({class:["v-selection-control",{"v-selection-control--dirty":c.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":y.value,"v-selection-control--focus-visible":C.value,"v-selection-control--inline":e.inline},s.value,e.class]},P,{style:e.style}),[createVNode("div",{class:["v-selection-control__wrapper",d.value],style:f.value},[(R=r.default)==null?void 0:R.call(r),withDirectives(createVNode("div",{class:["v-selection-control__input"]},[a.value&&createVNode(VIcon,{key:"icon",icon:a.value},null),createVNode("input",mergeProps({ref:S,checked:c.value,disabled:e.disabled,id:_.value,onBlur:T,onFocus:I,onInput:E,"aria-disabled":e.readonly,type:e.type,value:m.value,name:e.name,"aria-checked":e.type==="checkbox"?c.value:void 0},V),null),(M=r.input)==null?void 0:M.call(r,{model:c,textColorClasses:d,textColorStyles:f,props:{onFocus:I,onBlur:T,id:_.value}})]),[[resolveDirective("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),x&&createVNode(VLabel,{for:_.value,clickable:!0},{default:()=>[x]})])}),{isFocused:y,input:S}}}),makeVCheckboxBtnProps=propsFactory({indeterminate:Boolean,indeterminateIcon:{type:IconValue,default:"$checkboxIndeterminate"},...makeVSelectionControlProps({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),VCheckboxBtn=genericComponent()({name:"VCheckboxBtn",props:makeVCheckboxBtnProps(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const r=useProxiedModel(e,"indeterminate"),o=useProxiedModel(e,"modelValue");function s(d){r.value&&(r.value=!1)}const a=computed(()=>r.value?e.indeterminateIcon:e.falseIcon),c=computed(()=>r.value?e.indeterminateIcon:e.trueIcon);return useRender(()=>createVNode(VSelectionControl,mergeProps(e,{modelValue:o.value,"onUpdate:modelValue":[d=>o.value=d,s],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:a.value,trueIcon:c.value,"aria-checked":r.value?"mixed":void 0}),n)),{}}}),makeVCheckboxProps=propsFactory({...makeVInputProps(),...omit(makeVCheckboxBtnProps(),["inline"])},"VCheckbox"),VCheckbox=genericComponent()({name:"VCheckbox",inheritAttrs:!1,props:makeVCheckboxProps(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const o=useProxiedModel(e,"modelValue"),{isFocused:s,focus:a,blur:c}=useFocus(e),d=getUid(),f=computed(()=>e.id||`checkbox-${d}`);return useRender(()=>{const[m,v]=filterInputAttrs(n),[_,y]=VInput.filterProps(e),[C,S]=VCheckboxBtn.filterProps(e);return createVNode(VInput,mergeProps({class:["v-checkbox",e.class]},m,_,{modelValue:o.value,"onUpdate:modelValue":I=>o.value=I,id:f.value,focused:s.value,style:e.style}),{...r,default:I=>{let{id:T,messagesId:E,isDisabled:x,isReadonly:P}=I;return createVNode(VCheckboxBtn,mergeProps(C,{id:T.value,"aria-describedby":E.value,disabled:x.value,readonly:P.value},v,{modelValue:o.value,"onUpdate:modelValue":V=>o.value=V,onFocus:a,onBlur:c}),r)}})}),{}}}),VMenu$1="",makeVMenuProps=propsFactory({id:String,...omit(makeVOverlayProps({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:VDialogTransition}}),["absolute"])},"VMenu"),VMenu=genericComponent()({name:"VMenu",props:makeVMenuProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=useProxiedModel(e,"modelValue"),{scopeId:o}=useScopeId(),s=getUid(),a=computed(()=>e.id||`v-menu-${s}`),c=ref$1(),d=inject$1(VMenuSymbol,null),f=shallowRef(0);provide(VMenuSymbol,{register(){++f.value},unregister(){--f.value},closeParents(){setTimeout(()=>{f.value||(r.value=!1,d==null||d.closeParents())},40)}}),watch(r,C=>{C?d==null||d.register():d==null||d.unregister()});function m(){d==null||d.closeParents()}function v(C){var S,I;e.disabled||C.key==="Tab"&&(r.value=!1,(I=(S=c.value)==null?void 0:S.activatorEl)==null||I.focus())}function _(C){var I;if(e.disabled)return;const S=(I=c.value)==null?void 0:I.contentEl;S&&r.value?C.key==="ArrowDown"?(C.preventDefault(),focusChild(S,"next")):C.key==="ArrowUp"&&(C.preventDefault(),focusChild(S,"prev")):["ArrowDown","ArrowUp"].includes(C.key)&&(r.value=!0,C.preventDefault(),setTimeout(()=>setTimeout(()=>_(C))))}const y=computed(()=>mergeProps({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":a.value,onKeydown:_},e.activatorProps));return useRender(()=>{const[C]=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:c,class:["v-menu",e.class],style:e.style},C,{modelValue:r.value,"onUpdate:modelValue":S=>r.value=S,absolute:!0,activatorProps:y.value,"onClick:outside":m,onKeydown:v},o),{activator:n.activator,default:function(){for(var S=arguments.length,I=new Array(S),T=0;T<S;T++)I[T]=arguments[T];return createVNode(VDefaultsProvider,{root:"VMenu"},{default:()=>{var E;return[(E=n.default)==null?void 0:E.call(n,...I)]}})}})}),forwardRefs({id:a,\u03A8openChildren:f},c)}}),VTabs$1="",VTab$1="",VTabsSymbol=Symbol.for("vuetify:v-tabs"),makeVTabProps=propsFactory({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...omit(makeVBtnProps({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),VTab=genericComponent()({name:"VTab",props:makeVTabProps(),setup(e,t){let{slots:n,attrs:r}=t;const{textColorClasses:o,textColorStyles:s}=useTextColor(e,"sliderColor"),a=computed(()=>e.direction==="horizontal"),c=shallowRef(!1),d=ref$1(),f=ref$1();function m(v){var y,C;let{value:_}=v;if(c.value=_,_){const S=(C=(y=d.value)==null?void 0:y.$el.parentElement)==null?void 0:C.querySelector(".v-tab--selected .v-tab__slider"),I=f.value;if(!S||!I)return;const T=getComputedStyle(S).color,E=S.getBoundingClientRect(),x=I.getBoundingClientRect(),P=a.value?"x":"y",V=a.value?"X":"Y",R=a.value?"right":"bottom",M=a.value?"width":"height",D=E[P],B=x[P],U=D>B?E[R]-x[R]:E[P]-x[P],j=Math.sign(U)>0?a.value?"right":"bottom":Math.sign(U)<0?a.value?"left":"top":"center",W=(Math.abs(U)+(Math.sign(U)<0?E[M]:x[M]))/Math.max(E[M],x[M]),$=E[M]/x[M],te=1.5;animate(I,{backgroundColor:[T,""],transform:[`translate${V}(${U}px) scale${V}(${$})`,`translate${V}(${U/te}px) scale${V}(${(W-1)/te+1})`,""],transformOrigin:Array(3).fill(j)},{duration:225,easing:standardEasing})}}return useRender(()=>{const[v]=VBtn.filterProps(e);return createVNode(VBtn,mergeProps({symbol:VTabsSymbol,ref:d,class:["v-tab",e.class],style:e.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1,block:e.fixed,maxWidth:e.fixed?300:void 0,rounded:0},v,r,{"onGroup:selected":m}),{default:()=>{var _,y;return[(y=(_=n.default)==null?void 0:_.call(n))!=null?y:e.text,!e.hideSlider&&createVNode("div",{ref:f,class:["v-tab__slider",o.value],style:s.value},null)]}})}),{}}}),VSlideGroup$1="";function bias(e){const n=Math.abs(e);return Math.sign(e)*(n/((1/.501-2)*(1-n)+1))}function calculateUpdatedOffset(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:o,currentScrollOffset:s,isHorizontal:a}=e;const c=a?t.clientWidth:t.clientHeight,d=a?t.offsetLeft:t.offsetTop,f=o&&a?r-d-c:d,m=n+s,v=c+f,_=c*.4;return f<=s?s=Math.max(f-_,0):m<=v&&(s=Math.min(s-(m-v-_),r-n)),s}function calculateCenteredOffset(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:o,isHorizontal:s}=e;const a=s?t.clientWidth:t.clientHeight,c=s?t.offsetLeft:t.offsetTop,d=o&&s?r-c-a/2-n/2:c+a/2-n/2;return Math.min(r-n,Math.max(0,d))}const VSlideGroupSymbol=Symbol.for("vuetify:v-slide-group"),makeVSlideGroupProps=propsFactory({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:VSlideGroupSymbol},nextIcon:{type:IconValue,default:"$next"},prevIcon:{type:IconValue,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...makeComponentProps(),...makeTagProps(),...makeGroupProps({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),VSlideGroup=genericComponent()({name:"VSlideGroup",props:makeVSlideGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=useRtl(),{mobile:o}=useDisplay(),s=useGroup(e,e.symbol),a=shallowRef(!1),c=shallowRef(0),d=shallowRef(0),f=shallowRef(0),m=computed(()=>e.direction==="horizontal"),{resizeRef:v,contentRect:_}=useResizeObserver(),{resizeRef:y,contentRect:C}=useResizeObserver(),S=computed(()=>s.selected.value.length?s.items.value.findIndex(de=>de.id===s.selected.value[0]):-1),I=computed(()=>s.selected.value.length?s.items.value.findIndex(de=>de.id===s.selected.value[s.selected.value.length-1]):-1);if(IN_BROWSER){let de=-1;watch(()=>[s.selected.value,_.value,C.value,m.value],()=>{cancelAnimationFrame(de),de=requestAnimationFrame(()=>{if(_.value&&C.value){const me=m.value?"width":"height";d.value=_.value[me],f.value=C.value[me],a.value=d.value+1<f.value}if(S.value>=0&&y.value){const me=y.value.children[I.value];S.value===0||!a.value?c.value=0:e.centerActive?c.value=calculateCenteredOffset({selectedElement:me,containerSize:d.value,contentSize:f.value,isRtl:r.value,isHorizontal:m.value}):a.value&&(c.value=calculateUpdatedOffset({selectedElement:me,containerSize:d.value,contentSize:f.value,isRtl:r.value,currentScrollOffset:c.value,isHorizontal:m.value}))}})})}const T=shallowRef(!1);let E=0,x=0;function P(de){const me=m.value?"clientX":"clientY";x=(r.value&&m.value?-1:1)*c.value,E=de.touches[0][me],T.value=!0}function V(de){if(!a.value)return;const me=m.value?"clientX":"clientY",Ee=r.value&&m.value?-1:1;c.value=Ee*(x+E-de.touches[0][me])}function R(de){const me=f.value-d.value;c.value<0||!a.value?c.value=0:c.value>=me&&(c.value=me),T.value=!1}function M(){!v.value||(v.value[m.value?"scrollLeft":"scrollTop"]=0)}const D=shallowRef(!1);function B(de){if(D.value=!0,!(!a.value||!y.value)){for(const me of de.composedPath())for(const Ee of y.value.children)if(Ee===me){c.value=calculateUpdatedOffset({selectedElement:Ee,containerSize:d.value,contentSize:f.value,isRtl:r.value,currentScrollOffset:c.value,isHorizontal:m.value});return}}}function U(de){D.value=!1}function j(de){var me;!D.value&&!(de.relatedTarget&&((me=y.value)==null?void 0:me.contains(de.relatedTarget)))&&W()}function z(de){!y.value||(m.value?de.key==="ArrowRight"?W(r.value?"prev":"next"):de.key==="ArrowLeft"&&W(r.value?"next":"prev"):de.key==="ArrowDown"?W("next"):de.key==="ArrowUp"&&W("prev"),de.key==="Home"?W("first"):de.key==="End"&&W("last"))}function W(de){var me,Ee,Ue,$e,Qe;if(!!y.value)if(!de)(me=focusableChildren(y.value)[0])==null||me.focus();else if(de==="next"){const ie=(Ee=y.value.querySelector(":focus"))==null?void 0:Ee.nextElementSibling;ie?ie.focus():W("first")}else if(de==="prev"){const ie=(Ue=y.value.querySelector(":focus"))==null?void 0:Ue.previousElementSibling;ie?ie.focus():W("last")}else de==="first"?($e=y.value.firstElementChild)==null||$e.focus():de==="last"&&((Qe=y.value.lastElementChild)==null||Qe.focus())}function $(de){const me=c.value+(de==="prev"?-1:1)*d.value;c.value=clamp(me,0,f.value-d.value)}const te=computed(()=>{let de=c.value>f.value-d.value?-(f.value-d.value)+bias(f.value-d.value-c.value):-c.value;c.value<=0&&(de=bias(-c.value));const me=r.value&&m.value?-1:1;return{transform:`translate${m.value?"X":"Y"}(${me*de}px)`,transition:T.value?"none":"",willChange:T.value?"transform":""}}),X=computed(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),ue=computed(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!o.value;case!0:return a.value||Math.abs(c.value)>0;case"mobile":return o.value||a.value||Math.abs(c.value)>0;default:return!o.value&&(a.value||Math.abs(c.value)>0)}}),K=computed(()=>Math.abs(c.value)>0),pe=computed(()=>f.value>Math.abs(c.value)+d.value);return useRender(()=>createVNode(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!m.value,"v-slide-group--has-affixes":ue.value,"v-slide-group--is-overflowing":a.value},e.class],style:e.style,tabindex:D.value||s.selected.value.length?-1:0,onFocus:j},{default:()=>{var de,me,Ee,Ue,$e;return[ue.value&&createVNode("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!K.value}],onClick:()=>$("prev")},[(me=(de=n.prev)==null?void 0:de.call(n,X.value))!=null?me:createVNode(VFadeTransition,null,{default:()=>[createVNode(VIcon,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),createVNode("div",{key:"container",ref:v,class:"v-slide-group__container",onScroll:M},[createVNode("div",{ref:y,class:"v-slide-group__content",style:te.value,onTouchstartPassive:P,onTouchmovePassive:V,onTouchendPassive:R,onFocusin:B,onFocusout:U,onKeydown:z},[(Ee=n.default)==null?void 0:Ee.call(n,X.value)])]),ue.value&&createVNode("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!pe.value}],onClick:()=>$("next")},[($e=(Ue=n.next)==null?void 0:Ue.call(n,X.value))!=null?$e:createVNode(VFadeTransition,null,{default:()=>[createVNode(VIcon,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:s.selected,scrollTo:$,scrollOffset:c,focus:W}}});function parseItems(e){return e?e.map(t=>typeof t=="string"?{title:t,value:t}:t):[]}const makeVTabsProps=propsFactory({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...makeVSlideGroupProps({mandatory:"force"}),...makeDensityProps(),...makeTagProps()},"VTabs"),VTabs=genericComponent()({name:"VTabs",props:makeVTabsProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=useProxiedModel(e,"modelValue"),o=computed(()=>parseItems(e.items)),{densityClasses:s}=useDensity(e),{backgroundColorClasses:a,backgroundColorStyles:c}=useBackgroundColor(toRef(e,"bgColor"));return provideDefaults({VTab:{color:toRef(e,"color"),direction:toRef(e,"direction"),stacked:toRef(e,"stacked"),fixed:toRef(e,"fixedTabs"),sliderColor:toRef(e,"sliderColor"),hideSlider:toRef(e,"hideSlider")}}),useRender(()=>{const[d]=VSlideGroup.filterProps(e);return createVNode(VSlideGroup,mergeProps(d,{modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,a.value,e.class],style:[{"--v-tabs-height":convertToUnit(e.height)},c.value,e.style],role:"tablist",symbol:VTabsSymbol}),{default:()=>[n.default?n.default():o.value.map(f=>createVNode(VTab,mergeProps(f,{key:f.title}),null))]})}),{}}}),VWindow$1="",handleGesture=e=>{const{touchstartX:t,touchendX:n,touchstartY:r,touchendY:o}=e,s=.5,a=16;e.offsetX=n-t,e.offsetY=o-r,Math.abs(e.offsetY)<s*Math.abs(e.offsetX)&&(e.left&&n<t-a&&e.left(e),e.right&&n>t+a&&e.right(e)),Math.abs(e.offsetX)<s*Math.abs(e.offsetY)&&(e.up&&o<r-a&&e.up(e),e.down&&o>r+a&&e.down(e))};function touchstart(e,t){var r;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function touchend(e,t){var r;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),handleGesture(t)}function touchmove(e,t){var r;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function createHandlers(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>touchstart(n,t),touchend:n=>touchend(n,t),touchmove:n=>touchmove(n,t)}}function mounted(e,t){var c,d,f;const n=t.value,r=n!=null&&n.parent?e.parentElement:e,o=(c=n==null?void 0:n.options)!=null?c:{passive:!0},s=(d=t.instance)==null?void 0:d.$.uid;if(!r||!s)return;const a=createHandlers(t.value);r._touchHandlers=(f=r._touchHandlers)!=null?f:Object.create(null),r._touchHandlers[s]=a,keys(a).forEach(m=>{r.addEventListener(m,a[m],o)})}function unmounted(e,t){var s,a;const n=(s=t.value)!=null&&s.parent?e.parentElement:e,r=(a=t.instance)==null?void 0:a.$.uid;if(!(n!=null&&n._touchHandlers)||!r)return;const o=n._touchHandlers[r];keys(o).forEach(c=>{n.removeEventListener(c,o[c])}),delete n._touchHandlers[r]}const Touch={mounted,unmounted},Touch$1=Touch,VWindowSymbol=Symbol.for("vuetify:v-window"),VWindowGroupSymbol=Symbol.for("vuetify:v-window-group"),makeVWindowProps=propsFactory({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...makeComponentProps(),...makeTagProps(),...makeThemeProps()},"VWindow"),VWindow=genericComponent()({name:"VWindow",directives:{Touch},props:makeVWindowProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=provideTheme(e),{isRtl:o}=useRtl(),{t:s}=useLocale(),a=useGroup(e,VWindowGroupSymbol),c=ref$1(),d=computed(()=>o.value?!e.reverse:e.reverse),f=shallowRef(!1),m=computed(()=>{const P=e.direction==="vertical"?"y":"x",R=(d.value?!f.value:f.value)?"-reverse":"";return`v-window-${P}${R}-transition`}),v=shallowRef(0),_=ref$1(void 0),y=computed(()=>a.items.value.findIndex(P=>a.selected.value.includes(P.id)));watch(y,(P,V)=>{const R=a.items.value.length,M=R-1;R<=2?f.value=P<V:P===M&&V===0?f.value=!0:P===0&&V===M?f.value=!1:f.value=P<V}),provide(VWindowSymbol,{transition:m,isReversed:f,transitionCount:v,transitionHeight:_,rootRef:c});const C=computed(()=>e.continuous||y.value!==0),S=computed(()=>e.continuous||y.value!==a.items.value.length-1);function I(){C.value&&a.prev()}function T(){S.value&&a.next()}const E=computed(()=>{const P=[],V={icon:o.value?e.nextIcon:e.prevIcon,class:`v-window__${d.value?"right":"left"}`,onClick:a.prev,ariaLabel:s("$vuetify.carousel.prev")};P.push(C.value?n.prev?n.prev({props:V}):createVNode(VBtn,V,null):createVNode("div",null,null));const R={icon:o.value?e.prevIcon:e.nextIcon,class:`v-window__${d.value?"left":"right"}`,onClick:a.next,ariaLabel:s("$vuetify.carousel.next")};return P.push(S.value?n.next?n.next({props:R}):createVNode(VBtn,R,null):createVNode("div",null,null)),P}),x=computed(()=>e.touch===!1?e.touch:{...{left:()=>{d.value?I():T()},right:()=>{d.value?T():I()},start:V=>{let{originalEvent:R}=V;R.stopPropagation()}},...e.touch===!0?{}:e.touch});return useRender(()=>withDirectives(createVNode(e.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class],style:e.style},{default:()=>{var P,V;return[createVNode("div",{class:"v-window__container",style:{height:_.value}},[(P=n.default)==null?void 0:P.call(n,{group:a}),e.showArrows!==!1&&createVNode("div",{class:"v-window__controls"},[E.value])]),(V=n.additional)==null?void 0:V.call(n,{group:a})]}}),[[resolveDirective("touch"),x.value]])),{group:a}}}),makeVWindowItemProps=propsFactory({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...makeComponentProps(),...makeGroupItemProps(),...makeLazyProps()},"VWindowItem"),VWindowItem=genericComponent()({name:"VWindowItem",directives:{Touch:Touch$1},props:makeVWindowItemProps(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=inject$1(VWindowSymbol),o=useGroupItem(e,VWindowGroupSymbol),{isBooted:s}=useSsrBoot();if(!r||!o)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=shallowRef(!1),c=computed(()=>s.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function d(){!a.value||!r||(a.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function f(){var C;a.value||!r||(a.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=convertToUnit((C=r.rootRef.value)==null?void 0:C.clientHeight)),r.transitionCount.value+=1)}function m(){d()}function v(C){!a.value||nextTick(()=>{!c.value||!a.value||!r||(r.transitionHeight.value=convertToUnit(C.clientHeight))})}const _=computed(()=>{const C=r.isReversed.value?e.reverseTransition:e.transition;return c.value?{name:typeof C!="string"?r.transition.value:C,onBeforeEnter:f,onAfterEnter:d,onEnterCancelled:m,onBeforeLeave:f,onAfterLeave:d,onLeaveCancelled:m,onEnter:v}:!1}),{hasContent:y}=useLazy(e,o.isSelected);return useRender(()=>createVNode(MaybeTransition,{transition:_.value,disabled:!s.value},{default:()=>{var C;return[withDirectives(createVNode("div",{class:["v-window-item",o.selectedClass.value,e.class],style:e.style},[y.value&&((C=n.default)==null?void 0:C.call(n))]),[[vShow,o.isSelected.value]])]}})),{}}}),_sfc_main$d={components:{Heroes,Enemies,PlaySpecificScheme},data(){return{specScheme:{visible:!1},tab:0,menuItems:[{name:"Clear Game",icon:"mdi-close-circle-outline",action:()=>{this.updateGame(null)}},{name:"Settings",icon:"mdi-cogs",path:"/settings"},{name:"Play Specific Scheme",icon:"mdi-cog-play",action:()=>{this.specScheme.visible=!0}},{name:"Select For Portability",icon:"mdi-package-variant-closed",path:"/portable"},{name:"Keywords",icon:"mdi-key",path:"/keywords"},{name:"Admin",icon:"mdi-cog",path:"/admin",requireAdmin:!0},{name:"Sign Out",icon:"mdi-logout",action:()=>{this.logOut(this.$router)}}]}},computed:{...mapState(useStore,["userSettings","display","gameLoaded","game","showMarkPlayed"]),menuItemsComputed(){return this.menuItems.filter(e=>!e.requireAdmin||this.userSettings.isAdmin)},portableVal(){return this.userSettings.usePortable}},watch:{portableVal(){this.usePortable()}},methods:{...mapActions(useStore,["getUniversalData","getUserData","logOut","buildDeck","markPlayed","updateGame","usePortable"]),pullData(){this.getUserData("game").then(()=>{this.getUserData("userSettings")}).then(()=>{this.getUniversalData()})}},mounted(){this.pullData()}},_hoisted_1$5={key:0,class:"text-center mt-12"},_hoisted_2$2={key:1,class:"text-right mr-2 mt-2"};function _sfc_render$d(e,t,n,r,o,s){const a=resolveComponent("heroes"),c=resolveComponent("enemies"),d=resolveComponent("play-specific-scheme");return openBlock(),createElementBlock(Fragment,null,[createVNode(VToolbar,{density:"compact",color:"grey"},{default:withCtx(()=>[createVNode(VBtnGroup,{density:"compact",class:"ml-1"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(5,f=>createVNode(VBtn,{color:"grey",size:"small",class:"text-white font-weight-black",onClick:m=>e.buildDeck({numPlayers:f})},{default:withCtx(()=>[createTextVNode(toDisplayString(f),1)]),_:2},1032,["onClick"])),64))]),_:1}),createVNode(VSpacer),e.showMarkPlayed?(openBlock(),createBlock(VBtn,{key:0,icon:"mdi-check-outline",size:"small",onClick:e.markPlayed},null,8,["onClick"])):createCommentVNode("",!0),createVNode(VSpacer),createVNode(VMenu,null,{activator:withCtx(({props:f})=>[createVNode(VBtn,mergeProps(f,{icon:"mdi-dots-vertical"}),null,16)]),default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.menuItemsComputed,f=>(openBlock(),createBlock(VListItem,{to:f.path||"",onClick:f.action},{prepend:withCtx(()=>[createVNode(VIcon,{icon:f.icon},null,8,["icon"])]),default:withCtx(()=>[createVNode(VListItemTitle,{textContent:toDisplayString(f.name)},null,8,["textContent"])]),_:2},1032,["to","onClick"]))),256))]),_:1})]),_:1})]),_:1})]),_:1}),!e.game&&e.gameLoaded?(openBlock(),createElementBlock("div",_hoisted_1$5,[createTextVNode(" Select the number of players. "),createVNode(VCheckbox,{"hide-details":"",label:"Portable",modelValue:e.userSettings.usePortable,"onUpdate:modelValue":t[0]||(t[0]=f=>e.userSettings.usePortable=f)},null,8,["modelValue"])])):createCommentVNode("",!0),e.game?(openBlock(),createElementBlock("div",_hoisted_2$2,[createVNode(VCheckbox,{"hide-details":"",label:"Portable",modelValue:e.userSettings.usePortable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.userSettings.usePortable=f)},null,8,["modelValue"]),createTextVNode(" Bystanders: "+toDisplayString(e.game.setup.bystanders),1)])):createCommentVNode("",!0),e.game&&e.gameLoaded?(openBlock(),createBlock(VToolbar,{key:2,flat:"",color:"transparent",density:"compact"},{default:withCtx(()=>[createVNode(VTabs,{modelValue:o.tab,"onUpdate:modelValue":t[2]||(t[2]=f=>o.tab=f),density:"compact"},{default:withCtx(()=>[createVNode(VTab,null,{default:withCtx(()=>[createTextVNode("Heroes")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode("Enemies")]),_:1})]),_:1},8,["modelValue"])]),_:1})):createCommentVNode("",!0),e.game&&e.gameLoaded?(openBlock(),createBlock(VWindow,{key:3,modelValue:o.tab,"onUpdate:modelValue":t[3]||(t[3]=f=>o.tab=f)},{default:withCtx(()=>[createVNode(VWindowItem,null,{default:withCtx(()=>[e.game?(openBlock(),createBlock(a,{key:0})):createCommentVNode("",!0)]),_:1}),createVNode(VWindowItem,null,{default:withCtx(()=>[e.game?(openBlock(),createBlock(c,{key:0})):createCommentVNode("",!0)]),_:1})]),_:1},8,["modelValue"])):createCommentVNode("",!0),createVNode(d,{dialog:o.specScheme},null,8,["dialog"])],64)}const Dashboard=_export_sfc(_sfc_main$d,[["render",_sfc_render$d]]),VColorPicker$1="",VColorPickerCanvas$1="",makeVColorPickerCanvasProps=propsFactory({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...makeComponentProps()},"VColorPickerCanvas"),VColorPickerCanvas=defineComponent({name:"VColorPickerCanvas",props:makeVColorPickerCanvasProps(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const r=shallowRef(!1),o=shallowRef(!1),s=ref$1({x:0,y:0}),a=computed(()=>{const{x:T,y:E}=s.value,x=parseInt(e.dotSize,10)/2;return{width:convertToUnit(e.dotSize),height:convertToUnit(e.dotSize),transform:`translate(${convertToUnit(T-x)}, ${convertToUnit(E-x)})`}}),c=ref$1(),d=shallowRef(parseFloat(e.width)),f=shallowRef(parseFloat(e.height)),{resizeRef:m}=useResizeObserver(T=>{var P;if(!((P=m.value)!=null&&P.offsetParent))return;const{width:E,height:x}=T[0].contentRect;d.value=E,f.value=x});function v(T,E,x){const{left:P,top:V,width:R,height:M}=x;s.value={x:clamp(T-P,0,R),y:clamp(E-V,0,M)}}function _(T){e.disabled||!c.value||v(T.clientX,T.clientY,c.value.getBoundingClientRect())}function y(T){T.preventDefault(),!e.disabled&&(r.value=!0,window.addEventListener("mousemove",C),window.addEventListener("mouseup",S),window.addEventListener("touchmove",C),window.addEventListener("touchend",S))}function C(T){if(e.disabled||!c.value)return;r.value=!0;const E=getEventCoordinates(T);v(E.clientX,E.clientY,c.value.getBoundingClientRect())}function S(){window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",S),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",S)}watch(s,()=>{var x,P,V,R;if(o.value){o.value=!1;return}if(!c.value)return;const{x:T,y:E}=s.value;n("update:color",{h:(P=(x=e.color)==null?void 0:x.h)!=null?P:0,s:clamp(T,0,d.value)/d.value,v:1-clamp(E,0,f.value)/f.value,a:(R=(V=e.color)==null?void 0:V.a)!=null?R:1})});function I(){var V,R;if(!c.value)return;const T=c.value,E=T.getContext("2d");if(!E)return;const x=E.createLinearGradient(0,0,T.width,0);x.addColorStop(0,"hsla(0, 0%, 100%, 1)"),x.addColorStop(1,`hsla(${(R=(V=e.color)==null?void 0:V.h)!=null?R:0}, 100%, 50%, 1)`),E.fillStyle=x,E.fillRect(0,0,T.width,T.height);const P=E.createLinearGradient(0,0,0,T.height);P.addColorStop(0,"hsla(0, 0%, 100%, 0)"),P.addColorStop(1,"hsla(0, 0%, 0%, 1)"),E.fillStyle=P,E.fillRect(0,0,T.width,T.height)}return watch(()=>{var T;return(T=e.color)==null?void 0:T.h},I,{immediate:!0}),watch(()=>[d.value,f.value],(T,E)=>{I(),s.value={x:s.value.x*T[0]/E[0],y:s.value.y*T[1]/E[1]}},{flush:"post"}),watch(()=>e.color,()=>{if(r.value){r.value=!1;return}o.value=!0,s.value=e.color?{x:e.color.s*d.value,y:(1-e.color.v)*f.value}:{x:0,y:0}},{deep:!0,immediate:!0}),onMounted(()=>I()),useRender(()=>createVNode("div",{ref:m,class:["v-color-picker-canvas",e.class],style:e.style,onClick:_,onMousedown:y,onTouchstart:y},[createVNode("canvas",{ref:c,width:d.value,height:f.value},null),e.color&&createVNode("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:a.value},null)])),{}}}),VColorPickerEdit$1="";function stripAlpha(e,t){if(t){const{a:n,...r}=e;return r}return e}function extractColor(e,t){if(t==null||typeof t=="string"){const n=HSVtoHex(e);return e.a===1?n.slice(0,7):n}if(typeof t=="object"){let n;return has$1(t,["r","g","b"])?n=HSVtoRGB(e):has$1(t,["h","s","l"])?n=HSVtoHSL(e):has$1(t,["h","s","v"])&&(n=e),stripAlpha(n,!has$1(t,["a"])&&e.a===1)}return e}const nullColor={h:0,s:0,v:1,a:1},rgba={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:HSVtoRGB,from:RGBtoHSV};var Ya;const rgb={...rgba,inputs:(Ya=rgba.inputs)==null?void 0:Ya.slice(0,3)},hsla={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:HSVtoHSL,from:HSLtoHSV},hsl={...hsla,inputs:hsla.inputs.slice(0,3)},hexa={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:HSVtoHex,from:HexToHSV},hex={...hexa,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},modes={rgb,rgba,hsl,hsla,hex,hexa},VColorPickerInput=e=>{let{label:t,...n}=e;return createVNode("div",{class:"v-color-picker-edit__input"},[createVNode("input",n,null),createVNode("span",null,[t])])},makeVColorPickerEditProps=propsFactory({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(modes).includes(e)},modes:{type:Array,default:()=>Object.keys(modes),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(modes).includes(t))},...makeComponentProps()},"VColorPickerEdit"),VColorPickerEdit=defineComponent({name:"VColorPickerEdit",props:makeVColorPickerEditProps(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const r=computed(()=>e.modes.map(s=>({...modes[s],name:s}))),o=computed(()=>{var c;const s=r.value.find(d=>d.name===e.mode);if(!s)return[];const a=e.color?s.to(e.color):null;return(c=s.inputs)==null?void 0:c.map(d=>{let{getValue:f,getColor:m,...v}=d;return{...s.inputProps,...v,disabled:e.disabled,value:a&&f(a),onChange:_=>{const y=_.target;!y||n("update:color",s.from(m(a!=null?a:nullColor,y.value)))}}})});return useRender(()=>{var s;return createVNode("div",{class:["v-color-picker-edit",e.class],style:e.style},[(s=o.value)==null?void 0:s.map(a=>createVNode(VColorPickerInput,a,null)),r.value.length>1&&createVNode(VBtn,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const a=r.value.findIndex(c=>c.name===e.mode);n("update:mode",r.value[(a+1)%r.value.length].name)}},null)])}),{}}}),VColorPickerPreview$1="",VSlider$1="",VSliderThumb$1="",VSliderSymbol=Symbol.for("vuetify:v-slider");function getOffset(e,t,n){const r=n==="vertical",o=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return r?s.clientY-(o.top+o.height/2):s.clientX-(o.left+o.width/2)}function getPosition(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const makeSliderProps=propsFactory({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...makeRoundedProps(),...makeElevationProps({elevation:2})},"Slider"),useSteps=e=>{const t=computed(()=>parseFloat(e.min)),n=computed(()=>parseFloat(e.max)),r=computed(()=>+e.step>0?parseFloat(e.step):0),o=computed(()=>Math.max(getDecimals(r.value),getDecimals(t.value)));function s(a){if(r.value<=0)return a;const c=clamp(a,t.value,n.value),d=t.value%r.value,f=Math.round((c-d)/r.value)*r.value+d;return parseFloat(Math.min(f,n.value).toFixed(o.value))}return{min:t,max:n,step:r,decimals:o,roundValue:s}},useSlider=e=>{let{props:t,steps:n,onSliderStart:r,onSliderMove:o,onSliderEnd:s,getActiveThumb:a}=e;const{isRtl:c}=useRtl(),d=toRef(t,"reverse"),f=computed(()=>{let ie=c.value?"rtl":"ltr";return t.reverse&&(ie=ie==="rtl"?"ltr":"rtl"),ie}),{min:m,max:v,step:_,decimals:y,roundValue:C}=n,S=computed(()=>parseInt(t.thumbSize,10)),I=computed(()=>parseInt(t.tickSize,10)),T=computed(()=>parseInt(t.trackSize,10)),E=computed(()=>(v.value-m.value)/_.value),x=toRef(t,"disabled"),P=computed(()=>t.direction==="vertical"),V=computed(()=>{var ie;return t.error||t.disabled?void 0:(ie=t.thumbColor)!=null?ie:t.color}),R=computed(()=>{var ie;return t.error||t.disabled?void 0:(ie=t.trackColor)!=null?ie:t.color}),M=computed(()=>{var ie;return t.error||t.disabled?void 0:(ie=t.trackFillColor)!=null?ie:t.color}),D=shallowRef(!1),B=shallowRef(0),U=ref$1(),j=ref$1();function z(ie){var J;const Y=t.direction==="vertical",be=Y?"top":"left",_e=Y?"height":"width",Ie=Y?"clientY":"clientX",{[be]:He,[_e]:N}=(J=U.value)==null?void 0:J.$el.getBoundingClientRect(),L=getPosition(ie,Ie);let H=Math.min(Math.max((L-He-B.value)/N,0),1)||0;return(Y||f.value==="rtl")&&(H=1-H),C(m.value+H*(v.value-m.value))}const W=ie=>{s({value:z(ie)}),D.value=!1,B.value=0},$=ie=>{j.value=a(ie),j.value&&(j.value.focus(),D.value=!0,j.value.contains(ie.target)?B.value=getOffset(ie,j.value,t.direction):(B.value=0,o({value:z(ie)})),r({value:z(ie)}))},te={passive:!0,capture:!0};function X(ie){o({value:z(ie)})}function ue(ie){ie.stopPropagation(),ie.preventDefault(),W(ie),window.removeEventListener("mousemove",X,te),window.removeEventListener("mouseup",ue)}function K(ie){var Y;W(ie),window.removeEventListener("touchmove",X,te),(Y=ie.target)==null||Y.removeEventListener("touchend",K)}function pe(ie){var Y;$(ie),window.addEventListener("touchmove",X,te),(Y=ie.target)==null||Y.addEventListener("touchend",K,{passive:!1})}function de(ie){ie.preventDefault(),$(ie),window.addEventListener("mousemove",X,te),window.addEventListener("mouseup",ue,{passive:!1})}const me=ie=>{const Y=(ie-m.value)/(v.value-m.value)*100;return clamp(isNaN(Y)?0:Y,0,100)},Ee=toRef(t,"showTicks"),Ue=computed(()=>Ee.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(ie=>({value:ie,position:me(ie),label:ie.toString()})):Object.keys(t.ticks).map(ie=>({value:parseFloat(ie),position:me(parseFloat(ie)),label:t.ticks[ie]})):E.value!==1/0?createRange(E.value+1).map(ie=>{const Y=m.value+ie*_.value;return{value:Y,position:me(Y)}}):[]:[]),$e=computed(()=>Ue.value.some(ie=>{let{label:Y}=ie;return!!Y})),Qe={activeThumbRef:j,color:toRef(t,"color"),decimals:y,disabled:x,direction:toRef(t,"direction"),elevation:toRef(t,"elevation"),hasLabels:$e,horizontalDirection:f,isReversed:d,min:m,max:v,mousePressed:D,numTicks:E,onSliderMousedown:de,onSliderTouchstart:pe,parsedTicks:Ue,parseMouseMove:z,position:me,readonly:toRef(t,"readonly"),rounded:toRef(t,"rounded"),roundValue:C,showTicks:Ee,startOffset:B,step:_,thumbSize:S,thumbColor:V,thumbLabel:toRef(t,"thumbLabel"),ticks:toRef(t,"ticks"),tickSize:I,trackColor:R,trackContainerRef:U,trackFillColor:M,trackSize:T,vertical:P};return provide(VSliderSymbol,Qe),Qe},makeVSliderThumbProps=propsFactory({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...makeComponentProps()},"VSliderThumb"),VSliderThumb=genericComponent()({name:"VSliderThumb",directives:{Ripple},props:makeVSliderThumbProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:r}=t;const o=inject$1(VSliderSymbol);if(!o)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:a,vertical:c,disabled:d,thumbSize:f,thumbLabel:m,direction:v,readonly:_,elevation:y,isReversed:C,horizontalDirection:S,mousePressed:I,decimals:T}=o,{textColorClasses:E,textColorStyles:x}=useTextColor(s),{pageup:P,pagedown:V,end:R,home:M,left:D,right:B,down:U,up:j}=keyValues,z=[P,V,R,M,D,B,U,j],W=computed(()=>a.value?[1,2,3]:[1,5,10]);function $(X,ue){if(!z.includes(X.key))return;X.preventDefault();const K=a.value||.1,pe=(e.max-e.min)/K;if([D,B,U,j].includes(X.key)){const me=(S.value==="rtl"?[D,j]:[B,j]).includes(X.key)?1:-1,Ee=X.shiftKey?2:X.ctrlKey?1:0;ue=ue+me*K*W.value[Ee]}else if(X.key===M)ue=e.min;else if(X.key===R)ue=e.max;else{const de=X.key===V?1:-1;ue=ue-de*K*(pe>100?pe/10:10)}return Math.max(e.min,Math.min(e.max,ue))}function te(X){const ue=$(X,e.modelValue);ue!=null&&r("update:modelValue",ue)}return useRender(()=>{const X=convertToUnit(c.value||C.value?100-e.position:e.position,"%"),{elevationClasses:ue}=useElevation(computed(()=>d.value?void 0:y.value));return createVNode("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&I.value},e.class],style:[{"--v-slider-thumb-position":X,"--v-slider-thumb-size":convertToUnit(f.value)},e.style],role:"slider",tabindex:d.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!_.value,"aria-orientation":v.value,onKeydown:_.value?void 0:te},[createVNode("div",{class:["v-slider-thumb__surface",E.value,ue.value],style:{...x.value}},null),withDirectives(createVNode("div",{class:["v-slider-thumb__ripple",E.value],style:x.value},null),[[resolveDirective("ripple"),e.ripple,null,{circle:!0,center:!0}]]),createVNode(VScaleTransition,{origin:"bottom center"},{default:()=>{var K,pe;return[withDirectives(createVNode("div",{class:"v-slider-thumb__label-container"},[createVNode("div",{class:["v-slider-thumb__label"]},[createVNode("div",null,[(pe=(K=n["thumb-label"])==null?void 0:K.call(n,{modelValue:e.modelValue}))!=null?pe:e.modelValue.toFixed(a.value?T.value:1)])])]),[[vShow,m.value&&e.focused||m.value==="always"]])]}})])}),{}}}),VSliderTrack$1="",makeVSliderTrackProps=propsFactory({start:{type:Number,required:!0},stop:{type:Number,required:!0},...makeComponentProps()},"VSliderTrack"),VSliderTrack=genericComponent()({name:"VSliderTrack",props:makeVSliderTrackProps(),emits:{},setup(e,t){let{slots:n}=t;const r=inject$1(VSliderSymbol);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:o,horizontalDirection:s,parsedTicks:a,rounded:c,showTicks:d,tickSize:f,trackColor:m,trackFillColor:v,trackSize:_,vertical:y,min:C,max:S}=r,{roundedClasses:I}=useRounded(c),{backgroundColorClasses:T,backgroundColorStyles:E}=useBackgroundColor(v),{backgroundColorClasses:x,backgroundColorStyles:P}=useBackgroundColor(m),V=computed(()=>`inset-${y.value?"block-end":"inline-start"}`),R=computed(()=>y.value?"height":"width"),M=computed(()=>({[V.value]:"0%",[R.value]:"100%"})),D=computed(()=>e.stop-e.start),B=computed(()=>({[V.value]:convertToUnit(e.start,"%"),[R.value]:convertToUnit(D.value,"%")})),U=computed(()=>d.value?(y.value?a.value.slice().reverse():a.value).map((z,W)=>{var X,ue;const $=y.value?"bottom":"margin-inline-start",te=z.value!==C.value&&z.value!==S.value?convertToUnit(z.position,"%"):void 0;return createVNode("div",{key:z.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":z.position>=e.start&&z.position<=e.stop,"v-slider-track__tick--first":z.value===C.value,"v-slider-track__tick--last":z.value===S.value}],style:{[$]:te}},[(z.label||n["tick-label"])&&createVNode("div",{class:"v-slider-track__tick-label"},[(ue=(X=n["tick-label"])==null?void 0:X.call(n,{tick:z,index:W}))!=null?ue:z.label])])}):[]);return useRender(()=>createVNode("div",{class:["v-slider-track",I.value,e.class],style:[{"--v-slider-track-size":convertToUnit(_.value),"--v-slider-tick-size":convertToUnit(f.value),direction:y.value?void 0:s.value},e.style]},[createVNode("div",{class:["v-slider-track__background",x.value,{"v-slider-track__background--opacity":!!o.value||!v.value}],style:{...M.value,...P.value}},null),createVNode("div",{class:["v-slider-track__fill",T.value],style:{...B.value,...E.value}},null),d.value&&createVNode("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":d.value==="always"}]},[U.value])])),{}}}),makeVSliderProps=propsFactory({...makeFocusProps(),...makeSliderProps(),...makeVInputProps(),modelValue:{type:[Number,String],default:0}},"VSlider"),VSlider=genericComponent()({name:"VSlider",props:makeVSliderProps(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const o=ref$1(),{rtlClasses:s}=useRtl(),a=useSteps(e),c=useProxiedModel(e,"modelValue",void 0,R=>{const M=typeof R=="string"?parseFloat(R):R==null?a.min.value:R;return a.roundValue(M)}),{min:d,max:f,mousePressed:m,roundValue:v,onSliderMousedown:_,onSliderTouchstart:y,trackContainerRef:C,position:S,hasLabels:I,readonly:T}=useSlider({props:e,steps:a,onSliderStart:()=>{r("start",c.value)},onSliderEnd:R=>{let{value:M}=R;const D=v(M);c.value=D,r("end",D)},onSliderMove:R=>{let{value:M}=R;return c.value=v(M)},getActiveThumb:()=>{var R;return(R=o.value)==null?void 0:R.$el}}),{isFocused:E,focus:x,blur:P}=useFocus(e),V=computed(()=>S(c.value));return useRender(()=>{const[R,M]=VInput.filterProps(e),D=!!(e.label||n.label||n.prepend);return createVNode(VInput,mergeProps({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||I.value,"v-slider--focused":E.value,"v-slider--pressed":m.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},R,{focused:E.value}),{...n,prepend:D?B=>{var U,j,z;return createVNode(Fragment,null,[((j=(U=n.label)==null?void 0:U.call(n,B))!=null?j:e.label)?createVNode(VLabel,{id:B.id.value,class:"v-slider__label",text:e.label},null):void 0,(z=n.prepend)==null?void 0:z.call(n,B)])}:void 0,default:B=>{let{id:U,messagesId:j}=B;return createVNode("div",{class:"v-slider__container",onMousedown:T.value?void 0:_,onTouchstartPassive:T.value?void 0:y},[createVNode("input",{id:U.value,name:e.name||U.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value},null),createVNode(VSliderTrack,{ref:C,start:0,stop:V.value},{"tick-label":n["tick-label"]}),createVNode(VSliderThumb,{ref:o,"aria-describedby":j.value,focused:E.value,min:d.value,max:f.value,modelValue:c.value,"onUpdate:modelValue":z=>c.value=z,position:V.value,elevation:e.elevation,onFocus:x,onBlur:P},{"thumb-label":n["thumb-label"]})])}})}),{}}}),makeVColorPickerPreviewProps=propsFactory({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...makeComponentProps()},"VColorPickerPreview"),VColorPickerPreview=defineComponent({name:"VColorPickerPreview",props:makeVColorPickerPreviewProps(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return useRender(()=>{var r,o,s,a;return createVNode("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[createVNode("div",{class:"v-color-picker-preview__dot"},[createVNode("div",{style:{background:HSVtoCSS((r=e.color)!=null?r:nullColor)}},null)]),createVNode("div",{class:"v-color-picker-preview__sliders"},[createVNode(VSlider,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(o=e.color)==null?void 0:o.h,"onUpdate:modelValue":c=>{var d;return n("update:color",{...(d=e.color)!=null?d:nullColor,h:c})},step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&createVNode(VSlider,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:(a=(s=e.color)==null?void 0:s.a)!=null?a:1,"onUpdate:modelValue":c=>{var d;return n("update:color",{...(d=e.color)!=null?d:nullColor,a:c})},step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),VColorPickerSwatches$1="",red=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),pink=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),purple=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),deepPurple=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),indigo=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),blue=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),lightBlue=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),cyan=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),teal=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),green=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),lightGreen=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),lime=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),yellow=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),amber=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),orange=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),deepOrange=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),brown=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),blueGrey=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),grey=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),shades=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"}),colors=Object.freeze({red,pink,purple,deepPurple,indigo,blue,lightBlue,cyan,teal,green,lightGreen,lime,yellow,amber,orange,deepOrange,brown,blueGrey,grey,shades}),makeVColorPickerSwatchesProps=propsFactory({swatches:{type:Array,default:()=>parseDefaultColors(colors)},disabled:Boolean,color:Object,maxHeight:[Number,String],...makeComponentProps()},"VColorPickerSwatches");function parseDefaultColors(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const VColorPickerSwatches=defineComponent({name:"VColorPickerSwatches",props:makeVColorPickerSwatchesProps(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return useRender(()=>createVNode("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:convertToUnit(e.maxHeight)},e.style]},[createVNode("div",null,[e.swatches.map(r=>createVNode("div",{class:"v-color-picker-swatches__swatch"},[r.map(o=>{const s=parseColor(o),a=RGBtoHSV(s),c=RGBtoCSS(s);return createVNode("div",{class:"v-color-picker-swatches__color",onClick:()=>a&&n("update:color",a)},[createVNode("div",{style:{background:c}},[e.color&&deepEqual$1(e.color,a)?createVNode(VIcon,{size:"x-small",icon:"$success",color:getContrast(o,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),VSheet$1="",makeVSheetProps=propsFactory({color:String,...makeBorderProps(),...makeComponentProps(),...makeDimensionProps(),...makeElevationProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},"VSheet"),VSheet=genericComponent()({name:"VSheet",props:makeVSheetProps(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=provideTheme(e),{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(toRef(e,"color")),{borderClasses:a}=useBorder(e),{dimensionStyles:c}=useDimension(e),{elevationClasses:d}=useElevation(e),{locationStyles:f}=useLocation(e),{positionClasses:m}=usePosition(e),{roundedClasses:v}=useRounded(e);return useRender(()=>createVNode(e.tag,{class:["v-sheet",r.value,o.value,a.value,d.value,m.value,v.value,e.class],style:[s.value,c.value,f.value,e.style]},n)),{}}}),makeVColorPickerProps=propsFactory({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(modes).includes(e)},modes:{type:Array,default:()=>Object.keys(modes),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(modes).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...omit(makeVSheetProps({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),VColorPicker=defineComponent({name:"VColorPicker",props:makeVColorPickerProps(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=useProxiedModel(e,"mode"),n=ref$1(null),r=useProxiedModel(e,"modelValue",void 0,a=>{if(a==null||a==="")return null;let c;try{c=RGBtoHSV(parseColor(a))}catch{return null}return n.value&&(c={...c,h:n.value.h},n.value=null),c},a=>a?extractColor(a,e.modelValue):null),{rtlClasses:o}=useRtl(),s=a=>{r.value=a,n.value=a};return onMounted(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),provideDefaults({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),useRender(()=>{var c;const[a]=VSheet.filterProps(e);return createVNode(VSheet,mergeProps({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",o.value,e.class],style:[{"--v-color-picker-color-hsv":HSVtoCSS({...(c=r.value)!=null?c:nullColor,a:1})},e.style]},a,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&createVNode(VColorPickerCanvas,{key:"canvas",color:r.value,"onUpdate:color":s,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&createVNode("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&createVNode(VColorPickerPreview,{key:"preview",color:r.value,"onUpdate:color":s,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&createVNode(VColorPickerEdit,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":d=>t.value=d,color:r.value,"onUpdate:color":s,disabled:e.disabled},null)]),e.showSwatches&&createVNode(VColorPickerSwatches,{key:"swatches",color:r.value,"onUpdate:color":s,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}}),makeVRadioProps=propsFactory({...makeVSelectionControlProps({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),VRadio=genericComponent()({name:"VRadio",props:makeVRadioProps(),setup(e,t){let{slots:n}=t;return useRender(()=>createVNode(VSelectionControl,mergeProps(e,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)),{}}}),VRadioGroup$1="",makeVRadioGroupProps=propsFactory({height:{type:[Number,String],default:"auto"},...makeVInputProps(),...omit(makeSelectionControlGroupProps(),["multiple"]),trueIcon:{type:IconValue,default:"$radioOn"},falseIcon:{type:IconValue,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),VRadioGroup=genericComponent()({name:"VRadioGroup",inheritAttrs:!1,props:makeVRadioGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const o=getUid(),s=computed(()=>e.id||`radio-group-${o}`),a=useProxiedModel(e,"modelValue");return useRender(()=>{const[c,d]=filterInputAttrs(n),[f,m]=VInput.filterProps(e),[v,_]=VSelectionControl.filterProps(e),y=r.label?r.label({label:e.label,props:{for:s.value}}):e.label;return createVNode(VInput,mergeProps({class:["v-radio-group",e.class],style:e.style},c,f,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,id:s.value}),{...r,default:C=>{let{id:S,messagesId:I,isDisabled:T,isReadonly:E}=C;return createVNode(Fragment,null,[y&&createVNode(VLabel,{id:S.value},{default:()=>[y]}),createVNode(VSelectionControlGroup,mergeProps(v,{id:S.value,"aria-describedby":I.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:T.value,readonly:E.value,"aria-labelledby":y?S.value:void 0,multiple:!1},d,{modelValue:a.value,"onUpdate:modelValue":x=>a.value=x}),r)])}})}),{}}}),VSelect$1="",VChip$1="",VChipGroup="",VChipGroupSymbol=Symbol.for("vuetify:v-chip-group"),makeVChipGroupProps=propsFactory({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:deepEqual$1},...makeComponentProps(),...makeGroupProps({selectedClass:"v-chip--selected"}),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},"VChipGroup");genericComponent()({name:"VChipGroup",props:makeVChipGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=provideTheme(e),{isSelected:o,select:s,next:a,prev:c,selected:d}=useGroup(e,VChipGroupSymbol);return provideDefaults({VChip:{color:toRef(e,"color"),disabled:toRef(e,"disabled"),filter:toRef(e,"filter"),variant:toRef(e,"variant")}}),useRender(()=>createVNode(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style},{default:()=>{var f;return[(f=n.default)==null?void 0:f.call(n,{isSelected:o,select:s,next:a,prev:c,selected:d.value})]}})),{}}});const makeVChipProps=propsFactory({activeClass:String,appendAvatar:String,appendIcon:IconValue,closable:Boolean,closeIcon:{type:IconValue,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:IconValue,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:EventProp(),onClickOnce:EventProp(),...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeElevationProps(),...makeGroupItemProps(),...makeRoundedProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"span"}),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},"VChip"),VChip=genericComponent()({name:"VChip",directives:{Ripple},props:makeVChipProps(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:o}=t;const{t:s}=useLocale(),{borderClasses:a}=useBorder(e),{colorClasses:c,colorStyles:d,variantClasses:f}=useVariant(e),{densityClasses:m}=useDensity(e),{elevationClasses:v}=useElevation(e),{roundedClasses:_}=useRounded(e),{sizeClasses:y}=useSize(e),{themeClasses:C}=provideTheme(e),S=useProxiedModel(e,"modelValue"),I=useGroupItem(e,VChipGroupSymbol,!1),T=useLink$1(e,n),E=computed(()=>e.link!==!1&&T.isLink.value),x=computed(()=>!e.disabled&&e.link!==!1&&(!!I||e.link||T.isClickable.value)),P=computed(()=>({"aria-label":s(e.closeLabel),onClick(M){S.value=!1,r("click:close",M)}}));function V(M){var D;r("click",M),x.value&&((D=T.navigate)==null||D.call(T,M),I==null||I.toggle())}function R(M){(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),V(M))}return()=>{const M=T.isLink.value?"a":e.tag,D=!!(e.appendIcon||e.appendAvatar),B=!!(D||o.append),U=!!(o.close||e.closable),j=!!(o.filter||e.filter)&&I,z=!!(e.prependIcon||e.prependAvatar),W=!!(z||o.prepend),$=!I||I.isSelected.value;return S.value&&withDirectives(createVNode(M,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":x.value,"v-chip--filter":j,"v-chip--pill":e.pill},C.value,a.value,$?c.value:void 0,m.value,v.value,_.value,y.value,f.value,I==null?void 0:I.selectedClass.value,e.class],style:[$?d.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:T.href.value,tabindex:x.value?0:void 0,onClick:V,onKeydown:x.value&&!E.value&&R},{default:()=>{var te,X;return[genOverlays(x.value,"v-chip"),j&&createVNode(VExpandXTransition,{key:"filter"},{default:()=>[withDirectives(createVNode("div",{class:"v-chip__filter"},[o.filter?withDirectives(createVNode(VDefaultsProvider,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},null),[[resolveDirective("slot"),o.filter,"default"]]):createVNode(VIcon,{key:"filter-icon",icon:e.filterIcon},null)]),[[vShow,I.isSelected.value]])]}),W&&createVNode("div",{key:"prepend",class:"v-chip__prepend"},[o.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!z,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},o.prepend):createVNode(Fragment,null,[e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),createVNode("div",{class:"v-chip__content"},[(X=(te=o.default)==null?void 0:te.call(o,{isSelected:I==null?void 0:I.isSelected.value,selectedClass:I==null?void 0:I.selectedClass.value,select:I==null?void 0:I.select,toggle:I==null?void 0:I.toggle,value:I==null?void 0:I.value.value,disabled:e.disabled}))!=null?X:e.text]),B&&createVNode("div",{key:"append",class:"v-chip__append"},[o.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!D,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},o.append):createVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),U&&createVNode("div",mergeProps({key:"close",class:"v-chip__close"},P.value),[o.close?createVNode(VDefaultsProvider,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},o.close):createVNode(VIcon,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[resolveDirective("ripple"),x.value&&e.ripple,null]])}}}),makeSelectProps=propsFactory({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:IconValue,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:deepEqual$1},...makeItemsProps({itemChildren:!1})},"Select"),makeVSelectProps=propsFactory({...makeSelectProps(),...omit(makeVTextFieldProps({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...makeTransitionProps$1({transition:{component:VDialogTransition}})},"VSelect"),VSelect=genericComponent()({name:"VSelect",props:makeVSelectProps(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=useLocale(),o=ref$1(),s=ref$1(),a=useProxiedModel(e,"menu"),c=computed({get:()=>a.value,set:W=>{var $;a.value&&!W&&(($=s.value)==null?void 0:$.\u03A8openChildren)||(a.value=W)}}),{items:d,transformIn:f,transformOut:m}=useItems(e),v=useProxiedModel(e,"modelValue",[],W=>f(wrapInArray(W)),W=>{var te;const $=m(W);return e.multiple?$:(te=$[0])!=null?te:null}),_=useForm(),y=computed(()=>v.value.map(W=>d.value.find($=>e.valueComparator($.value,W.value))||W)),C=computed(()=>y.value.map(W=>W.props.value)),S=shallowRef(!1);let I="",T;const E=computed(()=>e.hideSelected?d.value.filter(W=>!y.value.some($=>$===W)):d.value),x=computed(()=>e.hideNoData&&!d.value.length||e.readonly||(_==null?void 0:_.isReadonly.value)),P=ref$1();function V(W){e.openOnClear&&(c.value=!0)}function R(){x.value||(c.value=!c.value)}function M(W){var K,pe;if(e.readonly||(_==null?void 0:_.isReadonly.value))return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(W.key)&&W.preventDefault(),["Enter","ArrowDown"," "].includes(W.key)&&(c.value=!0),["Escape","Tab"].includes(W.key)&&(c.value=!1),W.key==="Home"?(K=P.value)==null||K.focus("first"):W.key==="End"&&((pe=P.value)==null||pe.focus("last"));const $=1e3;function te(de){const me=de.key.length===1,Ee=!de.ctrlKey&&!de.metaKey&&!de.altKey;return me&&Ee}if(e.multiple||!te(W))return;const X=performance.now();X-T>$&&(I=""),I+=W.key.toLowerCase(),T=X;const ue=d.value.find(de=>de.title.toLowerCase().startsWith(I));ue!==void 0&&(v.value=[ue])}function D(W){var $;W.key==="Tab"&&(($=o.value)==null||$.focus())}function B(W){if(e.multiple){const $=C.value.findIndex(te=>e.valueComparator(te,W.value));if($===-1)v.value=[...v.value,W];else{const te=[...v.value];te.splice($,1),v.value=te}}else v.value=[W],c.value=!1}function U(W){var $;($=P.value)!=null&&$.$el.contains(W.relatedTarget)||(c.value=!1)}function j(){var W;S.value&&((W=o.value)==null||W.focus())}function z(W){S.value=!0}return useRender(()=>{const W=!!(e.chips||n.chip),$=!!(!e.hideNoData||E.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),te=v.value.length>0,[X]=VTextField.filterProps(e),ue=te||!S.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return createVNode(VTextField,mergeProps({ref:o},X,{modelValue:v.value.map(K=>K.props.value).join(", "),"onUpdate:modelValue":K=>{K==null&&(v.value=[])},focused:S.value,"onUpdate:focused":K=>S.value=K,validationValue:v.externalValue,dirty:te,class:["v-select",{"v-select--active-menu":c.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":v.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,readonly:!0,placeholder:ue,"onClick:clear":V,"onMousedown:control":R,onBlur:U,onKeydown:M}),{...n,default:()=>createVNode(Fragment,null,[createVNode(VMenu,mergeProps({ref:s,modelValue:c.value,"onUpdate:modelValue":K=>c.value=K,activator:"parent",contentClass:"v-select__content",disabled:x.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:j},e.menuProps),{default:()=>[$&&createVNode(VList,{ref:P,selected:C.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:K=>K.preventDefault(),onKeydown:D,onFocusin:z,tabindex:"-1"},{default:()=>{var K,pe,de,me;return[(K=n["prepend-item"])==null?void 0:K.call(n),!E.value.length&&!e.hideNoData&&((de=(pe=n["no-data"])==null?void 0:pe.call(n))!=null?de:createVNode(VListItem,{title:r(e.noDataText)},null)),E.value.map((Ee,Ue)=>{var Qe,ie;const $e=mergeProps(Ee.props,{key:Ue,onClick:()=>B(Ee)});return(ie=(Qe=n.item)==null?void 0:Qe.call(n,{item:Ee,index:Ue,props:$e}))!=null?ie:createVNode(VListItem,$e,{prepend:Y=>{let{isSelected:be}=Y;return createVNode(Fragment,null,[e.multiple&&!e.hideSelected?createVNode(VCheckboxBtn,{key:Ee.value,modelValue:be,ripple:!1,tabindex:"-1"},null):void 0,Ee.props.prependIcon&&createVNode(VIcon,{icon:Ee.props.prependIcon},null)])}})}),(me=n["append-item"])==null?void 0:me.call(n)]}})]}),y.value.map((K,pe)=>{var Ee,Ue;function de($e){$e.stopPropagation(),$e.preventDefault(),B(K)}const me={"onClick:close":de,onMousedown($e){$e.preventDefault(),$e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return createVNode("div",{key:K.value,class:"v-select__selection"},[W?n.chip?createVNode(VDefaultsProvider,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:K.title}}},{default:()=>{var $e;return[($e=n.chip)==null?void 0:$e.call(n,{item:K,index:pe,props:me})]}}):createVNode(VChip,mergeProps({key:"chip",closable:e.closableChips,size:"small",text:K.title},me),null):(Ue=(Ee=n.selection)==null?void 0:Ee.call(n,{item:K,index:pe}))!=null?Ue:createVNode("span",{class:"v-select__selection-text"},[K.title,e.multiple&&pe<y.value.length-1&&createVNode("span",{class:"v-select__selection-comma"},[createTextVNode(",")])])])})]),"append-inner":function(){var me;for(var K=arguments.length,pe=new Array(K),de=0;de<K;de++)pe[de]=arguments[de];return createVNode(Fragment,null,[(me=n["append-inner"])==null?void 0:me.call(n,...pe),e.menuIcon?createVNode(VIcon,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),forwardRefs({isFocused:S,menu:c,select:B},o)}}),_sfc_main$c={data:()=>({color:"",type:"bgColors",section:null,sections:["Schemes","Masterminds","Villains","Henchmen","Heroes"]}),watch:{section(){this.updateColor()},type(){this.updateColor()},color(){!this.section||(this.userSettings[this.type][this.section.toLowerCase()]=this.color,this.updateSettings())}},computed:{...mapState(useStore,["userSettings"]),sample(){return this.updateColor(),this.section?{bgColor:this.userSettings.bgColors[this.section.toLowerCase()],textColor:this.userSettings.textColors[this.section.toLowerCase()]}:null}},methods:{...mapActions(useStore,["updateSettings"]),updateColor(){if(!this.section)return null;this.color=this.userSettings[this.type][this.section.toLowerCase()]}}},_hoisted_1$4={class:"d-flex"};function _sfc_render$c(e,t,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VRow,{justify:"center"},{default:withCtx(()=>[createVNode(VSelect,{label:"Section",modelValue:e.section,"onUpdate:modelValue":t[0]||(t[0]=a=>e.section=a),items:e.sections},null,8,["modelValue","items"])]),_:1}),createVNode(VRow,{justify:"center"},{default:withCtx(()=>[createVNode(VRadioGroup,{modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=a=>e.type=a),density:"compact"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$4,[createVNode(VRadio,{value:"bgColors",label:"Background Color"}),createVNode(VRadio,{value:"textColors",label:"Text Color"})])]),_:1},8,["modelValue"])]),_:1}),createVNode(VRow,{justify:"center"},{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VColorPicker,{"hide-inputs":"","hide-canvas":"","show-swatches":"",model:"hex","swatches-max-height":"40vh",modelValue:e.color,"onUpdate:modelValue":t[2]||(t[2]=a=>e.color=a)},null,8,["modelValue"])]),_:1})]),_:1}),createVNode(VRow,{justify:"center"},{default:withCtx(()=>[e.section?(openBlock(),createBlock(VCard,{key:0,color:e.userSettings.bgColors[e.section?e.section.toLowerCase():""]},{default:withCtx(()=>[createVNode(VCardTitle,{style:normalizeStyle(`color:${e.userSettings.textColors[e.section?e.section.toLowerCase():""]}`)},{default:withCtx(()=>[createTextVNode(toDisplayString(e.section),1)]),_:1},8,["style"])]),_:1},8,["color"])):createCommentVNode("",!0)]),_:1})]),_:1})])}const Colors=_export_sfc(_sfc_main$c,[["render",_sfc_render$c]]),_sfc_main$b={computed:{...mapState(useStore,["userSettings","expansionList"]),userExpansions:{get(){return this.userSettings.expansions||[]},set(e){this.userSettings.expansions=e,this.updateSettings()}},allExpansions(){return this.expansionList.sort((e,t)=>e.expansion<t.expansion?-1:1)}},methods:{...mapActions(useStore,["updateSettings"])}},_hoisted_1$3={style:{height:"85vh","overflow-y":"scroll"}};function _sfc_render$b(e,t,n,r,o,s){const a=resolveDirective("key");return openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.allExpansions,c=>(openBlock(),createBlock(VListItem,null,{default:withCtx(()=>[withDirectives(createVNode(VCheckbox,{label:c.expansion,modelValue:s.userExpansions,"onUpdate:modelValue":t[0]||(t[0]=d=>s.userExpansions=d),textContent:toDisplayString(c),value:c.id,density:"compact"},null,8,["label","modelValue","textContent","value"]),[[a,e.id]])]),_:2},1024))),256))]),_:1})])}const Expansions=_export_sfc(_sfc_main$b,[["render",_sfc_render$b]]),_sfc_main$a={data:()=>({selected:null}),computed:{...mapState(useStore,["userSettings"]),itemList(){return this.userSettings.enemiesLayout.map(e=>lodash.exports.startCase(e))},itemPosition(){return this.itemList.indexOf(this.selected)},endPosition(){return this.itemList.length-1}},methods:{...mapActions(useStore,["updateSettings"]),moveItem(e){const t=this.itemPosition,n=e=="up"?t-1:t+1;this.userSettings.enemiesLayout.splice(n,0,this.userSettings.enemiesLayout.splice(t,1)[0]),this.updateSettings()}}};function _sfc_render$a(e,t,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VRadioGroup,{modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=a=>e.selected=a)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.itemList,a=>(openBlock(),createBlock(VRadio,{value:a,label:a},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"3"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",class:"mb-5",disabled:s.itemPosition<=0},{default:withCtx(()=>[createVNode(VIcon,{onClick:t[1]||(t[1]=a=>s.moveItem("up"))},{default:withCtx(()=>[createTextVNode(" mdi-chevron-up ")]),_:1})]),_:1},8,["disabled"]),createVNode(VBtn,{icon:"",disabled:s.itemPosition==-1||s.itemPosition==s.endPosition},{default:withCtx(()=>[createVNode(VIcon,{onClick:t[2]||(t[2]=a=>s.moveItem("down"))},{default:withCtx(()=>[createTextVNode(" mdi-chevron-down ")]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})])}const Layout=_export_sfc(_sfc_main$a,[["render",_sfc_render$a]]),_sfc_main$9={computed:{...mapState(useStore,["userSettings"])},methods:{...mapActions(useStore,["updateSettings","resetPlayedCounts"]),showChange(){this.updateSettings()}}};function _sfc_render$9(e,t,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VCard,{flat:""},{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(" Options ")]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VCheckbox,{modelValue:e.userSettings.useEpics,"onUpdate:modelValue":t[0]||(t[0]=a=>e.userSettings.useEpics=a),label:"Allow Epic Masterminds",density:"compact","hide-details":"",onChange:s.showChange},null,8,["modelValue","onChange"]),createVNode(VCheckbox,{modelValue:e.userSettings.usePlayedCount,"onUpdate:modelValue":t[1]||(t[1]=a=>e.userSettings.usePlayedCount=a),label:"Use Played Count",density:"compact","hide-details":"",onChange:s.showChange},null,8,["modelValue","onChange"]),createVNode(VBtn,{disabled:!e.userSettings.usePlayedCount,color:"grey",onClick:e.resetPlayedCounts},{default:withCtx(()=>[createTextVNode(" Reset Played Counts ")]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1})])}const Options=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]),_sfc_main$8={components:{Colors,Expansions,Layout,Options},props:["section"],data:()=>({menuItems:[{name:"Options",path:"/settings/options",icon:"mdi-cog"},{name:"Expansions",path:"/settings/expansions",icon:"mdi-format-list-checks"},{name:"Layout",path:"/settings/layout",icon:"mdi-view-dashboard"},{name:"Colors",path:"/settings/colors",icon:"mdi-palette"}],tab:0,showNav:!1}),computed:{sectionName(){return this.section===""?"Options":lodash.exports.startCase(this.section.shift())}}};function _sfc_render$8(e,t,n,r,o,s){return openBlock(),createElementBlock(Fragment,null,[createVNode(VToolbar,{density:"compact",color:"grey"},{default:withCtx(()=>[createVNode(VBtn,{to:"/dashboard",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(" mdi-arrow-left-circle ")]),_:1})]),_:1}),createVNode(VSpacer),createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(" Settings ")]),_:1}),createVNode(VSpacer),createVNode(VMenu,null,{activator:withCtx(({props:a})=>[createVNode(VBtn,mergeProps(a,{icon:"mdi-cogs"}),null,16)]),default:withCtx(()=>[createVNode(VCard,{color:"grey"},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.menuItems,a=>(openBlock(),createBlock(VListItem,{to:a.path||"",onClick:a.action},{prepend:withCtx(()=>[createVNode(VIcon,{icon:a.icon},null,8,["icon"])]),default:withCtx(()=>[createVNode(VListItemTitle,{textContent:toDisplayString(a.name)},null,8,["textContent"])]),_:2},1032,["to","onClick"]))),256))]),_:1})]),_:1})]),_:1})]),_:1}),(openBlock(),createBlock(resolveDynamicComponent(s.sectionName)))],64)}const Settings=_export_sfc(_sfc_main$8,[["render",_sfc_render$8]]);var markdownIt$1={exports:{}},utils$1={},entities$1={exports:{}};const Aacute="\xC1",aacute="\xE1",Abreve="\u0102",abreve="\u0103",ac="\u223E",acd="\u223F",acE="\u223E\u0333",Acirc="\xC2",acirc="\xE2",acute="\xB4",Acy="\u0410",acy="\u0430",AElig="\xC6",aelig="\xE6",af="\u2061",Afr="\u{1D504}",afr="\u{1D51E}",Agrave="\xC0",agrave="\xE0",alefsym="\u2135",aleph="\u2135",Alpha="\u0391",alpha="\u03B1",Amacr="\u0100",amacr="\u0101",amalg="\u2A3F",amp="&",AMP="&",andand="\u2A55",And="\u2A53",and="\u2227",andd="\u2A5C",andslope="\u2A58",andv="\u2A5A",ang="\u2220",ange="\u29A4",angle="\u2220",angmsdaa="\u29A8",angmsdab="\u29A9",angmsdac="\u29AA",angmsdad="\u29AB",angmsdae="\u29AC",angmsdaf="\u29AD",angmsdag="\u29AE",angmsdah="\u29AF",angmsd="\u2221",angrt="\u221F",angrtvb="\u22BE",angrtvbd="\u299D",angsph="\u2222",angst="\xC5",angzarr="\u237C",Aogon="\u0104",aogon="\u0105",Aopf="\u{1D538}",aopf="\u{1D552}",apacir="\u2A6F",ap="\u2248",apE="\u2A70",ape="\u224A",apid="\u224B",apos="'",ApplyFunction="\u2061",approx="\u2248",approxeq="\u224A",Aring="\xC5",aring="\xE5",Ascr="\u{1D49C}",ascr="\u{1D4B6}",Assign="\u2254",ast="*",asymp="\u2248",asympeq="\u224D",Atilde="\xC3",atilde="\xE3",Auml="\xC4",auml="\xE4",awconint="\u2233",awint="\u2A11",backcong="\u224C",backepsilon="\u03F6",backprime="\u2035",backsim="\u223D",backsimeq="\u22CD",Backslash="\u2216",Barv="\u2AE7",barvee="\u22BD",barwed="\u2305",Barwed="\u2306",barwedge="\u2305",bbrk="\u23B5",bbrktbrk="\u23B6",bcong="\u224C",Bcy="\u0411",bcy="\u0431",bdquo="\u201E",becaus="\u2235",because="\u2235",Because="\u2235",bemptyv="\u29B0",bepsi="\u03F6",bernou="\u212C",Bernoullis="\u212C",Beta="\u0392",beta="\u03B2",beth="\u2136",between="\u226C",Bfr="\u{1D505}",bfr="\u{1D51F}",bigcap="\u22C2",bigcirc="\u25EF",bigcup="\u22C3",bigodot="\u2A00",bigoplus="\u2A01",bigotimes="\u2A02",bigsqcup="\u2A06",bigstar="\u2605",bigtriangledown="\u25BD",bigtriangleup="\u25B3",biguplus="\u2A04",bigvee="\u22C1",bigwedge="\u22C0",bkarow="\u290D",blacklozenge="\u29EB",blacksquare="\u25AA",blacktriangle="\u25B4",blacktriangledown="\u25BE",blacktriangleleft="\u25C2",blacktriangleright="\u25B8",blank="\u2423",blk12="\u2592",blk14="\u2591",blk34="\u2593",block$1="\u2588",bne="=\u20E5",bnequiv="\u2261\u20E5",bNot="\u2AED",bnot="\u2310",Bopf="\u{1D539}",bopf="\u{1D553}",bot="\u22A5",bottom="\u22A5",bowtie="\u22C8",boxbox="\u29C9",boxdl="\u2510",boxdL="\u2555",boxDl="\u2556",boxDL="\u2557",boxdr="\u250C",boxdR="\u2552",boxDr="\u2553",boxDR="\u2554",boxh="\u2500",boxH="\u2550",boxhd="\u252C",boxHd="\u2564",boxhD="\u2565",boxHD="\u2566",boxhu="\u2534",boxHu="\u2567",boxhU="\u2568",boxHU="\u2569",boxminus="\u229F",boxplus="\u229E",boxtimes="\u22A0",boxul="\u2518",boxuL="\u255B",boxUl="\u255C",boxUL="\u255D",boxur="\u2514",boxuR="\u2558",boxUr="\u2559",boxUR="\u255A",boxv="\u2502",boxV="\u2551",boxvh="\u253C",boxvH="\u256A",boxVh="\u256B",boxVH="\u256C",boxvl="\u2524",boxvL="\u2561",boxVl="\u2562",boxVL="\u2563",boxvr="\u251C",boxvR="\u255E",boxVr="\u255F",boxVR="\u2560",bprime="\u2035",breve="\u02D8",Breve="\u02D8",brvbar="\xA6",bscr="\u{1D4B7}",Bscr="\u212C",bsemi="\u204F",bsim="\u223D",bsime="\u22CD",bsolb="\u29C5",bsol="\\",bsolhsub="\u27C8",bull="\u2022",bullet="\u2022",bump="\u224E",bumpE="\u2AAE",bumpe="\u224F",Bumpeq="\u224E",bumpeq="\u224F",Cacute="\u0106",cacute="\u0107",capand="\u2A44",capbrcup="\u2A49",capcap="\u2A4B",cap="\u2229",Cap="\u22D2",capcup="\u2A47",capdot="\u2A40",CapitalDifferentialD="\u2145",caps="\u2229\uFE00",caret="\u2041",caron="\u02C7",Cayleys="\u212D",ccaps="\u2A4D",Ccaron="\u010C",ccaron="\u010D",Ccedil="\xC7",ccedil="\xE7",Ccirc="\u0108",ccirc="\u0109",Cconint="\u2230",ccups="\u2A4C",ccupssm="\u2A50",Cdot="\u010A",cdot="\u010B",cedil="\xB8",Cedilla="\xB8",cemptyv="\u29B2",cent="\xA2",centerdot="\xB7",CenterDot="\xB7",cfr="\u{1D520}",Cfr="\u212D",CHcy="\u0427",chcy="\u0447",check="\u2713",checkmark="\u2713",Chi="\u03A7",chi="\u03C7",circ="\u02C6",circeq="\u2257",circlearrowleft="\u21BA",circlearrowright="\u21BB",circledast="\u229B",circledcirc="\u229A",circleddash="\u229D",CircleDot="\u2299",circledR="\xAE",circledS="\u24C8",CircleMinus="\u2296",CirclePlus="\u2295",CircleTimes="\u2297",cir="\u25CB",cirE="\u29C3",cire="\u2257",cirfnint="\u2A10",cirmid="\u2AEF",cirscir="\u29C2",ClockwiseContourIntegral="\u2232",CloseCurlyDoubleQuote="\u201D",CloseCurlyQuote="\u2019",clubs="\u2663",clubsuit="\u2663",colon=":",Colon="\u2237",Colone="\u2A74",colone="\u2254",coloneq="\u2254",comma=",",commat="@",comp="\u2201",compfn="\u2218",complement="\u2201",complexes="\u2102",cong="\u2245",congdot="\u2A6D",Congruent="\u2261",conint="\u222E",Conint="\u222F",ContourIntegral="\u222E",copf="\u{1D554}",Copf="\u2102",coprod="\u2210",Coproduct="\u2210",copy="\xA9",COPY="\xA9",copysr="\u2117",CounterClockwiseContourIntegral="\u2233",crarr="\u21B5",cross="\u2717",Cross="\u2A2F",Cscr="\u{1D49E}",cscr="\u{1D4B8}",csub="\u2ACF",csube="\u2AD1",csup="\u2AD0",csupe="\u2AD2",ctdot="\u22EF",cudarrl="\u2938",cudarrr="\u2935",cuepr="\u22DE",cuesc="\u22DF",cularr="\u21B6",cularrp="\u293D",cupbrcap="\u2A48",cupcap="\u2A46",CupCap="\u224D",cup="\u222A",Cup="\u22D3",cupcup="\u2A4A",cupdot="\u228D",cupor="\u2A45",cups="\u222A\uFE00",curarr="\u21B7",curarrm="\u293C",curlyeqprec="\u22DE",curlyeqsucc="\u22DF",curlyvee="\u22CE",curlywedge="\u22CF",curren="\xA4",curvearrowleft="\u21B6",curvearrowright="\u21B7",cuvee="\u22CE",cuwed="\u22CF",cwconint="\u2232",cwint="\u2231",cylcty="\u232D",dagger="\u2020",Dagger="\u2021",daleth="\u2138",darr="\u2193",Darr="\u21A1",dArr="\u21D3",dash="\u2010",Dashv="\u2AE4",dashv="\u22A3",dbkarow="\u290F",dblac="\u02DD",Dcaron="\u010E",dcaron="\u010F",Dcy="\u0414",dcy="\u0434",ddagger="\u2021",ddarr="\u21CA",DD="\u2145",dd="\u2146",DDotrahd="\u2911",ddotseq="\u2A77",deg="\xB0",Del="\u2207",Delta="\u0394",delta="\u03B4",demptyv="\u29B1",dfisht="\u297F",Dfr="\u{1D507}",dfr="\u{1D521}",dHar="\u2965",dharl="\u21C3",dharr="\u21C2",DiacriticalAcute="\xB4",DiacriticalDot="\u02D9",DiacriticalDoubleAcute="\u02DD",DiacriticalGrave="`",DiacriticalTilde="\u02DC",diam="\u22C4",diamond="\u22C4",Diamond="\u22C4",diamondsuit="\u2666",diams="\u2666",die="\xA8",DifferentialD="\u2146",digamma="\u03DD",disin="\u22F2",div="\xF7",divide="\xF7",divideontimes="\u22C7",divonx="\u22C7",DJcy="\u0402",djcy="\u0452",dlcorn="\u231E",dlcrop="\u230D",dollar="$",Dopf="\u{1D53B}",dopf="\u{1D555}",Dot="\xA8",dot="\u02D9",DotDot="\u20DC",doteq="\u2250",doteqdot="\u2251",DotEqual="\u2250",dotminus="\u2238",dotplus="\u2214",dotsquare="\u22A1",doublebarwedge="\u2306",DoubleContourIntegral="\u222F",DoubleDot="\xA8",DoubleDownArrow="\u21D3",DoubleLeftArrow="\u21D0",DoubleLeftRightArrow="\u21D4",DoubleLeftTee="\u2AE4",DoubleLongLeftArrow="\u27F8",DoubleLongLeftRightArrow="\u27FA",DoubleLongRightArrow="\u27F9",DoubleRightArrow="\u21D2",DoubleRightTee="\u22A8",DoubleUpArrow="\u21D1",DoubleUpDownArrow="\u21D5",DoubleVerticalBar="\u2225",DownArrowBar="\u2913",downarrow="\u2193",DownArrow="\u2193",Downarrow="\u21D3",DownArrowUpArrow="\u21F5",DownBreve="\u0311",downdownarrows="\u21CA",downharpoonleft="\u21C3",downharpoonright="\u21C2",DownLeftRightVector="\u2950",DownLeftTeeVector="\u295E",DownLeftVectorBar="\u2956",DownLeftVector="\u21BD",DownRightTeeVector="\u295F",DownRightVectorBar="\u2957",DownRightVector="\u21C1",DownTeeArrow="\u21A7",DownTee="\u22A4",drbkarow="\u2910",drcorn="\u231F",drcrop="\u230C",Dscr="\u{1D49F}",dscr="\u{1D4B9}",DScy="\u0405",dscy="\u0455",dsol="\u29F6",Dstrok="\u0110",dstrok="\u0111",dtdot="\u22F1",dtri="\u25BF",dtrif="\u25BE",duarr="\u21F5",duhar="\u296F",dwangle="\u29A6",DZcy="\u040F",dzcy="\u045F",dzigrarr="\u27FF",Eacute="\xC9",eacute="\xE9",easter="\u2A6E",Ecaron="\u011A",ecaron="\u011B",Ecirc="\xCA",ecirc="\xEA",ecir="\u2256",ecolon="\u2255",Ecy="\u042D",ecy="\u044D",eDDot="\u2A77",Edot="\u0116",edot="\u0117",eDot="\u2251",ee="\u2147",efDot="\u2252",Efr="\u{1D508}",efr="\u{1D522}",eg="\u2A9A",Egrave="\xC8",egrave="\xE8",egs="\u2A96",egsdot="\u2A98",el="\u2A99",Element$1="\u2208",elinters="\u23E7",ell="\u2113",els="\u2A95",elsdot="\u2A97",Emacr="\u0112",emacr="\u0113",empty="\u2205",emptyset="\u2205",EmptySmallSquare="\u25FB",emptyv="\u2205",EmptyVerySmallSquare="\u25AB",emsp13="\u2004",emsp14="\u2005",emsp="\u2003",ENG="\u014A",eng="\u014B",ensp="\u2002",Eogon="\u0118",eogon="\u0119",Eopf="\u{1D53C}",eopf="\u{1D556}",epar="\u22D5",eparsl="\u29E3",eplus="\u2A71",epsi="\u03B5",Epsilon="\u0395",epsilon="\u03B5",epsiv="\u03F5",eqcirc="\u2256",eqcolon="\u2255",eqsim="\u2242",eqslantgtr="\u2A96",eqslantless="\u2A95",Equal="\u2A75",equals="=",EqualTilde="\u2242",equest="\u225F",Equilibrium="\u21CC",equiv="\u2261",equivDD="\u2A78",eqvparsl="\u29E5",erarr="\u2971",erDot="\u2253",escr="\u212F",Escr="\u2130",esdot="\u2250",Esim="\u2A73",esim="\u2242",Eta="\u0397",eta="\u03B7",ETH="\xD0",eth="\xF0",Euml="\xCB",euml="\xEB",euro="\u20AC",excl="!",exist="\u2203",Exists="\u2203",expectation="\u2130",exponentiale="\u2147",ExponentialE="\u2147",fallingdotseq="\u2252",Fcy="\u0424",fcy="\u0444",female="\u2640",ffilig="\uFB03",fflig="\uFB00",ffllig="\uFB04",Ffr="\u{1D509}",ffr="\u{1D523}",filig="\uFB01",FilledSmallSquare="\u25FC",FilledVerySmallSquare="\u25AA",fjlig="fj",flat="\u266D",fllig="\uFB02",fltns="\u25B1",fnof="\u0192",Fopf="\u{1D53D}",fopf="\u{1D557}",forall="\u2200",ForAll="\u2200",fork="\u22D4",forkv="\u2AD9",Fouriertrf="\u2131",fpartint="\u2A0D",frac12="\xBD",frac13="\u2153",frac14="\xBC",frac15="\u2155",frac16="\u2159",frac18="\u215B",frac23="\u2154",frac25="\u2156",frac34="\xBE",frac35="\u2157",frac38="\u215C",frac45="\u2158",frac56="\u215A",frac58="\u215D",frac78="\u215E",frasl="\u2044",frown="\u2322",fscr="\u{1D4BB}",Fscr="\u2131",gacute="\u01F5",Gamma="\u0393",gamma="\u03B3",Gammad="\u03DC",gammad="\u03DD",gap="\u2A86",Gbreve="\u011E",gbreve="\u011F",Gcedil="\u0122",Gcirc="\u011C",gcirc="\u011D",Gcy="\u0413",gcy="\u0433",Gdot="\u0120",gdot="\u0121",ge="\u2265",gE="\u2267",gEl="\u2A8C",gel="\u22DB",geq="\u2265",geqq="\u2267",geqslant="\u2A7E",gescc="\u2AA9",ges="\u2A7E",gesdot="\u2A80",gesdoto="\u2A82",gesdotol="\u2A84",gesl="\u22DB\uFE00",gesles="\u2A94",Gfr="\u{1D50A}",gfr="\u{1D524}",gg="\u226B",Gg="\u22D9",ggg="\u22D9",gimel="\u2137",GJcy="\u0403",gjcy="\u0453",gla="\u2AA5",gl="\u2277",glE="\u2A92",glj="\u2AA4",gnap="\u2A8A",gnapprox="\u2A8A",gne="\u2A88",gnE="\u2269",gneq="\u2A88",gneqq="\u2269",gnsim="\u22E7",Gopf="\u{1D53E}",gopf="\u{1D558}",grave="`",GreaterEqual="\u2265",GreaterEqualLess="\u22DB",GreaterFullEqual="\u2267",GreaterGreater="\u2AA2",GreaterLess="\u2277",GreaterSlantEqual="\u2A7E",GreaterTilde="\u2273",Gscr="\u{1D4A2}",gscr="\u210A",gsim="\u2273",gsime="\u2A8E",gsiml="\u2A90",gtcc="\u2AA7",gtcir="\u2A7A",gt=">",GT=">",Gt="\u226B",gtdot="\u22D7",gtlPar="\u2995",gtquest="\u2A7C",gtrapprox="\u2A86",gtrarr="\u2978",gtrdot="\u22D7",gtreqless="\u22DB",gtreqqless="\u2A8C",gtrless="\u2277",gtrsim="\u2273",gvertneqq="\u2269\uFE00",gvnE="\u2269\uFE00",Hacek="\u02C7",hairsp="\u200A",half="\xBD",hamilt="\u210B",HARDcy="\u042A",hardcy="\u044A",harrcir="\u2948",harr="\u2194",hArr="\u21D4",harrw="\u21AD",Hat="^",hbar="\u210F",Hcirc="\u0124",hcirc="\u0125",hearts="\u2665",heartsuit="\u2665",hellip="\u2026",hercon="\u22B9",hfr="\u{1D525}",Hfr="\u210C",HilbertSpace="\u210B",hksearow="\u2925",hkswarow="\u2926",hoarr="\u21FF",homtht="\u223B",hookleftarrow="\u21A9",hookrightarrow="\u21AA",hopf="\u{1D559}",Hopf="\u210D",horbar="\u2015",HorizontalLine="\u2500",hscr="\u{1D4BD}",Hscr="\u210B",hslash="\u210F",Hstrok="\u0126",hstrok="\u0127",HumpDownHump="\u224E",HumpEqual="\u224F",hybull="\u2043",hyphen="\u2010",Iacute="\xCD",iacute="\xED",ic="\u2063",Icirc="\xCE",icirc="\xEE",Icy="\u0418",icy="\u0438",Idot="\u0130",IEcy="\u0415",iecy="\u0435",iexcl="\xA1",iff="\u21D4",ifr="\u{1D526}",Ifr="\u2111",Igrave="\xCC",igrave="\xEC",ii="\u2148",iiiint="\u2A0C",iiint="\u222D",iinfin="\u29DC",iiota="\u2129",IJlig="\u0132",ijlig="\u0133",Imacr="\u012A",imacr="\u012B",image$1="\u2111",ImaginaryI="\u2148",imagline="\u2110",imagpart="\u2111",imath="\u0131",Im="\u2111",imof="\u22B7",imped="\u01B5",Implies="\u21D2",incare="\u2105",infin="\u221E",infintie="\u29DD",inodot="\u0131",intcal="\u22BA",int="\u222B",Int="\u222C",integers="\u2124",Integral="\u222B",intercal="\u22BA",Intersection="\u22C2",intlarhk="\u2A17",intprod="\u2A3C",InvisibleComma="\u2063",InvisibleTimes="\u2062",IOcy="\u0401",iocy="\u0451",Iogon="\u012E",iogon="\u012F",Iopf="\u{1D540}",iopf="\u{1D55A}",Iota="\u0399",iota="\u03B9",iprod="\u2A3C",iquest="\xBF",iscr="\u{1D4BE}",Iscr="\u2110",isin="\u2208",isindot="\u22F5",isinE="\u22F9",isins="\u22F4",isinsv="\u22F3",isinv="\u2208",it="\u2062",Itilde="\u0128",itilde="\u0129",Iukcy="\u0406",iukcy="\u0456",Iuml="\xCF",iuml="\xEF",Jcirc="\u0134",jcirc="\u0135",Jcy="\u0419",jcy="\u0439",Jfr="\u{1D50D}",jfr="\u{1D527}",jmath="\u0237",Jopf="\u{1D541}",jopf="\u{1D55B}",Jscr="\u{1D4A5}",jscr="\u{1D4BF}",Jsercy="\u0408",jsercy="\u0458",Jukcy="\u0404",jukcy="\u0454",Kappa="\u039A",kappa="\u03BA",kappav="\u03F0",Kcedil="\u0136",kcedil="\u0137",Kcy="\u041A",kcy="\u043A",Kfr="\u{1D50E}",kfr="\u{1D528}",kgreen="\u0138",KHcy="\u0425",khcy="\u0445",KJcy="\u040C",kjcy="\u045C",Kopf="\u{1D542}",kopf="\u{1D55C}",Kscr="\u{1D4A6}",kscr="\u{1D4C0}",lAarr="\u21DA",Lacute="\u0139",lacute="\u013A",laemptyv="\u29B4",lagran="\u2112",Lambda="\u039B",lambda="\u03BB",lang="\u27E8",Lang="\u27EA",langd="\u2991",langle="\u27E8",lap="\u2A85",Laplacetrf="\u2112",laquo="\xAB",larrb="\u21E4",larrbfs="\u291F",larr="\u2190",Larr="\u219E",lArr="\u21D0",larrfs="\u291D",larrhk="\u21A9",larrlp="\u21AB",larrpl="\u2939",larrsim="\u2973",larrtl="\u21A2",latail="\u2919",lAtail="\u291B",lat="\u2AAB",late="\u2AAD",lates="\u2AAD\uFE00",lbarr="\u290C",lBarr="\u290E",lbbrk="\u2772",lbrace="{",lbrack="[",lbrke="\u298B",lbrksld="\u298F",lbrkslu="\u298D",Lcaron="\u013D",lcaron="\u013E",Lcedil="\u013B",lcedil="\u013C",lceil="\u2308",lcub="{",Lcy="\u041B",lcy="\u043B",ldca="\u2936",ldquo="\u201C",ldquor="\u201E",ldrdhar="\u2967",ldrushar="\u294B",ldsh="\u21B2",le="\u2264",lE="\u2266",LeftAngleBracket="\u27E8",LeftArrowBar="\u21E4",leftarrow="\u2190",LeftArrow="\u2190",Leftarrow="\u21D0",LeftArrowRightArrow="\u21C6",leftarrowtail="\u21A2",LeftCeiling="\u2308",LeftDoubleBracket="\u27E6",LeftDownTeeVector="\u2961",LeftDownVectorBar="\u2959",LeftDownVector="\u21C3",LeftFloor="\u230A",leftharpoondown="\u21BD",leftharpoonup="\u21BC",leftleftarrows="\u21C7",leftrightarrow="\u2194",LeftRightArrow="\u2194",Leftrightarrow="\u21D4",leftrightarrows="\u21C6",leftrightharpoons="\u21CB",leftrightsquigarrow="\u21AD",LeftRightVector="\u294E",LeftTeeArrow="\u21A4",LeftTee="\u22A3",LeftTeeVector="\u295A",leftthreetimes="\u22CB",LeftTriangleBar="\u29CF",LeftTriangle="\u22B2",LeftTriangleEqual="\u22B4",LeftUpDownVector="\u2951",LeftUpTeeVector="\u2960",LeftUpVectorBar="\u2958",LeftUpVector="\u21BF",LeftVectorBar="\u2952",LeftVector="\u21BC",lEg="\u2A8B",leg="\u22DA",leq="\u2264",leqq="\u2266",leqslant="\u2A7D",lescc="\u2AA8",les="\u2A7D",lesdot="\u2A7F",lesdoto="\u2A81",lesdotor="\u2A83",lesg="\u22DA\uFE00",lesges="\u2A93",lessapprox="\u2A85",lessdot="\u22D6",lesseqgtr="\u22DA",lesseqqgtr="\u2A8B",LessEqualGreater="\u22DA",LessFullEqual="\u2266",LessGreater="\u2276",lessgtr="\u2276",LessLess="\u2AA1",lesssim="\u2272",LessSlantEqual="\u2A7D",LessTilde="\u2272",lfisht="\u297C",lfloor="\u230A",Lfr="\u{1D50F}",lfr="\u{1D529}",lg="\u2276",lgE="\u2A91",lHar="\u2962",lhard="\u21BD",lharu="\u21BC",lharul="\u296A",lhblk="\u2584",LJcy="\u0409",ljcy="\u0459",llarr="\u21C7",ll="\u226A",Ll="\u22D8",llcorner="\u231E",Lleftarrow="\u21DA",llhard="\u296B",lltri="\u25FA",Lmidot="\u013F",lmidot="\u0140",lmoustache="\u23B0",lmoust="\u23B0",lnap="\u2A89",lnapprox="\u2A89",lne="\u2A87",lnE="\u2268",lneq="\u2A87",lneqq="\u2268",lnsim="\u22E6",loang="\u27EC",loarr="\u21FD",lobrk="\u27E6",longleftarrow="\u27F5",LongLeftArrow="\u27F5",Longleftarrow="\u27F8",longleftrightarrow="\u27F7",LongLeftRightArrow="\u27F7",Longleftrightarrow="\u27FA",longmapsto="\u27FC",longrightarrow="\u27F6",LongRightArrow="\u27F6",Longrightarrow="\u27F9",looparrowleft="\u21AB",looparrowright="\u21AC",lopar="\u2985",Lopf="\u{1D543}",lopf="\u{1D55D}",loplus="\u2A2D",lotimes="\u2A34",lowast="\u2217",lowbar="_",LowerLeftArrow="\u2199",LowerRightArrow="\u2198",loz="\u25CA",lozenge="\u25CA",lozf="\u29EB",lpar="(",lparlt="\u2993",lrarr="\u21C6",lrcorner="\u231F",lrhar="\u21CB",lrhard="\u296D",lrm="\u200E",lrtri="\u22BF",lsaquo="\u2039",lscr="\u{1D4C1}",Lscr="\u2112",lsh="\u21B0",Lsh="\u21B0",lsim="\u2272",lsime="\u2A8D",lsimg="\u2A8F",lsqb="[",lsquo="\u2018",lsquor="\u201A",Lstrok="\u0141",lstrok="\u0142",ltcc="\u2AA6",ltcir="\u2A79",lt="<",LT="<",Lt="\u226A",ltdot="\u22D6",lthree="\u22CB",ltimes="\u22C9",ltlarr="\u2976",ltquest="\u2A7B",ltri="\u25C3",ltrie="\u22B4",ltrif="\u25C2",ltrPar="\u2996",lurdshar="\u294A",luruhar="\u2966",lvertneqq="\u2268\uFE00",lvnE="\u2268\uFE00",macr="\xAF",male="\u2642",malt="\u2720",maltese="\u2720",map="\u21A6",mapsto="\u21A6",mapstodown="\u21A7",mapstoleft="\u21A4",mapstoup="\u21A5",marker="\u25AE",mcomma="\u2A29",Mcy="\u041C",mcy="\u043C",mdash="\u2014",mDDot="\u223A",measuredangle="\u2221",MediumSpace="\u205F",Mellintrf="\u2133",Mfr="\u{1D510}",mfr="\u{1D52A}",mho="\u2127",micro="\xB5",midast="*",midcir="\u2AF0",mid="\u2223",middot="\xB7",minusb="\u229F",minus="\u2212",minusd="\u2238",minusdu="\u2A2A",MinusPlus="\u2213",mlcp="\u2ADB",mldr="\u2026",mnplus="\u2213",models="\u22A7",Mopf="\u{1D544}",mopf="\u{1D55E}",mp="\u2213",mscr="\u{1D4C2}",Mscr="\u2133",mstpos="\u223E",Mu="\u039C",mu="\u03BC",multimap="\u22B8",mumap="\u22B8",nabla="\u2207",Nacute="\u0143",nacute="\u0144",nang="\u2220\u20D2",nap="\u2249",napE="\u2A70\u0338",napid="\u224B\u0338",napos="\u0149",napprox="\u2249",natural="\u266E",naturals="\u2115",natur="\u266E",nbsp="\xA0",nbump="\u224E\u0338",nbumpe="\u224F\u0338",ncap="\u2A43",Ncaron="\u0147",ncaron="\u0148",Ncedil="\u0145",ncedil="\u0146",ncong="\u2247",ncongdot="\u2A6D\u0338",ncup="\u2A42",Ncy="\u041D",ncy="\u043D",ndash="\u2013",nearhk="\u2924",nearr="\u2197",neArr="\u21D7",nearrow="\u2197",ne="\u2260",nedot="\u2250\u0338",NegativeMediumSpace="\u200B",NegativeThickSpace="\u200B",NegativeThinSpace="\u200B",NegativeVeryThinSpace="\u200B",nequiv="\u2262",nesear="\u2928",nesim="\u2242\u0338",NestedGreaterGreater="\u226B",NestedLessLess="\u226A",NewLine=`
`,nexist="\u2204",nexists="\u2204",Nfr="\u{1D511}",nfr="\u{1D52B}",ngE="\u2267\u0338",nge="\u2271",ngeq="\u2271",ngeqq="\u2267\u0338",ngeqslant="\u2A7E\u0338",nges="\u2A7E\u0338",nGg="\u22D9\u0338",ngsim="\u2275",nGt="\u226B\u20D2",ngt="\u226F",ngtr="\u226F",nGtv="\u226B\u0338",nharr="\u21AE",nhArr="\u21CE",nhpar="\u2AF2",ni="\u220B",nis="\u22FC",nisd="\u22FA",niv="\u220B",NJcy="\u040A",njcy="\u045A",nlarr="\u219A",nlArr="\u21CD",nldr="\u2025",nlE="\u2266\u0338",nle="\u2270",nleftarrow="\u219A",nLeftarrow="\u21CD",nleftrightarrow="\u21AE",nLeftrightarrow="\u21CE",nleq="\u2270",nleqq="\u2266\u0338",nleqslant="\u2A7D\u0338",nles="\u2A7D\u0338",nless="\u226E",nLl="\u22D8\u0338",nlsim="\u2274",nLt="\u226A\u20D2",nlt="\u226E",nltri="\u22EA",nltrie="\u22EC",nLtv="\u226A\u0338",nmid="\u2224",NoBreak="\u2060",NonBreakingSpace="\xA0",nopf="\u{1D55F}",Nopf="\u2115",Not="\u2AEC",not="\xAC",NotCongruent="\u2262",NotCupCap="\u226D",NotDoubleVerticalBar="\u2226",NotElement="\u2209",NotEqual="\u2260",NotEqualTilde="\u2242\u0338",NotExists="\u2204",NotGreater="\u226F",NotGreaterEqual="\u2271",NotGreaterFullEqual="\u2267\u0338",NotGreaterGreater="\u226B\u0338",NotGreaterLess="\u2279",NotGreaterSlantEqual="\u2A7E\u0338",NotGreaterTilde="\u2275",NotHumpDownHump="\u224E\u0338",NotHumpEqual="\u224F\u0338",notin="\u2209",notindot="\u22F5\u0338",notinE="\u22F9\u0338",notinva="\u2209",notinvb="\u22F7",notinvc="\u22F6",NotLeftTriangleBar="\u29CF\u0338",NotLeftTriangle="\u22EA",NotLeftTriangleEqual="\u22EC",NotLess="\u226E",NotLessEqual="\u2270",NotLessGreater="\u2278",NotLessLess="\u226A\u0338",NotLessSlantEqual="\u2A7D\u0338",NotLessTilde="\u2274",NotNestedGreaterGreater="\u2AA2\u0338",NotNestedLessLess="\u2AA1\u0338",notni="\u220C",notniva="\u220C",notnivb="\u22FE",notnivc="\u22FD",NotPrecedes="\u2280",NotPrecedesEqual="\u2AAF\u0338",NotPrecedesSlantEqual="\u22E0",NotReverseElement="\u220C",NotRightTriangleBar="\u29D0\u0338",NotRightTriangle="\u22EB",NotRightTriangleEqual="\u22ED",NotSquareSubset="\u228F\u0338",NotSquareSubsetEqual="\u22E2",NotSquareSuperset="\u2290\u0338",NotSquareSupersetEqual="\u22E3",NotSubset="\u2282\u20D2",NotSubsetEqual="\u2288",NotSucceeds="\u2281",NotSucceedsEqual="\u2AB0\u0338",NotSucceedsSlantEqual="\u22E1",NotSucceedsTilde="\u227F\u0338",NotSuperset="\u2283\u20D2",NotSupersetEqual="\u2289",NotTilde="\u2241",NotTildeEqual="\u2244",NotTildeFullEqual="\u2247",NotTildeTilde="\u2249",NotVerticalBar="\u2224",nparallel="\u2226",npar="\u2226",nparsl="\u2AFD\u20E5",npart="\u2202\u0338",npolint="\u2A14",npr="\u2280",nprcue="\u22E0",nprec="\u2280",npreceq="\u2AAF\u0338",npre="\u2AAF\u0338",nrarrc="\u2933\u0338",nrarr="\u219B",nrArr="\u21CF",nrarrw="\u219D\u0338",nrightarrow="\u219B",nRightarrow="\u21CF",nrtri="\u22EB",nrtrie="\u22ED",nsc="\u2281",nsccue="\u22E1",nsce="\u2AB0\u0338",Nscr="\u{1D4A9}",nscr="\u{1D4C3}",nshortmid="\u2224",nshortparallel="\u2226",nsim="\u2241",nsime="\u2244",nsimeq="\u2244",nsmid="\u2224",nspar="\u2226",nsqsube="\u22E2",nsqsupe="\u22E3",nsub="\u2284",nsubE="\u2AC5\u0338",nsube="\u2288",nsubset="\u2282\u20D2",nsubseteq="\u2288",nsubseteqq="\u2AC5\u0338",nsucc="\u2281",nsucceq="\u2AB0\u0338",nsup="\u2285",nsupE="\u2AC6\u0338",nsupe="\u2289",nsupset="\u2283\u20D2",nsupseteq="\u2289",nsupseteqq="\u2AC6\u0338",ntgl="\u2279",Ntilde="\xD1",ntilde="\xF1",ntlg="\u2278",ntriangleleft="\u22EA",ntrianglelefteq="\u22EC",ntriangleright="\u22EB",ntrianglerighteq="\u22ED",Nu="\u039D",nu="\u03BD",num="#",numero="\u2116",numsp="\u2007",nvap="\u224D\u20D2",nvdash="\u22AC",nvDash="\u22AD",nVdash="\u22AE",nVDash="\u22AF",nvge="\u2265\u20D2",nvgt=">\u20D2",nvHarr="\u2904",nvinfin="\u29DE",nvlArr="\u2902",nvle="\u2264\u20D2",nvlt="<\u20D2",nvltrie="\u22B4\u20D2",nvrArr="\u2903",nvrtrie="\u22B5\u20D2",nvsim="\u223C\u20D2",nwarhk="\u2923",nwarr="\u2196",nwArr="\u21D6",nwarrow="\u2196",nwnear="\u2927",Oacute="\xD3",oacute="\xF3",oast="\u229B",Ocirc="\xD4",ocirc="\xF4",ocir="\u229A",Ocy="\u041E",ocy="\u043E",odash="\u229D",Odblac="\u0150",odblac="\u0151",odiv="\u2A38",odot="\u2299",odsold="\u29BC",OElig="\u0152",oelig="\u0153",ofcir="\u29BF",Ofr="\u{1D512}",ofr="\u{1D52C}",ogon="\u02DB",Ograve="\xD2",ograve="\xF2",ogt="\u29C1",ohbar="\u29B5",ohm="\u03A9",oint="\u222E",olarr="\u21BA",olcir="\u29BE",olcross="\u29BB",oline="\u203E",olt="\u29C0",Omacr="\u014C",omacr="\u014D",Omega="\u03A9",omega="\u03C9",Omicron="\u039F",omicron="\u03BF",omid="\u29B6",ominus="\u2296",Oopf="\u{1D546}",oopf="\u{1D560}",opar="\u29B7",OpenCurlyDoubleQuote="\u201C",OpenCurlyQuote="\u2018",operp="\u29B9",oplus="\u2295",orarr="\u21BB",Or="\u2A54",or="\u2228",ord="\u2A5D",order="\u2134",orderof="\u2134",ordf="\xAA",ordm="\xBA",origof="\u22B6",oror="\u2A56",orslope="\u2A57",orv="\u2A5B",oS="\u24C8",Oscr="\u{1D4AA}",oscr="\u2134",Oslash="\xD8",oslash="\xF8",osol="\u2298",Otilde="\xD5",otilde="\xF5",otimesas="\u2A36",Otimes="\u2A37",otimes="\u2297",Ouml="\xD6",ouml="\xF6",ovbar="\u233D",OverBar="\u203E",OverBrace="\u23DE",OverBracket="\u23B4",OverParenthesis="\u23DC",para="\xB6",parallel="\u2225",par="\u2225",parsim="\u2AF3",parsl="\u2AFD",part="\u2202",PartialD="\u2202",Pcy="\u041F",pcy="\u043F",percnt="%",period=".",permil="\u2030",perp="\u22A5",pertenk="\u2031",Pfr="\u{1D513}",pfr="\u{1D52D}",Phi="\u03A6",phi="\u03C6",phiv="\u03D5",phmmat="\u2133",phone="\u260E",Pi="\u03A0",pi="\u03C0",pitchfork="\u22D4",piv="\u03D6",planck="\u210F",planckh="\u210E",plankv="\u210F",plusacir="\u2A23",plusb="\u229E",pluscir="\u2A22",plus="+",plusdo="\u2214",plusdu="\u2A25",pluse="\u2A72",PlusMinus="\xB1",plusmn="\xB1",plussim="\u2A26",plustwo="\u2A27",pm="\xB1",Poincareplane="\u210C",pointint="\u2A15",popf="\u{1D561}",Popf="\u2119",pound="\xA3",prap="\u2AB7",Pr="\u2ABB",pr="\u227A",prcue="\u227C",precapprox="\u2AB7",prec="\u227A",preccurlyeq="\u227C",Precedes="\u227A",PrecedesEqual="\u2AAF",PrecedesSlantEqual="\u227C",PrecedesTilde="\u227E",preceq="\u2AAF",precnapprox="\u2AB9",precneqq="\u2AB5",precnsim="\u22E8",pre="\u2AAF",prE="\u2AB3",precsim="\u227E",prime="\u2032",Prime="\u2033",primes="\u2119",prnap="\u2AB9",prnE="\u2AB5",prnsim="\u22E8",prod="\u220F",Product="\u220F",profalar="\u232E",profline="\u2312",profsurf="\u2313",prop="\u221D",Proportional="\u221D",Proportion="\u2237",propto="\u221D",prsim="\u227E",prurel="\u22B0",Pscr="\u{1D4AB}",pscr="\u{1D4C5}",Psi="\u03A8",psi="\u03C8",puncsp="\u2008",Qfr="\u{1D514}",qfr="\u{1D52E}",qint="\u2A0C",qopf="\u{1D562}",Qopf="\u211A",qprime="\u2057",Qscr="\u{1D4AC}",qscr="\u{1D4C6}",quaternions="\u210D",quatint="\u2A16",quest="?",questeq="\u225F",quot='"',QUOT='"',rAarr="\u21DB",race="\u223D\u0331",Racute="\u0154",racute="\u0155",radic="\u221A",raemptyv="\u29B3",rang="\u27E9",Rang="\u27EB",rangd="\u2992",range="\u29A5",rangle="\u27E9",raquo="\xBB",rarrap="\u2975",rarrb="\u21E5",rarrbfs="\u2920",rarrc="\u2933",rarr="\u2192",Rarr="\u21A0",rArr="\u21D2",rarrfs="\u291E",rarrhk="\u21AA",rarrlp="\u21AC",rarrpl="\u2945",rarrsim="\u2974",Rarrtl="\u2916",rarrtl="\u21A3",rarrw="\u219D",ratail="\u291A",rAtail="\u291C",ratio="\u2236",rationals="\u211A",rbarr="\u290D",rBarr="\u290F",RBarr="\u2910",rbbrk="\u2773",rbrace="}",rbrack="]",rbrke="\u298C",rbrksld="\u298E",rbrkslu="\u2990",Rcaron="\u0158",rcaron="\u0159",Rcedil="\u0156",rcedil="\u0157",rceil="\u2309",rcub="}",Rcy="\u0420",rcy="\u0440",rdca="\u2937",rdldhar="\u2969",rdquo="\u201D",rdquor="\u201D",rdsh="\u21B3",real="\u211C",realine="\u211B",realpart="\u211C",reals="\u211D",Re="\u211C",rect="\u25AD",reg="\xAE",REG="\xAE",ReverseElement="\u220B",ReverseEquilibrium="\u21CB",ReverseUpEquilibrium="\u296F",rfisht="\u297D",rfloor="\u230B",rfr="\u{1D52F}",Rfr="\u211C",rHar="\u2964",rhard="\u21C1",rharu="\u21C0",rharul="\u296C",Rho="\u03A1",rho="\u03C1",rhov="\u03F1",RightAngleBracket="\u27E9",RightArrowBar="\u21E5",rightarrow="\u2192",RightArrow="\u2192",Rightarrow="\u21D2",RightArrowLeftArrow="\u21C4",rightarrowtail="\u21A3",RightCeiling="\u2309",RightDoubleBracket="\u27E7",RightDownTeeVector="\u295D",RightDownVectorBar="\u2955",RightDownVector="\u21C2",RightFloor="\u230B",rightharpoondown="\u21C1",rightharpoonup="\u21C0",rightleftarrows="\u21C4",rightleftharpoons="\u21CC",rightrightarrows="\u21C9",rightsquigarrow="\u219D",RightTeeArrow="\u21A6",RightTee="\u22A2",RightTeeVector="\u295B",rightthreetimes="\u22CC",RightTriangleBar="\u29D0",RightTriangle="\u22B3",RightTriangleEqual="\u22B5",RightUpDownVector="\u294F",RightUpTeeVector="\u295C",RightUpVectorBar="\u2954",RightUpVector="\u21BE",RightVectorBar="\u2953",RightVector="\u21C0",ring="\u02DA",risingdotseq="\u2253",rlarr="\u21C4",rlhar="\u21CC",rlm="\u200F",rmoustache="\u23B1",rmoust="\u23B1",rnmid="\u2AEE",roang="\u27ED",roarr="\u21FE",robrk="\u27E7",ropar="\u2986",ropf="\u{1D563}",Ropf="\u211D",roplus="\u2A2E",rotimes="\u2A35",RoundImplies="\u2970",rpar=")",rpargt="\u2994",rppolint="\u2A12",rrarr="\u21C9",Rrightarrow="\u21DB",rsaquo="\u203A",rscr="\u{1D4C7}",Rscr="\u211B",rsh="\u21B1",Rsh="\u21B1",rsqb="]",rsquo="\u2019",rsquor="\u2019",rthree="\u22CC",rtimes="\u22CA",rtri="\u25B9",rtrie="\u22B5",rtrif="\u25B8",rtriltri="\u29CE",RuleDelayed="\u29F4",ruluhar="\u2968",rx="\u211E",Sacute="\u015A",sacute="\u015B",sbquo="\u201A",scap="\u2AB8",Scaron="\u0160",scaron="\u0161",Sc="\u2ABC",sc="\u227B",sccue="\u227D",sce="\u2AB0",scE="\u2AB4",Scedil="\u015E",scedil="\u015F",Scirc="\u015C",scirc="\u015D",scnap="\u2ABA",scnE="\u2AB6",scnsim="\u22E9",scpolint="\u2A13",scsim="\u227F",Scy="\u0421",scy="\u0441",sdotb="\u22A1",sdot="\u22C5",sdote="\u2A66",searhk="\u2925",searr="\u2198",seArr="\u21D8",searrow="\u2198",sect="\xA7",semi=";",seswar="\u2929",setminus="\u2216",setmn="\u2216",sext="\u2736",Sfr="\u{1D516}",sfr="\u{1D530}",sfrown="\u2322",sharp="\u266F",SHCHcy="\u0429",shchcy="\u0449",SHcy="\u0428",shcy="\u0448",ShortDownArrow="\u2193",ShortLeftArrow="\u2190",shortmid="\u2223",shortparallel="\u2225",ShortRightArrow="\u2192",ShortUpArrow="\u2191",shy="\xAD",Sigma="\u03A3",sigma="\u03C3",sigmaf="\u03C2",sigmav="\u03C2",sim="\u223C",simdot="\u2A6A",sime="\u2243",simeq="\u2243",simg="\u2A9E",simgE="\u2AA0",siml="\u2A9D",simlE="\u2A9F",simne="\u2246",simplus="\u2A24",simrarr="\u2972",slarr="\u2190",SmallCircle="\u2218",smallsetminus="\u2216",smashp="\u2A33",smeparsl="\u29E4",smid="\u2223",smile="\u2323",smt="\u2AAA",smte="\u2AAC",smtes="\u2AAC\uFE00",SOFTcy="\u042C",softcy="\u044C",solbar="\u233F",solb="\u29C4",sol="/",Sopf="\u{1D54A}",sopf="\u{1D564}",spades="\u2660",spadesuit="\u2660",spar="\u2225",sqcap="\u2293",sqcaps="\u2293\uFE00",sqcup="\u2294",sqcups="\u2294\uFE00",Sqrt="\u221A",sqsub="\u228F",sqsube="\u2291",sqsubset="\u228F",sqsubseteq="\u2291",sqsup="\u2290",sqsupe="\u2292",sqsupset="\u2290",sqsupseteq="\u2292",square="\u25A1",Square="\u25A1",SquareIntersection="\u2293",SquareSubset="\u228F",SquareSubsetEqual="\u2291",SquareSuperset="\u2290",SquareSupersetEqual="\u2292",SquareUnion="\u2294",squarf="\u25AA",squ="\u25A1",squf="\u25AA",srarr="\u2192",Sscr="\u{1D4AE}",sscr="\u{1D4C8}",ssetmn="\u2216",ssmile="\u2323",sstarf="\u22C6",Star="\u22C6",star="\u2606",starf="\u2605",straightepsilon="\u03F5",straightphi="\u03D5",strns="\xAF",sub="\u2282",Sub="\u22D0",subdot="\u2ABD",subE="\u2AC5",sube="\u2286",subedot="\u2AC3",submult="\u2AC1",subnE="\u2ACB",subne="\u228A",subplus="\u2ABF",subrarr="\u2979",subset="\u2282",Subset="\u22D0",subseteq="\u2286",subseteqq="\u2AC5",SubsetEqual="\u2286",subsetneq="\u228A",subsetneqq="\u2ACB",subsim="\u2AC7",subsub="\u2AD5",subsup="\u2AD3",succapprox="\u2AB8",succ="\u227B",succcurlyeq="\u227D",Succeeds="\u227B",SucceedsEqual="\u2AB0",SucceedsSlantEqual="\u227D",SucceedsTilde="\u227F",succeq="\u2AB0",succnapprox="\u2ABA",succneqq="\u2AB6",succnsim="\u22E9",succsim="\u227F",SuchThat="\u220B",sum="\u2211",Sum="\u2211",sung="\u266A",sup1="\xB9",sup2="\xB2",sup3="\xB3",sup="\u2283",Sup="\u22D1",supdot="\u2ABE",supdsub="\u2AD8",supE="\u2AC6",supe="\u2287",supedot="\u2AC4",Superset="\u2283",SupersetEqual="\u2287",suphsol="\u27C9",suphsub="\u2AD7",suplarr="\u297B",supmult="\u2AC2",supnE="\u2ACC",supne="\u228B",supplus="\u2AC0",supset="\u2283",Supset="\u22D1",supseteq="\u2287",supseteqq="\u2AC6",supsetneq="\u228B",supsetneqq="\u2ACC",supsim="\u2AC8",supsub="\u2AD4",supsup="\u2AD6",swarhk="\u2926",swarr="\u2199",swArr="\u21D9",swarrow="\u2199",swnwar="\u292A",szlig="\xDF",Tab="	",target="\u2316",Tau="\u03A4",tau="\u03C4",tbrk="\u23B4",Tcaron="\u0164",tcaron="\u0165",Tcedil="\u0162",tcedil="\u0163",Tcy="\u0422",tcy="\u0442",tdot="\u20DB",telrec="\u2315",Tfr="\u{1D517}",tfr="\u{1D531}",there4="\u2234",therefore="\u2234",Therefore="\u2234",Theta="\u0398",theta="\u03B8",thetasym="\u03D1",thetav="\u03D1",thickapprox="\u2248",thicksim="\u223C",ThickSpace="\u205F\u200A",ThinSpace="\u2009",thinsp="\u2009",thkap="\u2248",thksim="\u223C",THORN="\xDE",thorn="\xFE",tilde="\u02DC",Tilde="\u223C",TildeEqual="\u2243",TildeFullEqual="\u2245",TildeTilde="\u2248",timesbar="\u2A31",timesb="\u22A0",times="\xD7",timesd="\u2A30",tint="\u222D",toea="\u2928",topbot="\u2336",topcir="\u2AF1",top="\u22A4",Topf="\u{1D54B}",topf="\u{1D565}",topfork="\u2ADA",tosa="\u2929",tprime="\u2034",trade="\u2122",TRADE="\u2122",triangle="\u25B5",triangledown="\u25BF",triangleleft="\u25C3",trianglelefteq="\u22B4",triangleq="\u225C",triangleright="\u25B9",trianglerighteq="\u22B5",tridot="\u25EC",trie="\u225C",triminus="\u2A3A",TripleDot="\u20DB",triplus="\u2A39",trisb="\u29CD",tritime="\u2A3B",trpezium="\u23E2",Tscr="\u{1D4AF}",tscr="\u{1D4C9}",TScy="\u0426",tscy="\u0446",TSHcy="\u040B",tshcy="\u045B",Tstrok="\u0166",tstrok="\u0167",twixt="\u226C",twoheadleftarrow="\u219E",twoheadrightarrow="\u21A0",Uacute="\xDA",uacute="\xFA",uarr="\u2191",Uarr="\u219F",uArr="\u21D1",Uarrocir="\u2949",Ubrcy="\u040E",ubrcy="\u045E",Ubreve="\u016C",ubreve="\u016D",Ucirc="\xDB",ucirc="\xFB",Ucy="\u0423",ucy="\u0443",udarr="\u21C5",Udblac="\u0170",udblac="\u0171",udhar="\u296E",ufisht="\u297E",Ufr="\u{1D518}",ufr="\u{1D532}",Ugrave="\xD9",ugrave="\xF9",uHar="\u2963",uharl="\u21BF",uharr="\u21BE",uhblk="\u2580",ulcorn="\u231C",ulcorner="\u231C",ulcrop="\u230F",ultri="\u25F8",Umacr="\u016A",umacr="\u016B",uml="\xA8",UnderBar="_",UnderBrace="\u23DF",UnderBracket="\u23B5",UnderParenthesis="\u23DD",Union="\u22C3",UnionPlus="\u228E",Uogon="\u0172",uogon="\u0173",Uopf="\u{1D54C}",uopf="\u{1D566}",UpArrowBar="\u2912",uparrow="\u2191",UpArrow="\u2191",Uparrow="\u21D1",UpArrowDownArrow="\u21C5",updownarrow="\u2195",UpDownArrow="\u2195",Updownarrow="\u21D5",UpEquilibrium="\u296E",upharpoonleft="\u21BF",upharpoonright="\u21BE",uplus="\u228E",UpperLeftArrow="\u2196",UpperRightArrow="\u2197",upsi="\u03C5",Upsi="\u03D2",upsih="\u03D2",Upsilon="\u03A5",upsilon="\u03C5",UpTeeArrow="\u21A5",UpTee="\u22A5",upuparrows="\u21C8",urcorn="\u231D",urcorner="\u231D",urcrop="\u230E",Uring="\u016E",uring="\u016F",urtri="\u25F9",Uscr="\u{1D4B0}",uscr="\u{1D4CA}",utdot="\u22F0",Utilde="\u0168",utilde="\u0169",utri="\u25B5",utrif="\u25B4",uuarr="\u21C8",Uuml="\xDC",uuml="\xFC",uwangle="\u29A7",vangrt="\u299C",varepsilon="\u03F5",varkappa="\u03F0",varnothing="\u2205",varphi="\u03D5",varpi="\u03D6",varpropto="\u221D",varr="\u2195",vArr="\u21D5",varrho="\u03F1",varsigma="\u03C2",varsubsetneq="\u228A\uFE00",varsubsetneqq="\u2ACB\uFE00",varsupsetneq="\u228B\uFE00",varsupsetneqq="\u2ACC\uFE00",vartheta="\u03D1",vartriangleleft="\u22B2",vartriangleright="\u22B3",vBar="\u2AE8",Vbar="\u2AEB",vBarv="\u2AE9",Vcy="\u0412",vcy="\u0432",vdash="\u22A2",vDash="\u22A8",Vdash="\u22A9",VDash="\u22AB",Vdashl="\u2AE6",veebar="\u22BB",vee="\u2228",Vee="\u22C1",veeeq="\u225A",vellip="\u22EE",verbar="|",Verbar="\u2016",vert="|",Vert="\u2016",VerticalBar="\u2223",VerticalLine="|",VerticalSeparator="\u2758",VerticalTilde="\u2240",VeryThinSpace="\u200A",Vfr="\u{1D519}",vfr="\u{1D533}",vltri="\u22B2",vnsub="\u2282\u20D2",vnsup="\u2283\u20D2",Vopf="\u{1D54D}",vopf="\u{1D567}",vprop="\u221D",vrtri="\u22B3",Vscr="\u{1D4B1}",vscr="\u{1D4CB}",vsubnE="\u2ACB\uFE00",vsubne="\u228A\uFE00",vsupnE="\u2ACC\uFE00",vsupne="\u228B\uFE00",Vvdash="\u22AA",vzigzag="\u299A",Wcirc="\u0174",wcirc="\u0175",wedbar="\u2A5F",wedge="\u2227",Wedge="\u22C0",wedgeq="\u2259",weierp="\u2118",Wfr="\u{1D51A}",wfr="\u{1D534}",Wopf="\u{1D54E}",wopf="\u{1D568}",wp="\u2118",wr="\u2240",wreath="\u2240",Wscr="\u{1D4B2}",wscr="\u{1D4CC}",xcap="\u22C2",xcirc="\u25EF",xcup="\u22C3",xdtri="\u25BD",Xfr="\u{1D51B}",xfr="\u{1D535}",xharr="\u27F7",xhArr="\u27FA",Xi="\u039E",xi="\u03BE",xlarr="\u27F5",xlArr="\u27F8",xmap="\u27FC",xnis="\u22FB",xodot="\u2A00",Xopf="\u{1D54F}",xopf="\u{1D569}",xoplus="\u2A01",xotime="\u2A02",xrarr="\u27F6",xrArr="\u27F9",Xscr="\u{1D4B3}",xscr="\u{1D4CD}",xsqcup="\u2A06",xuplus="\u2A04",xutri="\u25B3",xvee="\u22C1",xwedge="\u22C0",Yacute="\xDD",yacute="\xFD",YAcy="\u042F",yacy="\u044F",Ycirc="\u0176",ycirc="\u0177",Ycy="\u042B",ycy="\u044B",yen="\xA5",Yfr="\u{1D51C}",yfr="\u{1D536}",YIcy="\u0407",yicy="\u0457",Yopf="\u{1D550}",yopf="\u{1D56A}",Yscr="\u{1D4B4}",yscr="\u{1D4CE}",YUcy="\u042E",yucy="\u044E",yuml="\xFF",Yuml="\u0178",Zacute="\u0179",zacute="\u017A",Zcaron="\u017D",zcaron="\u017E",Zcy="\u0417",zcy="\u0437",Zdot="\u017B",zdot="\u017C",zeetrf="\u2128",ZeroWidthSpace="\u200B",Zeta="\u0396",zeta="\u03B6",zfr="\u{1D537}",Zfr="\u2128",ZHcy="\u0416",zhcy="\u0436",zigrarr="\u21DD",zopf="\u{1D56B}",Zopf="\u2124",Zscr="\u{1D4B5}",zscr="\u{1D4CF}",zwj="\u200D",zwnj="\u200C",require$$0$1={Aacute,aacute,Abreve,abreve,ac,acd,acE,Acirc,acirc,acute,Acy,acy,AElig,aelig,af,Afr,afr,Agrave,agrave,alefsym,aleph,Alpha,alpha,Amacr,amacr,amalg,amp,AMP,andand,And,and,andd,andslope,andv,ang,ange,angle,angmsdaa,angmsdab,angmsdac,angmsdad,angmsdae,angmsdaf,angmsdag,angmsdah,angmsd,angrt,angrtvb,angrtvbd,angsph,angst,angzarr,Aogon,aogon,Aopf,aopf,apacir,ap,apE,ape,apid,apos,ApplyFunction,approx,approxeq,Aring,aring,Ascr,ascr,Assign,ast,asymp,asympeq,Atilde,atilde,Auml,auml,awconint,awint,backcong,backepsilon,backprime,backsim,backsimeq,Backslash,Barv,barvee,barwed,Barwed,barwedge,bbrk,bbrktbrk,bcong,Bcy,bcy,bdquo,becaus,because,Because,bemptyv,bepsi,bernou,Bernoullis,Beta,beta,beth,between,Bfr,bfr,bigcap,bigcirc,bigcup,bigodot,bigoplus,bigotimes,bigsqcup,bigstar,bigtriangledown,bigtriangleup,biguplus,bigvee,bigwedge,bkarow,blacklozenge,blacksquare,blacktriangle,blacktriangledown,blacktriangleleft,blacktriangleright,blank,blk12,blk14,blk34,block:block$1,bne,bnequiv,bNot,bnot,Bopf,bopf,bot,bottom,bowtie,boxbox,boxdl,boxdL,boxDl,boxDL,boxdr,boxdR,boxDr,boxDR,boxh,boxH,boxhd,boxHd,boxhD,boxHD,boxhu,boxHu,boxhU,boxHU,boxminus,boxplus,boxtimes,boxul,boxuL,boxUl,boxUL,boxur,boxuR,boxUr,boxUR,boxv,boxV,boxvh,boxvH,boxVh,boxVH,boxvl,boxvL,boxVl,boxVL,boxvr,boxvR,boxVr,boxVR,bprime,breve,Breve,brvbar,bscr,Bscr,bsemi,bsim,bsime,bsolb,bsol,bsolhsub,bull,bullet,bump,bumpE,bumpe,Bumpeq,bumpeq,Cacute,cacute,capand,capbrcup,capcap,cap,Cap,capcup,capdot,CapitalDifferentialD,caps,caret,caron,Cayleys,ccaps,Ccaron,ccaron,Ccedil,ccedil,Ccirc,ccirc,Cconint,ccups,ccupssm,Cdot,cdot,cedil,Cedilla,cemptyv,cent,centerdot,CenterDot,cfr,Cfr,CHcy,chcy,check,checkmark,Chi,chi,circ,circeq,circlearrowleft,circlearrowright,circledast,circledcirc,circleddash,CircleDot,circledR,circledS,CircleMinus,CirclePlus,CircleTimes,cir,cirE,cire,cirfnint,cirmid,cirscir,ClockwiseContourIntegral,CloseCurlyDoubleQuote,CloseCurlyQuote,clubs,clubsuit,colon,Colon,Colone,colone,coloneq,comma,commat,comp,compfn,complement,complexes,cong,congdot,Congruent,conint,Conint,ContourIntegral,copf,Copf,coprod,Coproduct,copy,COPY,copysr,CounterClockwiseContourIntegral,crarr,cross,Cross,Cscr,cscr,csub,csube,csup,csupe,ctdot,cudarrl,cudarrr,cuepr,cuesc,cularr,cularrp,cupbrcap,cupcap,CupCap,cup,Cup,cupcup,cupdot,cupor,cups,curarr,curarrm,curlyeqprec,curlyeqsucc,curlyvee,curlywedge,curren,curvearrowleft,curvearrowright,cuvee,cuwed,cwconint,cwint,cylcty,dagger,Dagger,daleth,darr,Darr,dArr,dash,Dashv,dashv,dbkarow,dblac,Dcaron,dcaron,Dcy,dcy,ddagger,ddarr,DD,dd,DDotrahd,ddotseq,deg,Del,Delta,delta,demptyv,dfisht,Dfr,dfr,dHar,dharl,dharr,DiacriticalAcute,DiacriticalDot,DiacriticalDoubleAcute,DiacriticalGrave,DiacriticalTilde,diam,diamond,Diamond,diamondsuit,diams,die,DifferentialD,digamma,disin,div,divide,divideontimes,divonx,DJcy,djcy,dlcorn,dlcrop,dollar,Dopf,dopf,Dot,dot,DotDot,doteq,doteqdot,DotEqual,dotminus,dotplus,dotsquare,doublebarwedge,DoubleContourIntegral,DoubleDot,DoubleDownArrow,DoubleLeftArrow,DoubleLeftRightArrow,DoubleLeftTee,DoubleLongLeftArrow,DoubleLongLeftRightArrow,DoubleLongRightArrow,DoubleRightArrow,DoubleRightTee,DoubleUpArrow,DoubleUpDownArrow,DoubleVerticalBar,DownArrowBar,downarrow,DownArrow,Downarrow,DownArrowUpArrow,DownBreve,downdownarrows,downharpoonleft,downharpoonright,DownLeftRightVector,DownLeftTeeVector,DownLeftVectorBar,DownLeftVector,DownRightTeeVector,DownRightVectorBar,DownRightVector,DownTeeArrow,DownTee,drbkarow,drcorn,drcrop,Dscr,dscr,DScy,dscy,dsol,Dstrok,dstrok,dtdot,dtri,dtrif,duarr,duhar,dwangle,DZcy,dzcy,dzigrarr,Eacute,eacute,easter,Ecaron,ecaron,Ecirc,ecirc,ecir,ecolon,Ecy,ecy,eDDot,Edot,edot,eDot,ee,efDot,Efr,efr,eg,Egrave,egrave,egs,egsdot,el,Element:Element$1,elinters,ell,els,elsdot,Emacr,emacr,empty,emptyset,EmptySmallSquare,emptyv,EmptyVerySmallSquare,emsp13,emsp14,emsp,ENG,eng,ensp,Eogon,eogon,Eopf,eopf,epar,eparsl,eplus,epsi,Epsilon,epsilon,epsiv,eqcirc,eqcolon,eqsim,eqslantgtr,eqslantless,Equal,equals,EqualTilde,equest,Equilibrium,equiv,equivDD,eqvparsl,erarr,erDot,escr,Escr,esdot,Esim,esim,Eta,eta,ETH,eth,Euml,euml,euro,excl,exist,Exists,expectation,exponentiale,ExponentialE,fallingdotseq,Fcy,fcy,female,ffilig,fflig,ffllig,Ffr,ffr,filig,FilledSmallSquare,FilledVerySmallSquare,fjlig,flat,fllig,fltns,fnof,Fopf,fopf,forall,ForAll,fork,forkv,Fouriertrf,fpartint,frac12,frac13,frac14,frac15,frac16,frac18,frac23,frac25,frac34,frac35,frac38,frac45,frac56,frac58,frac78,frasl,frown,fscr,Fscr,gacute,Gamma,gamma,Gammad,gammad,gap,Gbreve,gbreve,Gcedil,Gcirc,gcirc,Gcy,gcy,Gdot,gdot,ge,gE,gEl,gel,geq,geqq,geqslant,gescc,ges,gesdot,gesdoto,gesdotol,gesl,gesles,Gfr,gfr,gg,Gg,ggg,gimel,GJcy,gjcy,gla,gl,glE,glj,gnap,gnapprox,gne,gnE,gneq,gneqq,gnsim,Gopf,gopf,grave,GreaterEqual,GreaterEqualLess,GreaterFullEqual,GreaterGreater,GreaterLess,GreaterSlantEqual,GreaterTilde,Gscr,gscr,gsim,gsime,gsiml,gtcc,gtcir,gt,GT,Gt,gtdot,gtlPar,gtquest,gtrapprox,gtrarr,gtrdot,gtreqless,gtreqqless,gtrless,gtrsim,gvertneqq,gvnE,Hacek,hairsp,half,hamilt,HARDcy,hardcy,harrcir,harr,hArr,harrw,Hat,hbar,Hcirc,hcirc,hearts,heartsuit,hellip,hercon,hfr,Hfr,HilbertSpace,hksearow,hkswarow,hoarr,homtht,hookleftarrow,hookrightarrow,hopf,Hopf,horbar,HorizontalLine,hscr,Hscr,hslash,Hstrok,hstrok,HumpDownHump,HumpEqual,hybull,hyphen,Iacute,iacute,ic,Icirc,icirc,Icy,icy,Idot,IEcy,iecy,iexcl,iff,ifr,Ifr,Igrave,igrave,ii,iiiint,iiint,iinfin,iiota,IJlig,ijlig,Imacr,imacr,image:image$1,ImaginaryI,imagline,imagpart,imath,Im,imof,imped,Implies,incare,in:"\u2208",infin,infintie,inodot,intcal,int,Int,integers,Integral,intercal,Intersection,intlarhk,intprod,InvisibleComma,InvisibleTimes,IOcy,iocy,Iogon,iogon,Iopf,iopf,Iota,iota,iprod,iquest,iscr,Iscr,isin,isindot,isinE,isins,isinsv,isinv,it,Itilde,itilde,Iukcy,iukcy,Iuml,iuml,Jcirc,jcirc,Jcy,jcy,Jfr,jfr,jmath,Jopf,jopf,Jscr,jscr,Jsercy,jsercy,Jukcy,jukcy,Kappa,kappa,kappav,Kcedil,kcedil,Kcy,kcy,Kfr,kfr,kgreen,KHcy,khcy,KJcy,kjcy,Kopf,kopf,Kscr,kscr,lAarr,Lacute,lacute,laemptyv,lagran,Lambda,lambda,lang,Lang,langd,langle,lap,Laplacetrf,laquo,larrb,larrbfs,larr,Larr,lArr,larrfs,larrhk,larrlp,larrpl,larrsim,larrtl,latail,lAtail,lat,late,lates,lbarr,lBarr,lbbrk,lbrace,lbrack,lbrke,lbrksld,lbrkslu,Lcaron,lcaron,Lcedil,lcedil,lceil,lcub,Lcy,lcy,ldca,ldquo,ldquor,ldrdhar,ldrushar,ldsh,le,lE,LeftAngleBracket,LeftArrowBar,leftarrow,LeftArrow,Leftarrow,LeftArrowRightArrow,leftarrowtail,LeftCeiling,LeftDoubleBracket,LeftDownTeeVector,LeftDownVectorBar,LeftDownVector,LeftFloor,leftharpoondown,leftharpoonup,leftleftarrows,leftrightarrow,LeftRightArrow,Leftrightarrow,leftrightarrows,leftrightharpoons,leftrightsquigarrow,LeftRightVector,LeftTeeArrow,LeftTee,LeftTeeVector,leftthreetimes,LeftTriangleBar,LeftTriangle,LeftTriangleEqual,LeftUpDownVector,LeftUpTeeVector,LeftUpVectorBar,LeftUpVector,LeftVectorBar,LeftVector,lEg,leg,leq,leqq,leqslant,lescc,les,lesdot,lesdoto,lesdotor,lesg,lesges,lessapprox,lessdot,lesseqgtr,lesseqqgtr,LessEqualGreater,LessFullEqual,LessGreater,lessgtr,LessLess,lesssim,LessSlantEqual,LessTilde,lfisht,lfloor,Lfr,lfr,lg,lgE,lHar,lhard,lharu,lharul,lhblk,LJcy,ljcy,llarr,ll,Ll,llcorner,Lleftarrow,llhard,lltri,Lmidot,lmidot,lmoustache,lmoust,lnap,lnapprox,lne,lnE,lneq,lneqq,lnsim,loang,loarr,lobrk,longleftarrow,LongLeftArrow,Longleftarrow,longleftrightarrow,LongLeftRightArrow,Longleftrightarrow,longmapsto,longrightarrow,LongRightArrow,Longrightarrow,looparrowleft,looparrowright,lopar,Lopf,lopf,loplus,lotimes,lowast,lowbar,LowerLeftArrow,LowerRightArrow,loz,lozenge,lozf,lpar,lparlt,lrarr,lrcorner,lrhar,lrhard,lrm,lrtri,lsaquo,lscr,Lscr,lsh,Lsh,lsim,lsime,lsimg,lsqb,lsquo,lsquor,Lstrok,lstrok,ltcc,ltcir,lt,LT,Lt,ltdot,lthree,ltimes,ltlarr,ltquest,ltri,ltrie,ltrif,ltrPar,lurdshar,luruhar,lvertneqq,lvnE,macr,male,malt,maltese,Map:"\u2905",map,mapsto,mapstodown,mapstoleft,mapstoup,marker,mcomma,Mcy,mcy,mdash,mDDot,measuredangle,MediumSpace,Mellintrf,Mfr,mfr,mho,micro,midast,midcir,mid,middot,minusb,minus,minusd,minusdu,MinusPlus,mlcp,mldr,mnplus,models,Mopf,mopf,mp,mscr,Mscr,mstpos,Mu,mu,multimap,mumap,nabla,Nacute,nacute,nang,nap,napE,napid,napos,napprox,natural,naturals,natur,nbsp,nbump,nbumpe,ncap,Ncaron,ncaron,Ncedil,ncedil,ncong,ncongdot,ncup,Ncy,ncy,ndash,nearhk,nearr,neArr,nearrow,ne,nedot,NegativeMediumSpace,NegativeThickSpace,NegativeThinSpace,NegativeVeryThinSpace,nequiv,nesear,nesim,NestedGreaterGreater,NestedLessLess,NewLine,nexist,nexists,Nfr,nfr,ngE,nge,ngeq,ngeqq,ngeqslant,nges,nGg,ngsim,nGt,ngt,ngtr,nGtv,nharr,nhArr,nhpar,ni,nis,nisd,niv,NJcy,njcy,nlarr,nlArr,nldr,nlE,nle,nleftarrow,nLeftarrow,nleftrightarrow,nLeftrightarrow,nleq,nleqq,nleqslant,nles,nless,nLl,nlsim,nLt,nlt,nltri,nltrie,nLtv,nmid,NoBreak,NonBreakingSpace,nopf,Nopf,Not,not,NotCongruent,NotCupCap,NotDoubleVerticalBar,NotElement,NotEqual,NotEqualTilde,NotExists,NotGreater,NotGreaterEqual,NotGreaterFullEqual,NotGreaterGreater,NotGreaterLess,NotGreaterSlantEqual,NotGreaterTilde,NotHumpDownHump,NotHumpEqual,notin,notindot,notinE,notinva,notinvb,notinvc,NotLeftTriangleBar,NotLeftTriangle,NotLeftTriangleEqual,NotLess,NotLessEqual,NotLessGreater,NotLessLess,NotLessSlantEqual,NotLessTilde,NotNestedGreaterGreater,NotNestedLessLess,notni,notniva,notnivb,notnivc,NotPrecedes,NotPrecedesEqual,NotPrecedesSlantEqual,NotReverseElement,NotRightTriangleBar,NotRightTriangle,NotRightTriangleEqual,NotSquareSubset,NotSquareSubsetEqual,NotSquareSuperset,NotSquareSupersetEqual,NotSubset,NotSubsetEqual,NotSucceeds,NotSucceedsEqual,NotSucceedsSlantEqual,NotSucceedsTilde,NotSuperset,NotSupersetEqual,NotTilde,NotTildeEqual,NotTildeFullEqual,NotTildeTilde,NotVerticalBar,nparallel,npar,nparsl,npart,npolint,npr,nprcue,nprec,npreceq,npre,nrarrc,nrarr,nrArr,nrarrw,nrightarrow,nRightarrow,nrtri,nrtrie,nsc,nsccue,nsce,Nscr,nscr,nshortmid,nshortparallel,nsim,nsime,nsimeq,nsmid,nspar,nsqsube,nsqsupe,nsub,nsubE,nsube,nsubset,nsubseteq,nsubseteqq,nsucc,nsucceq,nsup,nsupE,nsupe,nsupset,nsupseteq,nsupseteqq,ntgl,Ntilde,ntilde,ntlg,ntriangleleft,ntrianglelefteq,ntriangleright,ntrianglerighteq,Nu,nu,num,numero,numsp,nvap,nvdash,nvDash,nVdash,nVDash,nvge,nvgt,nvHarr,nvinfin,nvlArr,nvle,nvlt,nvltrie,nvrArr,nvrtrie,nvsim,nwarhk,nwarr,nwArr,nwarrow,nwnear,Oacute,oacute,oast,Ocirc,ocirc,ocir,Ocy,ocy,odash,Odblac,odblac,odiv,odot,odsold,OElig,oelig,ofcir,Ofr,ofr,ogon,Ograve,ograve,ogt,ohbar,ohm,oint,olarr,olcir,olcross,oline,olt,Omacr,omacr,Omega,omega,Omicron,omicron,omid,ominus,Oopf,oopf,opar,OpenCurlyDoubleQuote,OpenCurlyQuote,operp,oplus,orarr,Or,or,ord,order,orderof,ordf,ordm,origof,oror,orslope,orv,oS,Oscr,oscr,Oslash,oslash,osol,Otilde,otilde,otimesas,Otimes,otimes,Ouml,ouml,ovbar,OverBar,OverBrace,OverBracket,OverParenthesis,para,parallel,par,parsim,parsl,part,PartialD,Pcy,pcy,percnt,period,permil,perp,pertenk,Pfr,pfr,Phi,phi,phiv,phmmat,phone,Pi,pi,pitchfork,piv,planck,planckh,plankv,plusacir,plusb,pluscir,plus,plusdo,plusdu,pluse,PlusMinus,plusmn,plussim,plustwo,pm,Poincareplane,pointint,popf,Popf,pound,prap,Pr,pr,prcue,precapprox,prec,preccurlyeq,Precedes,PrecedesEqual,PrecedesSlantEqual,PrecedesTilde,preceq,precnapprox,precneqq,precnsim,pre,prE,precsim,prime,Prime,primes,prnap,prnE,prnsim,prod,Product,profalar,profline,profsurf,prop,Proportional,Proportion,propto,prsim,prurel,Pscr,pscr,Psi,psi,puncsp,Qfr,qfr,qint,qopf,Qopf,qprime,Qscr,qscr,quaternions,quatint,quest,questeq,quot,QUOT,rAarr,race,Racute,racute,radic,raemptyv,rang,Rang,rangd,range,rangle,raquo,rarrap,rarrb,rarrbfs,rarrc,rarr,Rarr,rArr,rarrfs,rarrhk,rarrlp,rarrpl,rarrsim,Rarrtl,rarrtl,rarrw,ratail,rAtail,ratio,rationals,rbarr,rBarr,RBarr,rbbrk,rbrace,rbrack,rbrke,rbrksld,rbrkslu,Rcaron,rcaron,Rcedil,rcedil,rceil,rcub,Rcy,rcy,rdca,rdldhar,rdquo,rdquor,rdsh,real,realine,realpart,reals,Re,rect,reg,REG,ReverseElement,ReverseEquilibrium,ReverseUpEquilibrium,rfisht,rfloor,rfr,Rfr,rHar,rhard,rharu,rharul,Rho,rho,rhov,RightAngleBracket,RightArrowBar,rightarrow,RightArrow,Rightarrow,RightArrowLeftArrow,rightarrowtail,RightCeiling,RightDoubleBracket,RightDownTeeVector,RightDownVectorBar,RightDownVector,RightFloor,rightharpoondown,rightharpoonup,rightleftarrows,rightleftharpoons,rightrightarrows,rightsquigarrow,RightTeeArrow,RightTee,RightTeeVector,rightthreetimes,RightTriangleBar,RightTriangle,RightTriangleEqual,RightUpDownVector,RightUpTeeVector,RightUpVectorBar,RightUpVector,RightVectorBar,RightVector,ring,risingdotseq,rlarr,rlhar,rlm,rmoustache,rmoust,rnmid,roang,roarr,robrk,ropar,ropf,Ropf,roplus,rotimes,RoundImplies,rpar,rpargt,rppolint,rrarr,Rrightarrow,rsaquo,rscr,Rscr,rsh,Rsh,rsqb,rsquo,rsquor,rthree,rtimes,rtri,rtrie,rtrif,rtriltri,RuleDelayed,ruluhar,rx,Sacute,sacute,sbquo,scap,Scaron,scaron,Sc,sc,sccue,sce,scE,Scedil,scedil,Scirc,scirc,scnap,scnE,scnsim,scpolint,scsim,Scy,scy,sdotb,sdot,sdote,searhk,searr,seArr,searrow,sect,semi,seswar,setminus,setmn,sext,Sfr,sfr,sfrown,sharp,SHCHcy,shchcy,SHcy,shcy,ShortDownArrow,ShortLeftArrow,shortmid,shortparallel,ShortRightArrow,ShortUpArrow,shy,Sigma,sigma,sigmaf,sigmav,sim,simdot,sime,simeq,simg,simgE,siml,simlE,simne,simplus,simrarr,slarr,SmallCircle,smallsetminus,smashp,smeparsl,smid,smile,smt,smte,smtes,SOFTcy,softcy,solbar,solb,sol,Sopf,sopf,spades,spadesuit,spar,sqcap,sqcaps,sqcup,sqcups,Sqrt,sqsub,sqsube,sqsubset,sqsubseteq,sqsup,sqsupe,sqsupset,sqsupseteq,square,Square,SquareIntersection,SquareSubset,SquareSubsetEqual,SquareSuperset,SquareSupersetEqual,SquareUnion,squarf,squ,squf,srarr,Sscr,sscr,ssetmn,ssmile,sstarf,Star,star,starf,straightepsilon,straightphi,strns,sub,Sub,subdot,subE,sube,subedot,submult,subnE,subne,subplus,subrarr,subset,Subset,subseteq,subseteqq,SubsetEqual,subsetneq,subsetneqq,subsim,subsub,subsup,succapprox,succ,succcurlyeq,Succeeds,SucceedsEqual,SucceedsSlantEqual,SucceedsTilde,succeq,succnapprox,succneqq,succnsim,succsim,SuchThat,sum,Sum,sung,sup1,sup2,sup3,sup,Sup,supdot,supdsub,supE,supe,supedot,Superset,SupersetEqual,suphsol,suphsub,suplarr,supmult,supnE,supne,supplus,supset,Supset,supseteq,supseteqq,supsetneq,supsetneqq,supsim,supsub,supsup,swarhk,swarr,swArr,swarrow,swnwar,szlig,Tab,target,Tau,tau,tbrk,Tcaron,tcaron,Tcedil,tcedil,Tcy,tcy,tdot,telrec,Tfr,tfr,there4,therefore,Therefore,Theta,theta,thetasym,thetav,thickapprox,thicksim,ThickSpace,ThinSpace,thinsp,thkap,thksim,THORN,thorn,tilde,Tilde,TildeEqual,TildeFullEqual,TildeTilde,timesbar,timesb,times,timesd,tint,toea,topbot,topcir,top,Topf,topf,topfork,tosa,tprime,trade,TRADE,triangle,triangledown,triangleleft,trianglelefteq,triangleq,triangleright,trianglerighteq,tridot,trie,triminus,TripleDot,triplus,trisb,tritime,trpezium,Tscr,tscr,TScy,tscy,TSHcy,tshcy,Tstrok,tstrok,twixt,twoheadleftarrow,twoheadrightarrow,Uacute,uacute,uarr,Uarr,uArr,Uarrocir,Ubrcy,ubrcy,Ubreve,ubreve,Ucirc,ucirc,Ucy,ucy,udarr,Udblac,udblac,udhar,ufisht,Ufr,ufr,Ugrave,ugrave,uHar,uharl,uharr,uhblk,ulcorn,ulcorner,ulcrop,ultri,Umacr,umacr,uml,UnderBar,UnderBrace,UnderBracket,UnderParenthesis,Union,UnionPlus,Uogon,uogon,Uopf,uopf,UpArrowBar,uparrow,UpArrow,Uparrow,UpArrowDownArrow,updownarrow,UpDownArrow,Updownarrow,UpEquilibrium,upharpoonleft,upharpoonright,uplus,UpperLeftArrow,UpperRightArrow,upsi,Upsi,upsih,Upsilon,upsilon,UpTeeArrow,UpTee,upuparrows,urcorn,urcorner,urcrop,Uring,uring,urtri,Uscr,uscr,utdot,Utilde,utilde,utri,utrif,uuarr,Uuml,uuml,uwangle,vangrt,varepsilon,varkappa,varnothing,varphi,varpi,varpropto,varr,vArr,varrho,varsigma,varsubsetneq,varsubsetneqq,varsupsetneq,varsupsetneqq,vartheta,vartriangleleft,vartriangleright,vBar,Vbar,vBarv,Vcy,vcy,vdash,vDash,Vdash,VDash,Vdashl,veebar,vee,Vee,veeeq,vellip,verbar,Verbar,vert,Vert,VerticalBar,VerticalLine,VerticalSeparator,VerticalTilde,VeryThinSpace,Vfr,vfr,vltri,vnsub,vnsup,Vopf,vopf,vprop,vrtri,Vscr,vscr,vsubnE,vsubne,vsupnE,vsupne,Vvdash,vzigzag,Wcirc,wcirc,wedbar,wedge,Wedge,wedgeq,weierp,Wfr,wfr,Wopf,wopf,wp,wr,wreath,Wscr,wscr,xcap,xcirc,xcup,xdtri,Xfr,xfr,xharr,xhArr,Xi,xi,xlarr,xlArr,xmap,xnis,xodot,Xopf,xopf,xoplus,xotime,xrarr,xrArr,Xscr,xscr,xsqcup,xuplus,xutri,xvee,xwedge,Yacute,yacute,YAcy,yacy,Ycirc,ycirc,Ycy,ycy,yen,Yfr,yfr,YIcy,yicy,Yopf,yopf,Yscr,yscr,YUcy,yucy,yuml,Yuml,Zacute,zacute,Zcaron,zcaron,Zcy,zcy,Zdot,zdot,zeetrf,ZeroWidthSpace,Zeta,zeta,zfr,Zfr,ZHcy,zhcy,zigrarr,zopf,Zopf,Zscr,zscr,zwj,zwnj};(function(e){e.exports=require$$0$1})(entities$1);var regex$4=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,mdurl$1={},encodeCache={};function getEncodeCache(e){var t,n,r=encodeCache[e];if(r)return r;for(r=encodeCache[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function encode(e,t,n){var r,o,s,a,c,d="";for(typeof t!="string"&&(n=t,t=encode.defaultChars),typeof n>"u"&&(n=!0),c=getEncodeCache(t),r=0,o=e.length;r<o;r++){if(s=e.charCodeAt(r),n&&s===37&&r+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3))){d+=e.slice(r,r+3),r+=2;continue}if(s<128){d+=c[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&r+1<o&&(a=e.charCodeAt(r+1),a>=56320&&a<=57343)){d+=encodeURIComponent(e[r]+e[r+1]),r++;continue}d+="%EF%BF%BD";continue}d+=encodeURIComponent(e[r])}return d}encode.defaultChars=";/?:@&=+$,-_.!~*'()#";encode.componentChars="-_.!~*'()";var encode_1=encode,decodeCache={};function getDecodeCache(e){var t,n,r=decodeCache[e];if(r)return r;for(r=decodeCache[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function decode(e,t){var n;return typeof t!="string"&&(t=decode.defaultChars),n=getDecodeCache(t),e.replace(/(%[a-f0-9]{2})+/gi,function(r){var o,s,a,c,d,f,m,v="";for(o=0,s=r.length;o<s;o+=3){if(a=parseInt(r.slice(o+1,o+3),16),a<128){v+=n[a];continue}if((a&224)===192&&o+3<s&&(c=parseInt(r.slice(o+4,o+6),16),(c&192)===128)){m=a<<6&1984|c&63,m<128?v+="\uFFFD\uFFFD":v+=String.fromCharCode(m),o+=3;continue}if((a&240)===224&&o+6<s&&(c=parseInt(r.slice(o+4,o+6),16),d=parseInt(r.slice(o+7,o+9),16),(c&192)===128&&(d&192)===128)){m=a<<12&61440|c<<6&4032|d&63,m<2048||m>=55296&&m<=57343?v+="\uFFFD\uFFFD\uFFFD":v+=String.fromCharCode(m),o+=6;continue}if((a&248)===240&&o+9<s&&(c=parseInt(r.slice(o+4,o+6),16),d=parseInt(r.slice(o+7,o+9),16),f=parseInt(r.slice(o+10,o+12),16),(c&192)===128&&(d&192)===128&&(f&192)===128)){m=a<<18&1835008|c<<12&258048|d<<6&4032|f&63,m<65536||m>1114111?v+="\uFFFD\uFFFD\uFFFD\uFFFD":(m-=65536,v+=String.fromCharCode(55296+(m>>10),56320+(m&1023))),o+=9;continue}v+="\uFFFD"}return v})}decode.defaultChars=";/?:@&=+$,#";decode.componentChars="";var decode_1=decode,format=function e(t){var n="";return n+=t.protocol||"",n+=t.slashes?"//":"",n+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?n+="["+t.hostname+"]":n+=t.hostname||"",n+=t.port?":"+t.port:"",n+=t.pathname||"",n+=t.search||"",n+=t.hash||"",n};function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(e,t){if(e&&e instanceof Url)return e;var n=new Url;return n.parse(e,t),n}Url.prototype.parse=function(e,t){var n,r,o,s,a,c=e;if(c=c.trim(),!t&&e.split("#").length===1){var d=simplePathPattern.exec(c);if(d)return this.pathname=d[1],d[2]&&(this.search=d[2]),this}var f=protocolPattern.exec(c);if(f&&(f=f[0],o=f.toLowerCase(),this.protocol=f,c=c.substr(f.length)),(t||f||c.match(/^\/\/[^@\/]+@[^@\/]+/))&&(a=c.substr(0,2)==="//",a&&!(f&&hostlessProtocol[f])&&(c=c.substr(2),this.slashes=!0)),!hostlessProtocol[f]&&(a||f&&!slashedProtocol[f])){var m=-1;for(n=0;n<hostEndingChars.length;n++)s=c.indexOf(hostEndingChars[n]),s!==-1&&(m===-1||s<m)&&(m=s);var v,_;for(m===-1?_=c.lastIndexOf("@"):_=c.lastIndexOf("@",m),_!==-1&&(v=c.slice(0,_),c=c.slice(_+1),this.auth=v),m=-1,n=0;n<nonHostChars.length;n++)s=c.indexOf(nonHostChars[n]),s!==-1&&(m===-1||s<m)&&(m=s);m===-1&&(m=c.length),c[m-1]===":"&&m--;var y=c.slice(0,m);c=c.slice(m),this.parseHost(y),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C){var S=this.hostname.split(/\./);for(n=0,r=S.length;n<r;n++){var I=S[n];if(!!I&&!I.match(hostnamePartPattern)){for(var T="",E=0,x=I.length;E<x;E++)I.charCodeAt(E)>127?T+="x":T+=I[E];if(!T.match(hostnamePartPattern)){var P=S.slice(0,n),V=S.slice(n+1),R=I.match(hostnamePartStart);R&&(P.push(R[1]),V.unshift(R[2])),V.length&&(c=V.join(".")+c),this.hostname=P.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var M=c.indexOf("#");M!==-1&&(this.hash=c.substr(M),c=c.slice(0,M));var D=c.indexOf("?");return D!==-1&&(this.search=c.substr(D),c=c.slice(0,D)),c&&(this.pathname=c),slashedProtocol[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(e){var t=portPattern.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var parse=urlParse;mdurl$1.encode=encode_1;mdurl$1.decode=decode_1;mdurl$1.format=format;mdurl$1.parse=parse;var uc_micro={},regex$3,hasRequiredRegex$3;function requireRegex$3(){return hasRequiredRegex$3||(hasRequiredRegex$3=1,regex$3=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),regex$3}var regex$2,hasRequiredRegex$2;function requireRegex$2(){return hasRequiredRegex$2||(hasRequiredRegex$2=1,regex$2=/[\0-\x1F\x7F-\x9F]/),regex$2}var regex$1,hasRequiredRegex$1;function requireRegex$1(){return hasRequiredRegex$1||(hasRequiredRegex$1=1,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),regex$1}var regex,hasRequiredRegex;function requireRegex(){return hasRequiredRegex||(hasRequiredRegex=1,regex=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),regex}var hasRequiredUc_micro;function requireUc_micro(){return hasRequiredUc_micro||(hasRequiredUc_micro=1,uc_micro.Any=requireRegex$3(),uc_micro.Cc=requireRegex$2(),uc_micro.Cf=requireRegex$1(),uc_micro.P=regex$4,uc_micro.Z=requireRegex()),uc_micro}(function(e){function t($){return Object.prototype.toString.call($)}function n($){return t($)==="[object String]"}var r=Object.prototype.hasOwnProperty;function o($,te){return r.call($,te)}function s($){var te=Array.prototype.slice.call(arguments,1);return te.forEach(function(X){if(!!X){if(typeof X!="object")throw new TypeError(X+"must be object");Object.keys(X).forEach(function(ue){$[ue]=X[ue]})}}),$}function a($,te,X){return[].concat($.slice(0,te),X,$.slice(te+1))}function c($){return!($>=55296&&$<=57343||$>=64976&&$<=65007||($&65535)===65535||($&65535)===65534||$>=0&&$<=8||$===11||$>=14&&$<=31||$>=127&&$<=159||$>1114111)}function d($){if($>65535){$-=65536;var te=55296+($>>10),X=56320+($&1023);return String.fromCharCode(te,X)}return String.fromCharCode($)}var f=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,m=/&([a-z#][a-z0-9]{1,31});/gi,v=new RegExp(f.source+"|"+m.source,"gi"),_=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,y=entities$1.exports;function C($,te){var X=0;return o(y,te)?y[te]:te.charCodeAt(0)===35&&_.test(te)&&(X=te[1].toLowerCase()==="x"?parseInt(te.slice(2),16):parseInt(te.slice(1),10),c(X))?d(X):$}function S($){return $.indexOf("\\")<0?$:$.replace(f,"$1")}function I($){return $.indexOf("\\")<0&&$.indexOf("&")<0?$:$.replace(v,function(te,X,ue){return X||C(te,ue)})}var T=/[&<>"]/,E=/[&<>"]/g,x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function P($){return x[$]}function V($){return T.test($)?$.replace(E,P):$}var R=/[.?*+^$[\]\\(){}|-]/g;function M($){return $.replace(R,"\\$&")}function D($){switch($){case 9:case 32:return!0}return!1}function B($){if($>=8192&&$<=8202)return!0;switch($){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var U=regex$4;function j($){return U.test($)}function z($){switch($){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function W($){return $=$.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&($=$.replace(/ẞ/g,"\xDF")),$.toLowerCase().toUpperCase()}e.lib={},e.lib.mdurl=mdurl$1,e.lib.ucmicro=requireUc_micro(),e.assign=s,e.isString=n,e.has=o,e.unescapeMd=S,e.unescapeAll=I,e.isValidEntityCode=c,e.fromCodePoint=d,e.escapeHtml=V,e.arrayReplaceAt=a,e.isSpace=D,e.isWhiteSpace=B,e.isMdAsciiPunct=z,e.isPunctChar=j,e.escapeRE=M,e.normalizeReference=W})(utils$1);var helpers$1={},parse_link_label=function e(t,n,r){var o,s,a,c,d=-1,f=t.posMax,m=t.pos;for(t.pos=n+1,o=1;t.pos<f;){if(a=t.src.charCodeAt(t.pos),a===93&&(o--,o===0)){s=!0;break}if(c=t.pos,t.md.inline.skipToken(t),a===91){if(c===t.pos-1)o++;else if(r)return t.pos=m,-1}}return s&&(d=t.pos),t.pos=m,d},unescapeAll$2=utils$1.unescapeAll,parse_link_destination=function e(t,n,r){var o,s,a=0,c=n,d={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(n)===60){for(n++;n<r;){if(o=t.charCodeAt(n),o===10||o===60)return d;if(o===62)return d.pos=n+1,d.str=unescapeAll$2(t.slice(c+1,n)),d.ok=!0,d;if(o===92&&n+1<r){n+=2;continue}n++}return d}for(s=0;n<r&&(o=t.charCodeAt(n),!(o===32||o<32||o===127));){if(o===92&&n+1<r){if(t.charCodeAt(n+1)===32)break;n+=2;continue}if(o===40&&(s++,s>32))return d;if(o===41){if(s===0)break;s--}n++}return c===n||s!==0||(d.str=unescapeAll$2(t.slice(c,n)),d.lines=a,d.pos=n,d.ok=!0),d},unescapeAll$1=utils$1.unescapeAll,parse_link_title=function e(t,n,r){var o,s,a=0,c=n,d={ok:!1,pos:0,lines:0,str:""};if(n>=r||(s=t.charCodeAt(n),s!==34&&s!==39&&s!==40))return d;for(n++,s===40&&(s=41);n<r;){if(o=t.charCodeAt(n),o===s)return d.pos=n+1,d.lines=a,d.str=unescapeAll$1(t.slice(c+1,n)),d.ok=!0,d;if(o===40&&s===41)return d;o===10?a++:o===92&&n+1<r&&(n++,t.charCodeAt(n)===10&&a++),n++}return d};helpers$1.parseLinkLabel=parse_link_label;helpers$1.parseLinkDestination=parse_link_destination;helpers$1.parseLinkTitle=parse_link_title;var assign$1=utils$1.assign,unescapeAll=utils$1.unescapeAll,escapeHtml=utils$1.escapeHtml,default_rules={};default_rules.code_inline=function(e,t,n,r,o){var s=e[t];return"<code"+o.renderAttrs(s)+">"+escapeHtml(e[t].content)+"</code>"};default_rules.code_block=function(e,t,n,r,o){var s=e[t];return"<pre"+o.renderAttrs(s)+"><code>"+escapeHtml(e[t].content)+`</code></pre>
`};default_rules.fence=function(e,t,n,r,o){var s=e[t],a=s.info?unescapeAll(s.info).trim():"",c="",d="",f,m,v,_,y;return a&&(v=a.split(/(\s+)/g),c=v[0],d=v.slice(2).join("")),n.highlight?f=n.highlight(s.content,c,d)||escapeHtml(s.content):f=escapeHtml(s.content),f.indexOf("<pre")===0?f+`
`:a?(m=s.attrIndex("class"),_=s.attrs?s.attrs.slice():[],m<0?_.push(["class",n.langPrefix+c]):(_[m]=_[m].slice(),_[m][1]+=" "+n.langPrefix+c),y={attrs:_},"<pre><code"+o.renderAttrs(y)+">"+f+`</code></pre>
`):"<pre><code"+o.renderAttrs(s)+">"+f+`</code></pre>
`};default_rules.image=function(e,t,n,r,o){var s=e[t];return s.attrs[s.attrIndex("alt")][1]=o.renderInlineAsText(s.children,n,r),o.renderToken(e,t,n)};default_rules.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(e,t){return escapeHtml(e[t].content)};default_rules.html_block=function(e,t){return e[t].content};default_rules.html_inline=function(e,t){return e[t].content};function Renderer$1(){this.rules=assign$1({},default_rules)}Renderer$1.prototype.renderAttrs=function e(t){var n,r,o;if(!t.attrs)return"";for(o="",n=0,r=t.attrs.length;n<r;n++)o+=" "+escapeHtml(t.attrs[n][0])+'="'+escapeHtml(t.attrs[n][1])+'"';return o};Renderer$1.prototype.renderToken=function e(t,n,r){var o,s="",a=!1,c=t[n];return c.hidden?"":(c.block&&c.nesting!==-1&&n&&t[n-1].hidden&&(s+=`
`),s+=(c.nesting===-1?"</":"<")+c.tag,s+=this.renderAttrs(c),c.nesting===0&&r.xhtmlOut&&(s+=" /"),c.block&&(a=!0,c.nesting===1&&n+1<t.length&&(o=t[n+1],(o.type==="inline"||o.hidden||o.nesting===-1&&o.tag===c.tag)&&(a=!1))),s+=a?`>
`:">",s)};Renderer$1.prototype.renderInline=function(e,t,n){for(var r,o="",s=this.rules,a=0,c=e.length;a<c;a++)r=e[a].type,typeof s[r]<"u"?o+=s[r](e,a,t,n,this):o+=this.renderToken(e,a,t);return o};Renderer$1.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,s=e.length;o<s;o++)e[o].type==="text"?r+=e[o].content:e[o].type==="image"?r+=this.renderInlineAsText(e[o].children,t,n):e[o].type==="softbreak"&&(r+=`
`);return r};Renderer$1.prototype.render=function(e,t,n){var r,o,s,a="",c=this.rules;for(r=0,o=e.length;r<o;r++)s=e[r].type,s==="inline"?a+=this.renderInline(e[r].children,t,n):typeof c[s]<"u"?a+=c[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a};var renderer=Renderer$1;function Ruler$3(){this.__rules__=[],this.__cache__=null}Ruler$3.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Ruler$3.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(n){!n.enabled||n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){!r.enabled||n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn)})})};Ruler$3.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null};Ruler$3.prototype.before=function(e,t,n,r){var o=this.__find__(e),s=r||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Ruler$3.prototype.after=function(e,t,n,r){var o=this.__find__(e),s=r||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Ruler$3.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};Ruler$3.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var o=this.__find__(r);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!0,n.push(r)},this),this.__cache__=null,n};Ruler$3.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};Ruler$3.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var o=this.__find__(r);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!1,n.push(r)},this),this.__cache__=null,n};Ruler$3.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};var ruler=Ruler$3,NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g,normalize=function e(t){var n;n=t.src.replace(NEWLINES_RE,`
`),n=n.replace(NULL_RE,"\uFFFD"),t.src=n},block=function e(t){var n;t.inlineMode?(n=new t.Token("inline","",0),n.content=t.src,n.map=[0,1],n.children=[],t.tokens.push(n)):t.md.block.parse(t.src,t.md,t.env,t.tokens)},inline=function e(t){var n=t.tokens,r,o,s;for(o=0,s=n.length;o<s;o++)r=n[o],r.type==="inline"&&t.md.inline.parse(r.content,t.md,t.env,r.children)},arrayReplaceAt=utils$1.arrayReplaceAt;function isLinkOpen$1(e){return/^<a[>\s]/i.test(e)}function isLinkClose$1(e){return/^<\/a\s*>/i.test(e)}var linkify$1=function e(t){var n,r,o,s,a,c,d,f,m,v,_,y,C,S,I,T,E=t.tokens,x;if(!!t.md.options.linkify){for(r=0,o=E.length;r<o;r++)if(!(E[r].type!=="inline"||!t.md.linkify.pretest(E[r].content)))for(s=E[r].children,C=0,n=s.length-1;n>=0;n--){if(c=s[n],c.type==="link_close"){for(n--;s[n].level!==c.level&&s[n].type!=="link_open";)n--;continue}if(c.type==="html_inline"&&(isLinkOpen$1(c.content)&&C>0&&C--,isLinkClose$1(c.content)&&C++),!(C>0)&&c.type==="text"&&t.md.linkify.test(c.content)){for(m=c.content,x=t.md.linkify.match(m),d=[],y=c.level,_=0,x.length>0&&x[0].index===0&&n>0&&s[n-1].type==="text_special"&&(x=x.slice(1)),f=0;f<x.length;f++)S=x[f].url,I=t.md.normalizeLink(S),t.md.validateLink(I)&&(T=x[f].text,x[f].schema?x[f].schema==="mailto:"&&!/^mailto:/i.test(T)?T=t.md.normalizeLinkText("mailto:"+T).replace(/^mailto:/,""):T=t.md.normalizeLinkText(T):T=t.md.normalizeLinkText("http://"+T).replace(/^http:\/\//,""),v=x[f].index,v>_&&(a=new t.Token("text","",0),a.content=m.slice(_,v),a.level=y,d.push(a)),a=new t.Token("link_open","a",1),a.attrs=[["href",I]],a.level=y++,a.markup="linkify",a.info="auto",d.push(a),a=new t.Token("text","",0),a.content=T,a.level=y,d.push(a),a=new t.Token("link_close","a",-1),a.level=--y,a.markup="linkify",a.info="auto",d.push(a),_=x[f].lastIndex);_<m.length&&(a=new t.Token("text","",0),a.content=m.slice(_),a.level=y,d.push(a)),E[r].children=s=arrayReplaceAt(s,n,d)}}}},RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"\xA9",r:"\xAE",tm:"\u2122"};function replaceFn(e,t){return SCOPED_ABBR[t.toLowerCase()]}function replace_scoped(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&(n.content=n.content.replace(SCOPED_ABBR_RE,replaceFn)),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}function replace_rare(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&RARE_RE.test(n.content)&&(n.content=n.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}var replacements=function e(t){var n;if(!!t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(t.tokens[n].content)&&replace_scoped(t.tokens[n].children),RARE_RE.test(t.tokens[n].content)&&replace_rare(t.tokens[n].children))},isWhiteSpace$1=utils$1.isWhiteSpace,isPunctChar$1=utils$1.isPunctChar,isMdAsciiPunct$1=utils$1.isMdAsciiPunct,QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="\u2019";function replaceAt(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function process_inlines(e,t){var n,r,o,s,a,c,d,f,m,v,_,y,C,S,I,T,E,x,P,V,R;for(P=[],n=0;n<e.length;n++){for(r=e[n],d=e[n].level,E=P.length-1;E>=0&&!(P[E].level<=d);E--);if(P.length=E+1,r.type!=="text")continue;o=r.content,a=0,c=o.length;e:for(;a<c&&(QUOTE_RE.lastIndex=a,s=QUOTE_RE.exec(o),!!s);){if(I=T=!0,a=s.index+1,x=s[0]==="'",m=32,s.index-1>=0)m=o.charCodeAt(s.index-1);else for(E=n-1;E>=0&&!(e[E].type==="softbreak"||e[E].type==="hardbreak");E--)if(!!e[E].content){m=e[E].content.charCodeAt(e[E].content.length-1);break}if(v=32,a<c)v=o.charCodeAt(a);else for(E=n+1;E<e.length&&!(e[E].type==="softbreak"||e[E].type==="hardbreak");E++)if(!!e[E].content){v=e[E].content.charCodeAt(0);break}if(_=isMdAsciiPunct$1(m)||isPunctChar$1(String.fromCharCode(m)),y=isMdAsciiPunct$1(v)||isPunctChar$1(String.fromCharCode(v)),C=isWhiteSpace$1(m),S=isWhiteSpace$1(v),S?I=!1:y&&(C||_||(I=!1)),C?T=!1:_&&(S||y||(T=!1)),v===34&&s[0]==='"'&&m>=48&&m<=57&&(T=I=!1),I&&T&&(I=_,T=y),!I&&!T){x&&(r.content=replaceAt(r.content,s.index,APOSTROPHE));continue}if(T){for(E=P.length-1;E>=0&&(f=P[E],!(P[E].level<d));E--)if(f.single===x&&P[E].level===d){f=P[E],x?(V=t.md.options.quotes[2],R=t.md.options.quotes[3]):(V=t.md.options.quotes[0],R=t.md.options.quotes[1]),r.content=replaceAt(r.content,s.index,R),e[f.token].content=replaceAt(e[f.token].content,f.pos,V),a+=R.length-1,f.token===n&&(a+=V.length-1),o=r.content,c=o.length,P.length=E;continue e}}I?P.push({token:n,pos:s.index,single:x,level:d}):T&&x&&(r.content=replaceAt(r.content,s.index,APOSTROPHE))}}}var smartquotes=function e(t){var n;if(!!t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type!=="inline"||!QUOTE_TEST_RE.test(t.tokens[n].content)||process_inlines(t.tokens[n].children,t)},text_join=function e(t){var n,r,o,s,a,c,d=t.tokens;for(n=0,r=d.length;n<r;n++)if(d[n].type==="inline"){for(o=d[n].children,a=o.length,s=0;s<a;s++)o[s].type==="text_special"&&(o[s].type="text");for(s=c=0;s<a;s++)o[s].type==="text"&&s+1<a&&o[s+1].type==="text"?o[s+1].content=o[s].content+o[s+1].content:(s!==c&&(o[c]=o[s]),c++);s!==c&&(o.length=c)}};function Token$3(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token$3.prototype.attrIndex=function e(t){var n,r,o;if(!this.attrs)return-1;for(n=this.attrs,r=0,o=n.length;r<o;r++)if(n[r][0]===t)return r;return-1};Token$3.prototype.attrPush=function e(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Token$3.prototype.attrSet=function e(t,n){var r=this.attrIndex(t),o=[t,n];r<0?this.attrPush(o):this.attrs[r]=o};Token$3.prototype.attrGet=function e(t){var n=this.attrIndex(t),r=null;return n>=0&&(r=this.attrs[n][1]),r};Token$3.prototype.attrJoin=function e(t,n){var r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};var token=Token$3,Token$2=token;function StateCore(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}StateCore.prototype.Token=Token$2;var state_core=StateCore,Ruler$2=ruler,_rules$2=[["normalize",normalize],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replacements],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler$2;for(var e=0;e<_rules$2.length;e++)this.ruler.push(_rules$2[e][0],_rules$2[e][1])}Core.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;t<n;t++)r[t](e)};Core.prototype.State=state_core;var parser_core=Core,isSpace$a=utils$1.isSpace;function getLine(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function escapedSplit(e){var t=[],n=0,r=e.length,o,s=!1,a=0,c="";for(o=e.charCodeAt(n);n<r;)o===124&&(s?(c+=e.substring(a,n-1),a=n):(t.push(c+e.substring(a,n)),c="",a=n+1)),s=o===92,n++,o=e.charCodeAt(n);return t.push(c+e.substring(a)),t}var table=function e(t,n,r,o){var s,a,c,d,f,m,v,_,y,C,S,I,T,E,x,P,V,R;if(n+2>r||(m=n+1,t.sCount[m]<t.blkIndent)||t.sCount[m]-t.blkIndent>=4||(c=t.bMarks[m]+t.tShift[m],c>=t.eMarks[m])||(V=t.src.charCodeAt(c++),V!==124&&V!==45&&V!==58)||c>=t.eMarks[m]||(R=t.src.charCodeAt(c++),R!==124&&R!==45&&R!==58&&!isSpace$a(R))||V===45&&isSpace$a(R))return!1;for(;c<t.eMarks[m];){if(s=t.src.charCodeAt(c),s!==124&&s!==45&&s!==58&&!isSpace$a(s))return!1;c++}for(a=getLine(t,n+1),v=a.split("|"),C=[],d=0;d<v.length;d++){if(S=v[d].trim(),!S){if(d===0||d===v.length-1)continue;return!1}if(!/^:?-+:?$/.test(S))return!1;S.charCodeAt(S.length-1)===58?C.push(S.charCodeAt(0)===58?"center":"right"):S.charCodeAt(0)===58?C.push("left"):C.push("")}if(a=getLine(t,n).trim(),a.indexOf("|")===-1||t.sCount[n]-t.blkIndent>=4||(v=escapedSplit(a),v.length&&v[0]===""&&v.shift(),v.length&&v[v.length-1]===""&&v.pop(),_=v.length,_===0||_!==C.length))return!1;if(o)return!0;for(E=t.parentType,t.parentType="table",P=t.md.block.ruler.getRules("blockquote"),y=t.push("table_open","table",1),y.map=I=[n,0],y=t.push("thead_open","thead",1),y.map=[n,n+1],y=t.push("tr_open","tr",1),y.map=[n,n+1],d=0;d<v.length;d++)y=t.push("th_open","th",1),C[d]&&(y.attrs=[["style","text-align:"+C[d]]]),y=t.push("inline","",0),y.content=v[d].trim(),y.children=[],y=t.push("th_close","th",-1);for(y=t.push("tr_close","tr",-1),y=t.push("thead_close","thead",-1),m=n+2;m<r&&!(t.sCount[m]<t.blkIndent);m++){for(x=!1,d=0,f=P.length;d<f;d++)if(P[d](t,m,r,!0)){x=!0;break}if(x||(a=getLine(t,m).trim(),!a)||t.sCount[m]-t.blkIndent>=4)break;for(v=escapedSplit(a),v.length&&v[0]===""&&v.shift(),v.length&&v[v.length-1]===""&&v.pop(),m===n+2&&(y=t.push("tbody_open","tbody",1),y.map=T=[n+2,0]),y=t.push("tr_open","tr",1),y.map=[m,m+1],d=0;d<_;d++)y=t.push("td_open","td",1),C[d]&&(y.attrs=[["style","text-align:"+C[d]]]),y=t.push("inline","",0),y.content=v[d]?v[d].trim():"",y.children=[],y=t.push("td_close","td",-1);y=t.push("tr_close","tr",-1)}return T&&(y=t.push("tbody_close","tbody",-1),T[1]=m),y=t.push("table_close","table",-1),I[1]=m,t.parentType=E,t.line=m,!0},code=function e(t,n,r){var o,s,a;if(t.sCount[n]-t.blkIndent<4)return!1;for(s=o=n+1;o<r;){if(t.isEmpty(o)){o++;continue}if(t.sCount[o]-t.blkIndent>=4){o++,s=o;continue}break}return t.line=s,a=t.push("code_block","code",0),a.content=t.getLines(n,s,4+t.blkIndent,!1)+`
`,a.map=[n,t.line],!0},fence=function e(t,n,r,o){var s,a,c,d,f,m,v,_=!1,y=t.bMarks[n]+t.tShift[n],C=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||y+3>C||(s=t.src.charCodeAt(y),s!==126&&s!==96)||(f=y,y=t.skipChars(y,s),a=y-f,a<3)||(v=t.src.slice(f,y),c=t.src.slice(y,C),s===96&&c.indexOf(String.fromCharCode(s))>=0))return!1;if(o)return!0;for(d=n;d++,!(d>=r||(y=f=t.bMarks[d]+t.tShift[d],C=t.eMarks[d],y<C&&t.sCount[d]<t.blkIndent));)if(t.src.charCodeAt(y)===s&&!(t.sCount[d]-t.blkIndent>=4)&&(y=t.skipChars(y,s),!(y-f<a)&&(y=t.skipSpaces(y),!(y<C)))){_=!0;break}return a=t.sCount[n],t.line=d+(_?1:0),m=t.push("fence","code",0),m.info=c,m.content=t.getLines(n+1,d,a,!0),m.markup=v,m.map=[n,t.line],!0},isSpace$9=utils$1.isSpace,blockquote=function e(t,n,r,o){var s,a,c,d,f,m,v,_,y,C,S,I,T,E,x,P,V,R,M,D,B=t.lineMax,U=t.bMarks[n]+t.tShift[n],j=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(U++)!==62)return!1;if(o)return!0;for(d=y=t.sCount[n]+1,t.src.charCodeAt(U)===32?(U++,d++,y++,s=!1,P=!0):t.src.charCodeAt(U)===9?(P=!0,(t.bsCount[n]+y)%4===3?(U++,d++,y++,s=!1):s=!0):P=!1,C=[t.bMarks[n]],t.bMarks[n]=U;U<j&&(a=t.src.charCodeAt(U),isSpace$9(a));){a===9?y+=4-(y+t.bsCount[n]+(s?1:0))%4:y++;U++}for(S=[t.bsCount[n]],t.bsCount[n]=t.sCount[n]+1+(P?1:0),m=U>=j,E=[t.sCount[n]],t.sCount[n]=y-d,x=[t.tShift[n]],t.tShift[n]=U-t.bMarks[n],R=t.md.block.ruler.getRules("blockquote"),T=t.parentType,t.parentType="blockquote",_=n+1;_<r&&(D=t.sCount[_]<t.blkIndent,U=t.bMarks[_]+t.tShift[_],j=t.eMarks[_],!(U>=j));_++){if(t.src.charCodeAt(U++)===62&&!D){for(d=y=t.sCount[_]+1,t.src.charCodeAt(U)===32?(U++,d++,y++,s=!1,P=!0):t.src.charCodeAt(U)===9?(P=!0,(t.bsCount[_]+y)%4===3?(U++,d++,y++,s=!1):s=!0):P=!1,C.push(t.bMarks[_]),t.bMarks[_]=U;U<j&&(a=t.src.charCodeAt(U),isSpace$9(a));){a===9?y+=4-(y+t.bsCount[_]+(s?1:0))%4:y++;U++}m=U>=j,S.push(t.bsCount[_]),t.bsCount[_]=t.sCount[_]+1+(P?1:0),E.push(t.sCount[_]),t.sCount[_]=y-d,x.push(t.tShift[_]),t.tShift[_]=U-t.bMarks[_];continue}if(m)break;for(V=!1,c=0,f=R.length;c<f;c++)if(R[c](t,_,r,!0)){V=!0;break}if(V){t.lineMax=_,t.blkIndent!==0&&(C.push(t.bMarks[_]),S.push(t.bsCount[_]),x.push(t.tShift[_]),E.push(t.sCount[_]),t.sCount[_]-=t.blkIndent);break}C.push(t.bMarks[_]),S.push(t.bsCount[_]),x.push(t.tShift[_]),E.push(t.sCount[_]),t.sCount[_]=-1}for(I=t.blkIndent,t.blkIndent=0,M=t.push("blockquote_open","blockquote",1),M.markup=">",M.map=v=[n,0],t.md.block.tokenize(t,n,_),M=t.push("blockquote_close","blockquote",-1),M.markup=">",t.lineMax=B,t.parentType=T,v[1]=t.line,c=0;c<x.length;c++)t.bMarks[c+n]=C[c],t.tShift[c+n]=x[c],t.sCount[c+n]=E[c],t.bsCount[c+n]=S[c];return t.blkIndent=I,!0},isSpace$8=utils$1.isSpace,hr=function e(t,n,r,o){var s,a,c,d,f=t.bMarks[n]+t.tShift[n],m=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(s=t.src.charCodeAt(f++),s!==42&&s!==45&&s!==95))return!1;for(a=1;f<m;){if(c=t.src.charCodeAt(f++),c!==s&&!isSpace$8(c))return!1;c===s&&a++}return a<3?!1:(o||(t.line=n+1,d=t.push("hr","hr",0),d.map=[n,t.line],d.markup=Array(a+1).join(String.fromCharCode(s))),!0)},isSpace$7=utils$1.isSpace;function skipBulletListMarker(e,t){var n,r,o,s;return r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],n=e.src.charCodeAt(r++),n!==42&&n!==45&&n!==43||r<o&&(s=e.src.charCodeAt(r),!isSpace$7(s))?-1:r}function skipOrderedListMarker(e,t){var n,r=e.bMarks[t]+e.tShift[t],o=r,s=e.eMarks[t];if(o+1>=s||(n=e.src.charCodeAt(o++),n<48||n>57))return-1;for(;;){if(o>=s)return-1;if(n=e.src.charCodeAt(o++),n>=48&&n<=57){if(o-r>=10)return-1;continue}if(n===41||n===46)break;return-1}return o<s&&(n=e.src.charCodeAt(o),!isSpace$7(n))?-1:o}function markTightParagraphs(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}var list=function e(t,n,r,o){var s,a,c,d,f,m,v,_,y,C,S,I,T,E,x,P,V,R,M,D,B,U,j,z,W,$,te,X,ue=!1,K=!0;if(t.sCount[n]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[n]-t.listIndent>=4&&t.sCount[n]<t.blkIndent)return!1;if(o&&t.parentType==="paragraph"&&t.sCount[n]>=t.blkIndent&&(ue=!0),(j=skipOrderedListMarker(t,n))>=0){if(v=!0,W=t.bMarks[n]+t.tShift[n],T=Number(t.src.slice(W,j-1)),ue&&T!==1)return!1}else if((j=skipBulletListMarker(t,n))>=0)v=!1;else return!1;if(ue&&t.skipSpaces(j)>=t.eMarks[n])return!1;if(I=t.src.charCodeAt(j-1),o)return!0;for(S=t.tokens.length,v?(X=t.push("ordered_list_open","ol",1),T!==1&&(X.attrs=[["start",T]])):X=t.push("bullet_list_open","ul",1),X.map=C=[n,0],X.markup=String.fromCharCode(I),x=n,z=!1,te=t.md.block.ruler.getRules("list"),R=t.parentType,t.parentType="list";x<r;){for(U=j,E=t.eMarks[x],m=P=t.sCount[x]+j-(t.bMarks[n]+t.tShift[n]);U<E;){if(s=t.src.charCodeAt(U),s===9)P+=4-(P+t.bsCount[x])%4;else if(s===32)P++;else break;U++}if(a=U,a>=E?f=1:f=P-m,f>4&&(f=1),d=m+f,X=t.push("list_item_open","li",1),X.markup=String.fromCharCode(I),X.map=_=[n,0],v&&(X.info=t.src.slice(W,j-1)),B=t.tight,D=t.tShift[n],M=t.sCount[n],V=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=d,t.tight=!0,t.tShift[n]=a-t.bMarks[n],t.sCount[n]=P,a>=E&&t.isEmpty(n+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,n,r,!0),(!t.tight||z)&&(K=!1),z=t.line-n>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=V,t.tShift[n]=D,t.sCount[n]=M,t.tight=B,X=t.push("list_item_close","li",-1),X.markup=String.fromCharCode(I),x=n=t.line,_[1]=x,a=t.bMarks[n],x>=r||t.sCount[x]<t.blkIndent||t.sCount[n]-t.blkIndent>=4)break;for($=!1,c=0,y=te.length;c<y;c++)if(te[c](t,x,r,!0)){$=!0;break}if($)break;if(v){if(j=skipOrderedListMarker(t,x),j<0)break;W=t.bMarks[x]+t.tShift[x]}else if(j=skipBulletListMarker(t,x),j<0)break;if(I!==t.src.charCodeAt(j-1))break}return v?X=t.push("ordered_list_close","ol",-1):X=t.push("bullet_list_close","ul",-1),X.markup=String.fromCharCode(I),C[1]=x,t.line=x,t.parentType=R,K&&markTightParagraphs(t,S),!0},normalizeReference$2=utils$1.normalizeReference,isSpace$6=utils$1.isSpace,reference=function e(t,n,r,o){var s,a,c,d,f,m,v,_,y,C,S,I,T,E,x,P,V=0,R=t.bMarks[n]+t.tShift[n],M=t.eMarks[n],D=n+1;if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(R)!==91)return!1;for(;++R<M;)if(t.src.charCodeAt(R)===93&&t.src.charCodeAt(R-1)!==92){if(R+1===M||t.src.charCodeAt(R+1)!==58)return!1;break}for(d=t.lineMax,x=t.md.block.ruler.getRules("reference"),C=t.parentType,t.parentType="reference";D<d&&!t.isEmpty(D);D++)if(!(t.sCount[D]-t.blkIndent>3)&&!(t.sCount[D]<0)){for(E=!1,m=0,v=x.length;m<v;m++)if(x[m](t,D,d,!0)){E=!0;break}if(E)break}for(T=t.getLines(n,D,t.blkIndent,!1).trim(),M=T.length,R=1;R<M;R++){if(s=T.charCodeAt(R),s===91)return!1;if(s===93){y=R;break}else s===10?V++:s===92&&(R++,R<M&&T.charCodeAt(R)===10&&V++)}if(y<0||T.charCodeAt(y+1)!==58)return!1;for(R=y+2;R<M;R++)if(s=T.charCodeAt(R),s===10)V++;else if(!isSpace$6(s))break;if(S=t.md.helpers.parseLinkDestination(T,R,M),!S.ok||(f=t.md.normalizeLink(S.str),!t.md.validateLink(f)))return!1;for(R=S.pos,V+=S.lines,a=R,c=V,I=R;R<M;R++)if(s=T.charCodeAt(R),s===10)V++;else if(!isSpace$6(s))break;for(S=t.md.helpers.parseLinkTitle(T,R,M),R<M&&I!==R&&S.ok?(P=S.str,R=S.pos,V+=S.lines):(P="",R=a,V=c);R<M&&(s=T.charCodeAt(R),!!isSpace$6(s));)R++;if(R<M&&T.charCodeAt(R)!==10&&P)for(P="",R=a,V=c;R<M&&(s=T.charCodeAt(R),!!isSpace$6(s));)R++;return R<M&&T.charCodeAt(R)!==10||(_=normalizeReference$2(T.slice(1,y)),!_)?!1:(o||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[_]>"u"&&(t.env.references[_]={title:P,href:f}),t.parentType=C,t.line=n+V+1),!0)},html_blocks=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],html_re={},attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Z]+\\s+[^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE$1=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE$1=new RegExp("^(?:"+open_tag+"|"+close_tag+")");html_re.HTML_TAG_RE=HTML_TAG_RE$1;html_re.HTML_OPEN_CLOSE_TAG_RE=HTML_OPEN_CLOSE_TAG_RE$1;var block_names=html_blocks,HTML_OPEN_CLOSE_TAG_RE=html_re.HTML_OPEN_CLOSE_TAG_RE,HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]],html_block=function e(t,n,r,o){var s,a,c,d,f=t.bMarks[n]+t.tShift[n],m=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(f)!==60)return!1;for(d=t.src.slice(f,m),s=0;s<HTML_SEQUENCES.length&&!HTML_SEQUENCES[s][0].test(d);s++);if(s===HTML_SEQUENCES.length)return!1;if(o)return HTML_SEQUENCES[s][2];if(a=n+1,!HTML_SEQUENCES[s][1].test(d)){for(;a<r&&!(t.sCount[a]<t.blkIndent);a++)if(f=t.bMarks[a]+t.tShift[a],m=t.eMarks[a],d=t.src.slice(f,m),HTML_SEQUENCES[s][1].test(d)){d.length!==0&&a++;break}}return t.line=a,c=t.push("html_block","",0),c.map=[n,a],c.content=t.getLines(n,a,t.blkIndent,!0),!0},isSpace$5=utils$1.isSpace,heading=function e(t,n,r,o){var s,a,c,d,f=t.bMarks[n]+t.tShift[n],m=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(s=t.src.charCodeAt(f),s!==35||f>=m))return!1;for(a=1,s=t.src.charCodeAt(++f);s===35&&f<m&&a<=6;)a++,s=t.src.charCodeAt(++f);return a>6||f<m&&!isSpace$5(s)?!1:(o||(m=t.skipSpacesBack(m,f),c=t.skipCharsBack(m,35,f),c>f&&isSpace$5(t.src.charCodeAt(c-1))&&(m=c),t.line=n+1,d=t.push("heading_open","h"+String(a),1),d.markup="########".slice(0,a),d.map=[n,t.line],d=t.push("inline","",0),d.content=t.src.slice(f,m).trim(),d.map=[n,t.line],d.children=[],d=t.push("heading_close","h"+String(a),-1),d.markup="########".slice(0,a)),!0)},lheading=function e(t,n,r){var o,s,a,c,d,f,m,v,_,y=n+1,C,S=t.md.block.ruler.getRules("paragraph");if(t.sCount[n]-t.blkIndent>=4)return!1;for(C=t.parentType,t.parentType="paragraph";y<r&&!t.isEmpty(y);y++)if(!(t.sCount[y]-t.blkIndent>3)){if(t.sCount[y]>=t.blkIndent&&(f=t.bMarks[y]+t.tShift[y],m=t.eMarks[y],f<m&&(_=t.src.charCodeAt(f),(_===45||_===61)&&(f=t.skipChars(f,_),f=t.skipSpaces(f),f>=m)))){v=_===61?1:2;break}if(!(t.sCount[y]<0)){for(s=!1,a=0,c=S.length;a<c;a++)if(S[a](t,y,r,!0)){s=!0;break}if(s)break}}return v?(o=t.getLines(n,y,t.blkIndent,!1).trim(),t.line=y+1,d=t.push("heading_open","h"+String(v),1),d.markup=String.fromCharCode(_),d.map=[n,t.line],d=t.push("inline","",0),d.content=o,d.map=[n,t.line-1],d.children=[],d=t.push("heading_close","h"+String(v),-1),d.markup=String.fromCharCode(_),t.parentType=C,!0):!1},paragraph=function e(t,n){var r,o,s,a,c,d,f=n+1,m=t.md.block.ruler.getRules("paragraph"),v=t.lineMax;for(d=t.parentType,t.parentType="paragraph";f<v&&!t.isEmpty(f);f++)if(!(t.sCount[f]-t.blkIndent>3)&&!(t.sCount[f]<0)){for(o=!1,s=0,a=m.length;s<a;s++)if(m[s](t,f,v,!0)){o=!0;break}if(o)break}return r=t.getLines(n,f,t.blkIndent,!1).trim(),t.line=f,c=t.push("paragraph_open","p",1),c.map=[n,t.line],c=t.push("inline","",0),c.content=r,c.map=[n,t.line],c.children=[],c=t.push("paragraph_close","p",-1),t.parentType=d,!0},Token$1=token,isSpace$4=utils$1.isSpace;function StateBlock(e,t,n,r){var o,s,a,c,d,f,m,v;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",s=this.src,v=!1,a=c=f=m=0,d=s.length;c<d;c++){if(o=s.charCodeAt(c),!v)if(isSpace$4(o)){f++,o===9?m+=4-m%4:m++;continue}else v=!0;(o===10||c===d-1)&&(o!==10&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(f),this.sCount.push(m),this.bsCount.push(0),v=!1,f=0,m=0,a=c+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(e,t,n){var r=new Token$1(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};StateBlock.prototype.isEmpty=function e(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};StateBlock.prototype.skipEmptyLines=function e(t){for(var n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};StateBlock.prototype.skipSpaces=function e(t){for(var n,r=this.src.length;t<r&&(n=this.src.charCodeAt(t),!!isSpace$4(n));t++);return t};StateBlock.prototype.skipSpacesBack=function e(t,n){if(t<=n)return t;for(;t>n;)if(!isSpace$4(this.src.charCodeAt(--t)))return t+1;return t};StateBlock.prototype.skipChars=function e(t,n){for(var r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};StateBlock.prototype.skipCharsBack=function e(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};StateBlock.prototype.getLines=function e(t,n,r,o){var s,a,c,d,f,m,v,_=t;if(t>=n)return"";for(m=new Array(n-t),s=0;_<n;_++,s++){for(a=0,v=d=this.bMarks[_],_+1<n||o?f=this.eMarks[_]+1:f=this.eMarks[_];d<f&&a<r;){if(c=this.src.charCodeAt(d),isSpace$4(c))c===9?a+=4-(a+this.bsCount[_])%4:a++;else if(d-v<this.tShift[_])a++;else break;d++}a>r?m[s]=new Array(a-r+1).join(" ")+this.src.slice(d,f):m[s]=this.src.slice(d,f)}return m.join("")};StateBlock.prototype.Token=Token$1;var state_block=StateBlock,Ruler$1=ruler,_rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock$1(){this.ruler=new Ruler$1;for(var e=0;e<_rules$1.length;e++)this.ruler.push(_rules$1[e][0],_rules$1[e][1],{alt:(_rules$1[e][2]||[]).slice()})}ParserBlock$1.prototype.tokenize=function(e,t,n){for(var r,o,s=this.ruler.getRules(""),a=s.length,c=t,d=!1,f=e.md.options.maxNesting;c<n&&(e.line=c=e.skipEmptyLines(c),!(c>=n||e.sCount[c]<e.blkIndent));){if(e.level>=f){e.line=n;break}for(o=0;o<a&&(r=s[o](e,c,n,!1),!r);o++);e.tight=!d,e.isEmpty(e.line-1)&&(d=!0),c=e.line,c<n&&e.isEmpty(c)&&(d=!0,c++,e.line=c)}};ParserBlock$1.prototype.parse=function(e,t,n,r){var o;!e||(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))};ParserBlock$1.prototype.State=state_block;var parser_block=ParserBlock$1;function isTerminatorChar(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var text=function e(t,n){for(var r=t.pos;r<t.posMax&&!isTerminatorChar(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(n||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)},SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,linkify=function e(t,n){var r,o,s,a,c,d,f,m;return!t.md.options.linkify||t.linkLevel>0||(r=t.pos,o=t.posMax,r+3>o)||t.src.charCodeAt(r)!==58||t.src.charCodeAt(r+1)!==47||t.src.charCodeAt(r+2)!==47||(s=t.pending.match(SCHEME_RE),!s)||(a=s[1],c=t.md.linkify.matchAtStart(t.src.slice(r-a.length)),!c)||(d=c.url,d=d.replace(/\*+$/,""),f=t.md.normalizeLink(d),!t.md.validateLink(f))?!1:(n||(t.pending=t.pending.slice(0,-a.length),m=t.push("link_open","a",1),m.attrs=[["href",f]],m.markup="linkify",m.info="auto",m=t.push("text","",0),m.content=t.md.normalizeLinkText(d),m=t.push("link_close","a",-1),m.markup="linkify",m.info="auto"),t.pos+=d.length-a.length,!0)},isSpace$3=utils$1.isSpace,newline=function e(t,n){var r,o,s,a=t.pos;if(t.src.charCodeAt(a)!==10)return!1;if(r=t.pending.length-1,o=t.posMax,!n)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){for(s=r-1;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(a++;a<o&&isSpace$3(t.src.charCodeAt(a));)a++;return t.pos=a,!0},isSpace$2=utils$1.isSpace,ESCAPED=[];for(var i$1=0;i$1<256;i$1++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){ESCAPED[e.charCodeAt(0)]=1});var _escape=function e(t,n){var r,o,s,a,c,d=t.pos,f=t.posMax;if(t.src.charCodeAt(d)!==92||(d++,d>=f))return!1;if(r=t.src.charCodeAt(d),r===10){for(n||t.push("hardbreak","br",0),d++;d<f&&(r=t.src.charCodeAt(d),!!isSpace$2(r));)d++;return t.pos=d,!0}return a=t.src[d],r>=55296&&r<=56319&&d+1<f&&(o=t.src.charCodeAt(d+1),o>=56320&&o<=57343&&(a+=t.src[d+1],d++)),s="\\"+a,n||(c=t.push("text_special","",0),r<256&&ESCAPED[r]!==0?c.content=a:c.content=s,c.markup=s,c.info="escape"),t.pos=d+1,!0},backticks=function e(t,n){var r,o,s,a,c,d,f,m,v=t.pos,_=t.src.charCodeAt(v);if(_!==96)return!1;for(r=v,v++,o=t.posMax;v<o&&t.src.charCodeAt(v)===96;)v++;if(s=t.src.slice(r,v),f=s.length,t.backticksScanned&&(t.backticks[f]||0)<=r)return n||(t.pending+=s),t.pos+=f,!0;for(c=d=v;(c=t.src.indexOf("`",d))!==-1;){for(d=c+1;d<o&&t.src.charCodeAt(d)===96;)d++;if(m=d-c,m===f)return n||(a=t.push("code_inline","code",0),a.markup=s,a.content=t.src.slice(v,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=d,!0;t.backticks[m]=c}return t.backticksScanned=!0,n||(t.pending+=s),t.pos+=f,!0},strikethrough={};strikethrough.tokenize=function e(t,n){var r,o,s,a,c,d=t.pos,f=t.src.charCodeAt(d);if(n||f!==126||(o=t.scanDelims(t.pos,!0),a=o.length,c=String.fromCharCode(f),a<2))return!1;for(a%2&&(s=t.push("text","",0),s.content=c,a--),r=0;r<a;r+=2)s=t.push("text","",0),s.content=c+c,t.delimiters.push({marker:f,length:0,token:t.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return t.pos+=o.length,!0};function postProcess$1(e,t){var n,r,o,s,a,c=[],d=t.length;for(n=0;n<d;n++)o=t[n],o.marker===126&&o.end!==-1&&(s=t[o.end],a=e.tokens[o.token],a.type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",a=e.tokens[s.token],a.type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="",e.tokens[s.token-1].type==="text"&&e.tokens[s.token-1].content==="~"&&c.push(s.token-1));for(;c.length;){for(n=c.pop(),r=n+1;r<e.tokens.length&&e.tokens[r].type==="s_close";)r++;r--,n!==r&&(a=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=a)}}strikethrough.postProcess=function e(t){var n,r=t.tokens_meta,o=t.tokens_meta.length;for(postProcess$1(t,t.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&postProcess$1(t,r[n].delimiters)};var emphasis={};emphasis.tokenize=function e(t,n){var r,o,s,a=t.pos,c=t.src.charCodeAt(a);if(n||c!==95&&c!==42)return!1;for(o=t.scanDelims(t.pos,c===42),r=0;r<o.length;r++)s=t.push("text","",0),s.content=String.fromCharCode(c),t.delimiters.push({marker:c,length:o.length,token:t.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return t.pos+=o.length,!0};function postProcess(e,t){var n,r,o,s,a,c,d=t.length;for(n=d-1;n>=0;n--)r=t[n],!(r.marker!==95&&r.marker!==42)&&r.end!==-1&&(o=t[r.end],c=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===o.token+1,a=String.fromCharCode(r.marker),s=e.tokens[r.token],s.type=c?"strong_open":"em_open",s.tag=c?"strong":"em",s.nesting=1,s.markup=c?a+a:a,s.content="",s=e.tokens[o.token],s.type=c?"strong_close":"em_close",s.tag=c?"strong":"em",s.nesting=-1,s.markup=c?a+a:a,s.content="",c&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}emphasis.postProcess=function e(t){var n,r=t.tokens_meta,o=t.tokens_meta.length;for(postProcess(t,t.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&postProcess(t,r[n].delimiters)};var normalizeReference$1=utils$1.normalizeReference,isSpace$1=utils$1.isSpace,link=function e(t,n){var r,o,s,a,c,d,f,m,v,_="",y="",C=t.pos,S=t.posMax,I=t.pos,T=!0;if(t.src.charCodeAt(t.pos)!==91||(c=t.pos+1,a=t.md.helpers.parseLinkLabel(t,t.pos,!0),a<0))return!1;if(d=a+1,d<S&&t.src.charCodeAt(d)===40){for(T=!1,d++;d<S&&(o=t.src.charCodeAt(d),!(!isSpace$1(o)&&o!==10));d++);if(d>=S)return!1;if(I=d,f=t.md.helpers.parseLinkDestination(t.src,d,t.posMax),f.ok){for(_=t.md.normalizeLink(f.str),t.md.validateLink(_)?d=f.pos:_="",I=d;d<S&&(o=t.src.charCodeAt(d),!(!isSpace$1(o)&&o!==10));d++);if(f=t.md.helpers.parseLinkTitle(t.src,d,t.posMax),d<S&&I!==d&&f.ok)for(y=f.str,d=f.pos;d<S&&(o=t.src.charCodeAt(d),!(!isSpace$1(o)&&o!==10));d++);}(d>=S||t.src.charCodeAt(d)!==41)&&(T=!0),d++}if(T){if(typeof t.env.references>"u")return!1;if(d<S&&t.src.charCodeAt(d)===91?(I=d+1,d=t.md.helpers.parseLinkLabel(t,d),d>=0?s=t.src.slice(I,d++):d=a+1):d=a+1,s||(s=t.src.slice(c,a)),m=t.env.references[normalizeReference$1(s)],!m)return t.pos=C,!1;_=m.href,y=m.title}return n||(t.pos=c,t.posMax=a,v=t.push("link_open","a",1),v.attrs=r=[["href",_]],y&&r.push(["title",y]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,v=t.push("link_close","a",-1)),t.pos=d,t.posMax=S,!0},normalizeReference=utils$1.normalizeReference,isSpace=utils$1.isSpace,image=function e(t,n){var r,o,s,a,c,d,f,m,v,_,y,C,S,I="",T=t.pos,E=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(d=t.pos+2,c=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),c<0))return!1;if(f=c+1,f<E&&t.src.charCodeAt(f)===40){for(f++;f<E&&(o=t.src.charCodeAt(f),!(!isSpace(o)&&o!==10));f++);if(f>=E)return!1;for(S=f,v=t.md.helpers.parseLinkDestination(t.src,f,t.posMax),v.ok&&(I=t.md.normalizeLink(v.str),t.md.validateLink(I)?f=v.pos:I=""),S=f;f<E&&(o=t.src.charCodeAt(f),!(!isSpace(o)&&o!==10));f++);if(v=t.md.helpers.parseLinkTitle(t.src,f,t.posMax),f<E&&S!==f&&v.ok)for(_=v.str,f=v.pos;f<E&&(o=t.src.charCodeAt(f),!(!isSpace(o)&&o!==10));f++);else _="";if(f>=E||t.src.charCodeAt(f)!==41)return t.pos=T,!1;f++}else{if(typeof t.env.references>"u")return!1;if(f<E&&t.src.charCodeAt(f)===91?(S=f+1,f=t.md.helpers.parseLinkLabel(t,f),f>=0?a=t.src.slice(S,f++):f=c+1):f=c+1,a||(a=t.src.slice(d,c)),m=t.env.references[normalizeReference(a)],!m)return t.pos=T,!1;I=m.href,_=m.title}return n||(s=t.src.slice(d,c),t.md.inline.parse(s,t.md,t.env,C=[]),y=t.push("image","img",0),y.attrs=r=[["src",I],["alt",""]],y.children=C,y.content=s,_&&r.push(["title",_])),t.pos=f,t.posMax=E,!0},EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,autolink=function e(t,n){var r,o,s,a,c,d,f=t.pos;if(t.src.charCodeAt(f)!==60)return!1;for(c=t.pos,d=t.posMax;;){if(++f>=d||(a=t.src.charCodeAt(f),a===60))return!1;if(a===62)break}return r=t.src.slice(c+1,f),AUTOLINK_RE.test(r)?(o=t.md.normalizeLink(r),t.md.validateLink(o)?(n||(s=t.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=t.push("text","",0),s.content=t.md.normalizeLinkText(r),s=t.push("link_close","a",-1),s.markup="autolink",s.info="auto"),t.pos+=r.length+2,!0):!1):EMAIL_RE.test(r)?(o=t.md.normalizeLink("mailto:"+r),t.md.validateLink(o)?(n||(s=t.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=t.push("text","",0),s.content=t.md.normalizeLinkText(r),s=t.push("link_close","a",-1),s.markup="autolink",s.info="auto"),t.pos+=r.length+2,!0):!1):!1},HTML_TAG_RE=html_re.HTML_TAG_RE;function isLinkOpen(e){return/^<a[>\s]/i.test(e)}function isLinkClose(e){return/^<\/a\s*>/i.test(e)}function isLetter(e){var t=e|32;return t>=97&&t<=122}var html_inline=function e(t,n){var r,o,s,a,c=t.pos;return!t.md.options.html||(s=t.posMax,t.src.charCodeAt(c)!==60||c+2>=s)||(r=t.src.charCodeAt(c+1),r!==33&&r!==63&&r!==47&&!isLetter(r))||(o=t.src.slice(c).match(HTML_TAG_RE),!o)?!1:(n||(a=t.push("html_inline","",0),a.content=t.src.slice(c,c+o[0].length),isLinkOpen(a.content)&&t.linkLevel++,isLinkClose(a.content)&&t.linkLevel--),t.pos+=o[0].length,!0)},entities=entities$1.exports,has=utils$1.has,isValidEntityCode=utils$1.isValidEntityCode,fromCodePoint=utils$1.fromCodePoint,DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i,entity=function e(t,n){var r,o,s,a,c=t.pos,d=t.posMax;if(t.src.charCodeAt(c)!==38||c+1>=d)return!1;if(r=t.src.charCodeAt(c+1),r===35){if(s=t.src.slice(c).match(DIGITAL_RE),s)return n||(o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),a=t.push("text_special","",0),a.content=isValidEntityCode(o)?fromCodePoint(o):fromCodePoint(65533),a.markup=s[0],a.info="entity"),t.pos+=s[0].length,!0}else if(s=t.src.slice(c).match(NAMED_RE),s&&has(entities,s[1]))return n||(a=t.push("text_special","",0),a.content=entities[s[1]],a.markup=s[0],a.info="entity"),t.pos+=s[0].length,!0;return!1};function processDelimiters(e,t){var n,r,o,s,a,c,d,f,m={},v=t.length;if(!!v){var _=0,y=-2,C=[];for(n=0;n<v;n++)if(o=t[n],C.push(0),(t[_].marker!==o.marker||y!==o.token-1)&&(_=n),y=o.token,o.length=o.length||0,!!o.close){for(m.hasOwnProperty(o.marker)||(m[o.marker]=[-1,-1,-1,-1,-1,-1]),a=m[o.marker][(o.open?3:0)+o.length%3],r=_-C[_]-1,c=r;r>a;r-=C[r]+1)if(s=t[r],s.marker===o.marker&&s.open&&s.end<0&&(d=!1,(s.close||o.open)&&(s.length+o.length)%3===0&&(s.length%3!==0||o.length%3!==0)&&(d=!0),!d)){f=r>0&&!t[r-1].open?C[r-1]+1:0,C[n]=n-r+f,C[r]=f,o.open=!1,s.end=n,s.close=!1,c=-1,y=-2;break}c!==-1&&(m[o.marker][(o.open?3:0)+(o.length||0)%3]=c)}}}var balance_pairs=function e(t){var n,r=t.tokens_meta,o=t.tokens_meta.length;for(processDelimiters(t,t.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&processDelimiters(t,r[n].delimiters)},fragments_join=function e(t){var n,r,o=0,s=t.tokens,a=t.tokens.length;for(n=r=0;n<a;n++)s[n].nesting<0&&o--,s[n].level=o,s[n].nesting>0&&o++,s[n].type==="text"&&n+1<a&&s[n+1].type==="text"?s[n+1].content=s[n].content+s[n+1].content:(n!==r&&(s[r]=s[n]),r++);n!==r&&(s.length=r)},Token=token,isWhiteSpace=utils$1.isWhiteSpace,isPunctChar=utils$1.isPunctChar,isMdAsciiPunct=utils$1.isMdAsciiPunct;function StateInline(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){var e=new Token("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};StateInline.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new Token(e,t,n),o=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(o),r};StateInline.prototype.scanDelims=function(e,t){var n=e,r,o,s,a,c,d,f,m,v,_=!0,y=!0,C=this.posMax,S=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;n<C&&this.src.charCodeAt(n)===S;)n++;return s=n-e,o=n<C?this.src.charCodeAt(n):32,f=isMdAsciiPunct(r)||isPunctChar(String.fromCharCode(r)),v=isMdAsciiPunct(o)||isPunctChar(String.fromCharCode(o)),d=isWhiteSpace(r),m=isWhiteSpace(o),m?_=!1:v&&(d||f||(_=!1)),d?y=!1:f&&(m||v||(y=!1)),t?(a=_,c=y):(a=_&&(!y||f),c=y&&(!_||v)),{can_open:a,can_close:c,length:s}};StateInline.prototype.Token=Token;var state_inline=StateInline,Ruler=ruler,_rules=[["text",text],["linkify",linkify],["newline",newline],["escape",_escape],["backticks",backticks],["strikethrough",strikethrough.tokenize],["emphasis",emphasis.tokenize],["link",link],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",balance_pairs],["strikethrough",strikethrough.postProcess],["emphasis",emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline$1(){var e;for(this.ruler=new Ruler,e=0;e<_rules.length;e++)this.ruler.push(_rules[e][0],_rules[e][1]);for(this.ruler2=new Ruler,e=0;e<_rules2.length;e++)this.ruler2.push(_rules2[e][0],_rules2[e][1])}ParserInline$1.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),s=o.length,a=e.md.options.maxNesting,c=e.cache;if(typeof c[r]<"u"){e.pos=c[r];return}if(e.level<a)for(n=0;n<s&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,c[r]=e.pos};ParserInline$1.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,s=e.posMax,a=e.md.options.maxNesting;e.pos<s;){if(e.level<a)for(n=0;n<o&&(t=r[n](e,!1),!t);n++);if(t){if(e.pos>=s)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};ParserInline$1.prototype.parse=function(e,t,n,r){var o,s,a,c=new this.State(e,t,n,r);for(this.tokenize(c),s=this.ruler2.getRules(""),a=s.length,o=0;o<a;o++)s[o](c)};ParserInline$1.prototype.State=state_inline;var parser_inline=ParserInline$1,re,hasRequiredRe;function requireRe(){return hasRequiredRe||(hasRequiredRe=1,re=function(e){var t={};e=e||{},t.src_Any=requireRegex$3().source,t.src_Cc=requireRegex$2().source,t.src_Z=requireRegex().source,t.src_P=regex$4.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var n="[><\uFF5C]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}),re}function assign(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(n){!n||Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function _class(e){return Object.prototype.toString.call(e)}function isString(e){return _class(e)==="[object String]"}function isObject(e){return _class(e)==="[object Object]"}function isRegExp(e){return _class(e)==="[object RegExp]"}function isFunction(e){return _class(e)==="[object Function]"}function escapeRE(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(e){return Object.keys(e||{}).reduce(function(t,n){return t||defaultOptions.hasOwnProperty(n)},!1)}var defaultSchemas={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function resetScanCache(e){e.__index__=-1,e.__text_cache__=""}function createValidator(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function createNormalizer(){return function(e,t){t.normalize(e)}}function compile(e){var t=e.re=requireRe()(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(tlds_2ch_src_re),n.push(t.src_xn),t.src_tlds=n.join("|");function r(c){return c.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");var o=[];e.__compiled__={};function s(c,d){throw new Error('(LinkifyIt) Invalid schema "'+c+'": '+d)}Object.keys(e.__schemas__).forEach(function(c){var d=e.__schemas__[c];if(d!==null){var f={validate:null,link:null};if(e.__compiled__[c]=f,isObject(d)){isRegExp(d.validate)?f.validate=createValidator(d.validate):isFunction(d.validate)?f.validate=d.validate:s(c,d),isFunction(d.normalize)?f.normalize=d.normalize:d.normalize?s(c,d):f.normalize=createNormalizer();return}if(isString(d)){o.push(c);return}s(c,d)}}),o.forEach(function(c){!e.__compiled__[e.__schemas__[c]]||(e.__compiled__[c].validate=e.__compiled__[e.__schemas__[c]].validate,e.__compiled__[c].normalize=e.__compiled__[e.__schemas__[c]].normalize)}),e.__compiled__[""]={validate:null,normalize:createNormalizer()};var a=Object.keys(e.__compiled__).filter(function(c){return c.length>0&&e.__compiled__[c]}).map(escapeRE).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+a+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+a+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),resetScanCache(e)}function Match(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function createMatch(e,t){var n=new Match(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function LinkifyIt$1(e,t){if(!(this instanceof LinkifyIt$1))return new LinkifyIt$1(e,t);t||isOptionsObj(e)&&(t=e,e={}),this.__opts__=assign({},defaultOptions,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,e),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt$1.prototype.add=function e(t,n){return this.__schemas__[t]=n,compile(this),this};LinkifyIt$1.prototype.set=function e(t){return this.__opts__=assign(this.__opts__,t),this};LinkifyIt$1.prototype.test=function e(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var n,r,o,s,a,c,d,f,m;if(this.re.schema_test.test(t)){for(d=this.re.schema_search,d.lastIndex=0;(n=d.exec(t))!==null;)if(s=this.testSchemaAt(t,n[2],d.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(f=t.search(this.re.host_fuzzy_test),f>=0&&(this.__index__<0||f<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=r.index+r[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(m=t.indexOf("@"),m>=0&&(o=t.match(this.re.email_fuzzy))!==null&&(a=o.index+o[1].length,c=o.index+o[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&c>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=c))),this.__index__>=0};LinkifyIt$1.prototype.pretest=function e(t){return this.re.pretest.test(t)};LinkifyIt$1.prototype.testSchemaAt=function e(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};LinkifyIt$1.prototype.match=function e(t){var n=0,r=[];this.__index__>=0&&this.__text_cache__===t&&(r.push(createMatch(this,n)),n=this.__last_index__);for(var o=n?t.slice(n):t;this.test(o);)r.push(createMatch(this,n)),o=o.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};LinkifyIt$1.prototype.matchAtStart=function e(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;var n=this.re.schema_at_start.exec(t);if(!n)return null;var r=this.testSchemaAt(t,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,createMatch(this,0)):null};LinkifyIt$1.prototype.tlds=function e(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,o,s){return r!==s[o-1]}).reverse(),compile(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,compile(this),this)};LinkifyIt$1.prototype.normalize=function e(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};LinkifyIt$1.prototype.onCompile=function e(){};var linkifyIt=LinkifyIt$1;const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var _default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},utils=utils$1,helpers=helpers$1,Renderer=renderer,ParserCore=parser_core,ParserBlock=parser_block,ParserInline=parser_inline,LinkifyIt=linkifyIt,mdurl=mdurl$1,punycode=require$$0,config={default:_default,zero,commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(e){var t=e.trim().toLowerCase();return BAD_PROTO_RE.test(t)?!!GOOD_DATA_RE.test(t):!0}var RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(e){var t=mdurl.parse(e,!0);if(t.hostname&&(!t.protocol||RECODE_HOSTNAME_FOR.indexOf(t.protocol)>=0))try{t.hostname=punycode.toASCII(t.hostname)}catch{}return mdurl.encode(mdurl.format(t))}function normalizeLinkText(e){var t=mdurl.parse(e,!0);if(t.hostname&&(!t.protocol||RECODE_HOSTNAME_FOR.indexOf(t.protocol)>=0))try{t.hostname=punycode.toUnicode(t.hostname)}catch{}return mdurl.decode(mdurl.format(t),mdurl.decode.defaultChars+"%")}function MarkdownIt(e,t){if(!(this instanceof MarkdownIt))return new MarkdownIt(e,t);t||utils.isString(e)||(t=e||{},e="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new ParserCore,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=utils.assign({},helpers),this.options={},this.configure(e),t&&this.set(t)}MarkdownIt.prototype.set=function(e){return utils.assign(this.options,e),this};MarkdownIt.prototype.configure=function(e){var t=this,n;if(utils.isString(e)&&(n=e,e=config[n],!e))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};MarkdownIt.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter(function(o){return n.indexOf(o)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};MarkdownIt.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter(function(o){return n.indexOf(o)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};MarkdownIt.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};MarkdownIt.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};MarkdownIt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};MarkdownIt.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};MarkdownIt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var lib=MarkdownIt;(function(e){e.exports=lib})(markdownIt$1);const markdownIt=getDefaultExportFromCjs(markdownIt$1.exports),VExpansionPanel$1="",VExpansionPanelSymbol=Symbol.for("vuetify:v-expansion-panel"),allowedVariants=["default","accordion","inset","popout"],makeVExpansionPanelsProps=propsFactory({color:String,variant:{type:String,default:"default",validator:e=>allowedVariants.includes(e)},readonly:Boolean,...makeComponentProps(),...makeGroupProps(),...makeTagProps(),...makeThemeProps()},"VExpansionPanels"),VExpansionPanels=genericComponent()({name:"VExpansionPanels",props:makeVExpansionPanelsProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;useGroup(e,VExpansionPanelSymbol);const{themeClasses:r}=provideTheme(e),o=computed(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return provideDefaults({VExpansionPanel:{color:toRef(e,"color")},VExpansionPanelTitle:{readonly:toRef(e,"readonly")}}),useRender(()=>createVNode(e.tag,{class:["v-expansion-panels",r.value,o.value,e.class],style:e.style},n)),{}}}),makeVExpansionPanelTextProps=propsFactory({...makeComponentProps(),...makeLazyProps()},"VExpansionPanelText"),VExpansionPanelText=genericComponent()({name:"VExpansionPanelText",props:makeVExpansionPanelTextProps(),setup(e,t){let{slots:n}=t;const r=inject$1(VExpansionPanelSymbol);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:o,onAfterLeave:s}=useLazy(e,r.isSelected);return useRender(()=>createVNode(VExpandTransition,{onAfterLeave:s},{default:()=>{var a;return[withDirectives(createVNode("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&o.value&&createVNode("div",{class:"v-expansion-panel-text__wrapper"},[(a=n.default)==null?void 0:a.call(n)])]),[[vShow,r.isSelected.value]])]}})),{}}}),makeVExpansionPanelTitleProps=propsFactory({color:String,expandIcon:{type:IconValue,default:"$expand"},collapseIcon:{type:IconValue,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...makeComponentProps()},"VExpansionPanelTitle"),VExpansionPanelTitle=genericComponent()({name:"VExpansionPanelTitle",directives:{Ripple},props:makeVExpansionPanelTitleProps(),setup(e,t){let{slots:n}=t;const r=inject$1(VExpansionPanelSymbol);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(e,"color"),a=computed(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return useRender(()=>{var c;return withDirectives(createVNode("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value},o.value,e.class],style:[s.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[createVNode("span",{class:"v-expansion-panel-title__overlay"},null),(c=n.default)==null?void 0:c.call(n,a.value),!e.hideActions&&createVNode("span",{class:"v-expansion-panel-title__icon"},[n.actions?n.actions(a.value):createVNode(VIcon,{icon:r.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[resolveDirective("ripple"),e.ripple]])}),{}}}),makeVExpansionPanelProps=propsFactory({title:String,text:String,bgColor:String,...makeComponentProps(),...makeElevationProps(),...makeGroupItemProps(),...makeLazyProps(),...makeRoundedProps(),...makeTagProps(),...makeVExpansionPanelTitleProps()},"VExpansionPanel"),VExpansionPanel=genericComponent()({name:"VExpansionPanel",props:makeVExpansionPanelProps(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=useGroupItem(e,VExpansionPanelSymbol),{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(e,"bgColor"),{elevationClasses:a}=useElevation(e),{roundedClasses:c}=useRounded(e),d=computed(()=>(r==null?void 0:r.disabled.value)||e.disabled),f=computed(()=>r.group.items.value.reduce((_,y,C)=>(r.group.selected.value.includes(y.id)&&_.push(C),_),[])),m=computed(()=>{const _=r.group.items.value.findIndex(y=>y.id===r.id);return!r.isSelected.value&&f.value.some(y=>y-_===1)}),v=computed(()=>{const _=r.group.items.value.findIndex(y=>y.id===r.id);return!r.isSelected.value&&f.value.some(y=>y-_===-1)});return provide(VExpansionPanelSymbol,r),useRender(()=>{const _=!!(n.text||e.text),y=!!(n.title||e.title);return createVNode(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":m.value,"v-expansion-panel--after-active":v.value,"v-expansion-panel--disabled":d.value},c.value,o.value,e.class],style:[s.value,e.style]},{default:()=>{var C;return[createVNode("div",{class:["v-expansion-panel__shadow",...a.value]},null),y&&createVNode(VExpansionPanelTitle,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[n.title?n.title():e.title]}),_&&createVNode(VExpansionPanelText,{key:"text",eager:e.eager},{default:()=>[n.text?n.text():e.text]}),(C=n.default)==null?void 0:C.call(n)]}})}),{}}}),md=new markdownIt({html:!0,typographer:!0,breaks:!0}),_sfc_main$7={data:()=>({search:null}),computed:{...mapState(useStore,["keywords"]),filteredResults(){return(this.search?this.keywords.filter(({keyword:t})=>t.toLowerCase().includes(this.search.toLowerCase())):this.keywords).map(t=>({...t,title:md.render(t.keyword),text:md.render(t.rule.replace(/\n/,"<br /><br />"))}))}}},_hoisted_1$2={style:{height:"75vh","overflow-y":"scroll"}},_hoisted_2$1=["innerHTML"];function _sfc_render$7(e,t,n,r,o,s){return openBlock(),createElementBlock(Fragment,null,[createVNode(VToolbar,{color:"grey"},{default:withCtx(()=>[createVNode(VBtn,{to:"/dashboard",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(" mdi-arrow-left-circle ")]),_:1})]),_:1}),createVNode(VTextField,{class:"mt-5",label:"Search",clearable:"",modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=a=>e.search=a),onKeydown:t[1]||(t[1]=withKeys(a=>e.search=null,["esc"]))},null,8,["modelValue"])]),_:1}),createVNode(VExpansionPanels,{variant:"inset"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.filteredResults,a=>(openBlock(),createBlock(VExpansionPanel,null,{default:withCtx(()=>[createVNode(VExpansionPanelTitle,{innerHTML:a.title},null,8,["innerHTML"]),createVNode(VExpansionPanelText,null,{default:withCtx(()=>[createBaseVNode("div",{innerHTML:a.text},null,8,_hoisted_2$1)]),_:2},1024)]),_:2},1024))),256))])]),_:1})],64)}const Keywords=_export_sfc(_sfc_main$7,[["render",_sfc_render$7]]),_sfc_main$6={};function _sfc_render$6(e,t,n,r,o,s){const a=resolveComponent("router-view");return openBlock(),createElementBlock(Fragment,null,[createVNode(VToolbar,{color:"blue"},{default:withCtx(()=>[createVNode(VBtn,{to:"/admin/add-expansion"},{default:withCtx(()=>[createTextVNode("Add Expansion")]),_:1}),createVNode(VBtn,{to:"/admin/expansions"},{default:withCtx(()=>[createTextVNode("Expansions")]),_:1}),createVNode(VBtn,{to:"/admin/handlers"},{default:withCtx(()=>[createTextVNode("Handlers")]),_:1}),createVNode(VBtn,null,{default:withCtx(()=>[createTextVNode("Schemes")]),_:1}),createVNode(VBtn,null,{default:withCtx(()=>[createTextVNode("Masterminds")]),_:1}),createVNode(VBtn,null,{default:withCtx(()=>[createTextVNode("Villains")]),_:1}),createVNode(VBtn,null,{default:withCtx(()=>[createTextVNode("Henchmen")]),_:1}),createVNode(VBtn,null,{default:withCtx(()=>[createTextVNode("Heroes")]),_:1}),createVNode(VSpacer),createVNode(VBtn,{to:"/dashboard",icon:"mdi-home-outline"})]),_:1}),createVNode(a)],64)}const Admin=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]);function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uniqid={exports:{}},pid=typeof process<"u"&&process.pid?process.pid.toString(36):"",address="";if(typeof __webpack_require__!="function"&&typeof commonjsRequire<"u"){var mac="",os=require$$0;if(os.networkInterfaces)var networkInterfaces=os.networkInterfaces();if(networkInterfaces){e:for(let e in networkInterfaces){const t=networkInterfaces[e],n=t.length;for(var i=0;i<n;i++)if(t[i]!==void 0&&t[i].mac&&t[i].mac!="00:00:00:00:00:00"){mac=t[i].mac;break e}}address=mac?parseInt(mac.replace(/\:|\D+/gi,"")).toString(36):""}}uniqid.exports=uniqid.exports.default=function(e,t){return(e||"")+address+pid+now().toString(36)+(t||"")};uniqid.exports.process=function(e,t){return(e||"")+pid+now().toString(36)+(t||"")};uniqid.exports.time=function(e,t){return(e||"")+now().toString(36)+(t||"")};function now(){var e=Date.now(),t=now.last||e;return now.last=e>t?e:t+1}const _sfc_main$5={data:()=>({expansion:JSON.parse(sessionStorage.getItem("temporary-expansion-info"))||{name:"",schemes:[],masterminds:[],villains:[],henchmen:[],heroes:[]},newItem:{schemes:"",masterminds:"",villains:"",henchmen:"",heroes:""},schemas:{schemes:{primary:{type:"text",name:"scheme_name"}},masterminds:{primary:{type:"text",name:"mastermind_name"}},villains:{primary:{type:"text",name:"villain_group"}}}}),computed:{fields(){let e=lodash.exports.cloneDeep(tableFields);for(let t in e){const n=e[t];for(let r in n)e[t][r]=lodash.exports.startCase(e[t][r])}return e},sections(){return Object.keys(this.expansion).filter(e=>e!="name").map(e=>({name:e,title:lodash.exports.startCase(e)}))}},methods:{...mapActions(useStore,["addExpansion"]),createItem(e){e=e.toLowerCase();let[t,n,r]=this.newItem[e].split("|");r&&(r=r.split(",").map(o=>lodash.exports.trim(o))),this.expansion[e].push({id:uniqid.exports(),primary:t,secondary:n,colors:r,table:e}),sessionStorage.setItem("temporary-expansion-info",JSON.stringify(this.expansion)),this.newItem[e]=""},handleAddExpansion(){this.addExpansion(this.expansion).then(e=>{e&&(this.expansion={name:"",schemes:[],masterminds:[],villains:[],henchmen:[],heroes:[]})})},updateExpansionName(){sessionStorage.setItem("temporary-expansion-info",JSON.stringify(this.expansion))},clearAll(){this.expansion={name:"",schemes:[],masterminds:[],villains:[],henchmen:[],heroes:[]},sessionStorage.removeItem("temporary-expansion-info")},deleteItem(e){this.expansion[e.table]=this.expansion[e.table].filter(({id:t})=>t!=e.id),sessionStorage.setItem("temporary-expansion-info",JSON.stringify(this.expansion))}}};function _sfc_render$5(e,t,n,r,o,s){return openBlock(),createBlock(VContainer,null,{default:withCtx(()=>[createVNode(VTextField,{label:"Expansion Name",modelValue:e.expansion.name,"onUpdate:modelValue":t[0]||(t[0]=a=>e.expansion.name=a),onChange:s.updateExpansionName},null,8,["modelValue","onChange"]),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.sections,a=>(openBlock(),createBlock(VCol,{cols:"4"},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(VTextField,{modelValue:e.newItem[a.name],"onUpdate:modelValue":c=>e.newItem[a.name]=c,label:`New ${s.fields[a.name].primary}`,"append-icon":"mdi-plus-circle-outline","onClick:append":c=>s.createItem(a.name),onKeypress:[withKeys(c=>s.createItem(a.name),["enter"]),withKeys(c=>e.newItem[a]="",["esc"])],density:"compact",hint:"Use pipe '|' to separate primary, secondary, colors & specify colors as comma-separated list & veiled is secondary for schemes"},null,8,["modelValue","onUpdate:modelValue","label","onClick:append","onKeypress"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.expansion[a.name],c=>(openBlock(),createBlock(VListItem,null,{prepend:withCtx(()=>[createVNode(VBtn,{icon:"mdi-delete",flat:"",onClick:d=>s.deleteItem(c)},null,8,["onClick"])]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(c.primary),1)]),_:2},1024),c.secondary?(openBlock(),createBlock(VListItemSubtitle,{key:0},{default:withCtx(()=>[createTextVNode(toDisplayString(c.secondary),1)]),_:2},1024)):createCommentVNode("",!0),c.colors?(openBlock(),createBlock(VListItemSubtitle,{key:1},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.colors,d=>(openBlock(),createBlock(VIcon,{color:d,size:"small"},{default:withCtx(()=>[createTextVNode(" mdi-circle ")]),_:2},1032,["color"]))),256))]),_:2},1024)):createCommentVNode("",!0)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024))),256)),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createVNode(VBtn,{class:"mr-2",color:"error",onClick:s.clearAll},{default:withCtx(()=>[createTextVNode("Clear")]),_:1},8,["onClick"]),createVNode(VBtn,{color:"success",onClick:s.handleAddExpansion},{default:withCtx(()=>[createTextVNode("Add")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const AdminAddExpansion=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),VTable$1="",makeVTableProps=propsFactory({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...makeComponentProps(),...makeDensityProps(),...makeTagProps(),...makeThemeProps()},"VTable"),VTable=genericComponent()({name:"VTable",props:makeVTableProps(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=provideTheme(e),{densityClasses:o}=useDensity(e);return useRender(()=>createVNode(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},r.value,o.value,e.class],style:e.style},{default:()=>{var s,a,c;return[(s=n.top)==null?void 0:s.call(n),n.default?createVNode("div",{class:"v-table__wrapper",style:{height:convertToUnit(e.height)}},[createVNode("table",null,[n.default()])]):(a=n.wrapper)==null?void 0:a.call(n),(c=n.bottom)==null?void 0:c.call(n)]}})),{}}}),_sfc_main$4={computed:{...mapState(useStore,["expansionList"]),expansions(){return this.expansionList.sort((e,t)=>e.expansion>t.expansion?1:-1)}},methods:{...mapActions(useStore,["getUniversalData"])},mounted(){this.getUniversalData()}};function _sfc_render$4(e,t,n,r,o,s){return openBlock(),createBlock(VTable,{density:"compact"},{default:withCtx(()=>[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.expansions,({expansion:a})=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("td",null,toDisplayString(a),1)]))),256))])]),_:1})}const AdminExpansions=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),VNavigationDrawer$1="";function useSticky(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const o=shallowRef(!1),s=shallowRef(0),a=computed(()=>{const f=typeof o.value=="boolean"?"top":o.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[f]:convertToUnit(s.value)}:{top:r.value.top}]});onMounted(()=>{watch(n,f=>{f?window.addEventListener("scroll",d,{passive:!0}):window.removeEventListener("scroll",d)},{immediate:!0})}),onBeforeUnmount(()=>{document.removeEventListener("scroll",d)});let c=0;function d(){var S;const f=c>window.scrollY?"up":"down",m=t.value.getBoundingClientRect(),v=parseFloat((S=r.value.top)!=null?S:0),_=window.scrollY-Math.max(0,s.value-v),y=m.height+Math.max(s.value,v)-window.scrollY-window.innerHeight,C=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;m.height<window.innerHeight-v?(o.value="top",s.value=v):f==="up"&&o.value==="bottom"||f==="down"&&o.value==="top"?(s.value=window.scrollY+m.top-C,o.value=!0):f==="down"&&y<=0?(s.value=0,o.value="bottom"):f==="up"&&_<=0&&(C?o.value!=="top"&&(s.value=-_+C+v,o.value="top"):(s.value=m.top+_,o.value="top")),c=window.scrollY}return{isStuck:o,stickyStyles:a}}const HORIZON=100,HISTORY=20;function kineticEnergyToVelocity(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function calculateImpulseVelocity(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=kineticEnergyToVelocity(t),o=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(o-r)*Math.abs(o),n===e.length-1&&(t*=.5)}return kineticEnergyToVelocity(t)*1e3}function useVelocity(){const e={};function t(o){Array.from(o.changedTouches).forEach(s=>{var c;((c=e[s.identifier])!=null?c:e[s.identifier]=new CircularBuffer(HISTORY)).push([o.timeStamp,s])})}function n(o){Array.from(o.changedTouches).forEach(s=>{delete e[s.identifier]})}function r(o){var f;const s=(f=e[o])==null?void 0:f.values().reverse();if(!s)throw new Error(`No samples for touch id ${o}`);const a=s[0],c=[],d=[];for(const m of s){if(a[0]-m[0]>HORIZON)break;c.push({t:m[0],d:m[1].clientX}),d.push({t:m[0],d:m[1].clientY})}return{x:calculateImpulseVelocity(c),y:calculateImpulseVelocity(d),get direction(){const{x:m,y:v}=this,[_,y]=[Math.abs(m),Math.abs(v)];return _>y&&m>=0?"right":_>y&&m<=0?"left":y>_&&v>=0?"down":y>_&&v<=0?"up":oops$1()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function oops$1(){throw new Error}function useTouch(e){let{isActive:t,isTemporary:n,width:r,touchless:o,position:s}=e;onMounted(()=>{window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",x,{passive:!0})}),onBeforeUnmount(()=>{window.removeEventListener("touchstart",T),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",x)});const a=computed(()=>["left","right"].includes(s.value)),{addMovement:c,endTouch:d,getVelocity:f}=useVelocity();let m=!1;const v=shallowRef(!1),_=shallowRef(0),y=shallowRef(0);let C;function S(V,R){return(s.value==="left"?V:s.value==="right"?document.documentElement.clientWidth-V:s.value==="top"?V:s.value==="bottom"?document.documentElement.clientHeight-V:oops())-(R?r.value:0)}function I(V){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const M=s.value==="left"?(V-y.value)/r.value:s.value==="right"?(document.documentElement.clientWidth-V-y.value)/r.value:s.value==="top"?(V-y.value)/r.value:s.value==="bottom"?(document.documentElement.clientHeight-V-y.value)/r.value:oops();return R?Math.max(0,Math.min(1,M)):M}function T(V){if(o.value)return;const R=V.changedTouches[0].clientX,M=V.changedTouches[0].clientY,D=25,B=s.value==="left"?R<D:s.value==="right"?R>document.documentElement.clientWidth-D:s.value==="top"?M<D:s.value==="bottom"?M>document.documentElement.clientHeight-D:oops(),U=t.value&&(s.value==="left"?R<r.value:s.value==="right"?R>document.documentElement.clientWidth-r.value:s.value==="top"?M<r.value:s.value==="bottom"?M>document.documentElement.clientHeight-r.value:oops());(B||U||t.value&&n.value)&&(m=!0,C=[R,M],y.value=S(a.value?R:M,t.value),_.value=I(a.value?R:M),d(V),c(V))}function E(V){const R=V.changedTouches[0].clientX,M=V.changedTouches[0].clientY;if(m){if(!V.cancelable){m=!1;return}const B=Math.abs(R-C[0]),U=Math.abs(M-C[1]);(a.value?B>U&&B>3:U>B&&U>3)?(v.value=!0,m=!1):(a.value?U:B)>3&&(m=!1)}if(!v.value)return;V.preventDefault(),c(V);const D=I(a.value?R:M,!1);_.value=Math.max(0,Math.min(1,D)),D>1?y.value=S(a.value?R:M,!0):D<0&&(y.value=S(a.value?R:M,!1))}function x(V){if(m=!1,!v.value)return;c(V),v.value=!1;const R=f(V.changedTouches[0].identifier),M=Math.abs(R.x),D=Math.abs(R.y);(a.value?M>D&&M>400:D>M&&D>3)?t.value=R.direction===({left:"right",right:"left",top:"down",bottom:"up"}[s.value]||oops()):t.value=_.value>.5}const P=computed(()=>v.value?{transform:s.value==="left"?`translateX(calc(-100% + ${_.value*r.value}px))`:s.value==="right"?`translateX(calc(100% - ${_.value*r.value}px))`:s.value==="top"?`translateY(calc(-100% + ${_.value*r.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${_.value*r.value}px))`:oops(),transition:"none"}:void 0);return{isDragging:v,dragProgress:_,dragStyles:P}}function oops(){throw new Error}const locations=["start","end","left","right","top","bottom"],makeVNavigationDrawerProps=propsFactory({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>locations.includes(e)},sticky:Boolean,...makeBorderProps(),...makeComponentProps(),...makeElevationProps(),...makeLayoutItemProps(),...makeRoundedProps(),...makeTagProps({tag:"nav"}),...makeThemeProps()},"VNavigationDrawer"),VNavigationDrawer=genericComponent()({name:"VNavigationDrawer",props:makeVNavigationDrawerProps(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:o}=t;const{isRtl:s}=useRtl(),{themeClasses:a}=provideTheme(e),{borderClasses:c}=useBorder(e),{backgroundColorClasses:d,backgroundColorStyles:f}=useBackgroundColor(toRef(e,"color")),{elevationClasses:m}=useElevation(e),{mobile:v}=useDisplay(),{roundedClasses:_}=useRounded(e),y=useRouter(),C=useProxiedModel(e,"modelValue",null,pe=>!!pe),{ssrBootStyles:S}=useSsrBoot(),{scopeId:I}=useScopeId(),T=ref$1(),E=shallowRef(!1),x=computed(()=>e.rail&&e.expandOnHover&&E.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),P=computed(()=>toPhysical(e.location,s.value)),V=computed(()=>!e.permanent&&(v.value||e.temporary)),R=computed(()=>e.sticky&&!V.value&&P.value!=="bottom");e.expandOnHover&&e.rail!=null&&watch(E,pe=>r("update:rail",!pe)),e.disableResizeWatcher||watch(V,pe=>!e.permanent&&nextTick(()=>C.value=!pe)),!e.disableRouteWatcher&&y&&watch(y.currentRoute,()=>V.value&&(C.value=!1)),watch(()=>e.permanent,pe=>{pe&&(C.value=!0)}),onBeforeMount(()=>{e.modelValue!=null||V.value||(C.value=e.permanent||!v.value)});const{isDragging:M,dragProgress:D,dragStyles:B}=useTouch({isActive:C,isTemporary:V,width:x,touchless:toRef(e,"touchless"),position:P}),U=computed(()=>{const pe=V.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):x.value;return M.value?pe*D.value:pe}),{layoutItemStyles:j,layoutItemScrimStyles:z}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:P,layoutSize:U,elementSize:x,active:computed(()=>C.value||M.value),disableTransitions:computed(()=>M.value),absolute:computed(()=>e.absolute||R.value&&typeof W.value!="string")}),{isStuck:W,stickyStyles:$}=useSticky({rootEl:T,isSticky:R,layoutItemStyles:j}),te=useBackgroundColor(computed(()=>typeof e.scrim=="string"?e.scrim:null)),X=computed(()=>({...M.value?{opacity:D.value*.2,transition:"none"}:void 0,...z.value}));provideDefaults({VList:{bgColor:"transparent"}});function ue(){E.value=!0}function K(){E.value=!1}return useRender(()=>{const pe=o.image||e.image;return createVNode(Fragment,null,[createVNode(e.tag,mergeProps({ref:T,onMouseenter:ue,onMouseleave:K,class:["v-navigation-drawer",`v-navigation-drawer--${P.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":E.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":V.value,"v-navigation-drawer--active":C.value,"v-navigation-drawer--sticky":R.value},a.value,d.value,c.value,m.value,_.value,e.class],style:[f.value,j.value,B.value,S.value,$.value,e.style]},I,n),{default:()=>{var de,me,Ee,Ue;return[pe&&createVNode("div",{key:"image",class:"v-navigation-drawer__img"},[o.image?(de=o.image)==null?void 0:de.call(o,{image:e.image}):createVNode("img",{src:e.image,alt:""},null)]),o.prepend&&createVNode("div",{class:"v-navigation-drawer__prepend"},[(me=o.prepend)==null?void 0:me.call(o)]),createVNode("div",{class:"v-navigation-drawer__content"},[(Ee=o.default)==null?void 0:Ee.call(o)]),o.append&&createVNode("div",{class:"v-navigation-drawer__append"},[(Ue=o.append)==null?void 0:Ue.call(o)])]}}),createVNode(Transition,{name:"fade-transition"},{default:()=>[V.value&&(M.value||C.value)&&!!e.scrim&&createVNode("div",mergeProps({class:["v-navigation-drawer__scrim",te.backgroundColorClasses.value],style:[X.value,te.backgroundColorStyles.value],onClick:()=>C.value=!1},I),null)]})])}),{isStuck:W}}}),VTextarea$1="",makeVTextareaProps=propsFactory({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...makeVInputProps(),...makeVFieldProps()},"VTextarea"),VTextarea=genericComponent()({name:"VTextarea",directives:{Intersect:Intersect$1},inheritAttrs:!1,props:makeVTextareaProps(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:o}=t;const s=useProxiedModel(e,"modelValue"),{isFocused:a,focus:c,blur:d}=useFocus(e),f=computed(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),m=computed(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function v(j,z){var W,$;!e.autofocus||!j||($=(W=z[0].target)==null?void 0:W.focus)==null||$.call(W)}const _=ref$1(),y=ref$1(),C=shallowRef(""),S=ref$1(),I=computed(()=>e.persistentPlaceholder||a.value||e.active);function T(){var j;S.value!==document.activeElement&&((j=S.value)==null||j.focus()),a.value||c()}function E(j){T(),r("click:control",j)}function x(j){r("mousedown:control",j)}function P(j){j.stopPropagation(),T(),nextTick(()=>{s.value="",callEvent(e["onClick:clear"],j)})}function V(j){var W;const z=j.target;if(s.value=z.value,(W=e.modelModifiers)!=null&&W.trim){const $=[z.selectionStart,z.selectionEnd];nextTick(()=>{z.selectionStart=$[0],z.selectionEnd=$[1]})}}const R=ref$1(),M=ref$1(+e.rows),D=computed(()=>["plain","underlined"].includes(e.variant));watchEffect(()=>{e.autoGrow||(M.value=+e.rows)});function B(){!e.autoGrow||nextTick(()=>{if(!R.value||!y.value)return;const j=getComputedStyle(R.value),z=getComputedStyle(y.value.$el),W=parseFloat(j.getPropertyValue("--v-field-padding-top"))+parseFloat(j.getPropertyValue("--v-input-padding-top"))+parseFloat(j.getPropertyValue("--v-field-padding-bottom")),$=R.value.scrollHeight,te=parseFloat(j.lineHeight),X=Math.max(parseFloat(e.rows)*te+W,parseFloat(z.getPropertyValue("--v-input-control-height"))),ue=parseFloat(e.maxRows)*te+W||1/0,K=clamp($!=null?$:0,X,ue);M.value=Math.floor((K-W)/te),C.value=convertToUnit(K)})}onMounted(B),watch(s,B),watch(()=>e.rows,B),watch(()=>e.maxRows,B),watch(()=>e.density,B);let U;return watch(R,j=>{j?(U=new ResizeObserver(B),U.observe(R.value)):U==null||U.disconnect()}),onBeforeUnmount(()=>{U==null||U.disconnect()}),useRender(()=>{const j=!!(o.counter||e.counter||e.counterValue),z=!!(j||o.details),[W,$]=filterInputAttrs(n),[{modelValue:te,...X}]=VInput.filterProps(e),[ue]=filterFieldProps(e);return createVNode(VInput,mergeProps({ref:_,modelValue:s.value,"onUpdate:modelValue":K=>s.value=K,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--plain-underlined":D.value},e.class],style:e.style},W,X,{centerAffix:M.value===1&&!D.value,focused:a.value}),{...o,default:K=>{let{isDisabled:pe,isDirty:de,isReadonly:me,isValid:Ee}=K;return createVNode(VField,mergeProps({ref:y,style:{"--v-textarea-control-height":C.value},onClick:E,onMousedown:x,"onClick:clear":P,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},ue,{active:I.value||de.value,centerAffix:M.value===1&&!D.value,dirty:de.value||e.dirty,disabled:pe.value,focused:a.value,error:Ee.value===!1}),{...o,default:Ue=>{let{props:{class:$e,...Qe}}=Ue;return createVNode(Fragment,null,[e.prefix&&createVNode("span",{class:"v-text-field__prefix"},[e.prefix]),withDirectives(createVNode("textarea",mergeProps({ref:S,class:$e,value:s.value,onInput:V,autofocus:e.autofocus,readonly:me.value,disabled:pe.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:T,onBlur:d},Qe,$),null),[[resolveDirective("intersect"),{handler:v},null,{once:!0}]]),e.autoGrow&&withDirectives(createVNode("textarea",{class:[$e,"v-textarea__sizer"],"onUpdate:modelValue":ie=>s.value=ie,ref:R,readonly:!0,"aria-hidden":"true"},null),[[vModelText,s.value]]),e.suffix&&createVNode("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:z?K=>{var pe;return createVNode(Fragment,null,[(pe=o.details)==null?void 0:pe.call(o,K),j&&createVNode(Fragment,null,[createVNode("span",null,null),createVNode(VCounter,{active:e.persistentCounter||a.value,value:f.value,max:m.value},o.counter)])])}:void 0})}),forwardRefs({},_,y,S)}}),_sfc_main$3={data:()=>({search:null,editing:{key:null,contents:null}}),computed:{...mapState(useStore,["handlers"]),handlerList(){return this.handlers?Object.keys(this.handlers).filter(e=>!this.search||e.toLowerCase().includes(this.search.toLowerCase())).map(e=>({key:e,title:lodash.exports.startCase(e)})):[]}},methods:{...mapActions(useStore,["getUniversalData","updateHandler","set"]),editHandler(e){this.editing={key:e.key,contents:base64.decode(this.handlers[e.key])}},newHandler(){const e=prompt("Enter Handler Name");this.set(`handlers/${lodash.exports.camelCase(e)}`,base64.encode(`({setup})=>{

};`))}},mounted(){this.getUniversalData()}};function _sfc_render$3(e,t,n,r,o,s){return openBlock(),createElementBlock(Fragment,null,[createVNode(VNavigationDrawer,{permanent:""},{default:withCtx(()=>[createVNode(VToolbar,null,{default:withCtx(()=>[createVNode(VTextField,{label:"Search",modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=a=>e.search=a),class:"mt-1",clearable:"",onKeydown:t[1]||(t[1]=withKeys(a=>e.search=null,["esc"])),variant:"outlined",density:"compact","hide-details":""},{append:withCtx(()=>[createVNode(VBtn,{icon:"mdi-plus-circle",onClick:s.newHandler},null,8,["onClick"])]),_:1},8,["modelValue"])]),_:1}),createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.handlerList,a=>(openBlock(),createBlock(VListItem,{density:"compact",onClick:c=>s.editHandler(a),active:e.editing.key==a.key},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(a.title),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),256))]),_:1})]),_:1}),createVNode(VContainer,null,{default:withCtx(()=>[e.editing.contents?(openBlock(),createBlock(VCard,{key:0,variant:"flat"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VTextarea,{modelValue:e.editing.contents,"onUpdate:modelValue":t[2]||(t[2]=a=>e.editing.contents=a),rows:"20"},null,8,["modelValue"])]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{text:"",onClick:t[3]||(t[3]=a=>e.updateHandler(e.editing))},{default:withCtx(()=>[createTextVNode("Save")]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})],64)}const AdminManageHandlers=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),pagination=({items:e,perPage:t=10,page:n=1})=>{const r=(n-1)*t,o=[...e].splice(r,t),s=Math.ceil(e.length/t),a=n==1,c=n==s;return{items:o,totalPages:s,disablePrev:a,disableNext:c}},VTooltip$1="",makeVTooltipProps=propsFactory({id:String,text:String,...omit(makeVOverlayProps({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),VTooltip=genericComponent()({name:"VTooltip",props:makeVTooltipProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=useProxiedModel(e,"modelValue"),{scopeId:o}=useScopeId(),s=getUid(),a=computed(()=>e.id||`v-tooltip-${s}`),c=ref$1(),d=computed(()=>e.location.split(" ").length>1?e.location:e.location+" center"),f=computed(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),m=computed(()=>e.transition?e.transition:r.value?"scale-transition":"fade-transition"),v=computed(()=>mergeProps({"aria-describedby":a.value},e.activatorProps));return useRender(()=>{const[_]=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:c,class:["v-tooltip",e.class],style:e.style,id:a.value},_,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,transition:m.value,absolute:!0,location:d.value,origin:f.value,persistent:!0,role:"tooltip",activatorProps:v.value,_disableGlobalStack:!0},o),{activator:n.activator,default:function(){var I,T;for(var y=arguments.length,C=new Array(y),S=0;S<y;S++)C[S]=arguments[S];return(T=(I=n.default)==null?void 0:I.call(n,...C))!=null?T:e.text}})}),forwardRefs({},c)}}),_sfc_main$2={props:["items","labelField","type"],data(){return{search:null,perPage:10,page:1,numRandom:5,toolbarButtons:[{location:"bottom",icon:"mdi-check-all",tip:"Check All",action:()=>{this.checkedItems=this.items.map(({id:e})=>e)}},{location:"bottom",icon:"mdi-checkbox-blank-outline",tip:"Clear All",action:()=>{this.checkedItems=null}}]}},computed:{...mapState(useStore,["userSettings","display"]),checkedItems:{get(){return this.userSettings.portable||[]},set(e){this.type=="scheme",this.type=="mastermind",this.userSettings.portable=e,this.updateSettings()}},itemList(){return this.items.filter(({id:e})=>this.checkedItems.includes(e))},pageInfo(){return this.search?{items:this.items.filter(e=>e[this.labelField].toLowerCase().includes(this.search.toLowerCase())),hidePagination:!0}:pagination({items:this.items.sort((e,t)=>e[this.labelField]>t[this.labelField]?1:-1),page:this.page,perPage:this.perPage})}},methods:{...mapActions(useStore,["updateSettings"]),randomSelection(){let e=lodash.exports.shuffle(this.items).splice(0,this.numRandom).map(({id:r})=>r);const t=this.items.filter(({veiled:r})=>r),n=e.filter(r=>t.map(({id:o})=>o).includes(r));for(let r in n)e.push(lodash.exports.shuffle(t).shift().id);this.checkedItems=e},handleNum(){this.numRandom<1&&(this.numRandom=1),this.numRandom>this.items.length&&(this.numRandom=this.items.length)}}},_hoisted_1$1={key:0,class:"d-flex justify-space-between"},_hoisted_2={class:"mt-3"};function _sfc_render$2(e,t,n,r,o,s){return openBlock(),createBlock(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:e.display.mdAndUp?"8":"12"},{default:withCtx(()=>[createVNode(VTextField,{modelValue:o.search,"onUpdate:modelValue":t[0]||(t[0]=a=>o.search=a),clearable:"",label:"Search",onKeydown:t[1]||(t[1]=withKeys(a=>o.search=null,["esc"]))},null,8,["modelValue"])]),_:1},8,["cols"]),createVNode(VCol,{cols:e.display.mdAndUp?"4":"12"},{default:withCtx(()=>[!s.pageInfo.hidePagination&&s.pageInfo.totalPages>0?(openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(VBtn,{icon:"mdi-chevron-left",disabled:s.pageInfo.disablePrev,onClick:t[2]||(t[2]=a=>o.page--)},null,8,["disabled"]),createBaseVNode("div",_hoisted_2,"Page "+toDisplayString(o.page)+" of "+toDisplayString(s.pageInfo.totalPages),1),createVNode(VBtn,{icon:"mdi-chevron-right",disabled:s.pageInfo.disableNext,onClick:t[3]||(t[3]=a=>o.page++)},null,8,["disabled"])])):createCommentVNode("",!0)]),_:1},8,["cols"]),createVNode(VCol,{cols:"12"},{default:withCtx(()=>[createVNode(VToolbar,{density:"compact"},{default:withCtx(()=>[createVNode(VBtn,{onClick:s.randomSelection},{default:withCtx(()=>[createTextVNode("Select")]),_:1},8,["onClick"]),createVNode(VTextField,{class:"mt-3",type:"number",min:"1",max:n.items.length,label:"How many",modelValue:o.numRandom,"onUpdate:modelValue":t[4]||(t[4]=a=>o.numRandom=a),onBlur:s.handleNum},null,8,["max","modelValue","onBlur"]),createVNode(VSpacer),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.toolbarButtons,a=>(openBlock(),createBlock(VTooltip,{location:a.location},{activator:withCtx(({props:c})=>[createVNode(VBtn,mergeProps(c,{icon:a.icon,onClick:a.action}),null,16,["icon","onClick"])]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(a.tip),1)]),_:2},1032,["location"]))),256))]),_:1})]),_:1}),createVNode(VCol,{cols:e.display.mdAndUp?"4":"8"},{default:withCtx(()=>[createTextVNode(" Selected ("+toDisplayString(s.itemList.length)+"): ",1),createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VList,{class:"ml-3"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.itemList,a=>(openBlock(),createElementBlock(Fragment,null,[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(a[n.labelField]),1)]),_:2},1024),createVNode(VListItemSubtitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(a.affiliation),1)]),_:2},1024)],64))),256))]),_:1})]),_:1})]),_:1})]),_:1},8,["cols"]),createVNode(VCol,{cols:e.display.mdAndUp?"8":"12"},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.pageInfo.items,a=>(openBlock(),createElementBlock(Fragment,null,[createVNode(VListItem,{height:"1rem"},{append:withCtx(()=>[createVNode(VCheckbox,{modelValue:s.checkedItems,"onUpdate:modelValue":t[5]||(t[5]=c=>s.checkedItems=c),value:a.id,"hide-details":""},null,8,["modelValue","value"])]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(a[n.labelField]),1)]),_:2},1024)]),_:2},1024),createVNode(VDivider)],64))),256))]),_:1})]),_:1},8,["cols"])]),_:1})]),_:1})}const PortableItems=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),makeVAppBarNavIconProps=propsFactory({...makeVBtnProps({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),VAppBarNavIcon=genericComponent()({name:"VAppBarNavIcon",props:makeVAppBarNavIconProps(),setup(e,t){let{slots:n}=t;return useRender(()=>createVNode(VBtn,mergeProps(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),_sfc_main$1={components:{PortableItems},data:()=>({tab:0}),computed:{...mapState(useStore,["display","userSettings","expansionList","handlers","henchmen","heroes","keywords","masterminds","schemes","villains"]),windows(){return[{labelField:"scheme_name",items:this.schemes,type:"scheme"},{labelField:"mastermind_name",items:this.masterminds,type:"mastermind"},{labelField:"villain_group",items:this.villains,type:"villain"},{labelField:"henchmen_name",items:this.henchmen,type:"henchmen"},{labelField:"hero_name",items:this.heroes,type:"hero"}]}},methods:{...mapActions(useStore,["getUserData","getUniversalData","buildPortable"]),pullData(){this.getUserData("game").then(()=>{this.getUserData("userSettings")}).then(()=>{this.getUniversalData()})}},mounted(){this.pullData()}},_hoisted_1=createBaseVNode("span",null,"Pull Random Setups",-1);function _sfc_render$1(e,t,n,r,o,s){const a=resolveComponent("portable-items");return openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{density:"compact"},{default:withCtx(()=>[createVNode(VTooltip,{location:"bottom"},{activator:withCtx(({props:c})=>[createVNode(VBtn,mergeProps({icon:"mdi-shuffle-variant"},c,{onClick:e.buildPortable}),null,16,["onClick"])]),default:withCtx(()=>[_hoisted_1]),_:1}),createVNode(VSpacer),e.display.mdAndUp?(openBlock(),createBlock(VTabs,{key:0,modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=c=>e.tab=c)},{default:withCtx(()=>[createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Schemes ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Masterminds ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Villains ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Henchmen ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Heroes ")]),_:1})]),_:1},8,["modelValue"])):(openBlock(),createBlock(VMenu,{key:1,location:"bottom"},{activator:withCtx(({props:c})=>[createVNode(VAppBarNavIcon,normalizeProps(guardReactiveProps(c)),null,16)]),default:withCtx(()=>[createVNode(VTabs,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=c=>e.tab=c),direction:"vertical",class:"bg-white"},{default:withCtx(()=>[createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Schemes ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Masterminds ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Villains ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Henchmen ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Heroes ")]),_:1})]),_:1},8,["modelValue"])]),_:1})),createVNode(VSpacer),createVNode(VBtn,{icon:"mdi-home",to:"/dashboard"})]),_:1}),createVNode(VWindow,{modelValue:e.tab,"onUpdate:modelValue":t[2]||(t[2]=c=>e.tab=c)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.windows,c=>(openBlock(),createBlock(VWindowItem,null,{default:withCtx(()=>[createVNode(a,{items:c.items,"label-field":c.labelField,type:c.type},null,8,["items","label-field","type"])]),_:2},1024))),256))]),_:1},8,["modelValue"])])}const PortableSetup=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main={};function _sfc_render(e,t){return openBlock(),createElementBlock("h1",null,"Oops, it looks like the page you're looking for doesn't exist.")}const NotFound=_export_sfc(_sfc_main,[["render",_sfc_render]]),routes=[{path:"/",name:"Home",component:Home},{path:"/dashboard",name:"Dashboard",component:Dashboard,meta:{requireAuth:!0}},{path:"/settings/:section*",name:"Settings",component:Settings,meta:{requireAuth:!0},props:!0},{path:"/portable",name:"Portable Setup",component:PortableSetup,meta:{requireAuth:!0}},{path:"/admin",name:"Admin",component:Admin,meta:{requireAuth:!0},children:[{path:"add-expansion",name:"Add Expansion",component:AdminAddExpansion,meta:{requireAuth:!0}},{path:"expansions",name:"Expansions",component:AdminExpansions,meta:{requireAuth:!0}},{path:"handlers",name:"Manage Handlers",component:AdminManageHandlers,meta:{requireAuth:!0}}]},{path:"/keywords",name:"Keywords",component:Keywords},{path:"/:catchAll(.*)",component:NotFound}],router=createRouter({history:createWebHistory(),routes}),app=createApp(App),pinia=createPinia();app.use(pinia);app.use(router);registerPlugins(app);app.mount("#app");
