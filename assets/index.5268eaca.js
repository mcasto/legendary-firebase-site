(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function makeMap(t,e){const n=Object.create(null),r=t.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function normalizeStyle(t){if(isArray(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=isString$1(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const s in o)e[s]=o[s]}return e}else{if(isString$1(t))return t;if(isObject$3(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function normalizeClass(t){let e="";if(isString$1(t))e=t;else if(isArray(t))for(let n=0;n<t.length;n++){const r=normalizeClass(t[n]);r&&(e+=r+" ")}else if(isObject$3(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}const toDisplayString=t=>isString$1(t)?t:t==null?"":isArray(t)||isObject$3(t)&&(t.toString===objectToString||!isFunction$1(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$3(e)&&!isArray(e)&&!isPlainObject$1(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE$1=/^on[^a-z]/,isOn$1=t=>onRE$1.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty.call(t,e),isArray=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isFunction$1=t=>typeof t=="function",isString$1=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$3=t=>t!==null&&typeof t=="object",isPromise=t=>isObject$3(t)&&isFunction$1(t.then)&&isFunction$1(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$1=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString$1(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},def=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},toNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(e){if(this.active){const n=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function effectScope(t){return new EffectScope(t)}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t){activeEffectScope&&activeEffectScope.cleanups.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const o=e[r];wasTracked(o)&&!newTracked(o)?o.delete(t):e[n++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}e.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,r)}run(){if(!this.active)return this.fn();let e=activeEffect,n=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,n){if(shouldTrack&&activeEffect){let r=targetMap.get(t);r||targetMap.set(t,r=new Map);let o=r.get(n);o||r.set(n,o=createDep()),trackEffects(o)}}function trackEffects(t,e){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,n=!wasTracked(t)):n=!t.has(activeEffect),n&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,n,r,o,s){const a=targetMap.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(n==="length"&&isArray(t)){const d=toNumber(r);a.forEach((f,g)=>{(g==="length"||g>=d)&&c.push(f)})}else switch(n!==void 0&&c.push(a.get(n)),e){case"add":isArray(t)?isIntegerKey(n)&&c.push(a.get("length")):(c.push(a.get(ITERATE_KEY)),isMap(t)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(t)||(c.push(a.get(ITERATE_KEY)),isMap(t)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&c.push(a.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const d=[];for(const f of c)f&&d.push(...f);triggerEffects(createDep(d))}}function triggerEffects(t,e){const n=isArray(t)?t:[...t];for(const r of n)r.computed&&triggerEffect(r);for(const r of n)r.computed||triggerEffect(r)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=toRaw(this);for(let s=0,a=this.length;s<a;s++)track(r,"get",s+"");const o=r[e](...n);return o===-1||o===!1?r[e](...n.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){pauseTracking();const r=toRaw(this)[e].apply(this,n);return resetTracking(),r}}),t}function createGetter(t=!1,e=!1){return function(r,o,s){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&s===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(r))return r;const a=isArray(r);if(!t&&a&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,s);const c=Reflect.get(r,o,s);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(t||track(r,"get",o),e)?c:isRef(c)?a&&isIntegerKey(o)?c:c.value:isObject$3(c)?t?readonly(c):reactive(c):c}}const set$2=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(n,r,o,s){let a=n[r];if(isReadonly(a)&&isRef(a)&&!isRef(o))return!1;if(!t&&(!isShallow(o)&&!isReadonly(o)&&(a=toRaw(a),o=toRaw(o)),!isArray(n)&&isRef(a)&&!isRef(o)))return a.value=o,!0;const c=isArray(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn(n,r),d=Reflect.set(n,r,o,s);return n===toRaw(s)&&(c?hasChanged(o,a)&&trigger(n,"set",r,o):trigger(n,"add",r,o)),d}}function deleteProperty(t,e){const n=hasOwn(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&trigger(t,"delete",e,void 0),r}function has$2(t,e){const n=Reflect.has(t,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(t,"has",e),n}function ownKeys(t){return track(t,"iterate",isArray(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get:get$1,set:set$2,deleteProperty,has:has$2,ownKeys},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get$1$1(t,e,n=!1,r=!1){t=t.__v_raw;const o=toRaw(t),s=toRaw(e);n||(e!==s&&track(o,"get",e),track(o,"get",s));const{has:a}=getProto(o),c=r?toShallow:n?toReadonly:toReactive;if(a.call(o,e))return c(t.get(e));if(a.call(o,s))return c(t.get(s));t!==o&&t.get(e)}function has$1$1(t,e=!1){const n=this.__v_raw,r=toRaw(n),o=toRaw(t);return e||(t!==o&&track(r,"has",t),track(r,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set$1$1(t,e){e=toRaw(e);const n=toRaw(this),{has:r,get:o}=getProto(n);let s=r.call(n,t);s||(t=toRaw(t),s=r.call(n,t));const a=o.call(n,t);return n.set(t,e),s?hasChanged(e,a)&&trigger(n,"set",t,e):trigger(n,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:n,get:r}=getProto(e);let o=n.call(e,t);o||(t=toRaw(t),o=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return o&&trigger(e,"delete",t,void 0),s}function clear(){const t=toRaw(this),e=t.size!==0,n=t.clear();return e&&trigger(t,"clear",void 0,void 0),n}function createForEach(t,e){return function(r,o){const s=this,a=s.__v_raw,c=toRaw(a),d=e?toShallow:t?toReadonly:toReactive;return!t&&track(c,"iterate",ITERATE_KEY),a.forEach((f,g)=>r.call(o,d(f),d(g),s))}}function createIterableMethod(t,e,n){return function(...r){const o=this.__v_raw,s=toRaw(o),a=isMap(s),c=t==="entries"||t===Symbol.iterator&&a,d=t==="keys"&&a,f=o[t](...r),g=n?toShallow:e?toReadonly:toReactive;return!e&&track(s,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:v,done:_}=f.next();return _?{value:v,done:_}:{value:c?[g(v[0]),g(v[1])]:g(v),done:_}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(s){return get$1$1(this,s)},get size(){return size(this)},has:has$1$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(s){return get$1$1(this,s,!1,!0)},get size(){return size(this)},has:has$1$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(s){return get$1$1(this,s,!0)},get size(){return size(this,!0)},has(s){return has$1$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},r={get(s){return get$1$1(this,s,!0,!0)},get size(){return size(this,!0)},has(s){return has$1$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=createIterableMethod(s,!1,!1),n[s]=createIterableMethod(s,!0,!1),e[s]=createIterableMethod(s,!1,!0),r[s]=createIterableMethod(s,!0,!0)}),[t,n,e,r]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const n=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(r,o,s)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(hasOwn(n,o)&&o in r?n:r,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(t,e,n,r,o){if(!isObject$3(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=o.get(t);if(s)return s;const a=getTargetType(t);if(a===0)return t;const c=new Proxy(t,a===2?r:n);return o.set(t,c),c}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$3(t)?reactive(t):t,toReadonly=t=>isObject$3(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t),t.dep&&triggerEffects(t.dep)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref$1(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:toRaw(e),this._value=n?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const n=this.__v_isShallow||isShallow(e)||isReadonly(e);e=n?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:toReactive(e),triggerRefValue(this))}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,n)=>unref(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const o=t[e];return isRef(o)&&!isRef(n)?(o.value=n,!0):Reflect.set(t,e,n,r)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}function toRefs(t){const e=isArray(t)?new Array(t.length):{};for(const n in t)e[n]=toRef(t,n);return e}class ObjectRefImpl{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function toRef(t,e,n){const r=t[e];return isRef(r)?r:new ObjectRefImpl(t,e,n)}var _a;class ComputedRefImpl{constructor(e,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[_a]=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}_a="__v_isReadonly";function computed$1(t,e,n=!1){let r,o;const s=isFunction$1(t);return s?(r=t,o=NOOP):(r=t.get,o=t.set),new ComputedRefImpl(r,o,s||!o,n)}function warn$1(t,...e){}function callWithErrorHandling(t,e,n,r){let o;try{o=r?t(...r):t()}catch(s){handleError(s,e,n)}return o}function callWithAsyncErrorHandling(t,e,n,r){if(isFunction$1(t)){const s=callWithErrorHandling(t,e,n,r);return s&&isPromise(s)&&s.catch(a=>{handleError(a,e,n)}),s}const o=[];for(let s=0;s<t.length;s++)o.push(callWithAsyncErrorHandling(t[s],e,n,r));return o}function handleError(t,e,n,r=!0){const o=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,c=n;for(;s;){const f=s.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](t,a,c)===!1)return}s=s.parent}const d=e.appContext.config.errorHandler;if(d){callWithErrorHandling(d,null,10,[t,a,c]);return}}logError(t,n,o,r)}function logError(t,e,n,r=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,n=queue.length;for(;e<n;){const r=e+n>>>1;getId(queue[r])<t?e=r+1:n=r}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const n=queue[e];n&&n.pre&&(queue.splice(e,1),e--,n())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((n,r)=>getId(n)-getId(r)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const n=getId(t)-getId(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||EMPTY_OBJ;let o=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const g=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:_}=r[g]||EMPTY_OBJ;_&&(o=n.map(y=>isString$1(y)?y.trim():y)),v&&(o=n.map(toNumber))}let c,d=r[c=toHandlerKey(e)]||r[c=toHandlerKey(camelize(e))];!d&&s&&(d=r[c=toHandlerKey(hyphenate(e))]),d&&callWithAsyncErrorHandling(d,t,6,o);const f=r[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,callWithAsyncErrorHandling(f,t,6,o)}}function normalizeEmitsOptions(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(o!==void 0)return o;const s=t.emits;let a={},c=!1;if(!isFunction$1(t)){const d=f=>{const g=normalizeEmitsOptions(f,e,!0);g&&(c=!0,extend(a,g))};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!s&&!c?(isObject$3(t)&&r.set(t,null),null):(isArray(s)?s.forEach(d=>a[d]=null):extend(a,s),isObject$3(t)&&r.set(t,a),a)}function isEmitListener(t,e){return!t||!isOn$1(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function withCtx(t,e=currentRenderingInstance,n){if(!e||t._n)return t;const r=(...o)=>{r._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(e);let a;try{a=t(...o)}finally{setCurrentRenderingInstance(s),r._d&&setBlockTracking(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[a],slots:c,attrs:d,emit:f,render:g,renderCache:v,data:_,setupState:y,ctx:C,inheritAttrs:S}=t;let x,A;const T=setCurrentRenderingInstance(t);try{if(n.shapeFlag&4){const L=o||r;x=normalizeVNode(g.call(L,L,v,s,y,_,C)),A=d}else{const L=e;x=normalizeVNode(L.length>1?L(s,{attrs:d,slots:c,emit:f}):L(s,null)),A=e.props?d:getFunctionalFallthrough(d)}}catch(L){blockStack.length=0,handleError(L,t,1),x=createVNode(Comment)}let E=x;if(A&&S!==!1){const L=Object.keys(A),{shapeFlag:P}=E;L.length&&P&7&&(a&&L.some(isModelListener)&&(A=filterModelListeners(A,a)),E=cloneVNode(E,A))}return n.dirs&&(E=cloneVNode(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),x=E,setCurrentRenderingInstance(T),x}const getFunctionalFallthrough=t=>{let e;for(const n in t)(n==="class"||n==="style"||isOn$1(n))&&((e||(e={}))[n]=t[n]);return e},filterModelListeners=(t,e)=>{const n={};for(const r in t)(!isModelListener(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function shouldUpdateComponent(t,e,n){const{props:r,children:o,component:s}=t,{props:a,children:c,patchFlag:d}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return r?hasPropsChanged(r,a,f):!!a;if(d&8){const g=e.dynamicProps;for(let v=0;v<g.length;v++){const _=g[v];if(a[_]!==r[_]&&!isEmitListener(f,_))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?hasPropsChanged(r,a,f):!0:!!a;return!1}function hasPropsChanged(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(e[s]!==t[s]&&!isEmitListener(n,s))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function provide(t,e){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[t]=e}}function inject$1(t,e,n=!1){const r=currentInstance||currentRenderingInstance;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&isFunction$1(e)?e.call(r.proxy):e}}function watchEffect(t,e){return doWatch(t,null,e)}const INITIAL_WATCHER_VALUE={};function watch(t,e,n){return doWatch(t,e,n)}function doWatch(t,e,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:a}=EMPTY_OBJ){const c=currentInstance;let d,f=!1,g=!1;if(isRef(t)?(d=()=>t.value,f=isShallow(t)):isReactive(t)?(d=()=>t,r=!0):isArray(t)?(g=!0,f=t.some(E=>isReactive(E)||isShallow(E)),d=()=>t.map(E=>{if(isRef(E))return E.value;if(isReactive(E))return traverse(E);if(isFunction$1(E))return callWithErrorHandling(E,c,2)})):isFunction$1(t)?e?d=()=>callWithErrorHandling(t,c,2):d=()=>{if(!(c&&c.isUnmounted))return v&&v(),callWithAsyncErrorHandling(t,c,3,[_])}:d=NOOP,e&&r){const E=d;d=()=>traverse(E())}let v,_=E=>{v=A.onStop=()=>{callWithErrorHandling(E,c,4)}},y;if(isInSSRComponentSetup)if(_=NOOP,e?n&&callWithAsyncErrorHandling(e,c,3,[d(),g?[]:void 0,_]):d(),o==="sync"){const E=useSSRContext();y=E.__watcherHandles||(E.__watcherHandles=[])}else return NOOP;let C=g?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const S=()=>{if(!!A.active)if(e){const E=A.run();(r||f||(g?E.some((L,P)=>hasChanged(L,C[P])):hasChanged(E,C)))&&(v&&v(),callWithAsyncErrorHandling(e,c,3,[E,C===INITIAL_WATCHER_VALUE?void 0:g&&C[0]===INITIAL_WATCHER_VALUE?[]:C,_]),C=E)}else A.run()};S.allowRecurse=!!e;let x;o==="sync"?x=S:o==="post"?x=()=>queuePostRenderEffect(S,c&&c.suspense):(S.pre=!0,c&&(S.id=c.uid),x=()=>queueJob(S));const A=new ReactiveEffect(d,x);e?n?S():C=A.run():o==="post"?queuePostRenderEffect(A.run.bind(A),c&&c.suspense):A.run();const T=()=>{A.stop(),c&&c.scope&&remove(c.scope.effects,A)};return y&&y.push(T),T}function instanceWatch(t,e,n){const r=this.proxy,o=isString$1(t)?t.includes(".")?createPathGetter(r,t):()=>r[t]:t.bind(r,r);let s;isFunction$1(e)?s=e:(s=e.handler,n=e);const a=currentInstance;setCurrentInstance(this);const c=doWatch(o,s.bind(r),n);return a?setCurrentInstance(a):unsetCurrentInstance(),c}function createPathGetter(t,e){const n=e.split(".");return()=>{let r=t;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function traverse(t,e){if(!isObject$3(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray(t))for(let n=0;n<t.length;n++)traverse(t[n],e);else if(isSet(t)||isMap(t))t.forEach(n=>{traverse(n,e)});else if(isPlainObject$1(t))for(const n in t)traverse(t[n],e);return t}function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(t,{slots:e}){const n=getCurrentInstance$1(),r=useTransitionState();let o;return()=>{const s=e.default&&getTransitionRawChildren(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const S of s)if(S.type!==Comment){a=S;break}}const c=toRaw(t),{mode:d}=c;if(r.isLeaving)return emptyPlaceholder(a);const f=getKeepAliveChild(a);if(!f)return emptyPlaceholder(a);const g=resolveTransitionHooks(f,c,r,n);setTransitionHooks(f,g);const v=n.subTree,_=v&&getKeepAliveChild(v);let y=!1;const{getTransitionKey:C}=f.type;if(C){const S=C();o===void 0?o=S:S!==o&&(o=S,y=!0)}if(_&&_.type!==Comment&&(!isSameVNodeType(f,_)||y)){const S=resolveTransitionHooks(_,c,r,n);if(setTransitionHooks(_,S),d==="out-in")return r.isLeaving=!0,S.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},emptyPlaceholder(a);d==="in-out"&&f.type!==Comment&&(S.delayLeave=(x,A,T)=>{const E=getLeavingNodesForType(r,_);E[String(_.key)]=_,x._leaveCb=()=>{A(),x._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=T})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function resolveTransitionHooks(t,e,n,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:f,onEnterCancelled:g,onBeforeLeave:v,onLeave:_,onAfterLeave:y,onLeaveCancelled:C,onBeforeAppear:S,onAppear:x,onAfterAppear:A,onAppearCancelled:T}=e,E=String(t.key),L=getLeavingNodesForType(n,t),P=(N,B)=>{N&&callWithAsyncErrorHandling(N,r,9,B)},O=(N,B)=>{const q=B[1];P(N,B),isArray(N)?N.every(G=>G.length<=1)&&q():N.length<=1&&q()},D={mode:s,persisted:a,beforeEnter(N){let B=c;if(!n.isMounted)if(o)B=S||c;else return;N._leaveCb&&N._leaveCb(!0);const q=L[E];q&&isSameVNodeType(t,q)&&q.el._leaveCb&&q.el._leaveCb(),P(B,[N])},enter(N){let B=d,q=f,G=g;if(!n.isMounted)if(o)B=x||d,q=A||f,G=T||g;else return;let W=!1;const J=N._enterCb=U=>{W||(W=!0,U?P(G,[N]):P(q,[N]),D.delayedLeave&&D.delayedLeave(),N._enterCb=void 0)};B?O(B,[N,J]):J()},leave(N,B){const q=String(t.key);if(N._enterCb&&N._enterCb(!0),n.isUnmounting)return B();P(v,[N]);let G=!1;const W=N._leaveCb=J=>{G||(G=!0,B(),J?P(C,[N]):P(y,[N]),N._leaveCb=void 0,L[q]===t&&delete L[q])};L[q]=t,_?O(_,[N,W]):W()},clone(N){return resolveTransitionHooks(N,e,n,r)}};return D}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,n){let r=[],o=0;for(let s=0;s<t.length;s++){let a=t[s];const c=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Fragment?(a.patchFlag&128&&o++,r=r.concat(getTransitionRawChildren(a.children,e,c))):(e||a.type!==Comment)&&r.push(c!=null?cloneVNode(a,{key:c}):a)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function defineComponent$1(t){return isFunction$1(t)?{setup:t,name:t.name}:t}const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,n=currentInstance){const r=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(injectHook(e,r,n),n){let o=n.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(r,e,n,o),o=o.parent}}function injectToKeepAliveRoot(t,e,n,r){const o=injectHook(e,t,r,!0);onUnmounted(()=>{remove(r[e],o)},n)}function injectHook(t,e,n=currentInstance,r=!1){if(n){const o=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const c=callWithAsyncErrorHandling(e,n,t,a);return unsetCurrentInstance(),resetTracking(),c});return r?o.unshift(s):o.push(s),s}}const createHook=t=>(e,n=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...r)=>e(...r),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}function withDirectives(t,e){const n=currentRenderingInstance;if(n===null)return t;const r=getExposeProxy(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,c,d,f=EMPTY_OBJ]=e[s];a&&(isFunction$1(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(c),o.push({dir:a,instance:r,value:c,oldValue:void 0,arg:d,modifiers:f}))}return t}function invokeDirectiveHook(t,e,n,r){const o=t.dirs,s=e&&e.dirs;for(let a=0;a<o.length;a++){const c=o[a];s&&(c.oldValue=s[a].value);let d=c.dir[r];d&&(pauseTracking(),callWithAsyncErrorHandling(d,n,8,[t.el,c,t,e]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(t){return isString$1(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveDirective(t){return resolveAsset(DIRECTIVES,t)}function resolveAsset(t,e,n=!0,r=!1){const o=currentRenderingInstance||currentInstance;if(o){const s=o.type;if(t===COMPONENTS){const c=getComponentName(s,!1);if(c&&(c===e||c===camelize(e)||c===capitalize(camelize(e))))return s}const a=resolve(o[t]||s[t],e)||resolve(o.appContext[t],e);return!a&&r?s:a}}function resolve(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}function renderList(t,e,n,r){let o;const s=n&&n[r];if(isArray(t)||isString$1(t)){o=new Array(t.length);for(let a=0,c=t.length;a<c;a++)o[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,s&&s[a])}else if(isObject$3(t))if(t[Symbol.iterator])o=Array.from(t,(a,c)=>e(a,c,void 0,s&&s[c]));else{const a=Object.keys(t);o=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const f=a[c];o[c]=e(t[f],f,c,s&&s[c])}}else o=[];return n&&(n[r]=o),o}function createSlots(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(isArray(r))for(let o=0;o<r.length;o++)t[r[o].name]=r[o].fn;else r&&(t[r.name]=r.key?(...o)=>{const s=r.fn(...o);return s&&(s.key=r.key),s}:r.fn)}return t}function toHandlers(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:toHandlerKey(r)]=t[r];return n}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn(t,e),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:c,appContext:d}=t;let f;if(e[0]!=="$"){const y=a[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return s[e]}else{if(hasSetupBinding(r,e))return a[e]=1,r[e];if(o!==EMPTY_OBJ&&hasOwn(o,e))return a[e]=2,o[e];if((f=t.propsOptions[0])&&hasOwn(f,e))return a[e]=3,s[e];if(n!==EMPTY_OBJ&&hasOwn(n,e))return a[e]=4,n[e];shouldCacheAccess&&(a[e]=0)}}const g=publicPropertiesMap[e];let v,_;if(g)return e==="$attrs"&&track(t,"get",e),g(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==EMPTY_OBJ&&hasOwn(n,e))return a[e]=4,n[e];if(_=d.config.globalProperties,hasOwn(_,e))return _[e]},set({_:t},e,n){const{data:r,setupState:o,ctx:s}=t;return hasSetupBinding(o,e)?(o[e]=n,!0):r!==EMPTY_OBJ&&hasOwn(r,e)?(r[e]=n,!0):hasOwn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let c;return!!n[a]||t!==EMPTY_OBJ&&hasOwn(t,a)||hasSetupBinding(e,a)||(c=s[0])&&hasOwn(c,a)||hasOwn(r,a)||hasOwn(publicPropertiesMap,a)||hasOwn(o.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:hasOwn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),n=t.proxy,r=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:a,watch:c,provide:d,inject:f,created:g,beforeMount:v,mounted:_,beforeUpdate:y,updated:C,activated:S,deactivated:x,beforeDestroy:A,beforeUnmount:T,destroyed:E,unmounted:L,render:P,renderTracked:O,renderTriggered:D,errorCaptured:N,serverPrefetch:B,expose:q,inheritAttrs:G,components:W,directives:J,filters:U}=e;if(f&&resolveInjections(f,r,null,t.appContext.config.unwrapInjectedRef),a)for(const Q in a){const ae=a[Q];isFunction$1(ae)&&(r[Q]=ae.bind(n))}if(o){const Q=o.call(n,n);isObject$3(Q)&&(t.data=reactive(Q))}if(shouldCacheAccess=!0,s)for(const Q in s){const ae=s[Q],xe=isFunction$1(ae)?ae.bind(n,n):isFunction$1(ae.get)?ae.get.bind(n,n):NOOP,ve=!isFunction$1(ae)&&isFunction$1(ae.set)?ae.set.bind(n):NOOP,Ce=computed({get:xe,set:ve});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:Oe=>Ce.value=Oe})}if(c)for(const Q in c)createWatcher(c[Q],r,n,Q);if(d){const Q=isFunction$1(d)?d.call(n):d;Reflect.ownKeys(Q).forEach(ae=>{provide(ae,Q[ae])})}g&&callHook$1(g,t,"c");function Y(Q,ae){isArray(ae)?ae.forEach(xe=>Q(xe.bind(n))):ae&&Q(ae.bind(n))}if(Y(onBeforeMount,v),Y(onMounted,_),Y(onBeforeUpdate,y),Y(onUpdated,C),Y(onActivated,S),Y(onDeactivated,x),Y(onErrorCaptured,N),Y(onRenderTracked,O),Y(onRenderTriggered,D),Y(onBeforeUnmount,T),Y(onUnmounted,L),Y(onServerPrefetch,B),isArray(q))if(q.length){const Q=t.exposed||(t.exposed={});q.forEach(ae=>{Object.defineProperty(Q,ae,{get:()=>n[ae],set:xe=>n[ae]=xe})})}else t.exposed||(t.exposed={});P&&t.render===NOOP&&(t.render=P),G!=null&&(t.inheritAttrs=G),W&&(t.components=W),J&&(t.directives=J)}function resolveInjections(t,e,n=NOOP,r=!1){isArray(t)&&(t=normalizeInject(t));for(const o in t){const s=t[o];let a;isObject$3(s)?"default"in s?a=inject$1(s.from||o,s.default,!0):a=inject$1(s.from||o):a=inject$1(s),isRef(a)&&r?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):e[o]=a}}function callHook$1(t,e,n){callWithAsyncErrorHandling(isArray(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function createWatcher(t,e,n,r){const o=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString$1(t)){const s=e[t];isFunction$1(s)&&watch(o,s)}else if(isFunction$1(t))watch(o,t.bind(n));else if(isObject$3(t))if(isArray(t))t.forEach(s=>createWatcher(s,e,n,r));else{const s=isFunction$1(t.handler)?t.handler.bind(n):e[t.handler];isFunction$1(s)&&watch(o,s,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,c=s.get(e);let d;return c?d=c:!o.length&&!n&&!r?d=e:(d={},o.length&&o.forEach(f=>mergeOptions$1(d,f,a,!0)),mergeOptions$1(d,e,a)),isObject$3(e)&&s.set(e,d),d}function mergeOptions$1(t,e,n,r=!1){const{mixins:o,extends:s}=e;s&&mergeOptions$1(t,s,n,!0),o&&o.forEach(a=>mergeOptions$1(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const c=internalOptionMergeStrats[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction$1(t)?t.call(this,this):t,isFunction$1(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(extend(Object.create(null),t),e):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const n=extend(Object.create(null),t);for(const r in e)n[r]=mergeAsArray(t[r],e[r]);return n}function initProps(t,e,n,r=!1){const o={},s={};def(s,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,o,s);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);n?t.props=r?o:shallowReactive(o):t.type.props?t.props=o:t.props=s,t.attrs=s}function updateProps(t,e,n,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=t,c=toRaw(o),[d]=t.propsOptions;let f=!1;if((r||a>0)&&!(a&16)){if(a&8){const g=t.vnode.dynamicProps;for(let v=0;v<g.length;v++){let _=g[v];if(isEmitListener(t.emitsOptions,_))continue;const y=e[_];if(d)if(hasOwn(s,_))y!==s[_]&&(s[_]=y,f=!0);else{const C=camelize(_);o[C]=resolvePropValue(d,c,C,y,t,!1)}else y!==s[_]&&(s[_]=y,f=!0)}}}else{setFullProps(t,e,o,s)&&(f=!0);let g;for(const v in c)(!e||!hasOwn(e,v)&&((g=hyphenate(v))===v||!hasOwn(e,g)))&&(d?n&&(n[v]!==void 0||n[g]!==void 0)&&(o[v]=resolvePropValue(d,c,v,void 0,t,!0)):delete o[v]);if(s!==c)for(const v in s)(!e||!hasOwn(e,v)&&!0)&&(delete s[v],f=!0)}f&&trigger(t,"set","$attrs")}function setFullProps(t,e,n,r){const[o,s]=t.propsOptions;let a=!1,c;if(e)for(let d in e){if(isReservedProp(d))continue;const f=e[d];let g;o&&hasOwn(o,g=camelize(d))?!s||!s.includes(g)?n[g]=f:(c||(c={}))[g]=f:isEmitListener(t.emitsOptions,d)||(!(d in r)||f!==r[d])&&(r[d]=f,a=!0)}if(s){const d=toRaw(n),f=c||EMPTY_OBJ;for(let g=0;g<s.length;g++){const v=s[g];n[v]=resolvePropValue(o,d,v,f[v],t,!hasOwn(f,v))}}return a}function resolvePropValue(t,e,n,r,o,s){const a=t[n];if(a!=null){const c=hasOwn(a,"default");if(c&&r===void 0){const d=a.default;if(a.type!==Function&&isFunction$1(d)){const{propsDefaults:f}=o;n in f?r=f[n]:(setCurrentInstance(o),r=f[n]=d.call(null,e),unsetCurrentInstance())}else r=d}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===hyphenate(n))&&(r=!0))}return r}function normalizePropsOptions(t,e,n=!1){const r=e.propsCache,o=r.get(t);if(o)return o;const s=t.props,a={},c=[];let d=!1;if(!isFunction$1(t)){const g=v=>{d=!0;const[_,y]=normalizePropsOptions(v,e,!0);extend(a,_),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!s&&!d)return isObject$3(t)&&r.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray(s))for(let g=0;g<s.length;g++){const v=camelize(s[g]);validatePropName(v)&&(a[v]=EMPTY_OBJ)}else if(s)for(const g in s){const v=camelize(g);if(validatePropName(v)){const _=s[g],y=a[v]=isArray(_)||isFunction$1(_)?{type:_}:Object.assign({},_);if(y){const C=getTypeIndex(Boolean,y.type),S=getTypeIndex(String,y.type);y[0]=C>-1,y[1]=S<0||C<S,(C>-1||hasOwn(y,"default"))&&c.push(v)}}}const f=[a,c];return isObject$3(t)&&r.set(t,f),f}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray(e)?e.findIndex(n=>isSameType(n,t)):isFunction$1(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,n)=>{if(e._n)return e;const r=withCtx((...o)=>normalizeSlotValue(e(...o)),n);return r._c=!1,r},normalizeObjectSlots=(t,e,n)=>{const r=t._ctx;for(const o in t){if(isInternalKey(o))continue;const s=t[o];if(isFunction$1(s))e[o]=normalizeSlot$1(o,s,r);else if(s!=null){const a=normalizeSlotValue(s);e[o]=()=>a}}},normalizeVNodeSlots=(t,e)=>{const n=normalizeSlotValue(e);t.slots.default=()=>n},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=toRaw(e),def(e,"_",n)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,n)=>{const{vnode:r,slots:o}=t;let s=!0,a=EMPTY_OBJ;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:(extend(o,e),!n&&c===1&&delete o._):(s=!e.$stable,normalizeObjectSlots(e,o)),a=e}else e&&(normalizeVNodeSlots(t,e),a={default:1});if(s)for(const c in o)!isInternalKey(c)&&!(c in a)&&delete o[c]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(t,e){return function(r,o=null){isFunction$1(r)||(r=Object.assign({},r)),o!=null&&!isObject$3(o)&&(o=null);const s=createAppContext(),a=new Set;let c=!1;const d=s.app={_uid:uid++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:version$5,get config(){return s.config},set config(f){},use(f,...g){return a.has(f)||(f&&isFunction$1(f.install)?(a.add(f),f.install(d,...g)):isFunction$1(f)&&(a.add(f),f(d,...g))),d},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),d},component(f,g){return g?(s.components[f]=g,d):s.components[f]},directive(f,g){return g?(s.directives[f]=g,d):s.directives[f]},mount(f,g,v){if(!c){const _=createVNode(r,o);return _.appContext=s,g&&e?e(_,f):t(_,f,v),c=!0,d._container=f,f.__vue_app__=d,getExposeProxy(_.component)||_.component.proxy}},unmount(){c&&(t(null,d._container),delete d._container.__vue_app__)},provide(f,g){return s.provides[f]=g,d}};return d}}function setRef(t,e,n,r,o=!1){if(isArray(t)){t.forEach((_,y)=>setRef(_,e&&(isArray(e)?e[y]:e),n,r,o));return}if(isAsyncWrapper(r)&&!o)return;const s=r.shapeFlag&4?getExposeProxy(r.component)||r.component.proxy:r.el,a=o?null:s,{i:c,r:d}=t,f=e&&e.r,g=c.refs===EMPTY_OBJ?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==d&&(isString$1(f)?(g[f]=null,hasOwn(v,f)&&(v[f]=null)):isRef(f)&&(f.value=null)),isFunction$1(d))callWithErrorHandling(d,c,12,[a,g]);else{const _=isString$1(d),y=isRef(d);if(_||y){const C=()=>{if(t.f){const S=_?hasOwn(v,d)?v[d]:g[d]:d.value;o?isArray(S)&&remove(S,s):isArray(S)?S.includes(s)||S.push(s):_?(g[d]=[s],hasOwn(v,d)&&(v[d]=g[d])):(d.value=[s],t.k&&(g[t.k]=d.value))}else _?(g[d]=a,hasOwn(v,d)&&(v[d]=a)):y&&(d.value=a,t.k&&(g[t.k]=a))};a?(C.id=-1,queuePostRenderEffect(C,n)):C()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const n=getGlobalThis();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:c,createComment:d,setText:f,setElementText:g,parentNode:v,nextSibling:_,setScopeId:y=NOOP,insertStaticContent:C}=t,S=(R,M,j,Z=null,ce=null,fe=null,be=!1,pe=null,me=!!M.dynamicChildren)=>{if(R===M)return;R&&!isSameVNodeType(R,M)&&(Z=he(R),Oe(R,ce,fe,!0),R=null),M.patchFlag===-2&&(me=!1,M.dynamicChildren=null);const{type:ie,ref:Te,shapeFlag:Ee}=M;switch(ie){case Text:x(R,M,j,Z);break;case Comment:A(R,M,j,Z);break;case Static:R==null&&T(M,j,Z,be);break;case Fragment:W(R,M,j,Z,ce,fe,be,pe,me);break;default:Ee&1?P(R,M,j,Z,ce,fe,be,pe,me):Ee&6?J(R,M,j,Z,ce,fe,be,pe,me):(Ee&64||Ee&128)&&ie.process(R,M,j,Z,ce,fe,be,pe,me,Be)}Te!=null&&ce&&setRef(Te,R&&R.ref,fe,M||R,!M)},x=(R,M,j,Z)=>{if(R==null)r(M.el=c(M.children),j,Z);else{const ce=M.el=R.el;M.children!==R.children&&f(ce,M.children)}},A=(R,M,j,Z)=>{R==null?r(M.el=d(M.children||""),j,Z):M.el=R.el},T=(R,M,j,Z)=>{[R.el,R.anchor]=C(R.children,M,j,Z,R.el,R.anchor)},E=({el:R,anchor:M},j,Z)=>{let ce;for(;R&&R!==M;)ce=_(R),r(R,j,Z),R=ce;r(M,j,Z)},L=({el:R,anchor:M})=>{let j;for(;R&&R!==M;)j=_(R),o(R),R=j;o(M)},P=(R,M,j,Z,ce,fe,be,pe,me)=>{be=be||M.type==="svg",R==null?O(M,j,Z,ce,fe,be,pe,me):B(R,M,ce,fe,be,pe,me)},O=(R,M,j,Z,ce,fe,be,pe)=>{let me,ie;const{type:Te,props:Ee,shapeFlag:Ie,transition:Pe,dirs:qe}=R;if(me=R.el=a(R.type,fe,Ee&&Ee.is,Ee),Ie&8?g(me,R.children):Ie&16&&N(R.children,me,null,Z,ce,fe&&Te!=="foreignObject",be,pe),qe&&invokeDirectiveHook(R,null,Z,"created"),Ee){for(const Ge in Ee)Ge!=="value"&&!isReservedProp(Ge)&&s(me,Ge,null,Ee[Ge],fe,R.children,Z,ce,de);"value"in Ee&&s(me,"value",null,Ee.value),(ie=Ee.onVnodeBeforeMount)&&invokeVNodeHook(ie,Z,R)}D(me,R,R.scopeId,be,Z),qe&&invokeDirectiveHook(R,null,Z,"beforeMount");const je=(!ce||ce&&!ce.pendingBranch)&&Pe&&!Pe.persisted;je&&Pe.beforeEnter(me),r(me,M,j),((ie=Ee&&Ee.onVnodeMounted)||je||qe)&&queuePostRenderEffect(()=>{ie&&invokeVNodeHook(ie,Z,R),je&&Pe.enter(me),qe&&invokeDirectiveHook(R,null,Z,"mounted")},ce)},D=(R,M,j,Z,ce)=>{if(j&&y(R,j),Z)for(let fe=0;fe<Z.length;fe++)y(R,Z[fe]);if(ce){let fe=ce.subTree;if(M===fe){const be=ce.vnode;D(R,be,be.scopeId,be.slotScopeIds,ce.parent)}}},N=(R,M,j,Z,ce,fe,be,pe,me=0)=>{for(let ie=me;ie<R.length;ie++){const Te=R[ie]=pe?cloneIfMounted(R[ie]):normalizeVNode(R[ie]);S(null,Te,M,j,Z,ce,fe,be,pe)}},B=(R,M,j,Z,ce,fe,be)=>{const pe=M.el=R.el;let{patchFlag:me,dynamicChildren:ie,dirs:Te}=M;me|=R.patchFlag&16;const Ee=R.props||EMPTY_OBJ,Ie=M.props||EMPTY_OBJ;let Pe;j&&toggleRecurse(j,!1),(Pe=Ie.onVnodeBeforeUpdate)&&invokeVNodeHook(Pe,j,M,R),Te&&invokeDirectiveHook(M,R,j,"beforeUpdate"),j&&toggleRecurse(j,!0);const qe=ce&&M.type!=="foreignObject";if(ie?q(R.dynamicChildren,ie,pe,j,Z,qe,fe):be||ae(R,M,pe,null,j,Z,qe,fe,!1),me>0){if(me&16)G(pe,M,Ee,Ie,j,Z,ce);else if(me&2&&Ee.class!==Ie.class&&s(pe,"class",null,Ie.class,ce),me&4&&s(pe,"style",Ee.style,Ie.style,ce),me&8){const je=M.dynamicProps;for(let Ge=0;Ge<je.length;Ge++){const nt=je[Ge],yt=Ee[nt],Kt=Ie[nt];(Kt!==yt||nt==="value")&&s(pe,nt,yt,Kt,ce,R.children,j,Z,de)}}me&1&&R.children!==M.children&&g(pe,M.children)}else!be&&ie==null&&G(pe,M,Ee,Ie,j,Z,ce);((Pe=Ie.onVnodeUpdated)||Te)&&queuePostRenderEffect(()=>{Pe&&invokeVNodeHook(Pe,j,M,R),Te&&invokeDirectiveHook(M,R,j,"updated")},Z)},q=(R,M,j,Z,ce,fe,be)=>{for(let pe=0;pe<M.length;pe++){const me=R[pe],ie=M[pe],Te=me.el&&(me.type===Fragment||!isSameVNodeType(me,ie)||me.shapeFlag&70)?v(me.el):j;S(me,ie,Te,null,Z,ce,fe,be,!0)}},G=(R,M,j,Z,ce,fe,be)=>{if(j!==Z){if(j!==EMPTY_OBJ)for(const pe in j)!isReservedProp(pe)&&!(pe in Z)&&s(R,pe,j[pe],null,be,M.children,ce,fe,de);for(const pe in Z){if(isReservedProp(pe))continue;const me=Z[pe],ie=j[pe];me!==ie&&pe!=="value"&&s(R,pe,ie,me,be,M.children,ce,fe,de)}"value"in Z&&s(R,"value",j.value,Z.value)}},W=(R,M,j,Z,ce,fe,be,pe,me)=>{const ie=M.el=R?R.el:c(""),Te=M.anchor=R?R.anchor:c("");let{patchFlag:Ee,dynamicChildren:Ie,slotScopeIds:Pe}=M;Pe&&(pe=pe?pe.concat(Pe):Pe),R==null?(r(ie,j,Z),r(Te,j,Z),N(M.children,j,Te,ce,fe,be,pe,me)):Ee>0&&Ee&64&&Ie&&R.dynamicChildren?(q(R.dynamicChildren,Ie,j,ce,fe,be,pe),(M.key!=null||ce&&M===ce.subTree)&&traverseStaticChildren(R,M,!0)):ae(R,M,j,Te,ce,fe,be,pe,me)},J=(R,M,j,Z,ce,fe,be,pe,me)=>{M.slotScopeIds=pe,R==null?M.shapeFlag&512?ce.ctx.activate(M,j,Z,be,me):U(M,j,Z,ce,fe,be,me):se(R,M,me)},U=(R,M,j,Z,ce,fe,be)=>{const pe=R.component=createComponentInstance(R,Z,ce);if(isKeepAlive(R)&&(pe.ctx.renderer=Be),setupComponent(pe),pe.asyncDep){if(ce&&ce.registerDep(pe,Y),!R.el){const me=pe.subTree=createVNode(Comment);A(null,me,M,j)}return}Y(pe,R,M,j,ce,fe,be)},se=(R,M,j)=>{const Z=M.component=R.component;if(shouldUpdateComponent(R,M,j))if(Z.asyncDep&&!Z.asyncResolved){Q(Z,M,j);return}else Z.next=M,invalidateJob(Z.update),Z.update();else M.el=R.el,Z.vnode=M},Y=(R,M,j,Z,ce,fe,be)=>{const pe=()=>{if(R.isMounted){let{next:Te,bu:Ee,u:Ie,parent:Pe,vnode:qe}=R,je=Te,Ge;toggleRecurse(R,!1),Te?(Te.el=qe.el,Q(R,Te,be)):Te=qe,Ee&&invokeArrayFns(Ee),(Ge=Te.props&&Te.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ge,Pe,Te,qe),toggleRecurse(R,!0);const nt=renderComponentRoot(R),yt=R.subTree;R.subTree=nt,S(yt,nt,v(yt.el),he(yt),R,ce,fe),Te.el=nt.el,je===null&&updateHOCHostEl(R,nt.el),Ie&&queuePostRenderEffect(Ie,ce),(Ge=Te.props&&Te.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ge,Pe,Te,qe),ce)}else{let Te;const{el:Ee,props:Ie}=M,{bm:Pe,m:qe,parent:je}=R,Ge=isAsyncWrapper(M);if(toggleRecurse(R,!1),Pe&&invokeArrayFns(Pe),!Ge&&(Te=Ie&&Ie.onVnodeBeforeMount)&&invokeVNodeHook(Te,je,M),toggleRecurse(R,!0),Ee&&Le){const nt=()=>{R.subTree=renderComponentRoot(R),Le(Ee,R.subTree,R,ce,null)};Ge?M.type.__asyncLoader().then(()=>!R.isUnmounted&&nt()):nt()}else{const nt=R.subTree=renderComponentRoot(R);S(null,nt,j,Z,R,ce,fe),M.el=nt.el}if(qe&&queuePostRenderEffect(qe,ce),!Ge&&(Te=Ie&&Ie.onVnodeMounted)){const nt=M;queuePostRenderEffect(()=>invokeVNodeHook(Te,je,nt),ce)}(M.shapeFlag&256||je&&isAsyncWrapper(je.vnode)&&je.vnode.shapeFlag&256)&&R.a&&queuePostRenderEffect(R.a,ce),R.isMounted=!0,M=j=Z=null}},me=R.effect=new ReactiveEffect(pe,()=>queueJob(ie),R.scope),ie=R.update=()=>me.run();ie.id=R.uid,toggleRecurse(R,!0),ie()},Q=(R,M,j)=>{M.component=R;const Z=R.vnode.props;R.vnode=M,R.next=null,updateProps(R,M.props,Z,j),updateSlots(R,M.children,j),pauseTracking(),flushPreFlushCbs(),resetTracking()},ae=(R,M,j,Z,ce,fe,be,pe,me=!1)=>{const ie=R&&R.children,Te=R?R.shapeFlag:0,Ee=M.children,{patchFlag:Ie,shapeFlag:Pe}=M;if(Ie>0){if(Ie&128){ve(ie,Ee,j,Z,ce,fe,be,pe,me);return}else if(Ie&256){xe(ie,Ee,j,Z,ce,fe,be,pe,me);return}}Pe&8?(Te&16&&de(ie,ce,fe),Ee!==ie&&g(j,Ee)):Te&16?Pe&16?ve(ie,Ee,j,Z,ce,fe,be,pe,me):de(ie,ce,fe,!0):(Te&8&&g(j,""),Pe&16&&N(Ee,j,Z,ce,fe,be,pe,me))},xe=(R,M,j,Z,ce,fe,be,pe,me)=>{R=R||EMPTY_ARR,M=M||EMPTY_ARR;const ie=R.length,Te=M.length,Ee=Math.min(ie,Te);let Ie;for(Ie=0;Ie<Ee;Ie++){const Pe=M[Ie]=me?cloneIfMounted(M[Ie]):normalizeVNode(M[Ie]);S(R[Ie],Pe,j,null,ce,fe,be,pe,me)}ie>Te?de(R,ce,fe,!0,!1,Ee):N(M,j,Z,ce,fe,be,pe,me,Ee)},ve=(R,M,j,Z,ce,fe,be,pe,me)=>{let ie=0;const Te=M.length;let Ee=R.length-1,Ie=Te-1;for(;ie<=Ee&&ie<=Ie;){const Pe=R[ie],qe=M[ie]=me?cloneIfMounted(M[ie]):normalizeVNode(M[ie]);if(isSameVNodeType(Pe,qe))S(Pe,qe,j,null,ce,fe,be,pe,me);else break;ie++}for(;ie<=Ee&&ie<=Ie;){const Pe=R[Ee],qe=M[Ie]=me?cloneIfMounted(M[Ie]):normalizeVNode(M[Ie]);if(isSameVNodeType(Pe,qe))S(Pe,qe,j,null,ce,fe,be,pe,me);else break;Ee--,Ie--}if(ie>Ee){if(ie<=Ie){const Pe=Ie+1,qe=Pe<Te?M[Pe].el:Z;for(;ie<=Ie;)S(null,M[ie]=me?cloneIfMounted(M[ie]):normalizeVNode(M[ie]),j,qe,ce,fe,be,pe,me),ie++}}else if(ie>Ie)for(;ie<=Ee;)Oe(R[ie],ce,fe,!0),ie++;else{const Pe=ie,qe=ie,je=new Map;for(ie=qe;ie<=Ie;ie++){const ht=M[ie]=me?cloneIfMounted(M[ie]):normalizeVNode(M[ie]);ht.key!=null&&je.set(ht.key,ie)}let Ge,nt=0;const yt=Ie-qe+1;let Kt=!1,xn=0;const Jt=new Array(yt);for(ie=0;ie<yt;ie++)Jt[ie]=0;for(ie=Pe;ie<=Ee;ie++){const ht=R[ie];if(nt>=yt){Oe(ht,ce,fe,!0);continue}let St;if(ht.key!=null)St=je.get(ht.key);else for(Ge=qe;Ge<=Ie;Ge++)if(Jt[Ge-qe]===0&&isSameVNodeType(ht,M[Ge])){St=Ge;break}St===void 0?Oe(ht,ce,fe,!0):(Jt[St-qe]=ie+1,St>=xn?xn=St:Kt=!0,S(ht,M[St],j,null,ce,fe,be,pe,me),nt++)}const An=Kt?getSequence(Jt):EMPTY_ARR;for(Ge=An.length-1,ie=yt-1;ie>=0;ie--){const ht=qe+ie,St=M[ht],Rn=ht+1<Te?M[ht+1].el:Z;Jt[ie]===0?S(null,St,j,Rn,ce,fe,be,pe,me):Kt&&(Ge<0||ie!==An[Ge]?Ce(St,j,Rn,2):Ge--)}}},Ce=(R,M,j,Z,ce=null)=>{const{el:fe,type:be,transition:pe,children:me,shapeFlag:ie}=R;if(ie&6){Ce(R.component.subTree,M,j,Z);return}if(ie&128){R.suspense.move(M,j,Z);return}if(ie&64){be.move(R,M,j,Be);return}if(be===Fragment){r(fe,M,j);for(let Ee=0;Ee<me.length;Ee++)Ce(me[Ee],M,j,Z);r(R.anchor,M,j);return}if(be===Static){E(R,M,j);return}if(Z!==2&&ie&1&&pe)if(Z===0)pe.beforeEnter(fe),r(fe,M,j),queuePostRenderEffect(()=>pe.enter(fe),ce);else{const{leave:Ee,delayLeave:Ie,afterLeave:Pe}=pe,qe=()=>r(fe,M,j),je=()=>{Ee(fe,()=>{qe(),Pe&&Pe()})};Ie?Ie(fe,qe,je):je()}else r(fe,M,j)},Oe=(R,M,j,Z=!1,ce=!1)=>{const{type:fe,props:be,ref:pe,children:me,dynamicChildren:ie,shapeFlag:Te,patchFlag:Ee,dirs:Ie}=R;if(pe!=null&&setRef(pe,null,j,R,!0),Te&256){M.ctx.deactivate(R);return}const Pe=Te&1&&Ie,qe=!isAsyncWrapper(R);let je;if(qe&&(je=be&&be.onVnodeBeforeUnmount)&&invokeVNodeHook(je,M,R),Te&6)K(R.component,j,Z);else{if(Te&128){R.suspense.unmount(j,Z);return}Pe&&invokeDirectiveHook(R,null,M,"beforeUnmount"),Te&64?R.type.remove(R,M,j,ce,Be,Z):ie&&(fe!==Fragment||Ee>0&&Ee&64)?de(ie,M,j,!1,!0):(fe===Fragment&&Ee&384||!ce&&Te&16)&&de(me,M,j),Z&&Ze(R)}(qe&&(je=be&&be.onVnodeUnmounted)||Pe)&&queuePostRenderEffect(()=>{je&&invokeVNodeHook(je,M,R),Pe&&invokeDirectiveHook(R,null,M,"unmounted")},j)},Ze=R=>{const{type:M,el:j,anchor:Z,transition:ce}=R;if(M===Fragment){ye(j,Z);return}if(M===Static){L(R);return}const fe=()=>{o(j),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(R.shapeFlag&1&&ce&&!ce.persisted){const{leave:be,delayLeave:pe}=ce,me=()=>be(j,fe);pe?pe(R.el,fe,me):me()}else fe()},ye=(R,M)=>{let j;for(;R!==M;)j=_(R),o(R),R=j;o(M)},K=(R,M,j)=>{const{bum:Z,scope:ce,update:fe,subTree:be,um:pe}=R;Z&&invokeArrayFns(Z),ce.stop(),fe&&(fe.active=!1,Oe(be,R,M,j)),pe&&queuePostRenderEffect(pe,M),queuePostRenderEffect(()=>{R.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},de=(R,M,j,Z=!1,ce=!1,fe=0)=>{for(let be=fe;be<R.length;be++)Oe(R[be],M,j,Z,ce)},he=R=>R.shapeFlag&6?he(R.component.subTree):R.shapeFlag&128?R.suspense.next():_(R.anchor||R.el),we=(R,M,j)=>{R==null?M._vnode&&Oe(M._vnode,null,null,!0):S(M._vnode||null,R,M,null,null,null,j),flushPreFlushCbs(),flushPostFlushCbs(),M._vnode=R},Be={p:S,um:Oe,m:Ce,r:Ze,mt:U,mc:N,pc:ae,pbc:q,n:he,o:t};let Xe,Le;return e&&([Xe,Le]=e(Be)),{render:we,hydrate:Xe,createApp:createAppAPI(we,Xe)}}function toggleRecurse({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function traverseStaticChildren(t,e,n=!1){const r=t.children,o=e.children;if(isArray(r)&&isArray(o))for(let s=0;s<r.length;s++){const a=r[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=cloneIfMounted(o[s]),c.el=a.el),n||traverseStaticChildren(a,c)),c.type===Text&&(c.el=a.el)}}function getSequence(t){const e=t.slice(),n=[0];let r,o,s,a,c;const d=t.length;for(r=0;r<d;r++){const f=t[r];if(f!==0){if(o=n[n.length-1],t[o]<f){e[r]=o,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,t[n[c]]<f?s=c+1:a=c;f<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,resolveTarget=(t,e)=>{const n=t&&t.to;return isString$1(n)?e?e(n):null:n},TeleportImpl={__isTeleport:!0,process(t,e,n,r,o,s,a,c,d,f){const{mc:g,pc:v,pbc:_,o:{insert:y,querySelector:C,createText:S,createComment:x}}=f,A=isTeleportDisabled(e.props);let{shapeFlag:T,children:E,dynamicChildren:L}=e;if(t==null){const P=e.el=S(""),O=e.anchor=S("");y(P,n,r),y(O,n,r);const D=e.target=resolveTarget(e.props,C),N=e.targetAnchor=S("");D&&(y(N,D),a=a||isTargetSVG(D));const B=(q,G)=>{T&16&&g(E,q,G,o,s,a,c,d)};A?B(n,O):D&&B(D,N)}else{e.el=t.el;const P=e.anchor=t.anchor,O=e.target=t.target,D=e.targetAnchor=t.targetAnchor,N=isTeleportDisabled(t.props),B=N?n:O,q=N?P:D;if(a=a||isTargetSVG(O),L?(_(t.dynamicChildren,L,B,o,s,a,c),traverseStaticChildren(t,e,!0)):d||v(t,e,B,q,o,s,a,c,!1),A)N||moveTeleport(e,n,P,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const G=e.target=resolveTarget(e.props,C);G&&moveTeleport(e,G,null,f,0)}else N&&moveTeleport(e,O,D,f,1)}updateCssVars(e)},remove(t,e,n,r,{um:o,o:{remove:s}},a){const{shapeFlag:c,children:d,anchor:f,targetAnchor:g,target:v,props:_}=t;if(v&&s(g),(a||!isTeleportDisabled(_))&&(s(f),c&16))for(let y=0;y<d.length;y++){const C=d[y];o(C,e,n,!0,!!C.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,n,{o:{insert:r},m:o},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:c,shapeFlag:d,children:f,props:g}=t,v=s===2;if(v&&r(a,e,n),(!v||isTeleportDisabled(g))&&d&16)for(let _=0;_<f.length;_++)o(f[_],e,n,2);v&&r(c,e,n)}function hydrateTeleport(t,e,n,r,o,s,{o:{nextSibling:a,parentNode:c,querySelector:d}},f){const g=e.target=resolveTarget(e.props,d);if(g){const v=g._lpa||g.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=f(a(t),e,c(t),n,r,o,s),e.targetAnchor=v;else{e.anchor=a(t);let _=v;for(;_;)if(_=a(_),_&&_.nodeType===8&&_.data==="teleport anchor"){e.targetAnchor=_,g._lpa=e.targetAnchor&&a(e.targetAnchor);break}f(v,e,g,n,r,o,s)}updateCssVars(e)}return e.anchor&&a(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,n,r,o,s){return setupBlock(createBaseVNode(t,e,n,r,o,s,!0))}function createBlock(t,e,n,r,o){return setupBlock(createVNode(t,e,n,r,o,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t!=null?t:null,normalizeRef=({ref:t,ref_key:e,ref_for:n})=>t!=null?isString$1(t)||isRef(t)||isFunction$1(t)?{i:currentRenderingInstance,r:t,k:e,f:!!n}:t:null;function createBaseVNode(t,e=null,n=null,r=0,o=null,s=t===Fragment?0:1,a=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return c?(normalizeChildren(d,n),s&128&&t.normalize(d)):n&&(d.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(d.patchFlag>0||s&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode=_createVNode;function _createVNode(t,e=null,n=null,r=0,o=null,s=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const c=cloneVNode(t,e,!0);return n&&normalizeChildren(c,n),isBlockTreeEnabled>0&&!s&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:c,style:d}=e;c&&!isString$1(c)&&(e.class=normalizeClass(c)),isObject$3(d)&&(isProxy(d)&&!isArray(d)&&(d=extend({},d)),e.style=normalizeStyle(d))}const a=isString$1(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$3(t)?4:isFunction$1(t)?2:0;return createBaseVNode(t,e,n,r,o,a,s,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend({},t):t:null}function cloneVNode(t,e,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=t,c=e?mergeProps(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&normalizeKey(c),ref:e&&e.ref?n&&o?isArray(o)?o.concat(normalizeRef(e)):[o,normalizeRef(e)]:normalizeRef(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(isArray(e))n=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),normalizeChildren(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$1(e)?(e={default:e,_ctx:currentRenderingInstance},n=32):(e=String(e),r&64?(n=16,e=[createTextVNode(e)]):n=8);t.children=e,t.shapeFlag|=n}function mergeProps(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=normalizeClass([e.class,r.class]));else if(o==="style")e.style=normalizeStyle([e.style,r.style]);else if(isOn$1(o)){const s=e[o],a=r[o];a&&s!==a&&!(isArray(s)&&s.includes(a))&&(e[o]=s?[].concat(s,a):a)}else o!==""&&(e[o]=r[o])}return e}function invokeVNodeHook(t,e,n,r=null){callWithAsyncErrorHandling(t,e,7,[n,r])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||emptyAppContext,s={uid:uid$1++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=emit$1.bind(null,s),t.ce&&t.ce(s),s}let currentInstance=null;const getCurrentInstance$1=()=>currentInstance||currentRenderingInstance,setCurrentInstance=t=>{currentInstance=t,t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:n,children:r}=t.vnode,o=isStatefulComponent(t);initProps(t,n,o,e),initSlots(t,r);const s=o?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:r}=n;if(r){const o=t.setupContext=r.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const s=callWithErrorHandling(r,t,0,[t.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),e)return s.then(a=>{handleSetupResult(t,a,e)}).catch(a=>{handleError(a,t,0)});t.asyncDep=s}else handleSetupResult(t,s,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,n){isFunction$1(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$3(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,n)}let compile$1;function finishComponentSetup(t,e,n){const r=t.type;if(!t.render){if(!e&&compile$1&&!r.render){const o=r.template||resolveMergedOptions(t).template;if(o){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:d}=r,f=extend(extend({isCustomElement:s,delimiters:c},a),d);r.render=compile$1(o,f)}}t.render=r.render||NOOP}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(t){return new Proxy(t.attrs,{get(e,n){return track(t,"get","$attrs"),e[n]}})}function createSetupContext(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(t))},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](t)},has(e,n){return n in e||n in publicPropertiesMap}}))}function getComponentName(t,e=!0){return isFunction$1(t)?t.displayName||t.name:t.name||e&&t.__name}function isClassComponent(t){return isFunction$1(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h(t,e,n){const r=arguments.length;return r===2?isObject$3(e)&&!isArray(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&isVNode(n)&&(n=[n]),createVNode(t,e,n))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject$1(ssrContextKey),version$5="3.2.45",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const o=e?doc.createElementNS(svgNS,t):doc.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,o,s){const a=n?n.previousSibling:e.lastChild;if(o&&(o===s||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{templateContainer.innerHTML=r?`<svg>${t}</svg>`:t;const c=templateContainer.content;if(r){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function patchClass(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,n){const r=t.style,o=isString$1(n);if(n&&!o){for(const s in n)setStyle(r,s,n[s]);if(e&&!isString$1(e))for(const s in e)n[s]==null&&setStyle(r,s,"")}else{const s=r.display;o?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const importantRE=/\s*!important$/;function setStyle(t,e,n){if(isArray(n))n.forEach(r=>setStyle(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=autoPrefix(t,e);importantRE.test(n)?t.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):t[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const n=prefixCache[e];if(n)return n;let r=camelize(e);if(r!=="filter"&&r in t)return prefixCache[e]=r;r=capitalize(r);for(let o=0;o<prefixes.length;o++){const s=prefixes[o]+r;if(s in t)return prefixCache[e]=s}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,n,r,o){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,n);else{const s=isSpecialBooleanAttr(e);n==null||s&&!includeBooleanAttr(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function patchDOMProp(t,e,n,r,o,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,o,s),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const d=n==null?"":n;(t.value!==d||t.tagName==="OPTION")&&(t.value=d),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const d=typeof t[e];d==="boolean"?n=includeBooleanAttr(n):n==null&&d==="string"?(n="",c=!0):d==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function addEventListener$1(t,e,n,r){t.addEventListener(e,n,r)}function removeEventListener(t,e,n,r){t.removeEventListener(e,n,r)}function patchEvent(t,e,n,r,o=null){const s=t._vei||(t._vei={}),a=s[e];if(r&&a)a.value=r;else{const[c,d]=parseName(e);if(r){const f=s[e]=createInvoker(r,o);addEventListener$1(t,c,f,d)}else a&&(removeEventListener(t,c,a,d),s[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let r;for(;r=t.match(optionsModifierRE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),e,5,[r])};return n.value=t,n.attached=getNow(),n}function patchStopImmediatePropagation(t,e){if(isArray(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,n,r,o=!1,s,a,c,d)=>{e==="class"?patchClass(t,r,o):e==="style"?patchStyle(t,n,r):isOn$1(e)?isModelListener(e)||patchEvent(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,r,o))?patchDOMProp(t,e,r,s,a,c,d):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),patchAttr(t,e,r,o))};function shouldSetAsProp(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction$1(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$1(n)?!1:e in t}const TRANSITION="transition",ANIMATION="animation",Transition=(t,{slots:e})=>h(BaseTransition,resolveTransitionProps(t),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(t,e=[])=>{isArray(t)?t.forEach(n=>n(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const W in t)W in DOMTransitionPropsValidators||(e[W]=t[W]);if(t.css===!1)return e;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:d=s,appearActiveClass:f=a,appearToClass:g=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,C=normalizeDuration(o),S=C&&C[0],x=C&&C[1],{onBeforeEnter:A,onEnter:T,onEnterCancelled:E,onLeave:L,onLeaveCancelled:P,onBeforeAppear:O=A,onAppear:D=T,onAppearCancelled:N=E}=e,B=(W,J,U)=>{removeTransitionClass(W,J?g:c),removeTransitionClass(W,J?f:a),U&&U()},q=(W,J)=>{W._isLeaving=!1,removeTransitionClass(W,v),removeTransitionClass(W,y),removeTransitionClass(W,_),J&&J()},G=W=>(J,U)=>{const se=W?D:T,Y=()=>B(J,W,U);callHook(se,[J,Y]),nextFrame(()=>{removeTransitionClass(J,W?d:s),addTransitionClass(J,W?g:c),hasExplicitCallback(se)||whenTransitionEnds(J,r,S,Y)})};return extend(e,{onBeforeEnter(W){callHook(A,[W]),addTransitionClass(W,s),addTransitionClass(W,a)},onBeforeAppear(W){callHook(O,[W]),addTransitionClass(W,d),addTransitionClass(W,f)},onEnter:G(!1),onAppear:G(!0),onLeave(W,J){W._isLeaving=!0;const U=()=>q(W,J);addTransitionClass(W,v),forceReflow(),addTransitionClass(W,_),nextFrame(()=>{!W._isLeaving||(removeTransitionClass(W,v),addTransitionClass(W,y),hasExplicitCallback(L)||whenTransitionEnds(W,r,x,U))}),callHook(L,[W,U])},onEnterCancelled(W){B(W,!1),callHook(E,[W])},onAppearCancelled(W){B(W,!0),callHook(N,[W])},onLeaveCancelled(W){q(W),callHook(P,[W])}})}function normalizeDuration(t){if(t==null)return null;if(isObject$3(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,n,r){const o=t._endId=++endId,s=()=>{o===t._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:c,propCount:d}=getTransitionInfo(t,e);if(!a)return r();const f=a+"end";let g=0;const v=()=>{t.removeEventListener(f,_),s()},_=y=>{y.target===t&&++g>=d&&v()};setTimeout(()=>{g<d&&v()},c+1),t.addEventListener(f,_)}function getTransitionInfo(t,e){const n=window.getComputedStyle(t),r=C=>(n[C]||"").split(", "),o=r(`${TRANSITION}Delay`),s=r(`${TRANSITION}Duration`),a=getTimeout(o,s),c=r(`${ANIMATION}Delay`),d=r(`${ANIMATION}Duration`),f=getTimeout(c,d);let g=null,v=0,_=0;e===TRANSITION?a>0&&(g=TRANSITION,v=a,_=s.length):e===ANIMATION?f>0&&(g=ANIMATION,v=f,_=d.length):(v=Math.max(a,f),g=v>0?a>f?TRANSITION:ANIMATION:null,_=g?g===TRANSITION?s.length:d.length:0);const y=g===TRANSITION&&/\b(transform|all)(,|$)/.test(r(`${TRANSITION}Property`).toString());return{type:g,timeout:v,propCount:_,hasTransform:y}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>toMs(n)+toMs(t[r])))}function toMs(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=getCurrentInstance$1(),r=useTransitionState();let o,s;return onUpdated(()=>{if(!o.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!hasCSSTransform(o[0].el,n.vnode.el,a))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const c=o.filter(applyTranslation);forceReflow(),c.forEach(d=>{const f=d.el,g=f.style;addTransitionClass(f,a),g.transform=g.webkitTransform=g.transitionDuration="";const v=f._moveCb=_=>{_&&_.target!==f||(!_||/transform$/.test(_.propertyName))&&(f.removeEventListener("transitionend",v),f._moveCb=null,removeTransitionClass(f,a))};f.addEventListener("transitionend",v)})}),()=>{const a=toRaw(t),c=resolveTransitionProps(a);let d=a.tag||Fragment;o=s,s=e.default?getTransitionRawChildren(e.default()):[];for(let f=0;f<s.length;f++){const g=s[f];g.key!=null&&setTransitionHooks(g,resolveTransitionHooks(g,c,r,n))}if(o)for(let f=0;f<o.length;f++){const g=o[f];setTransitionHooks(g,resolveTransitionHooks(g,c,r,n)),positionMap.set(g,g.el.getBoundingClientRect())}return createVNode(d,null,s)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function recordPosition(t){newPositionMap.set(t,t.el.getBoundingClientRect())}function applyTranslation(t){const e=positionMap.get(t),n=newPositionMap.get(t),r=e.left-n.left,o=e.top-n.top;if(r||o){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${o}px)`,s.transitionDuration="0s",t}}function hasCSSTransform(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:s}=getTransitionInfo(r);return o.removeChild(r),s}const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"]||!1;return isArray(e)?n=>invokeArrayFns(e,n):e};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vModelText={created(t,{modifiers:{lazy:e,trim:n,number:r}},o){t._assign=getModelAssigner(o);const s=r||o.props&&o.props.type==="number";addEventListener$1(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;n&&(c=c.trim()),s&&(c=toNumber(c)),t._assign(c)}),n&&addEventListener$1(t,"change",()=>{t.value=t.value.trim()}),e||(addEventListener$1(t,"compositionstart",onCompositionStart),addEventListener$1(t,"compositionend",onCompositionEnd),addEventListener$1(t,"change",onCompositionEnd))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:o}},s){if(t._assign=getModelAssigner(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(o||t.type==="number")&&toNumber(t.value)===e))return;const a=e==null?"":e;t.value!==a&&(t.value=a)}},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,e)=>n=>{if(!("key"in n))return;const r=hyphenate(n.key);if(e.some(o=>o===r||keyNames[o]===r))return t(n)},vShow={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),setDisplay(t,!0),r.enter(t)):r.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer$1;function ensureRenderer(){return renderer$1||(renderer$1=createRenderer(rendererOptions))}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=normalizeContainer(r);if(!o)return;const s=e._component;!isFunction$1(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function normalizeContainer(t){return isString$1(t)?document.querySelector(t):t}var isVue2=!1;/*!
  * pinia v2.0.28
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=t=>activePinia=t,piniaSymbol=Symbol();function isPlainObject(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var MutationType;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const t=effectScope(!0),e=t.run(()=>ref$1({}));let n=[],r=[];const o=markRaw({install(s){setActivePinia(o),o._a=s,s.provide(piniaSymbol,o),s.config.globalProperties.$pinia=o,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!isVue2?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const noop$2=()=>{};function addSubscription(t,e,n,r=noop$2){t.push(e);const o=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&getCurrentScope()&&onScopeDispose(o),o}function triggerSubscriptions(t,...e){t.slice().forEach(n=>{n(...e)})}function mergeReactiveObjects(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],o=t[n];isPlainObject(o)&&isPlainObject(r)&&t.hasOwnProperty(n)&&!isRef(r)&&!isReactive(r)?t[n]=mergeReactiveObjects(o,r):t[n]=r}return t}const skipHydrateSymbol=Symbol();function shouldHydrate(t){return!isPlainObject(t)||!t.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed(t){return!!(isRef(t)&&t.effect)}function createOptionsStore(t,e,n,r){const{state:o,actions:s,getters:a}=e,c=n.state.value[t];let d;function f(){c||(n.state.value[t]=o?o():{});const g=toRefs(n.state.value[t]);return assign$3(g,s,Object.keys(a||{}).reduce((v,_)=>(v[_]=markRaw(computed(()=>{setActivePinia(n);const y=n._s.get(t);return a[_].call(y,y)})),v),{}))}return d=createSetupStore(t,f,e,n,r,!0),d.$reset=function(){const v=o?o():{};this.$patch(_=>{assign$3(_,v)})},d}function createSetupStore(t,e,n={},r,o,s){let a;const c=assign$3({actions:{}},n),d={deep:!0};let f,g,v=markRaw([]),_=markRaw([]),y;const C=r.state.value[t];!s&&!C&&(r.state.value[t]={}),ref$1({});let S;function x(D){let N;f=g=!1,typeof D=="function"?(D(r.state.value[t]),N={type:MutationType.patchFunction,storeId:t,events:y}):(mergeReactiveObjects(r.state.value[t],D),N={type:MutationType.patchObject,payload:D,storeId:t,events:y});const B=S=Symbol();nextTick().then(()=>{S===B&&(f=!0)}),g=!0,triggerSubscriptions(v,N,r.state.value[t])}const A=noop$2;function T(){a.stop(),v=[],_=[],r._s.delete(t)}function E(D,N){return function(){setActivePinia(r);const B=Array.from(arguments),q=[],G=[];function W(se){q.push(se)}function J(se){G.push(se)}triggerSubscriptions(_,{args:B,name:D,store:P,after:W,onError:J});let U;try{U=N.apply(this&&this.$id===t?this:P,B)}catch(se){throw triggerSubscriptions(G,se),se}return U instanceof Promise?U.then(se=>(triggerSubscriptions(q,se),se)).catch(se=>(triggerSubscriptions(G,se),Promise.reject(se))):(triggerSubscriptions(q,U),U)}}const L={_p:r,$id:t,$onAction:addSubscription.bind(null,_),$patch:x,$reset:A,$subscribe(D,N={}){const B=addSubscription(v,D,N.detached,()=>q()),q=a.run(()=>watch(()=>r.state.value[t],G=>{(N.flush==="sync"?g:f)&&D({storeId:t,type:MutationType.direct,events:y},G)},assign$3({},d,N)));return B},$dispose:T},P=reactive(L);r._s.set(t,P);const O=r._e.run(()=>(a=effectScope(),a.run(()=>e())));for(const D in O){const N=O[D];if(isRef(N)&&!isComputed(N)||isReactive(N))s||(C&&shouldHydrate(N)&&(isRef(N)?N.value=C[D]:mergeReactiveObjects(N,C[D])),r.state.value[t][D]=N);else if(typeof N=="function"){const B=E(D,N);O[D]=B,c.actions[D]=N}}return assign$3(P,O),assign$3(toRaw(P),O),Object.defineProperty(P,"$state",{get:()=>r.state.value[t],set:D=>{x(N=>{assign$3(N,D)})}}),r._p.forEach(D=>{assign$3(P,a.run(()=>D({store:P,app:r._a,pinia:r,options:c})))}),C&&s&&n.hydrate&&n.hydrate(P.$state,C),f=!0,g=!0,P}function defineStore(t,e,n){let r,o;const s=typeof e=="function";typeof t=="string"?(r=t,o=s?n:e):(o=t,r=t.id);function a(c,d){const f=getCurrentInstance$1();return c=c||f&&inject$1(piniaSymbol,null),c&&setActivePinia(c),c=activePinia,c._s.has(r)||(s?createSetupStore(r,e,o,c):createOptionsStore(r,o,c)),c._s.get(r)}return a.$id=r,a}function mapState(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(){return t(this.$pinia)[r]},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(){const o=t(this.$pinia),s=e[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function mapActions(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(...o){return t(this.$pinia)[r](...o)},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(...o){return t(this.$pinia)[e[r]](...o)},n),{})}function _classPrivateFieldInitSpec(t,e,n){_checkPrivateRedeclaration(t,e),e.set(t,n)}function _checkPrivateRedeclaration(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,e,n){var r=_classExtractFieldDescriptor(t,e,"set");return _classApplyDescriptorSet(t,r,n),n}function _classApplyDescriptorSet(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function _classPrivateFieldGet(t,e){var n=_classExtractFieldDescriptor(t,e,"get");return _classApplyDescriptorGet(t,n)}function _classExtractFieldDescriptor(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function _classApplyDescriptorGet(t,e){return e.get?e.get.call(t):e.value}function getNestedValue(t,e,n){const r=e.length-1;if(r<0)return t===void 0?n:t;for(let o=0;o<r;o++){if(t==null)return n;t=t[e[o]]}return t==null||t[e[r]]===void 0?n:t[e[r]]}function deepEqual$1(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(r=>deepEqual$1(t[r],e[r]))}function getObjectValueByPath(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),getNestedValue(t,e.split("."),n))}function getPropertyFromItem(t,e,n){if(e==null)return t===void 0?n:t;if(t!==Object(t)){if(typeof e!="function")return n;const o=e(t,n);return typeof o>"u"?n:o}if(typeof e=="string")return getObjectValueByPath(t,e,n);if(Array.isArray(e))return getNestedValue(t,e,n);if(typeof e!="function")return n;const r=e(t,n);return typeof r>"u"?n:r}function createRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,r)=>e+r)}function convertToUnit(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function isObject$2(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function isComponentInstance(t){return t==null?void 0:t.$el}const keyCodes=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),keyValues=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function keys(t){return Object.keys(t)}function pick(t,e){const n=Object.create(null),r=Object.create(null);for(const o in t)e.some(s=>s instanceof RegExp?s.test(o):s===o)?n[o]=t[o]:r[o]=t[o];return[n,r]}function omit(t,e){const n={...t};return e.forEach(r=>delete n[r]),n}function filterInputAttrs(t){return pick(t,["class","style","id",/^data-/])}function wrapInArray(t){return t==null?[]:Array.isArray(t)?t:[t]}function clamp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function padEnd(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function chunk(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<t.length;)n.push(t.substr(r,e)),r+=e;return n}function mergeDeep(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const o in t)r[o]=t[o];for(const o in e){const s=t[o],a=e[o];if(isObject$2(s)&&isObject$2(a)){r[o]=mergeDeep(s,a,n);continue}if(Array.isArray(s)&&Array.isArray(a)&&n){r[o]=n(s,a);continue}r[o]=a}return r}function flattenFragments(t){return t.map(e=>e.type===Fragment?flattenFragments(e.children):e).flat()}function toKebabCase(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase()}function findChildrenWithProvide(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>findChildrenWithProvide(t,n)).flat(1);if(Array.isArray(e.children))return e.children.map(n=>findChildrenWithProvide(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return findChildrenWithProvide(t,e.component.subTree).flat(1)}return[]}var _arr=new WeakMap,_pointer=new WeakMap;class CircularBuffer{constructor(e){_classPrivateFieldInitSpec(this,_arr,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,_pointer,{writable:!0,value:0}),this.size=e}push(e){_classPrivateFieldGet(this,_arr)[_classPrivateFieldGet(this,_pointer)]=e,_classPrivateFieldSet(this,_pointer,(_classPrivateFieldGet(this,_pointer)+1)%this.size)}values(){return _classPrivateFieldGet(this,_arr).slice(_classPrivateFieldGet(this,_pointer)).concat(_classPrivateFieldGet(this,_arr).slice(0,_classPrivateFieldGet(this,_pointer)))}}function getEventCoordinates(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function destructComputed(t){const e=reactive({}),n=computed(t);return watchEffect(()=>{for(const r in n.value)e[r]=n.value[r]},{flush:"sync"}),toRefs(e)}function includes(t,e){return t.includes(e)}const onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),EventProp=[Function,Array];function hasEvent(t,e){return e="on"+capitalize(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function callEvent(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(Array.isArray(t))for(const o of t)o(...n);else typeof t=="function"&&t(...n)}const block$2=["top","bottom"],inline$1=["start","end","left","right"];function parseAnchor(t,e){let[n,r]=t.split(" ");return r||(r=includes(block$2,n)?"start":includes(inline$1,n)?"top":"center"),{side:toPhysical(n,e),align:toPhysical(r,e)}}function toPhysical(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function flipSide(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function flipAlign(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function flipCorner(t){return{side:t.align,align:t.side}}function getAxis(t){return includes(block$2,t.side)?"y":"x"}class Box{constructor(e){let{x:n,y:r,width:o,height:s}=e;this.x=n,this.y=r,this.width=o,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function getOverflow(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function nullifyTransforms(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),r=n.transform;if(r){let o,s,a,c,d;if(r.startsWith("matrix3d("))o=r.slice(9,-1).split(/, /),s=+o[0],a=+o[5],c=+o[12],d=+o[13];else if(r.startsWith("matrix("))o=r.slice(7,-1).split(/, /),s=+o[0],a=+o[3],c=+o[4],d=+o[5];else return new Box(e);const f=n.transformOrigin,g=e.x-c-(1-s)*parseFloat(f),v=e.y-d-(1-a)*parseFloat(f.slice(f.indexOf(" ")+1)),_=s?e.width/s:t.offsetWidth+1,y=a?e.height/a:t.offsetHeight+1;return new Box({x:g,y:v,width:_,height:y})}else return new Box(e)}function animate(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};const r=t.animate(e,n);return typeof r.finished>"u"&&(r.finished=new Promise(o=>{r.onfinish=()=>{o(r)}})),r}function createMessage(t,e,n){if(n&&(e={_isVue:!0,$parent:n,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return`[Vuetify] ${t}`+(e?generateComponentTrace(e):"")}function consoleWarn(t,e,n){const r=createMessage(t,e,n);r!=null&&console.warn(r)}function consoleError(t,e,n){const r=createMessage(t,e,n);r!=null&&console.error(r)}const classifyRE=/(?:^|[-_])(\w)/g,classify=t=>t.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function formatComponentName(t,e){if(t.$root===t)return"<Root>";const n=typeof t=="function"&&t.cid!=null?t.options:t._isVue?t.$options||t.constructor.options:t||{};let r=n.name||n._componentTag;const o=n.__file;if(!r&&o){const s=o.match(/([^/\\]+)\.vue$/);r=s==null?void 0:s[1]}return(r?`<${classify(r)}>`:"<Anonymous>")+(o&&e!==!1?` at ${o}`:"")}function generateComponentTrace(t){if(t._isVue&&t.$parent){const e=[];let n=0;for(;t;){if(e.length>0){const r=e[e.length-1];if(r.constructor===t.constructor){n++,t=t.$parent;continue}else n>0&&(e[e.length-1]=[r,n],n=0)}e.push(t),t=t.$parent}return`

found in

`+e.map((r,o)=>`${o===0?"---> ":" ".repeat(5+o*2)}${Array.isArray(r)?`${formatComponentName(r[0])}... (${r[1]} recursive calls)`:formatComponentName(r)}`).join(`
`)}else return`

(found in ${formatComponentName(t)})`}const srgbForwardMatrix=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],srgbForwardTransform=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,srgbReverseMatrix=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],srgbReverseTransform=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function fromXYZ$1(t){const e=Array(3),n=srgbForwardTransform,r=srgbForwardMatrix;for(let o=0;o<3;++o)e[o]=Math.round(clamp(n(r[o][0]*t[0]+r[o][1]*t[1]+r[o][2]*t[2]))*255);return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function toXYZ$1(t){const e=[0,0,0],n=srgbReverseTransform,r=srgbReverseMatrix,o=n((t>>16&255)/255),s=n((t>>8&255)/255),a=n((t>>0&255)/255);for(let c=0;c<3;++c)e[c]=r[c][0]*o+r[c][1]*s+r[c][2]*a;return e}const delta$1=.20689655172413793,cielabForwardTransform=t=>t>delta$1**3?Math.cbrt(t):t/(3*delta$1**2)+4/29,cielabReverseTransform=t=>t>delta$1?t**3:3*delta$1**2*(t-4/29);function fromXYZ(t){const e=cielabForwardTransform,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function toXYZ(t){const e=cielabReverseTransform,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}function isCssColor(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function colorToInt(t){let e;if(typeof t=="number")e=t;else if(typeof t=="string"){let n=t.startsWith("#")?t.substring(1):t;n.length===3&&(n=n.split("").map(r=>r+r).join("")),n.length!==6&&n.length!==8&&consoleWarn(`'${t}' is not a valid rgb color`),e=parseInt(n,16)}else throw new TypeError(`Colors can only be numbers or strings, recieved ${t==null?t:t.constructor.name} instead`);return e<0?(consoleWarn(`Colors cannot be negative: '${t}'`),e=0):(e>4294967295||isNaN(e))&&(consoleWarn(`'${t}' is not a valid rgb color`),e=16777215),e}function intToHex(t){let e=t.toString(16);return e.length<6&&(e="0".repeat(6-e.length)+e),"#"+e}function HSVAtoRGBA(t){const{h:e,s:n,v:r,a:o}=t,s=c=>{const d=(c+e/60)%6;return r-r*n*Math.max(Math.min(d,4-d,1),0)},a=[s(5),s(3),s(1)].map(c=>Math.round(c*255));return{r:a[0],g:a[1],b:a[2],a:o}}function RGBAtoHSVA(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,n=t.g/255,r=t.b/255,o=Math.max(e,n,r),s=Math.min(e,n,r);let a=0;o!==s&&(o===e?a=60*(0+(n-r)/(o-s)):o===n?a=60*(2+(r-e)/(o-s)):o===r&&(a=60*(4+(e-n)/(o-s)))),a<0&&(a=a+360);const c=o===0?0:(o-s)/o,d=[a,c,o];return{h:d[0],s:d[1],v:d[2],a:t.a}}function HSVAtoHSLA(t){const{h:e,s:n,v:r,a:o}=t,s=r-r*n/2,a=s===1||s===0?0:(r-s)/Math.min(s,1-s);return{h:e,s:a,l:s,a:o}}function HSLAtoHSVA(t){const{h:e,s:n,l:r,a:o}=t,s=r+n*Math.min(r,1-r),a=s===0?0:2-2*r/s;return{h:e,s:a,v:s,a:o}}function RGBAtoCSS(t){return`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`}function HSVAtoCSS(t){return RGBAtoCSS(HSVAtoRGBA(t))}function RGBAtoHex(t){const e=n=>{const r=Math.round(n).toString(16);return("00".substr(0,2-r.length)+r).toUpperCase()};return`#${[e(t.r),e(t.g),e(t.b),e(Math.round(t.a*255))].join("")}`}function HexToRGBA(t){const e=chunk(t.slice(1),2).map(n=>parseInt(n,16));return{r:e[0],g:e[1],b:e[2],a:Math.round(e[3]/255*100)/100}}function HexToHSVA(t){const e=HexToRGBA(t);return RGBAtoHSVA(e)}function HSVAtoHex(t){return RGBAtoHex(HSVAtoRGBA(t))}function parseHex(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length===6?t=padEnd(t,8,"F"):t=padEnd(padEnd(t,6),8,"F"),`#${t}`.toUpperCase().substr(0,9)}function colorToRGB(t){const e=colorToInt(t);return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255}}function lighten(t,e){const n=fromXYZ(toXYZ$1(t));return n[0]=n[0]+e*10,fromXYZ$1(toXYZ(n))}function darken(t,e){const n=fromXYZ(toXYZ$1(t));return n[0]=n[0]-e*10,fromXYZ$1(toXYZ(n))}function getLuma(t){const e=colorToInt(t);return toXYZ$1(e)[1]}function getContrast(t,e){const n=getLuma(t),r=getLuma(e),o=Math.max(n,r),s=Math.min(n,r);return(o+.05)/(s+.05)}function getCurrentInstance(t,e){const n=getCurrentInstance$1();if(!n)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return n}function getCurrentInstanceName(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=getCurrentInstance(t).type;return toKebabCase((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let _uid=0,_map=new WeakMap;function getUid(){const t=getCurrentInstance("getUid");if(_map.has(t))return _map.get(t);{const e=_uid++;return _map.set(t,e),e}}getUid.reset=()=>{_uid=0,_map=new WeakMap};function injectSelf(t){const{provides:e}=getCurrentInstance("injectSelf");if(e&&t in e)return e[t]}function propsFactory(t,e){return n=>Object.keys(t).reduce((r,o)=>{const a=typeof t[o]=="object"&&t[o]!=null&&!Array.isArray(t[o])?t[o]:{type:t[o]};return n&&o in n?r[o]={...a,default:n[o]}:r[o]=a,e&&!r[o].source&&(r[o].source=e),r},{})}function propIsDefined(t,e){var n,r;return((n=t.props)==null?void 0:n.hasOwnProperty(e))||((r=t.props)==null?void 0:r.hasOwnProperty(toKebabCase(e)))}const defineComponent=function(e){var n,r;return e._setup=(n=e._setup)!=null?n:e.setup,e.name?(e._setup&&(e.props=(r=e.props)!=null?r:{},e.props=propsFactory(e.props,toKebabCase(e.name))(),e.props._as=String,e.setup=function(s,a){const c=getCurrentInstance$1(),d=useDefaults(),f=shallowRef(),g=shallowReactive({...toRaw(s)});watchEffect(()=>{var S,x,A;const y=d.value.global,C=d.value[(S=s._as)!=null?S:e.name];if(C){const T=Object.entries(C).filter(E=>{let[L]=E;return L.startsWith(L[0].toUpperCase())});T.length&&(f.value=Object.fromEntries(T))}for(const T of Object.keys(s)){let E=s[T];propIsDefined(c.vnode,T)||(E=(A=(x=C==null?void 0:C[T])!=null?x:y==null?void 0:y[T])!=null?A:s[T]),g[T]!==E&&(g[T]=E)}});const v=e._setup(g,a);let _;return watch(f,(y,C)=>{!y&&_?_.stop():y&&!C&&(_=effectScope(),_.run(()=>{var x;var S;provideDefaults(mergeDeep((x=(S=injectSelf(DefaultsSymbol))==null?void 0:S.value)!=null?x:{},y))}))},{immediate:!0}),v}),e):(consoleWarn("The component is missing an explicit name, unable to generate default prop value"),e)};function genericComponent(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?defineComponent:defineComponent$1)(e)}function createSimpleFunctional(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return defineComponent({name:n!=null?n:capitalize(camelize(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e}},setup(r,o){let{slots:s}=o;return()=>{var a;return h(r.tag,{class:t},(a=s.default)==null?void 0:a.call(s))}}})}function attachedRoot(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const standardEasing="cubic-bezier(0.4, 0, 0.2, 1)",deceleratedEasing="cubic-bezier(0.0, 0, 0.2, 1)",acceleratedEasing="cubic-bezier(0.4, 0, 1, 1)";function getScrollParent(t){for(;t;){if(hasScrollbar(t))return t;t=t.parentElement}return document.scrollingElement}function getScrollParents(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(hasScrollbar(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function hasScrollbar(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}const IN_BROWSER=typeof window<"u",SUPPORTS_INTERSECTION=IN_BROWSER&&"IntersectionObserver"in window,SUPPORTS_TOUCH=IN_BROWSER&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),SUPPORTS_FOCUS_VISIBLE=IN_BROWSER&&typeof CSS<"u"&&CSS.supports("selector(:focus-visible)");function isFixedPosition(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function useRender(t){const e=getCurrentInstance("useRender");e.render=t}const DefaultsSymbol=Symbol.for("vuetify:defaults");function createDefaults(t){return ref$1(t!=null?t:{})}function useDefaults(){const t=inject$1(DefaultsSymbol);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function provideDefaults(t,e){const n=useDefaults(),r=ref$1(t),o=computed(()=>{const s=unref(e==null?void 0:e.scoped),a=unref(e==null?void 0:e.reset),c=unref(e==null?void 0:e.root);let d=mergeDeep(r.value,{prev:n.value});if(s)return d;if(a||c){const f=Number(a||1/0);for(let g=0;g<=f&&d.prev;g++)d=d.prev;return d}return mergeDeep(d.prev,d)});return provide(DefaultsSymbol,o),o}const DisplaySymbol=Symbol.for("vuetify:display"),defaultDisplayOptions={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},parseDisplayOptions=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultDisplayOptions;return mergeDeep(defaultDisplayOptions,t)};function getClientWidth(t){return IN_BROWSER&&!t?window.innerWidth:0}function getClientHeight(t){return IN_BROWSER&&!t?window.innerHeight:0}function getPlatform(){const t=IN_BROWSER?window.navigator.userAgent:"ssr";function e(C){return Boolean(t.match(C))}const n=e(/android/i),r=e(/iphone|ipad|ipod/i),o=e(/cordova/i),s=e(/electron/i),a=e(/chrome/i),c=e(/edge/i),d=e(/firefox/i),f=e(/opera/i),g=e(/win/i),v=e(/mac/i),_=e(/linux/i),y=e(/ssr/i);return{android:n,ios:r,cordova:o,electron:s,chrome:a,edge:c,firefox:d,opera:f,win:g,mac:v,linux:_,touch:SUPPORTS_TOUCH,ssr:y}}function createDisplay(t,e){const{thresholds:n,mobileBreakpoint:r}=parseDisplayOptions(t),o=ref$1(getClientHeight(e)),s=getPlatform(),a=reactive({}),c=ref$1(getClientWidth(e));function d(){o.value=getClientHeight(),c.value=getClientWidth()}return watchEffect(()=>{const f=c.value<n.sm,g=c.value<n.md&&!f,v=c.value<n.lg&&!(g||f),_=c.value<n.xl&&!(v||g||f),y=c.value<n.xxl&&!(_||v||g||f),C=c.value>=n.xxl,S=f?"xs":g?"sm":v?"md":_?"lg":y?"xl":"xxl",x=typeof r=="number"?r:n[r],A=s.ssr?s.android||s.ios||s.opera:c.value<x;a.xs=f,a.sm=g,a.md=v,a.lg=_,a.xl=y,a.xxl=C,a.smAndUp=!f,a.mdAndUp=!(f||g),a.lgAndUp=!(f||g||v),a.xlAndUp=!(f||g||v||_),a.smAndDown=!(v||_||y||C),a.mdAndDown=!(_||y||C),a.lgAndDown=!(y||C),a.xlAndDown=!C,a.name=S,a.height=o.value,a.width=c.value,a.mobile=A,a.mobileBreakpoint=r,a.platform=s,a.thresholds=n}),IN_BROWSER&&window.addEventListener("resize",d,{passive:!0}),{...toRefs(a),update:d}}function useDisplay(){const t=inject$1(DisplaySymbol);if(!t)throw new Error("Could not find Vuetify display injection");return t}const aliases={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},mdi={component:t=>h(VClassIcon,{...t,class:"mdi"})},IconValue=[String,Function,Object],IconSymbol=Symbol.for("vuetify:icons"),makeIconProps=propsFactory({icon:{type:IconValue,required:!0},tag:{type:String,required:!0}},"icon"),VComponentIcon=defineComponent({name:"VComponentIcon",props:makeIconProps(),setup(t){return()=>createVNode(t.tag,null,{default:()=>[createVNode(t.icon,null,null)]})}}),VSvgIcon=defineComponent({name:"VSvgIcon",inheritAttrs:!1,props:makeIconProps(),setup(t,e){let{attrs:n}=e;return()=>createVNode(t.tag,mergeProps(n,{style:null}),{default:()=>[createVNode("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[createVNode("path",{d:t.icon},null)])]})}});defineComponent({name:"VLigatureIcon",props:makeIconProps(),setup(t){return()=>createVNode(t.tag,null,{default:()=>[t.icon]})}});const VClassIcon=defineComponent({name:"VClassIcon",props:makeIconProps(),setup(t){return()=>createVNode(t.tag,{class:t.icon},null)}}),defaultSets={svg:{component:VSvgIcon},class:{component:VClassIcon}};function createIcons(t){return mergeDeep({defaultSet:"mdi",sets:{...defaultSets,mdi},aliases},t)}const useIcon=t=>{const e=inject$1(IconSymbol);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:computed(()=>{const r=isRef(t)?t.value:t.icon;if(!r)throw new Error("Icon value is undefined or null");let o=r;if(typeof o=="string"&&(o=o.trim(),o.startsWith("$"))){var s;o=(s=e.aliases)==null?void 0:s[o.slice(1)]}if(!o)throw new Error(`Could not find aliased icon "${r}"`);if(typeof o!="string")return{component:VComponentIcon,icon:o};const a=Object.keys(e.sets).find(f=>typeof o=="string"&&o.startsWith(`${f}:`)),c=a?o.slice(a.length+1):o;return{component:e.sets[a!=null?a:e.defaultSet].component,icon:c}})}};function useToggleScope(t,e){let n;watch(t,r=>{if(r&&!n)n=effectScope(),n.run(e);else{var o;(o=n)==null||o.stop(),n=void 0}},{immediate:!0})}function useProxiedModel(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v=>v,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:v=>v;const s=getCurrentInstance("useProxiedModel"),a=ref$1(t[e]!==void 0?t[e]:n),c=toKebabCase(e),f=computed(c!==e?()=>{var v,_,y,C;return t[e],!!(((v=s.vnode.props)!=null&&v.hasOwnProperty(e)||(_=s.vnode.props)!=null&&_.hasOwnProperty(c))&&((y=s.vnode.props)!=null&&y.hasOwnProperty(`onUpdate:${e}`)||(C=s.vnode.props)!=null&&C.hasOwnProperty(`onUpdate:${c}`)))}:()=>{var v,_;return t[e],!!((v=s.vnode.props)!=null&&v.hasOwnProperty(e)&&(_=s.vnode.props)!=null&&_.hasOwnProperty(`onUpdate:${e}`))});useToggleScope(()=>!f.value,()=>{watch(()=>t[e],v=>{a.value=v})});const g=computed({get(){return r(f.value?t[e]:a.value)},set(v){const _=o(v);(f.value?t[e]:a.value)===_||r(f.value?t[e]:a.value)===v||(a.value=_,s==null||s.emit(`update:${e}`,_))}});return Object.defineProperty(g,"externalValue",{get:()=>f.value?t[e]:a.value}),g}const en={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Page {0}, Current Page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}}},LANG_PREFIX="$vuetify.",replace=(t,e)=>t.replace(/\{(\d+)\}/g,(n,r)=>String(e[+r])),createTranslateFunction=(t,e,n)=>function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if(!r.startsWith(LANG_PREFIX))return replace(r,s);const c=r.replace(LANG_PREFIX,""),d=t.value&&n.value[t.value],f=e.value&&n.value[e.value];let g=getObjectValueByPath(d,c,null);return g||(consoleWarn(`Translation key "${r}" not found in "${t.value}", trying fallback locale`),g=getObjectValueByPath(f,c,null)),g||(consoleError(`Translation key "${r}" not found in fallback`),g=r),typeof g!="string"&&(consoleError(`Translation key "${r}" has a non-string value`),g=r),replace(g,s)};function createNumberFunction(t,e){return(n,r)=>new Intl.NumberFormat([t.value,e.value],r).format(n)}function useProvided(t,e,n){var o,s;const r=useProxiedModel(t,e,(o=t[e])!=null?o:n.value);return r.value=(s=t[e])!=null?s:n.value,watch(n,a=>{t[e]==null&&(r.value=n.value)}),r}function createProvideFunction(t){return e=>{const n=useProvided(e,"locale",t.current),r=useProvided(e,"fallback",t.fallback),o=useProvided(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:r,messages:o,t:createTranslateFunction(n,r,o),n:createNumberFunction(n,r),provide:createProvideFunction({current:n,fallback:r,messages:o})}}}function createVuetifyAdapter(t){var o,s;const e=ref$1((o=t==null?void 0:t.locale)!=null?o:"en"),n=ref$1((s=t==null?void 0:t.fallback)!=null?s:"en"),r=ref$1({en,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:r,t:createTranslateFunction(e,n,r),n:createNumberFunction(e,n),provide:createProvideFunction({current:e,fallback:n,messages:r})}}const defaultRtl={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!1,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},LocaleSymbol=Symbol.for("vuetify:locale");function isLocaleInstance(t){return t.name!=null}function createLocale(t){const e=t!=null&&t.adapter&&isLocaleInstance(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:createVuetifyAdapter(t),n=createRtl(e,t);return{...e,...n}}function useLocale(){const t=inject$1(LocaleSymbol);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function createRtl(t,e){var o;const n=ref$1((o=e==null?void 0:e.rtl)!=null?o:defaultRtl),r=computed(()=>{var s;return(s=n.value[t.current.value])!=null?s:!1});return{isRtl:r,rtl:n,rtlClasses:computed(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function useRtl(){const t=inject$1(LocaleSymbol);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const mainTRC=2.4,Rco=.2126729,Gco=.7151522,Bco=.072175,normBG=.55,normTXT=.58,revTXT=.57,revBG=.62,blkThrs=.03,blkClmp=1.45,deltaYmin=5e-4,scaleBoW=1.25,scaleWoB=1.25,loConThresh=.078,loConFactor=12.82051282051282,loConOffset=.06,loClip=.001;function APCAcontrast(t,e){const n=((t>>16&255)/255)**mainTRC,r=((t>>8&255)/255)**mainTRC,o=((t>>0&255)/255)**mainTRC,s=((e>>16&255)/255)**mainTRC,a=((e>>8&255)/255)**mainTRC,c=((e>>0&255)/255)**mainTRC;let d=n*Rco+r*Gco+o*Bco,f=s*Rco+a*Gco+c*Bco;if(d<=blkThrs&&(d+=(blkThrs-d)**blkClmp),f<=blkThrs&&(f+=(blkThrs-f)**blkClmp),Math.abs(f-d)<deltaYmin)return 0;let g;if(f>d){const v=(f**normBG-d**normTXT)*scaleBoW;g=v<loClip?0:v<loConThresh?v-v*loConFactor*loConOffset:v-loConOffset}else{const v=(f**revBG-d**revTXT)*scaleWoB;g=v>-loClip?0:v>-loConThresh?v-v*loConFactor*loConOffset:v+loConOffset}return g*100}const ThemeSymbol=Symbol.for("vuetify:theme"),makeThemeProps=propsFactory({theme:String},"theme"),defaultThemeOptions={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function parseThemeOptions(){var o;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultThemeOptions;if(!t)return{...defaultThemeOptions,isDisabled:!0};const e={};for(const[s,a]of Object.entries((o=t.themes)!=null?o:{})){var n,r;const c=a.dark||s==="dark"?(n=defaultThemeOptions.themes)==null?void 0:n.dark:(r=defaultThemeOptions.themes)==null?void 0:r.light;e[s]=mergeDeep(c,a)}return mergeDeep(defaultThemeOptions,{...t,themes:e})}function createTheme(t){const e=reactive(parseThemeOptions(t)),n=ref$1(e.defaultTheme),r=ref$1(e.themes),o=computed(()=>{const f={};for(const[g,v]of Object.entries(r.value)){const _=f[g]={...v,colors:{...v.colors}};if(e.variations)for(const y of e.variations.colors){const C=_.colors[y];if(!!C)for(const S of["lighten","darken"]){const x=S==="lighten"?lighten:darken;for(const A of createRange(e.variations[S],1))_.colors[`${y}-${S}-${A}`]=intToHex(x(colorToInt(C),A))}}for(const y of Object.keys(_.colors)){if(/^on-[a-z]/.test(y)||_.colors[`on-${y}`])continue;const C=`on-${y}`,S=colorToInt(_.colors[y]),x=Math.abs(APCAcontrast(0,S)),A=Math.abs(APCAcontrast(16777215,S));_.colors[C]=A>Math.min(x,50)?"#fff":"#000"}}return f}),s=computed(()=>o.value[n.value]),a=computed(()=>{const f=[];s.value.dark&&createCssClass(f,":root",["color-scheme: dark"]);for(const[y,C]of Object.entries(o.value)){const{variables:S,dark:x}=C;createCssClass(f,`.v-theme--${y}`,[`color-scheme: ${x?"dark":"normal"}`,...genCssVariables(C),...Object.keys(S).map(A=>{const T=S[A],E=typeof T=="string"&&T.startsWith("#")?colorToRGB(T):void 0,L=E?`${E.r}, ${E.g}, ${E.b}`:void 0;return`--v-${A}: ${L!=null?L:T}`})])}const g=[],v=[],_=new Set(Object.values(o.value).flatMap(y=>Object.keys(y.colors)));for(const y of _)/^on-[a-z]/.test(y)?createCssClass(v,`.${y}`,[`color: rgb(var(--v-theme-${y})) !important`]):(createCssClass(g,`.bg-${y}`,[`--v-theme-overlay-multiplier: var(--v-theme-${y}-overlay-multiplier)`,`background: rgb(var(--v-theme-${y})) !important`,`color: rgb(var(--v-theme-on-${y})) !important`]),createCssClass(v,`.text-${y}`,[`color: rgb(var(--v-theme-${y})) !important`]),createCssClass(v,`.border-${y}`,[`--v-border-color: var(--v-theme-${y})`]));return f.push(...g,...v),f.map((y,C)=>C===0?y:`    ${y}`).join("")});function c(f){const g=f._context.provides.usehead;if(g)g.addHeadObjs(computed(()=>{const _={children:a.value,type:"text/css",id:"vuetify-theme-stylesheet"};return e.cspNonce&&(_.nonce=e.cspNonce),{style:[_]}})),IN_BROWSER&&watchEffect(()=>g.updateDOM());else{let y=function(){if(!e.isDisabled){if(typeof document<"u"&&!_){const C=document.createElement("style");C.type="text/css",C.id="vuetify-theme-stylesheet",e.cspNonce&&C.setAttribute("nonce",e.cspNonce),_=C,document.head.appendChild(_)}_&&(_.innerHTML=a.value)}};var v=y;let _=IN_BROWSER?document.getElementById("vuetify-theme-stylesheet"):null;watch(a,y,{immediate:!0})}}const d=computed(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:c,isDisabled:e.isDisabled,name:n,themes:r,current:s,computedThemes:o,themeClasses:d,styles:a,global:{name:n,current:s}}}function provideTheme(t){getCurrentInstance("provideTheme");const e=inject$1(ThemeSymbol,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=computed(()=>{var s;return(s=t.theme)!=null?s:e==null?void 0:e.name.value}),r=computed(()=>e.isDisabled?void 0:`v-theme--${n.value}`),o={...e,name:n,themeClasses:r};return provide(ThemeSymbol,o),o}function createCssClass(t,e,n){t.push(`${e} {
`,...n.map(r=>`  ${r};
`),`}
`)}function genCssVariables(t){const e=t.dark?2:1,n=t.dark?1:2,r=[];for(const[o,s]of Object.entries(t.colors)){const a=colorToRGB(s);r.push(`--v-theme-${o}: ${a.r},${a.g},${a.b}`),o.startsWith("on-")||r.push(`--v-theme-${o}-overlay-multiplier: ${getLuma(s)>.18?e:n}`)}return r}function useResizeObserver(t){const e=ref$1(),n=ref$1();if(IN_BROWSER){const r=new ResizeObserver(o=>{t==null||t(o,r),o.length&&(n.value=o[0].contentRect)});onBeforeUnmount(()=>{r.disconnect()}),watch(e,(o,s)=>{s&&(r.unobserve(s),n.value=void 0),o&&r.observe(o)},{flush:"post"})}return{resizeRef:e,contentRect:readonly(n)}}const VuetifyLayoutKey=Symbol.for("vuetify:layout"),VuetifyLayoutItemKey=Symbol.for("vuetify:layout-item"),ROOT_ZINDEX=1e3,makeLayoutProps=propsFactory({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),makeLayoutItemProps=propsFactory({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function useLayout(){const t=inject$1(VuetifyLayoutKey);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function useLayoutItem(t){var c;const e=inject$1(VuetifyLayoutKey);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=(c=t.id)!=null?c:`layout-item-${getUid()}`,r=getCurrentInstance("useLayoutItem");provide(VuetifyLayoutItemKey,{id:n});const o=ref$1(!1);onDeactivated(()=>o.value=!0),onActivated(()=>o.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:a}=e.register(r,{...t,active:computed(()=>o.value?!1:t.active.value),id:n});return onBeforeUnmount(()=>e.unregister(n)),{layoutItemStyles:s,layoutRect:e.layoutRect,layoutItemScrimStyles:a}}const generateLayers=(t,e,n,r)=>{let o={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...o}}];for(const a of t){const c=e.get(a),d=n.get(a),f=r.get(a);if(!c||!d||!f)continue;const g={...o,[c.value]:parseInt(o[c.value],10)+(f.value?parseInt(d.value,10):0)};s.push({id:a,layer:g}),o=g}return s};function createLayout(t){const e=inject$1(VuetifyLayoutKey,null),n=computed(()=>e?e.rootZIndex.value-100:ROOT_ZINDEX),r=ref$1([]),o=reactive(new Map),s=reactive(new Map),a=reactive(new Map),c=reactive(new Map),d=reactive(new Map),{resizeRef:f,contentRect:g}=useResizeObserver(),v=computed(()=>{var N;const O=new Map,D=(N=t.overlaps)!=null?N:[];for(const B of D.filter(q=>q.includes(":"))){const[q,G]=B.split(":");if(!r.value.includes(q)||!r.value.includes(G))continue;const W=o.get(q),J=o.get(G),U=s.get(q),se=s.get(G);!W||!J||!U||!se||(O.set(G,{position:W.value,amount:parseInt(U.value,10)}),O.set(q,{position:J.value,amount:-parseInt(se.value,10)}))}return O}),_=computed(()=>{const O=[...new Set([...a.values()].map(N=>N.value))].sort((N,B)=>N-B),D=[];for(const N of O){const B=r.value.filter(q=>{var G;return((G=a.get(q))==null?void 0:G.value)===N});D.push(...B)}return generateLayers(D,o,s,c)}),y=computed(()=>!Array.from(d.values()).some(O=>O.value)),C=computed(()=>_.value[_.value.length-1].layer),S=computed(()=>({"--v-layout-left":convertToUnit(C.value.left),"--v-layout-right":convertToUnit(C.value.right),"--v-layout-top":convertToUnit(C.value.top),"--v-layout-bottom":convertToUnit(C.value.bottom),...y.value?void 0:{transition:"none"}})),x=computed(()=>_.value.slice(1).map((O,D)=>{let{id:N}=O;const{layer:B}=_.value[D],q=s.get(N),G=o.get(N);return{id:N,...B,size:Number(q.value),position:G.value}})),A=O=>x.value.find(D=>D.id===O),T=getCurrentInstance("createLayout"),E=ref$1(!1);onMounted(()=>{E.value=!0}),provide(VuetifyLayoutKey,{register:(O,D)=>{let{id:N,order:B,position:q,layoutSize:G,elementSize:W,active:J,disableTransitions:U,absolute:se}=D;a.set(N,B),o.set(N,q),s.set(N,G),c.set(N,J),U&&d.set(N,U);const Q=findChildrenWithProvide(VuetifyLayoutItemKey,T==null?void 0:T.vnode).indexOf(O);Q>-1?r.value.splice(Q,0,N):r.value.push(N);const ae=computed(()=>x.value.findIndex(Oe=>Oe.id===N)),xe=computed(()=>n.value+_.value.length*2-ae.value*2),ve=computed(()=>{const Oe=q.value==="left"||q.value==="right",Ze=q.value==="right",ye=q.value==="bottom",K={[q.value]:0,zIndex:xe.value,transform:`translate${Oe?"X":"Y"}(${(J.value?0:-110)*(Ze||ye?-1:1)}%)`,position:se.value||n.value!==ROOT_ZINDEX?"absolute":"fixed",...y.value?void 0:{transition:"none"}};if(!E.value)return K;const de=x.value[ae.value];if(!de)throw new Error(`[Vuetify] Could not find layout item "${N}"`);const he=v.value.get(N);return he&&(de[he.position]+=he.amount),{...K,height:Oe?`calc(100% - ${de.top}px - ${de.bottom}px)`:W.value?`${W.value}px`:void 0,left:Ze?void 0:`${de.left}px`,right:Ze?`${de.right}px`:void 0,top:q.value!=="bottom"?`${de.top}px`:void 0,bottom:q.value!=="top"?`${de.bottom}px`:void 0,width:Oe?W.value?`${W.value}px`:void 0:`calc(100% - ${de.left}px - ${de.right}px)`}}),Ce=computed(()=>({zIndex:xe.value-1}));return{layoutItemStyles:ve,layoutItemScrimStyles:Ce,zIndex:xe}},unregister:O=>{a.delete(O),o.delete(O),s.delete(O),c.delete(O),d.delete(O),r.value=r.value.filter(D=>D!==O)},mainRect:C,mainStyles:S,getLayoutItem:A,items:x,layoutRect:g,rootZIndex:n});const L=computed(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),P=computed(()=>({zIndex:n.value,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:L,layoutStyles:P,getLayoutItem:A,items:x,layoutRect:g,layoutRef:f}}function createVuetify(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,r=mergeDeep(e,n),{aliases:o={},components:s={},directives:a={}}=r,c=createDefaults(r.defaults),d=createDisplay(r.display,r.ssr),f=createTheme(r.theme),g=createIcons(r.icons),v=createLocale(r.locale);return{install:y=>{for(const C in a)y.directive(C,a[C]);for(const C in s)y.component(C,s[C]);for(const C in o)y.component(C,defineComponent({...o[C],name:C,aliasName:o[C].name}));if(f.install(y),y.provide(DefaultsSymbol,c),y.provide(DisplaySymbol,d),y.provide(ThemeSymbol,f),y.provide(IconSymbol,g),y.provide(LocaleSymbol,v),IN_BROWSER&&r.ssr)if(y.$nuxt)y.$nuxt.hook("app:suspense:resolve",()=>{d.update()});else{const{mount:C}=y;y.mount=function(){const S=C(...arguments);return nextTick(()=>d.update()),y.mount=C,S}}getUid.reset(),y.mixin({computed:{$vuetify(){return reactive({defaults:inject.call(this,DefaultsSymbol),display:inject.call(this,DisplaySymbol),theme:inject.call(this,ThemeSymbol),icons:inject.call(this,IconSymbol),locale:inject.call(this,LocaleSymbol)})}}})},defaults:c,display:d,theme:f,icons:g,locale:v}}const version$4="3.0.1";createVuetify.version=version$4;function inject(t){var s;var e,n;const r=this.$,o=(s=(e=r.parent)==null?void 0:e.provides)!=null?s:(n=r.vnode.appContext)==null?void 0:n.provides;if(o&&t in o)return o[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const assert=function(t,e){if(!t)throw assertionError(e)},assertionError=function(t){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},byteArrayToString=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=t[n++];e[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=t[n++],a=t[n++],c=t[n++],d=((o&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return e.join("")},base64$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const s=t[o],a=o+1<t.length,c=a?t[o+1]:0,d=o+2<t.length,f=d?t[o+2]:0,g=s>>2,v=(s&3)<<4|c>>4;let _=(c&15)<<2|f>>6,y=f&63;d||(y=64,a||(_=64)),r.push(n[g],n[v],n[_],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(stringToByteArray$1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):byteArrayToString(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const s=n[t.charAt(o++)],c=o<t.length?n[t.charAt(o)]:0;++o;const f=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,s==null||c==null||f==null||v==null)throw Error();const _=s<<2|c>>4;if(r.push(_),f!==64){const y=c<<4&240|f>>2;if(r.push(y),v!==64){const C=f<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},base64Encode=function(t){const e=stringToByteArray$1(t);return base64$2.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(t){return base64Encode(t).replace(/\./g,"")},base64Decode=function(t){try{return base64$2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deepCopy(t){return deepExtend(void 0,t)}function deepExtend(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!isValidKey$1(n)||(t[n]=deepExtend(t[n],e[n]));return t}function isValidKey$1(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const t=getUA();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function isNodeSdk(){return CONSTANTS.NODE_ADMIN===!0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;e(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&base64Decode(t[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},getDefaultEmulatorHost=t=>{var e,n;return(n=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},getDefaultEmulatorHostnameAndPort=t=>{const e=getDefaultEmulatorHost(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},getDefaultAppConfig=()=>{var t;return(t=getDefaults())===null||t===void 0?void 0:t.config},getExperimentalSetting=t=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[base64urlEncodeWithoutPadding(JSON.stringify(n)),base64urlEncodeWithoutPadding(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,s=this.errors[e],a=s?replaceTemplate(s,r):"Error",c=`${this.serviceName}: ${a} (${o}).`;return new FirebaseError(o,c,r)}}function replaceTemplate(t,e){return t.replace(PATTERN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval(t){return JSON.parse(t)}function stringify(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const decode$2=function(t){let e={},n={},r={},o="";try{const s=t.split(".");e=jsonEval(base64Decode(s[0])||""),n=jsonEval(base64Decode(s[1])||""),o=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},isValidFormat=function(t){const e=decode$2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},isAdmin=function(t){const e=decode$2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function safeGet(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function isEmpty(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function map$1(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function deepEqual(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const s=t[o],a=e[o];if(isObject$1(s)&&isObject$1(a)){if(!deepEqual(s,a))return!1}else if(s!==a)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function isObject$1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function querystringDecode(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,s]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(s)}}),e}function extractQuerystring(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)r[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const _=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],d=this.chain_[4],f,g;for(let v=0;v<80;v++){v<40?v<20?(f=c^s&(a^c),g=1518500249):(f=s^a^c,g=1859775393):v<60?(f=s&a|c&(s|a),g=2400959708):(f=s^a^c,g=3395469782);const _=(o<<5|o>>>27)+f+d+g+r[v]&4294967295;d=c,c=a,a=(s<<30|s>>>2)&4294967295,s=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const s=this.buf_;let a=this.inbuf_;for(;o<n;){if(a===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(s[a]=e.charCodeAt(o),++a,++o,a===this.blockSize){this.compress_(s),a=0;break}}else for(;o<n;)if(s[a]=e[o],++a,++o,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[o]>>s&255,++r;return e}}function createSubscribe(t,e){const n=new ObserverProxy(t,e);return n.subscribe.bind(n)}class ObserverProxy{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=noop$1),o.error===void 0&&(o.error=noop$1),o.complete===void 0&&(o.complete=noop$1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function noop$1(){}function errorPrefix(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const s=o-55296;r++,assert(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;o=65536+(s<<10)+a}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},stringLength=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(t){return t&&t._delegate?t._delegate:t}class Component{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Deferred;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(o,s);const a=this.instances.get(o);return a&&e(a,o),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(t){return t===DEFAULT_ENTRY_NAME$1?void 0:t}function isComponentEager(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Provider(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=ConsoleMethod[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(t,e)=>e.some(n=>t instanceof n);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(wrap(t.result)),o()},a=()=>{r(t.error),o()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&cursorRequestMap.set(n,t)}).catch(()=>{}),reverseTransformCache.set(e,t),e}function cacheDonePromiseForTransaction(t){if(transactionDoneMap.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),o()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});transactionDoneMap.set(t,e)}let idbProxyTraps={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||transactionStoreNamesMap.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wrap(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function replaceTraps(t){idbProxyTraps=t(idbProxyTraps)}function wrapFunction(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(unwrap(this),e,...n);return transactionStoreNamesMap.set(r,e.sort?e.sort():[e]),wrap(r)}:getCursorAdvanceMethods().includes(t)?function(...e){return t.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(t.apply(unwrap(this),e))}}function transformCachableValue(t){return typeof t=="function"?wrapFunction(t):(t instanceof IDBTransaction&&cacheDonePromiseForTransaction(t),instanceOfAny(t,getIdbProxyableTypes())?new Proxy(t,idbProxyTraps):t)}function wrap(t){if(t instanceof IDBRequest)return promisifyRequest(t);if(transformCache.has(t))return transformCache.get(t);const e=transformCachableValue(t);return e!==t&&(transformCache.set(t,e),reverseTransformCache.set(e,t)),e}const unwrap=t=>reverseTransformCache.get(t);function openDB(t,e,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const a=indexedDB.open(t,e),c=wrap(a);return r&&a.addEventListener("upgradeneeded",d=>{r(wrap(a.result),d.oldVersion,d.newVersion,wrap(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),c.then(d=>{s&&d.addEventListener("close",()=>s()),o&&d.addEventListener("versionchange",()=>o())}).catch(()=>{}),c}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=writeMethods.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||readMethods.includes(n)))return;const s=async function(a,...c){const d=this.transaction(a,o?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),o&&d.done]))[0]};return cachedMethods.set(e,s),s}replaceTraps(t=>({...t,get:(e,n,r)=>getMethod(e,n)||t.get(e,n,r),has:(e,n)=>!!getMethod(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(isVersionServiceProvider(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function isVersionServiceProvider(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$3="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(t,e){try{t.container.addComponent(e)}catch(n){logger$1.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _registerComponent(t){const e=t.name;if(_components.has(e))return logger$1.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,t);for(const n of _apps.values())_addComponent(n,t);return!0}function _getProvider(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION$1=version$3;function initializeApp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw ERROR_FACTORY.create("bad-app-name",{appName:String(o)});if(n||(n=getDefaultAppConfig()),!n)throw ERROR_FACTORY.create("no-options");const s=_apps.get(o);if(s){if(deepEqual(n,s.options)&&deepEqual(r,s.config))return s;throw ERROR_FACTORY.create("duplicate-app",{appName:o})}const a=new ComponentContainer(o);for(const d of _components.values())a.addComponent(d);const c=new FirebaseAppImpl(n,r,a);return _apps.set(o,c),c}function getApp(t=DEFAULT_ENTRY_NAME){const e=_apps.get(t);if(!e&&t===DEFAULT_ENTRY_NAME)return initializeApp();if(!e)throw ERROR_FACTORY.create("no-app",{appName:t});return e}function registerVersion(t,e,n){var r;let o=(r=PLATFORM_LOG_STRING[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${o}" with version "${e}":`];s&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger$1.warn(c.join(" "));return}_registerComponent(new Component(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(STORE_NAME)}}}).catch(t=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:t.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(t){try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(t))}catch(e){if(e instanceof FirebaseError)logger$1.warn(e.message);else{const n=ERROR_FACTORY.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger$1.warn(n.message)}}}async function writeHeartbeatsToIndexedDB(t,e){try{const r=(await getDbPromise()).transaction(STORE_NAME,"readwrite");return await r.objectStore(STORE_NAME).put(e,computeKey(t)),r.done}catch(n){if(n instanceof FirebaseError)logger$1.warn(n.message);else{const r=ERROR_FACTORY.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});logger$1.warn(r.message)}}}function computeKey(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=getUTCDateString(),{heartbeatsToSend:n,unsentEntries:r}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),o=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(t,e=MAX_HEADER_BYTES){const n=[];let r=t.slice();for(const o of t){const s=n.find(a=>a.agent===o.agent);if(s){if(s.dates.push(o.date),countBytes(n)>e){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),countBytes(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function countBytes(t){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(t){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,t),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$2="firebase",version$2="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$2,"app");const name$1="@firebase/database",version$1="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SDK_VERSION="";function setSDKVersion(t){SDK_VERSION=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DOMStorageWrapper{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),stringify(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:jsonEval(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return contains(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const createStoragefor=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new DOMStorageWrapper(e)}}catch{}return new MemoryStorage},PersistentStorage=createStoragefor("localStorage"),SessionStorage=createStoragefor("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient$1=new Logger("@firebase/database"),LUIDGenerator=function(){let t=1;return function(){return t++}}(),sha1=function(t){const e=stringToByteArray(t),n=new Sha1;n.update(e);const r=n.digest();return base64$2.encodeByteArray(r)},buildLogMessage_=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=buildLogMessage_.apply(null,r):typeof r=="object"?e+=stringify(r):e+=r,e+=" "}return e};let logger=null,firstLog_=!0;const enableLogging$1=function(t,e){assert(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(logClient$1.logLevel=LogLevel.VERBOSE,logger=logClient$1.log.bind(logClient$1),e&&SessionStorage.set("logging_enabled",!0)):typeof t=="function"?logger=t:(logger=null,SessionStorage.remove("logging_enabled"))},log=function(...t){if(firstLog_===!0&&(firstLog_=!1,logger===null&&SessionStorage.get("logging_enabled")===!0&&enableLogging$1(!0)),logger){const e=buildLogMessage_.apply(null,t);logger(e)}},logWrapper=function(t){return function(...e){log(t,...e)}},error=function(...t){const e="FIREBASE INTERNAL ERROR: "+buildLogMessage_(...t);logClient$1.error(e)},fatal=function(...t){const e=`FIREBASE FATAL ERROR: ${buildLogMessage_(...t)}`;throw logClient$1.error(e),new Error(e)},warn=function(...t){const e="FIREBASE WARNING: "+buildLogMessage_(...t);logClient$1.warn(e)},warnIfPageIsSecure=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},MIN_NAME="[MIN_NAME]",MAX_NAME="[MAX_NAME]",nameCompare=function(t,e){if(t===e)return 0;if(t===MIN_NAME||e===MAX_NAME)return-1;if(e===MIN_NAME||t===MAX_NAME)return 1;{const n=tryParseInt(t),r=tryParseInt(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},stringCompare=function(t,e){return t===e?0:t<e?-1:1},requireKey=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+stringify(e))},ObjectToUniqueKey=function(t){if(typeof t!="object"||t===null)return stringify(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=stringify(e[r]),n+=":",n+=ObjectToUniqueKey(t[e[r]]);return n+="}",n},splitStringBySize=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function each(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const doubleToIEEE754String=function(t){assert(!isInvalidJSONNumber(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,s,a,c,d;t===0?(s=0,a=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(d=n;d;d-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(d=e;d;d-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(o?1:0),f.reverse();const g=f.join("");let v="";for(d=0;d<64;d+=8){let _=parseInt(g.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},isChromeExtensionContentScript=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function errorForServerCode(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const INTEGER_REGEXP_=new RegExp("^-?(0*)\\d{1,10}$"),INTEGER_32_MIN=-2147483648,INTEGER_32_MAX=2147483647,tryParseInt=function(t){if(INTEGER_REGEXP_.test(t)){const e=Number(t);if(e>=INTEGER_32_MIN&&e<=INTEGER_32_MAX)return e}return null},exceptionGuard=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw warn("Exception was thrown by user callback.",n),e},Math.floor(0))}},beingCrawled=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AppCheckTokenProvider{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){warn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAuthTokenProvider{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn(e)}}class EmulatorTokenProvider{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}EmulatorTokenProvider.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PROTOCOL_VERSION="5",VERSION_PARAM="v",TRANSPORT_SESSION_PARAM="s",REFERER_PARAM="r",FORGE_REF="f",FORGE_DOMAIN_RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LAST_SESSION_PARAM="ls",APPLICATION_ID_PARAM="p",APP_CHECK_TOKEN_PARAM="ac",WEBSOCKET="websocket",LONG_POLLING="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RepoInfo{constructor(e,n,r,o,s=!1,a="",c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=PersistentStorage.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&PersistentStorage.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function repoInfoNeedsQueryParam(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function repoInfoConnectionURL(t,e,n){assert(typeof e=="string","typeof type must == string"),assert(typeof n=="object","typeof params must == object");let r;if(e===WEBSOCKET)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===LONG_POLLING)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);repoInfoNeedsQueryParam(t)&&(n.ns=t.namespace);const o=[];return each(n,(s,a)=>{o.push(s+"="+a)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsCollection{constructor(){this.counters_={}}incrementCounter(e,n=1){contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return deepCopy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const collections={},reporters={};function statsManagerGetCollection(t){const e=t.toString();return collections[e]||(collections[e]=new StatsCollection),collections[e]}function statsManagerGetOrCreateReporter(t,e){const n=t.toString();return reporters[n]||(reporters[n]=e()),reporters[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PacketReceiver{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&exceptionGuard(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4;class BrowserPollConnection{constructor(e,n,r,o,s,a,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper(e),this.stats_=statsManagerGetCollection(n),this.urlFn=d=>(this.appCheckToken&&(d[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),repoInfoConnectionURL(n,LONG_POLLING,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new PacketReceiver(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LP_CONNECT_TIMEOUT)),executeWhenDOMReady(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder((...s)=>{const[a,c,d,f,g]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===FIREBASE_LONGPOLL_START_PARAM)this.id=c,this.password=d;else if(a===FIREBASE_LONGPOLL_CLOSE_COMMAND)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[FIREBASE_LONGPOLL_START_PARAM]="t",r[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=this.scriptTagHolder.uniqueCallbackIdentifier),r[VERSION_PARAM]=PROTOCOL_VERSION,this.transportSessionId&&(r[TRANSPORT_SESSION_PARAM]=this.transportSessionId),this.lastSessionId&&(r[LAST_SESSION_PARAM]=this.lastSessionId),this.applicationId&&(r[APPLICATION_ID_PARAM]=this.applicationId),this.appCheckToken&&(r[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(r[REFERER_PARAM]=FORGE_REF);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return BrowserPollConnection.forceAllow_?!0:!BrowserPollConnection.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!isChromeExtensionContentScript()&&!isWindowsStoreApp()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=stringify(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=base64Encode(n),o=splitStringBySize(r,MAX_PAYLOAD_SIZE);for(let s=0;s<o.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",r[FIREBASE_LONGPOLL_ID_PARAM]=e,r[FIREBASE_LONGPOLL_PW_PARAM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=stringify(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class FirebaseIFrameScriptHolder{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=e,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=n,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){log("frame writing exception"),c.stack&&log(c.stack),log(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||log("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,e[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,e[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+SEG_HEADER_SIZE+r.length<=MAX_URL_DATA_SIZE;){const a=this.pendingSegs.shift();r=r+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+o+"="+a.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+o+"="+a.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+o+"="+a.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(KEEPALIVE_REQUEST_INTERVAL)),s=()=>{clearTimeout(o),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{log("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3;let WebSocketImpl=null;typeof MozWebSocket<"u"?WebSocketImpl=MozWebSocket:typeof WebSocket<"u"&&(WebSocketImpl=WebSocket);class WebSocketConnection{constructor(e,n,r,o,s,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(n),this.connURL=WebSocketConnection.connectionURL_(n,a,c,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,s){const a={};return a[VERSION_PARAM]=PROTOCOL_VERSION,typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(a[REFERER_PARAM]=FORGE_REF),n&&(a[TRANSPORT_SESSION_PARAM]=n),r&&(a[LAST_SESSION_PARAM]=r),o&&(a[APP_CHECK_TOKEN_PARAM]=o),s&&(a[APPLICATION_ID_PARAM]=s),repoInfoConnectionURL(e,WEBSOCKET,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,PersistentStorage.set("previous_websocket_failure",!0);try{let r;isNodeSdk(),this.mySock=new WebSocketImpl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&WebSocketImpl!==null&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return PersistentStorage.isInMemoryStorage||PersistentStorage.get("previous_websocket_failure")===!0}markConnectionHealthy(){PersistentStorage.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=jsonEval(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(assert(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=stringify(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=splitStringBySize(n,WEBSOCKET_MAX_FRAME_SIZE);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}WebSocketConnection.responsesRequiredToBeHealthy=2;WebSocketConnection.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransportManager{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=WebSocketConnection&&WebSocketConnection.isAvailable();let r=n&&!WebSocketConnection.previouslyFailed();if(e.webSocketOnly&&(n||warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[WebSocketConnection];else{const o=this.transports_=[];for(const s of TransportManager.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}TransportManager.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10*1024,BYTES_RECEIVED_HEALTHY_OVERRIDE=100*1024,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h";class Connection{constructor(e,n,r,o,s,a,c,d,f,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=d,this.onKill_=f,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=setTimeoutNonBlocking(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(MESSAGE_TYPE in e){const n=e[MESSAGE_TYPE];n===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():n===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=requireKey("t",e),r=requireKey("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=requireKey("t",e),r=requireKey("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=requireKey(MESSAGE_TYPE,e);if(MESSAGE_DATA in e){const r=e[MESSAGE_DATA];if(n===SERVER_HELLO)this.onHandshake_(r);else if(n===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===CONTROL_SHUTDOWN?this.onConnectionShutdown_(r):n===CONTROL_RESET?this.onReset_(r):n===CONTROL_ERROR?error("Server Error: "+r):n===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),PROTOCOL_VERSION!==r&&warn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),setTimeoutNonBlocking(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UPGRADE_TIMEOUT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ServerActions{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventEmitter{constructor(e){this.allowedEvents_=e,this.listeners_={},assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let s=0;s<o.length;s++)if(o[s].callback===n&&(!r||r===o[s].context)){o.splice(s,1);return}}validateEventType_(e){assert(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnlineMonitor extends EventEmitter{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!isMobileCordova()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OnlineMonitor}getInitialEvent(e){return assert(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_PATH_DEPTH=32,MAX_PATH_LENGTH_BYTES=768;class Path{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function newEmptyPath(){return new Path("")}function pathGetFront(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pathGetLength(t){return t.pieces_.length-t.pieceNum_}function pathPopFront(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Path(t.pieces_,e)}function pathGetBack(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pathToUrlEncodedString(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pathSlice(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function pathParent(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Path(e,0)}function pathChild(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Path)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new Path(n,0)}function pathIsEmpty(t){return t.pieceNum_>=t.pieces_.length}function newRelativePath(t,e){const n=pathGetFront(t),r=pathGetFront(e);if(n===null)return e;if(n===r)return newRelativePath(pathPopFront(t),pathPopFront(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function pathCompare(t,e){const n=pathSlice(t,0),r=pathSlice(e,0);for(let o=0;o<n.length&&o<r.length;o++){const s=nameCompare(n[o],r[o]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function pathEquals(t,e){if(pathGetLength(t)!==pathGetLength(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function pathContains(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(pathGetLength(t)>pathGetLength(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class ValidationPath{constructor(e,n){this.errorPrefix_=n,this.parts_=pathSlice(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=stringLength(this.parts_[r]);validationPathCheckValid(this)}}function validationPathPush(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=stringLength(e),validationPathCheckValid(t)}function validationPathPop(t){const e=t.parts_.pop();t.byteLength_-=stringLength(e),t.parts_.length>0&&(t.byteLength_-=1)}function validationPathCheckValid(t){if(t.byteLength_>MAX_PATH_LENGTH_BYTES)throw new Error(t.errorPrefix_+"has a key path longer than "+MAX_PATH_LENGTH_BYTES+" bytes ("+t.byteLength_+").");if(t.parts_.length>MAX_PATH_DEPTH)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MAX_PATH_DEPTH+") or object contains a cycle "+validationPathToErrorString(t))}function validationPathToErrorString(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VisibilityMonitor extends EventEmitter{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new VisibilityMonitor}getInitialEvent(e){return assert(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=60*5*1e3,RECONNECT_MAX_DELAY_FOR_ADMINS=30*1e3,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4,SERVER_KILL_INTERRUPT_REASON="server_kill",INVALID_TOKEN_THRESHOLD=3;class PersistentConnection extends ServerActions{constructor(e,n,r,o,s,a,c,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=logWrapper("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,s={r:o,a:e,b:n};this.log_(stringify(s)),assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new Deferred,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,o){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),assert(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,c=>{const d=c.d,f=c.s;PersistentConnection.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(f,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&contains(e,"w")){const r=safeGet(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();warn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=isValidFormat(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+stringify(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):error("Unrecognized action received from server: "+stringify(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+PersistentConnection.nextConnectionId_++,s=this.lastSessionId;let a=!1,c=null;const d=function(){c?c.close():(a=!0,r())},f=function(v){assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(v)};this.realtime_={close:d,sendRequest:f};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);a?log("getToken() completed but was canceled"):(log("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,c=new Connection(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{warn(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(SERVER_KILL_INTERRUPT_REASON)},s))}catch(v){this.log_("Failed to get token: "+v),a||(this.repoInfo_.nodeAdmin&&warn(v),d())}}}interrupt(e){log("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){log("Resuming connection for reason: "+e),delete this.interruptReasons_[e],isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ObjectToUniqueKey(s)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new Path(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){log("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=INVALID_TOKEN_THRESHOLD&&(this.reconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){log("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=INVALID_TOKEN_THRESHOLD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+SDK_VERSION.replace(/\./g,"-")]=1,isMobileCordova()?e["framework.cordova"]=1:isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=OnlineMonitor.getInstance().currentlyOnline();return isEmpty(this.interruptReasons_)&&e}}PersistentConnection.nextPersistentConnectionId_=0;PersistentConnection.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NamedNode{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new NamedNode(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Index{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new NamedNode(MIN_NAME,e),o=new NamedNode(MIN_NAME,n);return this.compare(r,o)!==0}minPost(){return NamedNode.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __EMPTY_NODE;class KeyIndex extends Index{static get __EMPTY_NODE(){return __EMPTY_NODE}static set __EMPTY_NODE(e){__EMPTY_NODE=e}compare(e,n){return nameCompare(e.name,n.name)}isDefinedOn(e){throw assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,__EMPTY_NODE)}makePost(e,n){return assert(typeof e=="string","KeyIndex indexValue must always be a string."),new NamedNode(e,__EMPTY_NODE)}toString(){return".key"}}const KEY_INDEX=new KeyIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMapIterator{constructor(e,n,r,o,s=null){this.isReverse_=o,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,o&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class LLRBNode{constructor(e,n,r,o,s){this.key=e,this.value=n,this.color=r!=null?r:LLRBNode.RED,this.left=o!=null?o:SortedMap.EMPTY_NODE,this.right=s!=null?s:SortedMap.EMPTY_NODE}copy(e,n,r,o,s){return new LLRBNode(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const s=r(e,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):s===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return SortedMap.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}LLRBNode.RED=!0;LLRBNode.BLACK=!1;class LLRBEmptyNode{copy(e,n,r,o,s){return this}insert(e,n,r){return new LLRBNode(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class SortedMap{constructor(e,n=SortedMap.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new SortedMap(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new SortedMapIterator(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new SortedMapIterator(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new SortedMapIterator(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new SortedMapIterator(this.root_,null,this.comparator_,!0,e)}}SortedMap.EMPTY_NODE=new LLRBEmptyNode;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAME_ONLY_COMPARATOR(t,e){return nameCompare(t.name,e.name)}function NAME_COMPARATOR(t,e){return nameCompare(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MAX_NODE$2;function setMaxNode$1(t){MAX_NODE$2=t}const priorityHashText=function(t){return typeof t=="number"?"number:"+doubleToIEEE754String(t):"string:"+t},validatePriorityNode=function(t){if(t.isLeafNode()){const e=t.val();assert(typeof e=="string"||typeof e=="number"||typeof e=="object"&&contains(e,".sv"),"Priority must be a string or number.")}else assert(t===MAX_NODE$2||t.isEmpty(),"priority of unexpected type.");assert(t===MAX_NODE$2||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __childrenNodeConstructor;class LeafNode{constructor(e,n=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,assert(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}static set __childrenNodeConstructor(e){__childrenNodeConstructor=e}static get __childrenNodeConstructor(){return __childrenNodeConstructor}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new LeafNode(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pathIsEmpty(e)?this:pathGetFront(e)===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=pathGetFront(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(assert(r!==".priority"||pathGetLength(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+priorityHashText(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=doubleToIEEE754String(this.value_):e+=this.value_,this.lazyHash_=sha1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof LeafNode.__childrenNodeConstructor?-1:(assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=LeafNode.VALUE_TYPE_ORDER.indexOf(n),s=LeafNode.VALUE_TYPE_ORDER.indexOf(r);return assert(o>=0,"Unknown leaf type: "+n),assert(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nodeFromJSON$1,MAX_NODE$1;function setNodeFromJSON(t){nodeFromJSON$1=t}function setMaxNode(t){MAX_NODE$1=t}class PriorityIndex extends Index{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),s=r.compareTo(o);return s===0?nameCompare(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,new LeafNode("[PRIORITY-POST]",MAX_NODE$1))}makePost(e,n){const r=nodeFromJSON$1(e);return new NamedNode(n,new LeafNode("[PRIORITY-POST]",r))}toString(){return".priority"}}const PRIORITY_INDEX=new PriorityIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LOG_2=Math.log(2);class Base12Num{constructor(e){const n=s=>parseInt(Math.log(s)/LOG_2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const buildChildSet=function(t,e,n,r){t.sort(e);const o=function(d,f){const g=f-d;let v,_;if(g===0)return null;if(g===1)return v=t[d],_=n?n(v):v,new LLRBNode(_,v.node,LLRBNode.BLACK,null,null);{const y=parseInt(g/2,10)+d,C=o(d,y),S=o(y+1,f);return v=t[y],_=n?n(v):v,new LLRBNode(_,v.node,LLRBNode.BLACK,C,S)}},s=function(d){let f=null,g=null,v=t.length;const _=function(C,S){const x=v-C,A=v;v-=C;const T=o(x+1,A),E=t[x],L=n?n(E):E;y(new LLRBNode(L,E.node,S,null,T))},y=function(C){f?(f.left=C,f=C):(g=C,f=C)};for(let C=0;C<d.count;++C){const S=d.nextBitIsOne(),x=Math.pow(2,d.count-(C+1));S?_(x,LLRBNode.BLACK):(_(x,LLRBNode.BLACK),_(x,LLRBNode.RED))}return g},a=new Base12Num(t.length),c=s(a);return new SortedMap(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _defaultIndexMap;const fallbackObject={};class IndexMap{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return assert(fallbackObject&&PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),_defaultIndexMap=_defaultIndexMap||new IndexMap({".priority":fallbackObject},{".priority":PRIORITY_INDEX}),_defaultIndexMap}get(e){const n=safeGet(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof SortedMap?n:null}hasIndex(e){return contains(this.indexSet_,e.toString())}addIndex(e,n){assert(e!==KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const s=n.getIterator(NamedNode.Wrap);let a=s.getNext();for(;a;)o=o||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let c;o?c=buildChildSet(r,e.getCompare()):c=fallbackObject;const d=e.toString(),f=Object.assign({},this.indexSet_);f[d]=e;const g=Object.assign({},this.indexes_);return g[d]=c,new IndexMap(g,f)}addToIndexes(e,n){const r=map$1(this.indexes_,(o,s)=>{const a=safeGet(this.indexSet_,s);if(assert(a,"Missing index implementation for "+s),o===fallbackObject)if(a.isDefinedOn(e.node)){const c=[],d=n.getIterator(NamedNode.Wrap);let f=d.getNext();for(;f;)f.name!==e.name&&c.push(f),f=d.getNext();return c.push(e),buildChildSet(c,a.getCompare())}else return fallbackObject;else{const c=n.get(e.name);let d=o;return c&&(d=d.remove(new NamedNode(e.name,c))),d.insert(e,e.node)}});return new IndexMap(r,this.indexSet_)}removeFromIndexes(e,n){const r=map$1(this.indexes_,o=>{if(o===fallbackObject)return o;{const s=n.get(e.name);return s?o.remove(new NamedNode(e.name,s)):o}});return new IndexMap(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EMPTY_NODE;class ChildrenNode{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return EMPTY_NODE||(EMPTY_NODE=new ChildrenNode(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||EMPTY_NODE}updatePriority(e){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?EMPTY_NODE:n}}getChild(e){const n=pathGetFront(e);return n===null?this:this.getImmediateChild(n).getChild(pathPopFront(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(assert(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new NamedNode(e,n);let o,s;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?EMPTY_NODE:this.priorityNode_;return new ChildrenNode(o,a,s)}}updateChild(e,n){const r=pathGetFront(e);if(r===null)return n;{assert(pathGetFront(e)!==".priority"||pathGetLength(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(pathPopFront(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,s=!0;if(this.forEachChild(PRIORITY_INDEX,(a,c)=>{n[a]=c.val(e),r++,s&&ChildrenNode.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){const a=[];for(const c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(PRIORITY_INDEX,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":sha1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new NamedNode(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new NamedNode(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new NamedNode(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,NamedNode.Wrap);let s=o.peek();for(;s!=null&&n.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,NamedNode.Wrap);let s=o.peek();for(;s!=null&&n.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===MAX_NODE?-1:0}withIndex(e){if(e===KEY_INDEX||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===KEY_INDEX||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(PRIORITY_INDEX),o=n.getIterator(PRIORITY_INDEX);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===KEY_INDEX?null:this.indexMap_.get(e.toString())}}ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}}const MAX_NODE=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(MIN_NAME,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(MAX_NAME,MAX_NODE)}});KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE;LeafNode.__childrenNodeConstructor=ChildrenNode;setMaxNode$1(MAX_NODE);setMaxNode(MAX_NODE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const USE_HINZE=!0;function nodeFromJSON(t,e=null){if(t===null)return ChildrenNode.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),assert(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new LeafNode(n,nodeFromJSON(e))}if(!(t instanceof Array)&&USE_HINZE){const n=[];let r=!1;if(each(t,(a,c)=>{if(a.substring(0,1)!=="."){const d=nodeFromJSON(c);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new NamedNode(a,d)))}}),n.length===0)return ChildrenNode.EMPTY_NODE;const s=buildChildSet(n,NAME_ONLY_COMPARATOR,a=>a.name,NAME_COMPARATOR);if(r){const a=buildChildSet(n,PRIORITY_INDEX.getCompare());return new ChildrenNode(s,nodeFromJSON(e),new IndexMap({".priority":a},{".priority":PRIORITY_INDEX}))}else return new ChildrenNode(s,nodeFromJSON(e),IndexMap.Default)}else{let n=ChildrenNode.EMPTY_NODE;return each(t,(r,o)=>{if(contains(t,r)&&r.substring(0,1)!=="."){const s=nodeFromJSON(o);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(nodeFromJSON(e))}}setNodeFromJSON(nodeFromJSON);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PathIndex extends Index{constructor(e){super(),this.indexPath_=e,assert(!pathIsEmpty(e)&&pathGetFront(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),s=r.compareTo(o);return s===0?nameCompare(e.name,n.name):s}makePost(e,n){const r=nodeFromJSON(e),o=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,r);return new NamedNode(n,o)}maxPost(){const e=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,MAX_NODE);return new NamedNode(MAX_NAME,e)}toString(){return pathSlice(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ValueIndex extends Index{compare(e,n){const r=e.node.compareTo(n.node);return r===0?nameCompare(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost(e,n){const r=nodeFromJSON(e);return new NamedNode(n,r)}toString(){return".value"}}const VALUE_INDEX=new ValueIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function changeValue(t){return{type:"value",snapshotNode:t}}function changeChildAdded(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function changeChildRemoved(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function changeChildChanged(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function changeChildMoved(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedFilter{constructor(e){this.index_=e}updateChild(e,n,r,o,s,a){assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(o).equals(r.getChild(o))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(changeChildRemoved(n,c)):assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(changeChildAdded(n,r)):a.trackChildChange(changeChildChanged(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(PRIORITY_INDEX,(o,s)=>{n.hasChild(o)||r.trackChildChange(changeChildRemoved(o,s))}),n.isLeafNode()||n.forEachChild(PRIORITY_INDEX,(o,s)=>{if(e.hasChild(o)){const a=e.getImmediateChild(o);a.equals(s)||r.trackChildChange(changeChildChanged(o,s,a))}else r.trackChildChange(changeChildAdded(o,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ChildrenNode.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RangedFilter{constructor(e){this.indexedFilter_=new IndexedFilter(e.getIndex()),this.index_=e.getIndex(),this.startPost_=RangedFilter.getStartPost_(e),this.endPost_=RangedFilter.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,s,a){return this.matches(new NamedNode(n,r))||(r=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ChildrenNode.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ChildrenNode.EMPTY_NODE);const s=this;return n.forEachChild(PRIORITY_INDEX,(a,c)=>{s.matches(new NamedNode(a,c))||(o=o.updateImmediateChild(a,ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LimitedFilter{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new RangedFilter(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,s,a){return this.rangedFilter_.matches(new NamedNode(n,r))||(r=ChildrenNode.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ChildrenNode.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))o=o.updateImmediateChild(c.name,c.node),a++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ChildrenNode.EMPTY_NODE);let s;this.reverse_?s=o.getReverseIterator(this.index_):s=o.getIterator(this.index_);let a=0;for(;s.hasNext();){const c=s.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:o=o.updateImmediateChild(c.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,s){let a;if(this.reverse_){const v=this.index_.getCompare();a=(_,y)=>v(y,_)}else a=this.index_.getCompare();const c=e;assert(c.numChildren()===this.limit_,"");const d=new NamedNode(n,r),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(c.hasChild(n)){const v=c.getImmediateChild(n);let _=o.getChildAfterChild(this.index_,f,this.reverse_);for(;_!=null&&(_.name===n||c.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const y=_==null?1:a(_,d);if(g&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(changeChildChanged(n,r,v)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(changeChildRemoved(n,v));const S=c.updateImmediateChild(n,ChildrenNode.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(s!=null&&s.trackChildChange(changeChildAdded(_.name,_.node)),S.updateImmediateChild(_.name,_.node)):S}}else return r.isEmpty()?e:g&&a(f,d)>=0?(s!=null&&(s.trackChildChange(changeChildRemoved(f.name,f.node)),s.trackChildChange(changeChildAdded(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(f.name,ChildrenNode.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PRIORITY_INDEX}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MIN_NAME}hasEnd(){return this.endSet_}getIndexEndValue(){return assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:MAX_NAME}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===PRIORITY_INDEX}copy(){const e=new QueryParams;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function queryParamsGetNodeFilter(t){return t.loadsAllData()?new IndexedFilter(t.getIndex()):t.hasLimit()?new LimitedFilter(t):new RangedFilter(t)}function queryParamsToRestQueryStringParameters(t){const e={};if(t.isDefault())return e;let n;if(t.index_===PRIORITY_INDEX?n="$priority":t.index_===VALUE_INDEX?n="$value":t.index_===KEY_INDEX?n="$key":(assert(t.index_ instanceof PathIndex,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=stringify(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=stringify(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+stringify(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=stringify(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+stringify(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function queryParamsGetQueryObject(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==PRIORITY_INDEX&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ReadonlyRestClient extends ServerActions{constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=logWrapper("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(assert(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,o){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=ReadonlyRestClient.getListenId_(e,r),c={};this.listens_[a]=c;const d=queryParamsToRestQueryStringParameters(e._queryParams);this.restRequest_(s+".json",d,(f,g)=>{let v=g;if(f===404&&(v=null,f=null),f===null&&this.onDataUpdate_(s,v,!1,r),safeGet(this.listens_,a)===c){let _;f?f===401?_="permission_denied":_="rest_error:"+f:_="ok",o(_,null)}})}unlisten(e,n){const r=ReadonlyRestClient.getListenId_(e,n);delete this.listens_[r]}get(e){const n=queryParamsToRestQueryStringParameters(e._queryParams),r=e._path.toString(),o=new Deferred;return this.restRequest_(r+".json",n,(s,a)=>{let c=a;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),o.resolve(c)):o.reject(new Error(c))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,s])=>{o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+querystring(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=jsonEval(c.responseText)}catch{warn("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,d)}else c.status!==401&&c.status!==404&&warn("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember(t,e,n){if(pathIsEmpty(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=pathGetFront(e);t.children.has(r)||t.children.set(r,newSparseSnapshotTree());const o=t.children.get(r);e=pathPopFront(e),sparseSnapshotTreeRemember(o,e,n)}}function sparseSnapshotTreeForEachTree(t,e,n){t.value!==null?n(e,t.value):sparseSnapshotTreeForEachChild(t,(r,o)=>{const s=new Path(e.toString()+"/"+r);sparseSnapshotTreeForEachTree(o,s,n)})}function sparseSnapshotTreeForEachChild(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsListener{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&each(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIRST_STATS_MIN_TIME=10*1e3,FIRST_STATS_MAX_TIME=30*1e3,REPORT_STATS_INTERVAL=5*60*1e3;class StatsReporter{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new StatsListener(e);const r=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;each(e,(o,s)=>{s>0&&contains(this.statsToReport_,o)&&(n[o]=s,r=!0)}),r&&this.server_.reportStats(n),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(Math.random()*2*REPORT_STATS_INTERVAL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OperationType;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(OperationType||(OperationType={}));function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AckUserWrite{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=OperationType.ACK_USER_WRITE,this.source=newOperationSourceUser()}operationForChild(e){if(pathIsEmpty(this.path)){if(this.affectedTree.value!=null)return assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Path(e));return new AckUserWrite(newEmptyPath(),n,this.revert)}}else return assert(pathGetFront(this.path)===e,"operationForChild called for unrelated child."),new AckUserWrite(pathPopFront(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ListenComplete{constructor(e,n){this.source=e,this.path=n,this.type=OperationType.LISTEN_COMPLETE}operationForChild(e){return pathIsEmpty(this.path)?new ListenComplete(this.source,newEmptyPath()):new ListenComplete(this.source,pathPopFront(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overwrite{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=OperationType.OVERWRITE}operationForChild(e){return pathIsEmpty(this.path)?new Overwrite(this.source,newEmptyPath(),this.snap.getImmediateChild(e)):new Overwrite(this.source,pathPopFront(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Merge{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=OperationType.MERGE}operationForChild(e){if(pathIsEmpty(this.path)){const n=this.children.subtree(new Path(e));return n.isEmpty()?null:n.value?new Overwrite(this.source,newEmptyPath(),n.value):new Merge(this.source,newEmptyPath(),n)}else return assert(pathGetFront(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,pathPopFront(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CacheNode{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pathIsEmpty(e))return this.isFullyInitialized()&&!this.filtered_;const n=pathGetFront(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventGenerator{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function eventGeneratorGenerateEventsForChanges(t,e,n,r){const o=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(changeChildMoved(a.childName,a.snapshotNode))}),eventGeneratorGenerateEventsForType(t,o,"child_removed",e,r,n),eventGeneratorGenerateEventsForType(t,o,"child_added",e,r,n),eventGeneratorGenerateEventsForType(t,o,"child_moved",s,r,n),eventGeneratorGenerateEventsForType(t,o,"child_changed",e,r,n),eventGeneratorGenerateEventsForType(t,o,"value",e,r,n),o}function eventGeneratorGenerateEventsForType(t,e,n,r,o,s){const a=r.filter(c=>c.type===n);a.sort((c,d)=>eventGeneratorCompareChanges(t,c,d)),a.forEach(c=>{const d=eventGeneratorMaterializeSingleChange(t,c,s);o.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(d,t.query_))})})}function eventGeneratorMaterializeSingleChange(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function eventGeneratorCompareChanges(t,e,n){if(e.childName==null||n.childName==null)throw assertionError("Should only compare child_ events.");const r=new NamedNode(e.childName,e.snapshotNode),o=new NamedNode(n.childName,n.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewCache(t,e){return{eventCache:t,serverCache:e}}function viewCacheUpdateEventSnap(t,e,n,r){return newViewCache(new CacheNode(e,n,r),t.serverCache)}function viewCacheUpdateServerSnap(t,e,n,r){return newViewCache(t.eventCache,new CacheNode(e,n,r))}function viewCacheGetCompleteEventSnap(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function viewCacheGetCompleteServerSnap(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let emptyChildrenSingleton;const EmptyChildren=()=>(emptyChildrenSingleton||(emptyChildrenSingleton=new SortedMap(stringCompare)),emptyChildrenSingleton);class ImmutableTree{constructor(e,n=EmptyChildren()){this.value=e,this.children=n}static fromObject(e){let n=new ImmutableTree(null);return each(e,(r,o)=>{n=n.set(new Path(r),o)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty(e))return null;{const r=pathGetFront(e),o=this.children.get(r);if(o!==null){const s=o.findRootMostMatchingPathAndValue(pathPopFront(e),n);return s!=null?{path:pathChild(new Path(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pathIsEmpty(e))return this;{const n=pathGetFront(e),r=this.children.get(n);return r!==null?r.subtree(pathPopFront(e)):new ImmutableTree(null)}}set(e,n){if(pathIsEmpty(e))return new ImmutableTree(n,this.children);{const r=pathGetFront(e),s=(this.children.get(r)||new ImmutableTree(null)).set(pathPopFront(e),n),a=this.children.insert(r,s);return new ImmutableTree(this.value,a)}}remove(e){if(pathIsEmpty(e))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{const n=pathGetFront(e),r=this.children.get(n);if(r){const o=r.remove(pathPopFront(e));let s;return o.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,o),this.value===null&&s.isEmpty()?new ImmutableTree(null):new ImmutableTree(this.value,s)}else return this}}get(e){if(pathIsEmpty(e))return this.value;{const n=pathGetFront(e),r=this.children.get(n);return r?r.get(pathPopFront(e)):null}}setTree(e,n){if(pathIsEmpty(e))return n;{const r=pathGetFront(e),s=(this.children.get(r)||new ImmutableTree(null)).setTree(pathPopFront(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new ImmutableTree(this.value,a)}}fold(e){return this.fold_(newEmptyPath(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,s)=>{r[o]=s.fold_(pathChild(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,newEmptyPath(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(pathIsEmpty(e))return null;{const s=pathGetFront(e),a=this.children.get(s);return a?a.findOnPath_(pathPopFront(e),pathChild(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,newEmptyPath(),n)}foreachOnPath_(e,n,r){if(pathIsEmpty(e))return this;{this.value&&r(n,this.value);const o=pathGetFront(e),s=this.children.get(o);return s?s.foreachOnPath_(pathPopFront(e),pathChild(n,o),r):new ImmutableTree(null)}}foreach(e){this.foreach_(newEmptyPath(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(pathChild(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CompoundWrite{constructor(e){this.writeTree_=e}static empty(){return new CompoundWrite(new ImmutableTree(null))}}function compoundWriteAddWrite(t,e,n){if(pathIsEmpty(e))return new CompoundWrite(new ImmutableTree(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let s=r.value;const a=newRelativePath(o,e);return s=s.updateChild(a,n),new CompoundWrite(t.writeTree_.set(o,s))}else{const o=new ImmutableTree(n),s=t.writeTree_.setTree(e,o);return new CompoundWrite(s)}}}function compoundWriteAddWrites(t,e,n){let r=t;return each(n,(o,s)=>{r=compoundWriteAddWrite(r,pathChild(e,o),s)}),r}function compoundWriteRemoveWrite(t,e){if(pathIsEmpty(e))return CompoundWrite.empty();{const n=t.writeTree_.setTree(e,new ImmutableTree(null));return new CompoundWrite(n)}}function compoundWriteHasCompleteWrite(t,e){return compoundWriteGetCompleteNode(t,e)!=null}function compoundWriteGetCompleteNode(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(newRelativePath(n.path,e)):null}function compoundWriteGetCompleteChildren(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(PRIORITY_INDEX,(r,o)=>{e.push(new NamedNode(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new NamedNode(r,o.value))}),e}function compoundWriteChildCompoundWrite(t,e){if(pathIsEmpty(e))return t;{const n=compoundWriteGetCompleteNode(t,e);return n!=null?new CompoundWrite(new ImmutableTree(n)):new CompoundWrite(t.writeTree_.subtree(e))}}function compoundWriteIsEmpty(t){return t.writeTree_.isEmpty()}function compoundWriteApply(t,e){return applySubtreeWrite(newEmptyPath(),t.writeTree_,e)}function applySubtreeWrite(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,s)=>{o===".priority"?(assert(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=applySubtreeWrite(pathChild(t,o),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pathChild(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeTreeChildWrites(t,e){return newWriteTreeRef(e,t)}function writeTreeAddOverwrite(t,e,n,r,o){assert(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=compoundWriteAddWrite(t.visibleWrites,e,n)),t.lastWriteId=r}function writeTreeAddMerge(t,e,n,r){assert(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=compoundWriteAddWrites(t.visibleWrites,e,n),t.lastWriteId=r}function writeTreeGetWrite(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function writeTreeRemoveWrite(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);assert(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,s=!1,a=t.allWrites.length-1;for(;o&&a>=0;){const c=t.allWrites[a];c.visible&&(a>=n&&writeTreeRecordContainsPath_(c,r.path)?o=!1:pathContains(r.path,c.path)&&(s=!0)),a--}if(o){if(s)return writeTreeResetTree_(t),!0;if(r.snap)t.visibleWrites=compoundWriteRemoveWrite(t.visibleWrites,r.path);else{const c=r.children;each(c,d=>{t.visibleWrites=compoundWriteRemoveWrite(t.visibleWrites,pathChild(r.path,d))})}return!0}else return!1}function writeTreeRecordContainsPath_(t,e){if(t.snap)return pathContains(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&pathContains(pathChild(t.path,n),e))return!0;return!1}function writeTreeResetTree_(t){t.visibleWrites=writeTreeLayerTree_(t.allWrites,writeTreeDefaultFilter_,newEmptyPath()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function writeTreeDefaultFilter_(t){return t.visible}function writeTreeLayerTree_(t,e,n){let r=CompoundWrite.empty();for(let o=0;o<t.length;++o){const s=t[o];if(e(s)){const a=s.path;let c;if(s.snap)pathContains(n,a)?(c=newRelativePath(n,a),r=compoundWriteAddWrite(r,c,s.snap)):pathContains(a,n)&&(c=newRelativePath(a,n),r=compoundWriteAddWrite(r,newEmptyPath(),s.snap.getChild(c)));else if(s.children){if(pathContains(n,a))c=newRelativePath(n,a),r=compoundWriteAddWrites(r,c,s.children);else if(pathContains(a,n))if(c=newRelativePath(a,n),pathIsEmpty(c))r=compoundWriteAddWrites(r,newEmptyPath(),s.children);else{const d=safeGet(s.children,pathGetFront(c));if(d){const f=d.getChild(pathPopFront(c));r=compoundWriteAddWrite(r,newEmptyPath(),f)}}}else throw assertionError("WriteRecord should have .snap or .children")}}return r}function writeTreeCalcCompleteEventCache(t,e,n,r,o){if(!r&&!o){const s=compoundWriteGetCompleteNode(t.visibleWrites,e);if(s!=null)return s;{const a=compoundWriteChildCompoundWrite(t.visibleWrites,e);if(compoundWriteIsEmpty(a))return n;if(n==null&&!compoundWriteHasCompleteWrite(a,newEmptyPath()))return null;{const c=n||ChildrenNode.EMPTY_NODE;return compoundWriteApply(a,c)}}}else{const s=compoundWriteChildCompoundWrite(t.visibleWrites,e);if(!o&&compoundWriteIsEmpty(s))return n;if(!o&&n==null&&!compoundWriteHasCompleteWrite(s,newEmptyPath()))return null;{const a=function(f){return(f.visible||o)&&(!r||!~r.indexOf(f.writeId))&&(pathContains(f.path,e)||pathContains(e,f.path))},c=writeTreeLayerTree_(t.allWrites,a,e),d=n||ChildrenNode.EMPTY_NODE;return compoundWriteApply(c,d)}}}function writeTreeCalcCompleteEventChildren(t,e,n){let r=ChildrenNode.EMPTY_NODE;const o=compoundWriteGetCompleteNode(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(PRIORITY_INDEX,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=compoundWriteChildCompoundWrite(t.visibleWrites,e);return n.forEachChild(PRIORITY_INDEX,(a,c)=>{const d=compoundWriteApply(compoundWriteChildCompoundWrite(s,new Path(a)),c);r=r.updateImmediateChild(a,d)}),compoundWriteGetCompleteChildren(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=compoundWriteChildCompoundWrite(t.visibleWrites,e);return compoundWriteGetCompleteChildren(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function writeTreeCalcEventCacheAfterServerOverwrite(t,e,n,r,o){assert(r||o,"Either existingEventSnap or existingServerSnap must exist");const s=pathChild(e,n);if(compoundWriteHasCompleteWrite(t.visibleWrites,s))return null;{const a=compoundWriteChildCompoundWrite(t.visibleWrites,s);return compoundWriteIsEmpty(a)?o.getChild(n):compoundWriteApply(a,o.getChild(n))}}function writeTreeCalcCompleteChild(t,e,n,r){const o=pathChild(e,n),s=compoundWriteGetCompleteNode(t.visibleWrites,o);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=compoundWriteChildCompoundWrite(t.visibleWrites,o);return compoundWriteApply(a,r.getNode().getImmediateChild(n))}else return null}function writeTreeShadowingWrite(t,e){return compoundWriteGetCompleteNode(t.visibleWrites,e)}function writeTreeCalcIndexedSlice(t,e,n,r,o,s,a){let c;const d=compoundWriteChildCompoundWrite(t.visibleWrites,e),f=compoundWriteGetCompleteNode(d,newEmptyPath());if(f!=null)c=f;else if(n!=null)c=compoundWriteApply(d,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const g=[],v=a.getCompare(),_=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let y=_.getNext();for(;y&&g.length<o;)v(y,r)!==0&&g.push(y),y=_.getNext();return g}else return[]}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache(t,e,n,r){return writeTreeCalcCompleteEventCache(t.writeTree,t.treePath,e,n,r)}function writeTreeRefCalcCompleteEventChildren(t,e){return writeTreeCalcCompleteEventChildren(t.writeTree,t.treePath,e)}function writeTreeRefCalcEventCacheAfterServerOverwrite(t,e,n,r){return writeTreeCalcEventCacheAfterServerOverwrite(t.writeTree,t.treePath,e,n,r)}function writeTreeRefShadowingWrite(t,e){return writeTreeShadowingWrite(t.writeTree,pathChild(t.treePath,e))}function writeTreeRefCalcIndexedSlice(t,e,n,r,o,s){return writeTreeCalcIndexedSlice(t.writeTree,t.treePath,e,n,r,o,s)}function writeTreeRefCalcCompleteChild(t,e,n){return writeTreeCalcCompleteChild(t.writeTree,t.treePath,e,n)}function writeTreeRefChild(t,e){return newWriteTreeRef(pathChild(t.treePath,e),t.writeTree)}function newWriteTreeRef(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;assert(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),assert(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const s=o.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,changeChildChanged(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,changeChildRemoved(r,o.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,changeChildAdded(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,changeChildChanged(r,e.snapshotNode,o.oldSnap));else throw assertionError("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NoCompleteChildSource_{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const NO_COMPLETE_CHILD_SOURCE=new NoCompleteChildSource_;class WriteTreeCompleteChildSource{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),s=writeTreeRefCalcIndexedSlice(this.writes_,o,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewProcessor(t){return{filter:t}}function viewProcessorAssertIndexed(t,e){assert(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),assert(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation(t,e,n,r,o){const s=new ChildChangeAccumulator;let a,c;if(n.type===OperationType.OVERWRITE){const f=n;f.source.fromUser?a=viewProcessorApplyUserOverwrite(t,e,f.path,f.snap,r,o,s):(assert(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!pathIsEmpty(f.path),a=viewProcessorApplyServerOverwrite(t,e,f.path,f.snap,r,o,c,s))}else if(n.type===OperationType.MERGE){const f=n;f.source.fromUser?a=viewProcessorApplyUserMerge(t,e,f.path,f.children,r,o,s):(assert(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),a=viewProcessorApplyServerMerge(t,e,f.path,f.children,r,o,c,s))}else if(n.type===OperationType.ACK_USER_WRITE){const f=n;f.revert?a=viewProcessorRevertUserWrite(t,e,f.path,r,o,s):a=viewProcessorAckUserWrite(t,e,f.path,f.affectedTree,r,o,s)}else if(n.type===OperationType.LISTEN_COMPLETE)a=viewProcessorListenComplete(t,e,n.path,r,s);else throw assertionError("Unknown operation type: "+n.type);const d=s.getChanges();return viewProcessorMaybeAddValueEvent(e,a,d),{viewCache:a,changes:d}}function viewProcessorMaybeAddValueEvent(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=viewCacheGetCompleteEventSnap(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(changeValue(viewCacheGetCompleteEventSnap(e)))}}function viewProcessorGenerateEventCacheAfterServerEvent(t,e,n,r,o,s){const a=e.eventCache;if(writeTreeRefShadowingWrite(r,n)!=null)return e;{let c,d;if(pathIsEmpty(n))if(assert(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=viewCacheGetCompleteServerSnap(e),g=f instanceof ChildrenNode?f:ChildrenNode.EMPTY_NODE,v=writeTreeRefCalcCompleteEventChildren(r,g);c=t.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const f=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(e));c=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=pathGetFront(n);if(f===".priority"){assert(pathGetLength(n)===1,"Can't have a priority with additional path components");const g=a.getNode();d=e.serverCache.getNode();const v=writeTreeRefCalcEventCacheAfterServerOverwrite(r,n,g,d);v!=null?c=t.filter.updatePriority(g,v):c=a.getNode()}else{const g=pathPopFront(n);let v;if(a.isCompleteForChild(f)){d=e.serverCache.getNode();const _=writeTreeRefCalcEventCacheAfterServerOverwrite(r,n,a.getNode(),d);_!=null?v=a.getNode().getImmediateChild(f).updateChild(g,_):v=a.getNode().getImmediateChild(f)}else v=writeTreeRefCalcCompleteChild(r,f,e.serverCache);v!=null?c=t.filter.updateChild(a.getNode(),f,v,g,o,s):c=a.getNode()}}return viewCacheUpdateEventSnap(e,c,a.isFullyInitialized()||pathIsEmpty(n),t.filter.filtersNodes())}}function viewProcessorApplyServerOverwrite(t,e,n,r,o,s,a,c){const d=e.serverCache;let f;const g=a?t.filter:t.filter.getIndexedFilter();if(pathIsEmpty(n))f=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const y=d.getNode().updateChild(n,r);f=g.updateFullNode(d.getNode(),y,null)}else{const y=pathGetFront(n);if(!d.isCompleteForPath(n)&&pathGetLength(n)>1)return e;const C=pathPopFront(n),x=d.getNode().getImmediateChild(y).updateChild(C,r);y===".priority"?f=g.updatePriority(d.getNode(),x):f=g.updateChild(d.getNode(),y,x,C,NO_COMPLETE_CHILD_SOURCE,null)}const v=viewCacheUpdateServerSnap(e,f,d.isFullyInitialized()||pathIsEmpty(n),g.filtersNodes()),_=new WriteTreeCompleteChildSource(o,v,s);return viewProcessorGenerateEventCacheAfterServerEvent(t,v,n,o,_,c)}function viewProcessorApplyUserOverwrite(t,e,n,r,o,s,a){const c=e.eventCache;let d,f;const g=new WriteTreeCompleteChildSource(o,e,s);if(pathIsEmpty(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),d=viewCacheUpdateEventSnap(e,f,!0,t.filter.filtersNodes());else{const v=pathGetFront(n);if(v===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),d=viewCacheUpdateEventSnap(e,f,c.isFullyInitialized(),c.isFiltered());else{const _=pathPopFront(n),y=c.getNode().getImmediateChild(v);let C;if(pathIsEmpty(_))C=r;else{const S=g.getCompleteChild(v);S!=null?pathGetBack(_)===".priority"&&S.getChild(pathParent(_)).isEmpty()?C=S:C=S.updateChild(_,r):C=ChildrenNode.EMPTY_NODE}if(y.equals(C))d=e;else{const S=t.filter.updateChild(c.getNode(),v,C,_,g,a);d=viewCacheUpdateEventSnap(e,S,c.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function viewProcessorCacheHasChild(t,e){return t.eventCache.isCompleteForChild(e)}function viewProcessorApplyUserMerge(t,e,n,r,o,s,a){let c=e;return r.foreach((d,f)=>{const g=pathChild(n,d);viewProcessorCacheHasChild(e,pathGetFront(g))&&(c=viewProcessorApplyUserOverwrite(t,c,g,f,o,s,a))}),r.foreach((d,f)=>{const g=pathChild(n,d);viewProcessorCacheHasChild(e,pathGetFront(g))||(c=viewProcessorApplyUserOverwrite(t,c,g,f,o,s,a))}),c}function viewProcessorApplyMerge(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function viewProcessorApplyServerMerge(t,e,n,r,o,s,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,f;pathIsEmpty(n)?f=r:f=new ImmutableTree(null).setTree(n,r);const g=e.serverCache.getNode();return f.children.inorderTraversal((v,_)=>{if(g.hasChild(v)){const y=e.serverCache.getNode().getImmediateChild(v),C=viewProcessorApplyMerge(t,y,_);d=viewProcessorApplyServerOverwrite(t,d,new Path(v),C,o,s,a,c)}}),f.children.inorderTraversal((v,_)=>{const y=!e.serverCache.isCompleteForChild(v)&&_.value===null;if(!g.hasChild(v)&&!y){const C=e.serverCache.getNode().getImmediateChild(v),S=viewProcessorApplyMerge(t,C,_);d=viewProcessorApplyServerOverwrite(t,d,new Path(v),S,o,s,a,c)}}),d}function viewProcessorAckUserWrite(t,e,n,r,o,s,a){if(writeTreeRefShadowingWrite(o,n)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(pathIsEmpty(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return viewProcessorApplyServerOverwrite(t,e,n,d.getNode().getChild(n),o,s,c,a);if(pathIsEmpty(n)){let f=new ImmutableTree(null);return d.getNode().forEachChild(KEY_INDEX,(g,v)=>{f=f.set(new Path(g),v)}),viewProcessorApplyServerMerge(t,e,n,f,o,s,c,a)}else return e}else{let f=new ImmutableTree(null);return r.foreach((g,v)=>{const _=pathChild(n,g);d.isCompleteForPath(_)&&(f=f.set(g,d.getNode().getChild(_)))}),viewProcessorApplyServerMerge(t,e,n,f,o,s,c,a)}}function viewProcessorListenComplete(t,e,n,r,o){const s=e.serverCache,a=viewCacheUpdateServerSnap(e,s.getNode(),s.isFullyInitialized()||pathIsEmpty(n),s.isFiltered());return viewProcessorGenerateEventCacheAfterServerEvent(t,a,n,r,NO_COMPLETE_CHILD_SOURCE,o)}function viewProcessorRevertUserWrite(t,e,n,r,o,s){let a;if(writeTreeRefShadowingWrite(r,n)!=null)return e;{const c=new WriteTreeCompleteChildSource(r,e,o),d=e.eventCache.getNode();let f;if(pathIsEmpty(n)||pathGetFront(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(e));else{const v=e.serverCache.getNode();assert(v instanceof ChildrenNode,"serverChildren would be complete if leaf node"),g=writeTreeRefCalcCompleteEventChildren(r,v)}g=g,f=t.filter.updateFullNode(d,g,s)}else{const g=pathGetFront(n);let v=writeTreeRefCalcCompleteChild(r,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=d.getImmediateChild(g)),v!=null?f=t.filter.updateChild(d,g,v,pathPopFront(n),c,s):e.eventCache.getNode().hasChild(g)?f=t.filter.updateChild(d,g,ChildrenNode.EMPTY_NODE,pathPopFront(n),c,s):f=d,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,s)))}return a=e.serverCache.isFullyInitialized()||writeTreeRefShadowingWrite(r,newEmptyPath())!=null,viewCacheUpdateEventSnap(e,f,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class View{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new IndexedFilter(r.getIndex()),s=queryParamsGetNodeFilter(r);this.processor_=newViewProcessor(s);const a=n.serverCache,c=n.eventCache,d=o.updateFullNode(ChildrenNode.EMPTY_NODE,a.getNode(),null),f=s.updateFullNode(ChildrenNode.EMPTY_NODE,c.getNode(),null),g=new CacheNode(d,a.isFullyInitialized(),o.filtersNodes()),v=new CacheNode(f,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=newViewCache(v,g),this.eventGenerator_=new EventGenerator(this.query_)}get query(){return this.query_}}function viewGetServerCache(t){return t.viewCache_.serverCache.getNode()}function viewGetCompleteNode(t){return viewCacheGetCompleteEventSnap(t.viewCache_)}function viewGetCompleteServerCache(t,e){const n=viewCacheGetCompleteServerSnap(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pathIsEmpty(e)&&!n.getImmediateChild(pathGetFront(e)).isEmpty())?n.getChild(e):null}function viewIsEmpty(t){return t.eventRegistrations_.length===0}function viewAddEventRegistration(t,e){t.eventRegistrations_.push(e)}function viewRemoveEventRegistration(t,e,n){const r=[];if(n){assert(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,o);a&&r.push(a)})}if(e){let o=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))o.push(a);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function viewApplyOperation(t,e,n,r){e.type===OperationType.MERGE&&e.source.queryId!==null&&(assert(viewCacheGetCompleteServerSnap(t.viewCache_),"We should always have a full cache before handling merges"),assert(viewCacheGetCompleteEventSnap(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,s=viewProcessorApplyOperation(t.processor_,o,e,n,r);return viewProcessorAssertIndexed(t.processor_,s.viewCache),assert(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,viewGenerateEventsForChanges_(t,s.changes,s.viewCache.eventCache.getNode(),null)}function viewGetInitialEvents(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(PRIORITY_INDEX,(s,a)=>{r.push(changeChildAdded(s,a))}),n.isFullyInitialized()&&r.push(changeValue(n.getNode())),viewGenerateEventsForChanges_(t,r,n.getNode(),e)}function viewGenerateEventsForChanges_(t,e,n,r){const o=r?[r]:t.eventRegistrations_;return eventGeneratorGenerateEventsForChanges(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor$1;class SyncPoint{constructor(){this.views=new Map}}function syncPointSetReferenceConstructor(t){assert(!referenceConstructor$1,"__referenceConstructor has already been defined"),referenceConstructor$1=t}function syncPointGetReferenceConstructor(){return assert(referenceConstructor$1,"Reference.ts has not been loaded"),referenceConstructor$1}function syncPointIsEmpty(t){return t.views.size===0}function syncPointApplyOperation(t,e,n,r){const o=e.source.queryId;if(o!==null){const s=t.views.get(o);return assert(s!=null,"SyncTree gave us an op for an invalid query."),viewApplyOperation(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(viewApplyOperation(a,e,n,r));return s}}function syncPointGetView(t,e,n,r,o){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let c=writeTreeRefCalcCompleteEventCache(n,o?r:null),d=!1;c?d=!0:r instanceof ChildrenNode?(c=writeTreeRefCalcCompleteEventChildren(n,r),d=!1):(c=ChildrenNode.EMPTY_NODE,d=!1);const f=newViewCache(new CacheNode(c,d,!1),new CacheNode(r,o,!1));return new View(e,f)}return a}function syncPointAddEventRegistration(t,e,n,r,o,s){const a=syncPointGetView(t,e,r,o,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),viewAddEventRegistration(a,n),viewGetInitialEvents(a,n)}function syncPointRemoveEventRegistration(t,e,n,r){const o=e._queryIdentifier,s=[];let a=[];const c=syncPointHasCompleteView(t);if(o==="default")for(const[d,f]of t.views.entries())a=a.concat(viewRemoveEventRegistration(f,n,r)),viewIsEmpty(f)&&(t.views.delete(d),f.query._queryParams.loadsAllData()||s.push(f.query));else{const d=t.views.get(o);d&&(a=a.concat(viewRemoveEventRegistration(d,n,r)),viewIsEmpty(d)&&(t.views.delete(o),d.query._queryParams.loadsAllData()||s.push(d.query)))}return c&&!syncPointHasCompleteView(t)&&s.push(new(syncPointGetReferenceConstructor())(e._repo,e._path)),{removed:s,events:a}}function syncPointGetQueryViews(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function syncPointGetCompleteServerCache(t,e){let n=null;for(const r of t.views.values())n=n||viewGetCompleteServerCache(r,e);return n}function syncPointViewForQuery(t,e){if(e._queryParams.loadsAllData())return syncPointGetCompleteView(t);{const r=e._queryIdentifier;return t.views.get(r)}}function syncPointViewExistsForQuery(t,e){return syncPointViewForQuery(t,e)!=null}function syncPointHasCompleteView(t){return syncPointGetCompleteView(t)!=null}function syncPointGetCompleteView(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor;function syncTreeSetReferenceConstructor(t){assert(!referenceConstructor,"__referenceConstructor has already been defined"),referenceConstructor=t}function syncTreeGetReferenceConstructor(){return assert(referenceConstructor,"Reference.ts has not been loaded"),referenceConstructor}let syncTreeNextQueryTag_=1;class SyncTree{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function syncTreeApplyUserOverwrite(t,e,n,r,o){return writeTreeAddOverwrite(t.pendingWriteTree_,e,n,r,o),o?syncTreeApplyOperationToSyncPoints_(t,new Overwrite(newOperationSourceUser(),e,n)):[]}function syncTreeApplyUserMerge(t,e,n,r){writeTreeAddMerge(t.pendingWriteTree_,e,n,r);const o=ImmutableTree.fromObject(n);return syncTreeApplyOperationToSyncPoints_(t,new Merge(newOperationSourceUser(),e,o))}function syncTreeAckUserWrite(t,e,n=!1){const r=writeTreeGetWrite(t.pendingWriteTree_,e);if(writeTreeRemoveWrite(t.pendingWriteTree_,e)){let s=new ImmutableTree(null);return r.snap!=null?s=s.set(newEmptyPath(),!0):each(r.children,a=>{s=s.set(new Path(a),!0)}),syncTreeApplyOperationToSyncPoints_(t,new AckUserWrite(r.path,s,n))}else return[]}function syncTreeApplyServerOverwrite(t,e,n){return syncTreeApplyOperationToSyncPoints_(t,new Overwrite(newOperationSourceServer(),e,n))}function syncTreeApplyServerMerge(t,e,n){const r=ImmutableTree.fromObject(n);return syncTreeApplyOperationToSyncPoints_(t,new Merge(newOperationSourceServer(),e,r))}function syncTreeApplyListenComplete(t,e){return syncTreeApplyOperationToSyncPoints_(t,new ListenComplete(newOperationSourceServer(),e))}function syncTreeApplyTaggedListenComplete(t,e,n){const r=syncTreeQueryKeyForTag_(t,n);if(r){const o=syncTreeParseQueryKey_(r),s=o.path,a=o.queryId,c=newRelativePath(s,e),d=new ListenComplete(newOperationSourceServerTaggedQuery(a),c);return syncTreeApplyTaggedOperation_(t,s,d)}else return[]}function syncTreeRemoveEventRegistration(t,e,n,r,o=!1){const s=e._path,a=t.syncPointTree_.get(s);let c=[];if(a&&(e._queryIdentifier==="default"||syncPointViewExistsForQuery(a,e))){const d=syncPointRemoveEventRegistration(a,e,n,r);syncPointIsEmpty(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const f=d.removed;if(c=d.events,!o){const g=f.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(s,(_,y)=>syncPointHasCompleteView(y));if(g&&!v){const _=t.syncPointTree_.subtree(s);if(!_.isEmpty()){const y=syncTreeCollectDistinctViewsForSubTree_(_);for(let C=0;C<y.length;++C){const S=y[C],x=S.query,A=syncTreeCreateListenerForView_(t,S);t.listenProvider_.startListening(syncTreeQueryForListening_(x),syncTreeTagForQuery(t,x),A.hashFn,A.onComplete)}}}!v&&f.length>0&&!r&&(g?t.listenProvider_.stopListening(syncTreeQueryForListening_(e),null):f.forEach(_=>{const y=t.queryToTagMap.get(syncTreeMakeQueryKey_(_));t.listenProvider_.stopListening(syncTreeQueryForListening_(_),y)}))}syncTreeRemoveTags_(t,f)}return c}function syncTreeApplyTaggedQueryOverwrite(t,e,n,r){const o=syncTreeQueryKeyForTag_(t,r);if(o!=null){const s=syncTreeParseQueryKey_(o),a=s.path,c=s.queryId,d=newRelativePath(a,e),f=new Overwrite(newOperationSourceServerTaggedQuery(c),d,n);return syncTreeApplyTaggedOperation_(t,a,f)}else return[]}function syncTreeApplyTaggedQueryMerge(t,e,n,r){const o=syncTreeQueryKeyForTag_(t,r);if(o){const s=syncTreeParseQueryKey_(o),a=s.path,c=s.queryId,d=newRelativePath(a,e),f=ImmutableTree.fromObject(n),g=new Merge(newOperationSourceServerTaggedQuery(c),d,f);return syncTreeApplyTaggedOperation_(t,a,g)}else return[]}function syncTreeAddEventRegistration(t,e,n,r=!1){const o=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(o,(_,y)=>{const C=newRelativePath(_,o);s=s||syncPointGetCompleteServerCache(y,C),a=a||syncPointHasCompleteView(y)});let c=t.syncPointTree_.get(o);c?(a=a||syncPointHasCompleteView(c),s=s||syncPointGetCompleteServerCache(c,newEmptyPath())):(c=new SyncPoint,t.syncPointTree_=t.syncPointTree_.set(o,c));let d;s!=null?d=!0:(d=!1,s=ChildrenNode.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((y,C)=>{const S=syncPointGetCompleteServerCache(C,newEmptyPath());S&&(s=s.updateImmediateChild(y,S))}));const f=syncPointViewExistsForQuery(c,e);if(!f&&!e._queryParams.loadsAllData()){const _=syncTreeMakeQueryKey_(e);assert(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const y=syncTreeGetNextQueryTag_();t.queryToTagMap.set(_,y),t.tagToQueryMap.set(y,_)}const g=writeTreeChildWrites(t.pendingWriteTree_,o);let v=syncPointAddEventRegistration(c,e,n,g,s,d);if(!f&&!a&&!r){const _=syncPointViewForQuery(c,e);v=v.concat(syncTreeSetupListener_(t,e,_))}return v}function syncTreeCalcCompleteEventCache(t,e,n){const o=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,c)=>{const d=newRelativePath(a,e),f=syncPointGetCompleteServerCache(c,d);if(f)return f});return writeTreeCalcCompleteEventCache(o,e,s,n,!0)}function syncTreeGetServerValue(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,g)=>{const v=newRelativePath(f,n);r=r||syncPointGetCompleteServerCache(g,v)});let o=t.syncPointTree_.get(n);o?r=r||syncPointGetCompleteServerCache(o,newEmptyPath()):(o=new SyncPoint,t.syncPointTree_=t.syncPointTree_.set(n,o));const s=r!=null,a=s?new CacheNode(r,!0,!1):null,c=writeTreeChildWrites(t.pendingWriteTree_,e._path),d=syncPointGetView(o,e,c,s?a.getNode():ChildrenNode.EMPTY_NODE,s);return viewGetCompleteNode(d)}function syncTreeApplyOperationToSyncPoints_(t,e){return syncTreeApplyOperationHelper_(e,t.syncPointTree_,null,writeTreeChildWrites(t.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_(t,e,n,r){if(pathIsEmpty(t.path))return syncTreeApplyOperationDescendantsHelper_(t,e,n,r);{const o=e.get(newEmptyPath());n==null&&o!=null&&(n=syncPointGetCompleteServerCache(o,newEmptyPath()));let s=[];const a=pathGetFront(t.path),c=t.operationForChild(a),d=e.children.get(a);if(d&&c){const f=n?n.getImmediateChild(a):null,g=writeTreeRefChild(r,a);s=s.concat(syncTreeApplyOperationHelper_(c,d,f,g))}return o&&(s=s.concat(syncPointApplyOperation(o,t,r,n))),s}}function syncTreeApplyOperationDescendantsHelper_(t,e,n,r){const o=e.get(newEmptyPath());n==null&&o!=null&&(n=syncPointGetCompleteServerCache(o,newEmptyPath()));let s=[];return e.children.inorderTraversal((a,c)=>{const d=n?n.getImmediateChild(a):null,f=writeTreeRefChild(r,a),g=t.operationForChild(a);g&&(s=s.concat(syncTreeApplyOperationDescendantsHelper_(g,c,d,f)))}),o&&(s=s.concat(syncPointApplyOperation(o,t,r,n))),s}function syncTreeCreateListenerForView_(t,e){const n=e.query,r=syncTreeTagForQuery(t,n);return{hashFn:()=>(viewGetServerCache(e)||ChildrenNode.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?syncTreeApplyTaggedListenComplete(t,n._path,r):syncTreeApplyListenComplete(t,n._path);{const s=errorForServerCode(o,n);return syncTreeRemoveEventRegistration(t,n,null,s)}}}}function syncTreeTagForQuery(t,e){const n=syncTreeMakeQueryKey_(e);return t.queryToTagMap.get(n)}function syncTreeMakeQueryKey_(t){return t._path.toString()+"$"+t._queryIdentifier}function syncTreeQueryKeyForTag_(t,e){return t.tagToQueryMap.get(e)}function syncTreeParseQueryKey_(t){const e=t.indexOf("$");return assert(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Path(t.substr(0,e))}}function syncTreeApplyTaggedOperation_(t,e,n){const r=t.syncPointTree_.get(e);assert(r,"Missing sync point for query tag that we're tracking");const o=writeTreeChildWrites(t.pendingWriteTree_,e);return syncPointApplyOperation(r,n,o,null)}function syncTreeCollectDistinctViewsForSubTree_(t){return t.fold((e,n,r)=>{if(n&&syncPointHasCompleteView(n))return[syncPointGetCompleteView(n)];{let o=[];return n&&(o=syncPointGetQueryViews(n)),each(r,(s,a)=>{o=o.concat(a)}),o}})}function syncTreeQueryForListening_(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(syncTreeGetReferenceConstructor())(t._repo,t._path):t}function syncTreeRemoveTags_(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=syncTreeMakeQueryKey_(r),s=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(s)}}}function syncTreeGetNextQueryTag_(){return syncTreeNextQueryTag_++}function syncTreeSetupListener_(t,e,n){const r=e._path,o=syncTreeTagForQuery(t,e),s=syncTreeCreateListenerForView_(t,n),a=t.listenProvider_.startListening(syncTreeQueryForListening_(e),o,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(o)assert(!syncPointHasCompleteView(c.value),"If we're adding a query, it shouldn't be shadowed");else{const d=c.fold((f,g,v)=>{if(!pathIsEmpty(f)&&g&&syncPointHasCompleteView(g))return[syncPointGetCompleteView(g).query];{let _=[];return g&&(_=_.concat(syncPointGetQueryViews(g).map(y=>y.query))),each(v,(y,C)=>{_=_.concat(C)}),_}});for(let f=0;f<d.length;++f){const g=d[f];t.listenProvider_.stopListening(syncTreeQueryForListening_(g),syncTreeTagForQuery(t,g))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistingValueProvider{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ExistingValueProvider(n)}node(){return this.node_}}class DeferredValueProvider{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pathChild(this.path_,e);return new DeferredValueProvider(this.syncTree_,n)}node(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)}}const generateWithValues=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},resolveDeferredLeafValue=function(t,e,n){if(!t||typeof t!="object")return t;if(assert(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return resolveScalarDeferredValue(t[".sv"],e,n);if(typeof t[".sv"]=="object")return resolveComplexDeferredValue(t[".sv"],e);assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},resolveScalarDeferredValue=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:assert(!1,"Unexpected server value: "+t)}},resolveComplexDeferredValue=function(t,e,n){t.hasOwnProperty("increment")||assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&assert(!1,"Unexpected increment value: "+r);const o=e.node();if(assert(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const a=o.getValue();return typeof a!="number"?r:a+r},resolveDeferredValueTree=function(t,e,n,r){return resolveDeferredValue(e,new DeferredValueProvider(n,t),r)},resolveDeferredValueSnapshot=function(t,e,n){return resolveDeferredValue(t,new ExistingValueProvider(e),n)};function resolveDeferredValue(t,e,n){const r=t.getPriority().val(),o=resolveDeferredLeafValue(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,c=resolveDeferredLeafValue(a.getValue(),e,n);return c!==a.getValue()||o!==a.getPriority().val()?new LeafNode(c,nodeFromJSON(o)):t}else{const a=t;return s=a,o!==a.getPriority().val()&&(s=s.updatePriority(new LeafNode(o))),a.forEachChild(PRIORITY_INDEX,(c,d)=>{const f=resolveDeferredValue(d,e.getImmediateChild(c),n);f!==d&&(s=s.updateImmediateChild(c,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tree{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function treeSubTree(t,e){let n=e instanceof Path?e:new Path(e),r=t,o=pathGetFront(n);for(;o!==null;){const s=safeGet(r.node.children,o)||{children:{},childCount:0};r=new Tree(o,r,s),n=pathPopFront(n),o=pathGetFront(n)}return r}function treeGetValue(t){return t.node.value}function treeSetValue(t,e){t.node.value=e,treeUpdateParents(t)}function treeHasChildren(t){return t.node.childCount>0}function treeIsEmpty(t){return treeGetValue(t)===void 0&&!treeHasChildren(t)}function treeForEachChild(t,e){each(t.node.children,(n,r)=>{e(new Tree(n,t,r))})}function treeForEachDescendant(t,e,n,r){n&&!r&&e(t),treeForEachChild(t,o=>{treeForEachDescendant(o,e,!0,r)}),n&&r&&e(t)}function treeForEachAncestor(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function treeGetPath(t){return new Path(t.parent===null?t.name:treeGetPath(t.parent)+"/"+t.name)}function treeUpdateParents(t){t.parent!==null&&treeUpdateChild(t.parent,t.name,t)}function treeUpdateChild(t,e,n){const r=treeIsEmpty(n),o=contains(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,treeUpdateParents(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,treeUpdateParents(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,MAX_LEAF_SIZE_=10*1024*1024,isValidKey=function(t){return typeof t=="string"&&t.length!==0&&!INVALID_KEY_REGEX_.test(t)},isValidPathString=function(t){return typeof t=="string"&&t.length!==0&&!INVALID_PATH_REGEX_.test(t)},isValidRootPathString=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString(t)},isValidPriority=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!isInvalidJSONNumber(t)||t&&typeof t=="object"&&contains(t,".sv")},validateFirebaseDataArg=function(t,e,n,r){r&&e===void 0||validateFirebaseData(errorPrefix(t,"value"),e,n)},validateFirebaseData=function(t,e,n){const r=n instanceof Path?new ValidationPath(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+validationPathToErrorString(r));if(typeof e=="function")throw new Error(t+"contains a function "+validationPathToErrorString(r)+" with contents = "+e.toString());if(isInvalidJSONNumber(e))throw new Error(t+"contains "+e.toString()+" "+validationPathToErrorString(r));if(typeof e=="string"&&e.length>MAX_LEAF_SIZE_/3&&stringLength(e)>MAX_LEAF_SIZE_)throw new Error(t+"contains a string greater than "+MAX_LEAF_SIZE_+" utf8 bytes "+validationPathToErrorString(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,s=!1;if(each(e,(a,c)=>{if(a===".value")o=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!isValidKey(a)))throw new Error(t+" contains an invalid key ("+a+") "+validationPathToErrorString(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);validationPathPush(r,a),validateFirebaseData(t,c,r),validationPathPop(r)}),o&&s)throw new Error(t+' contains ".value" child '+validationPathToErrorString(r)+" in addition to actual children.")}},validateFirebaseMergePaths=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=pathSlice(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!isValidKey(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(pathCompare);let o=null;for(n=0;n<e.length;n++){if(r=e[n],o!==null&&pathContains(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},validateFirebaseMergeDataArg=function(t,e,n,r){if(r&&e===void 0)return;const o=errorPrefix(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const s=[];each(e,(a,c)=>{const d=new Path(a);if(validateFirebaseData(o,c,pathChild(n,d)),pathGetBack(d)===".priority"&&!isValidPriority(c))throw new Error(o+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(d)}),validateFirebaseMergePaths(o,s)},validatePathString=function(t,e,n,r){if(!(r&&n===void 0)&&!isValidPathString(n))throw new Error(errorPrefix(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},validateRootPathString=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),validatePathString(t,e,n,r)},validateWritablePath=function(t,e){if(pathGetFront(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},validateUrl=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!isValidKey(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!isValidRootPathString(n))throw new Error(errorPrefix(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eventQueueQueueEvents(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],s=o.getPath();n!==null&&!pathEquals(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(o)}n&&t.eventLists_.push(n)}function eventQueueRaiseEventsAtPath(t,e,n){eventQueueQueueEvents(t,n),eventQueueRaiseQueuedEventsMatchingPredicate(t,r=>pathEquals(r,e))}function eventQueueRaiseEventsForChangedPath(t,e,n){eventQueueQueueEvents(t,n),eventQueueRaiseQueuedEventsMatchingPredicate(t,r=>pathContains(r,e)||pathContains(e,r))}function eventQueueRaiseQueuedEventsMatchingPredicate(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const s=o.path;e(s)?(eventListRaise(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function eventListRaise(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();logger&&log("event: "+n.toString()),exceptionGuard(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INTERRUPT_REASON="repo_interrupt",MAX_TRANSACTION_RETRIES=25;class Repo{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function repoStart(t,e,n){if(t.stats_=statsManagerGetCollection(t.repoInfo_),t.forceRestClient_||beingCrawled())t.server_=new ReadonlyRestClient(t.repoInfo_,(r,o,s,a)=>{repoOnDataUpdate(t,r,o,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>repoOnConnectStatus(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{stringify(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new PersistentConnection(t.repoInfo_,e,(r,o,s,a)=>{repoOnDataUpdate(t,r,o,s,a)},r=>{repoOnConnectStatus(t,r)},r=>{repoOnServerInfoUpdate(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=statsManagerGetOrCreateReporter(t.repoInfo_,()=>new StatsReporter(t.stats_,t.server_)),t.infoData_=new SnapshotHolder,t.infoSyncTree_=new SyncTree({startListening:(r,o,s,a)=>{let c=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(c=syncTreeApplyServerOverwrite(t.infoSyncTree_,r._path,d),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),repoUpdateInfo(t,"connected",!1),t.serverSyncTree_=new SyncTree({startListening:(r,o,s,a)=>(t.server_.listen(r,s,o,(c,d)=>{const f=a(c,d);eventQueueRaiseEventsForChangedPath(t.eventQueue_,r._path,f)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function repoServerTime(t){const n=t.infoData_.getNode(new Path(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function repoGenerateServerValues(t){return generateWithValues({timestamp:repoServerTime(t)})}function repoOnDataUpdate(t,e,n,r,o){t.dataUpdateCount++;const s=new Path(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(o)if(r){const d=map$1(n,f=>nodeFromJSON(f));a=syncTreeApplyTaggedQueryMerge(t.serverSyncTree_,s,d,o)}else{const d=nodeFromJSON(n);a=syncTreeApplyTaggedQueryOverwrite(t.serverSyncTree_,s,d,o)}else if(r){const d=map$1(n,f=>nodeFromJSON(f));a=syncTreeApplyServerMerge(t.serverSyncTree_,s,d)}else{const d=nodeFromJSON(n);a=syncTreeApplyServerOverwrite(t.serverSyncTree_,s,d)}let c=s;a.length>0&&(c=repoRerunTransactions(t,s)),eventQueueRaiseEventsForChangedPath(t.eventQueue_,c,a)}function repoOnConnectStatus(t,e){repoUpdateInfo(t,"connected",e),e===!1&&repoRunOnDisconnectEvents(t)}function repoOnServerInfoUpdate(t,e){each(e,(n,r)=>{repoUpdateInfo(t,n,r)})}function repoUpdateInfo(t,e,n){const r=new Path("/.info/"+e),o=nodeFromJSON(n);t.infoData_.updateSnapshot(r,o);const s=syncTreeApplyServerOverwrite(t.infoSyncTree_,r,o);eventQueueRaiseEventsForChangedPath(t.eventQueue_,r,s)}function repoGetNextWriteId(t){return t.nextWriteId_++}function repoGetValue(t,e,n){const r=syncTreeGetServerValue(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(o=>{const s=nodeFromJSON(o).withIndex(e._queryParams.getIndex());syncTreeAddEventRegistration(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=syncTreeApplyServerOverwrite(t.serverSyncTree_,e._path,s);else{const c=syncTreeTagForQuery(t.serverSyncTree_,e);a=syncTreeApplyTaggedQueryOverwrite(t.serverSyncTree_,e._path,s,c)}return eventQueueRaiseEventsForChangedPath(t.eventQueue_,e._path,a),syncTreeRemoveEventRegistration(t.serverSyncTree_,e,n,null,!0),s},o=>(repoLog(t,"get for query "+stringify(e)+" failed: "+o),Promise.reject(new Error(o))))}function repoSetWithPriority(t,e,n,r,o){repoLog(t,"set",{path:e.toString(),value:n,priority:r});const s=repoGenerateServerValues(t),a=nodeFromJSON(n,r),c=syncTreeCalcCompleteEventCache(t.serverSyncTree_,e),d=resolveDeferredValueSnapshot(a,c,s),f=repoGetNextWriteId(t),g=syncTreeApplyUserOverwrite(t.serverSyncTree_,e,d,f,!0);eventQueueQueueEvents(t.eventQueue_,g),t.server_.put(e.toString(),a.val(!0),(_,y)=>{const C=_==="ok";C||warn("set at "+e+" failed: "+_);const S=syncTreeAckUserWrite(t.serverSyncTree_,f,!C);eventQueueRaiseEventsForChangedPath(t.eventQueue_,e,S),repoCallOnCompleteCallback(t,o,_,y)});const v=repoAbortTransactions(t,e);repoRerunTransactions(t,v),eventQueueRaiseEventsForChangedPath(t.eventQueue_,v,[])}function repoUpdate(t,e,n,r){repoLog(t,"update",{path:e.toString(),value:n});let o=!0;const s=repoGenerateServerValues(t),a={};if(each(n,(c,d)=>{o=!1,a[c]=resolveDeferredValueTree(pathChild(e,c),nodeFromJSON(d),t.serverSyncTree_,s)}),o)log("update() called with empty data.  Don't do anything."),repoCallOnCompleteCallback(t,r,"ok",void 0);else{const c=repoGetNextWriteId(t),d=syncTreeApplyUserMerge(t.serverSyncTree_,e,a,c);eventQueueQueueEvents(t.eventQueue_,d),t.server_.merge(e.toString(),n,(f,g)=>{const v=f==="ok";v||warn("update at "+e+" failed: "+f);const _=syncTreeAckUserWrite(t.serverSyncTree_,c,!v),y=_.length>0?repoRerunTransactions(t,e):e;eventQueueRaiseEventsForChangedPath(t.eventQueue_,y,_),repoCallOnCompleteCallback(t,r,f,g)}),each(n,f=>{const g=repoAbortTransactions(t,pathChild(e,f));repoRerunTransactions(t,g)}),eventQueueRaiseEventsForChangedPath(t.eventQueue_,e,[])}}function repoRunOnDisconnectEvents(t){repoLog(t,"onDisconnectEvents");const e=repoGenerateServerValues(t),n=newSparseSnapshotTree();sparseSnapshotTreeForEachTree(t.onDisconnect_,newEmptyPath(),(o,s)=>{const a=resolveDeferredValueTree(o,s,t.serverSyncTree_,e);sparseSnapshotTreeRemember(n,o,a)});let r=[];sparseSnapshotTreeForEachTree(n,newEmptyPath(),(o,s)=>{r=r.concat(syncTreeApplyServerOverwrite(t.serverSyncTree_,o,s));const a=repoAbortTransactions(t,o);repoRerunTransactions(t,a)}),t.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath(t.eventQueue_,newEmptyPath(),r)}function repoAddEventCallbackForQuery(t,e,n){let r;pathGetFront(e._path)===".info"?r=syncTreeAddEventRegistration(t.infoSyncTree_,e,n):r=syncTreeAddEventRegistration(t.serverSyncTree_,e,n),eventQueueRaiseEventsAtPath(t.eventQueue_,e._path,r)}function repoRemoveEventCallbackForQuery(t,e,n){let r;pathGetFront(e._path)===".info"?r=syncTreeRemoveEventRegistration(t.infoSyncTree_,e,n):r=syncTreeRemoveEventRegistration(t.serverSyncTree_,e,n),eventQueueRaiseEventsAtPath(t.eventQueue_,e._path,r)}function repoInterrupt(t){t.persistentConnection_&&t.persistentConnection_.interrupt(INTERRUPT_REASON)}function repoLog(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),log(n,...e)}function repoCallOnCompleteCallback(t,e,n,r){e&&exceptionGuard(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let s=o;r&&(s+=": "+r);const a=new Error(s);a.code=o,e(a)}})}function repoGetLatestState(t,e,n){return syncTreeCalcCompleteEventCache(t.serverSyncTree_,e,n)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions(t,e=t.transactionQueueTree_){if(e||repoPruneCompletedTransactionsBelowNode(t,e),treeGetValue(e)){const n=repoBuildTransactionQueue(t,e);assert(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&repoSendTransactionQueue(t,treeGetPath(e),n)}else treeHasChildren(e)&&treeForEachChild(e,n=>{repoSendReadyTransactions(t,n)})}function repoSendTransactionQueue(t,e,n){const r=n.map(f=>f.currentWriteId),o=repoGetLatestState(t,e,r);let s=o;const a=o.hash();for(let f=0;f<n.length;f++){const g=n[f];assert(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=newRelativePath(e,g.path);s=s.updateChild(v,g.currentOutputSnapshotRaw)}const c=s.val(!0),d=e;t.server_.put(d.toString(),c,f=>{repoLog(t,"transaction put response",{path:d.toString(),status:f});let g=[];if(f==="ok"){const v=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(syncTreeAckUserWrite(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&v.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();repoPruneCompletedTransactionsBelowNode(t,treeSubTree(t.transactionQueueTree_,e)),repoSendReadyTransactions(t,t.transactionQueueTree_),eventQueueRaiseEventsForChangedPath(t.eventQueue_,e,g);for(let _=0;_<v.length;_++)exceptionGuard(v[_])}else{if(f==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{warn("transaction at "+d.toString()+" failed: "+f);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=f}repoRerunTransactions(t,e)}},a)}function repoRerunTransactions(t,e){const n=repoGetAncestorTransactionNode(t,e),r=treeGetPath(n),o=repoBuildTransactionQueue(t,n);return repoRerunTransactionQueue(t,o,r),r}function repoRerunTransactionQueue(t,e,n){if(e.length===0)return;const r=[];let o=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],f=newRelativePath(n,d.path);let g=!1,v;if(assert(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,v=d.abortReason,o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=MAX_TRANSACTION_RETRIES)g=!0,v="maxretry",o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,d.currentWriteId,!0));else{const _=repoGetLatestState(t,d.path,a);d.currentInputSnapshot=_;const y=e[c].update(_.val());if(y!==void 0){validateFirebaseData("transaction failed: Data returned ",y,d.path);let C=nodeFromJSON(y);typeof y=="object"&&y!=null&&contains(y,".priority")||(C=C.updatePriority(_.getPriority()));const x=d.currentWriteId,A=repoGenerateServerValues(t),T=resolveDeferredValueSnapshot(C,_,A);d.currentOutputSnapshotRaw=C,d.currentOutputSnapshotResolved=T,d.currentWriteId=repoGetNextWriteId(t),a.splice(a.indexOf(x),1),o=o.concat(syncTreeApplyUserOverwrite(t.serverSyncTree_,d.path,T,d.currentWriteId,d.applyLocally)),o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,x,!0))}else g=!0,v="nodata",o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,d.currentWriteId,!0))}eventQueueRaiseEventsForChangedPath(t.eventQueue_,n,o),o=[],g&&(e[c].status=2,function(_){setTimeout(_,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(v==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(v),!1,null))))}repoPruneCompletedTransactionsBelowNode(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)exceptionGuard(r[c]);repoSendReadyTransactions(t,t.transactionQueueTree_)}function repoGetAncestorTransactionNode(t,e){let n,r=t.transactionQueueTree_;for(n=pathGetFront(e);n!==null&&treeGetValue(r)===void 0;)r=treeSubTree(r,n),e=pathPopFront(e),n=pathGetFront(e);return r}function repoBuildTransactionQueue(t,e){const n=[];return repoAggregateTransactionQueuesForNode(t,e,n),n.sort((r,o)=>r.order-o.order),n}function repoAggregateTransactionQueuesForNode(t,e,n){const r=treeGetValue(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);treeForEachChild(e,o=>{repoAggregateTransactionQueuesForNode(t,o,n)})}function repoPruneCompletedTransactionsBelowNode(t,e){const n=treeGetValue(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,treeSetValue(e,n.length>0?n:void 0)}treeForEachChild(e,r=>{repoPruneCompletedTransactionsBelowNode(t,r)})}function repoAbortTransactions(t,e){const n=treeGetPath(repoGetAncestorTransactionNode(t,e)),r=treeSubTree(t.transactionQueueTree_,e);return treeForEachAncestor(r,o=>{repoAbortTransactionsOnNode(t,o)}),repoAbortTransactionsOnNode(t,r),treeForEachDescendant(r,o=>{repoAbortTransactionsOnNode(t,o)}),n}function repoAbortTransactionsOnNode(t,e){const n=treeGetValue(e);if(n){const r=[];let o=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(assert(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(assert(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?treeSetValue(e,void 0):n.length=s+1,eventQueueRaiseEventsForChangedPath(t.eventQueue_,treeGetPath(e),o);for(let a=0;a<r.length;a++)exceptionGuard(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodePath(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function decodeQuery(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):warn(`Invalid query segment '${n}' in query '${t}'`)}return e}const parseRepoInfo=function(t,e){const n=parseDatabaseURL(t),r=n.namespace;n.domain==="firebase.com"&&fatal(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||warnIfPageIsSecure();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new RepoInfo(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new Path(n.pathString)}},parseDatabaseURL=function(t){let e="",n="",r="",o="",s="",a=!0,c="https",d=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(c=t.substring(0,f-1),t=t.substring(f+2));let g=t.indexOf("/");g===-1&&(g=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(g,v)),g<v&&(o=decodePath(t.substring(g,v)));const _=decodeQuery(t.substring(Math.min(t.length,v)));f=e.indexOf(":"),f>=0?(a=c==="https"||c==="wss",d=parseInt(e.substring(f+1),10)):f=e.length;const y=e.slice(0,f);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),n=e.substring(C+1),s=r}"ns"in _&&(s=_.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:a,scheme:c,pathString:o,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PUSH_CHARS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nextPushId=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let o;const s=new Array(8);for(o=7;o>=0;o--)s[o]=PUSH_CHARS.charAt(n%64),n=Math.floor(n/64);assert(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)a+=PUSH_CHARS.charAt(e[o]);return assert(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DataEvent{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+stringify(this.snapshot.exportVal())}}class CancelEvent{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CallbackContext{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryImpl{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){const e=queryParamsGetQueryObject(this._queryParams),n=ObjectToUniqueKey(e);return n==="{}"?"default":n}get _queryObject(){return queryParamsGetQueryObject(this._queryParams)}isEqual(e){if(e=getModularInstance(e),!(e instanceof QueryImpl))return!1;const n=this._repo===e._repo,r=pathEquals(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+pathToUrlEncodedString(this._path)}}class ReferenceImpl extends QueryImpl{constructor(e,n){super(e,n,new QueryParams,!1)}get parent(){const e=pathParent(this._path);return e===null?null:new ReferenceImpl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class DataSnapshot{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Path(e),r=child(this.ref,e);return new DataSnapshot(this._node.getChild(n),r,PRIORITY_INDEX)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new DataSnapshot(o,child(this.ref,r),PRIORITY_INDEX)))}hasChild(e){const n=new Path(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ref(t,e){return t=getModularInstance(t),t._checkNotDeleted("ref"),e!==void 0?child(t._root,e):t._root}function child(t,e){return t=getModularInstance(t),pathGetFront(t._path)===null?validateRootPathString("child","path",e,!1):validatePathString("child","path",e,!1),new ReferenceImpl(t._repo,pathChild(t._path,e))}function push$1(t,e){t=getModularInstance(t),validateWritablePath("push",t._path),validateFirebaseDataArg("push",e,t._path,!0);const n=repoServerTime(t._repo),r=nextPushId(n),o=child(t,r),s=child(t,r);let a;return e!=null?a=set$1(s,e).then(()=>s):a=Promise.resolve(s),o.then=a.then.bind(a),o.catch=a.then.bind(a,void 0),o}function set$1(t,e){t=getModularInstance(t),validateWritablePath("set",t._path),validateFirebaseDataArg("set",e,t._path,!1);const n=new Deferred;return repoSetWithPriority(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function update(t,e){validateFirebaseMergeDataArg("update",e,t._path,!1);const n=new Deferred;return repoUpdate(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function get(t){t=getModularInstance(t);const e=new CallbackContext(()=>{}),n=new ValueEventRegistration(e);return repoGetValue(t._repo,t,n).then(r=>new DataSnapshot(r,new ReferenceImpl(t._repo,t._path),t._queryParams.getIndex()))}class ValueEventRegistration{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot(e.snapshotNode,new ReferenceImpl(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new CancelEvent(this,e,n):null}matches(e){return e instanceof ValueEventRegistration?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ChildEventRegistration{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new CancelEvent(this,e,n):null}createEvent(e,n){assert(e.childName!=null,"Child events should have a childName.");const r=child(new ReferenceImpl(n._repo,n._path),e.childName),o=n._queryParams.getIndex();return new DataEvent(e.type,this,new DataSnapshot(e.snapshotNode,r,o),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ChildEventRegistration?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function addEventListener(t,e,n,r,o){let s;if(typeof r=="object"&&(s=void 0,o=r),typeof r=="function"&&(s=r),o&&o.onlyOnce){const d=n,f=(g,v)=>{repoRemoveEventCallbackForQuery(t._repo,t,c),d(g,v)};f.userCallback=n.userCallback,f.context=n.context,n=f}const a=new CallbackContext(n,s||void 0),c=e==="value"?new ValueEventRegistration(a):new ChildEventRegistration(e,a);return repoAddEventCallbackForQuery(t._repo,t,c),()=>repoRemoveEventCallbackForQuery(t._repo,t,c)}function onValue(t,e,n,r){return addEventListener(t,"value",e,n,r)}syncPointSetReferenceConstructor(ReferenceImpl);syncTreeSetReferenceConstructor(ReferenceImpl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_DATABASE_EMULATOR_HOST_VAR="FIREBASE_DATABASE_EMULATOR_HOST",repos={};let useRestClient=!1;function repoManagerApplyEmulatorSettings(t,e,n,r){t.repoInfo_=new RepoInfo(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function repoManagerDatabaseFromApp(t,e,n,r,o){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=parseRepoInfo(s,o),c=a.repoInfo,d,f;typeof process<"u"&&{}&&(f={}[FIREBASE_DATABASE_EMULATOR_HOST_VAR]),f?(d=!0,s=`http://${f}?ns=${c.namespace}`,a=parseRepoInfo(s,o),c=a.repoInfo):d=!a.repoInfo.secure;const g=o&&d?new EmulatorTokenProvider(EmulatorTokenProvider.OWNER):new FirebaseAuthTokenProvider(t.name,t.options,e);validateUrl("Invalid Firebase Database URL",a),pathIsEmpty(a.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");const v=repoManagerCreateRepo(c,t,g,new AppCheckTokenProvider(t.name,n));return new Database(v,t)}function repoManagerDeleteRepo(t,e){const n=repos[e];(!n||n[t.key]!==t)&&fatal(`Database ${e}(${t.repoInfo_}) has already been deleted.`),repoInterrupt(t),delete n[t.key]}function repoManagerCreateRepo(t,e,n,r){let o=repos[e.name];o||(o={},repos[e.name]=o);let s=o[t.toURLString()];return s&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Repo(t,useRestClient,n,r),o[t.toURLString()]=s,s}class Database{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}_delete(){return this._rootInternal!==null&&(repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fatal("Cannot call "+e+" on a deleted database.")}}function getDatabase(t=getApp(),e){const n=_getProvider(t,"database").getImmediate({identifier:e}),r=getDefaultEmulatorHostnameAndPort("database");return r&&connectDatabaseEmulator(n,...r),n}function connectDatabaseEmulator(t,e,n,r={}){t=getModularInstance(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&fatal("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&fatal('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new EmulatorTokenProvider(EmulatorTokenProvider.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:createMockUserToken(r.mockUserToken,t.app.options.projectId);s=new EmulatorTokenProvider(a)}repoManagerApplyEmulatorSettings(o,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerDatabase(t){setSDKVersion(SDK_VERSION$1),_registerComponent(new Component("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return repoManagerDatabaseFromApp(r,o,s,n)},"PUBLIC").setMultipleInstances(!0)),registerVersion(name$1,version$1,t),registerVersion(name$1,version$1,"esm2017")}PersistentConnection.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};PersistentConnection.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};registerDatabase();function __rest(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function _prodErrorMap(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logError(t,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION$1}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(t,...e){throw createErrorInternal(t,...e)}function _createError(t,...e){return createErrorInternal(t,...e)}function _errorWithCustomMessage(t,e,n){const r=Object.assign(Object.assign({},prodErrorMap()),{[e]:n});return new ErrorFactory("auth","Firebase",r).create(e,{appName:t.name})}function createErrorInternal(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _DEFAULT_AUTH_ERROR_FACTORY.create(t,...e)}function _assert(t,e,...n){if(!t)throw createErrorInternal(e,...n)}function debugFail(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _logError(e),new Error(e)}function debugAssert(t,e){t||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(t){debugAssert(t instanceof Function,"Expected a class definition");let e=instanceCache.get(t);return e?(debugAssert(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,instanceCache.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(t,e){const n=_getProvider(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),s=n.getOptions();if(deepEqual(s,e!=null?e:{}))return o;_fail(o,"already-initialized")}return n.initialize({options:e})}function _initializeAuthInstance(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_getInstance);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,n){this.shortDelay=e,this.longDelay=n,debugAssert(n>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(t,e){debugAssert(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _performApiRequest(t,e,n,r,o={}){return _performFetchWithErrorHandling(t,o,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=querystring(Object.assign({key:t.config.apiKey},a)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),FetchProvider.fetch()(_getFinalTarget(t,t.config.apiHost,n,c),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},s))})}async function _performFetchWithErrorHandling(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const o=new NetworkTimeout(t),s=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw _makeTaggedError(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw _makeTaggedError(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw _makeTaggedError(t,"user-disabled",a);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw _errorWithCustomMessage(t,g,f);_fail(t,g)}}catch(o){if(o instanceof FirebaseError)throw o;_fail(t,"network-request-failed")}}async function _performSignInRequest(t,e,n,r,o={}){const s=await _performApiRequest(t,e,n,r,o);return"mfaPendingCredential"in s&&_fail(t,"multi-factor-auth-required",{_serverResponse:s}),s}function _getFinalTarget(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?_emulatorUrl(t.config,o):`${t.config.apiScheme}://${o}`}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=_createError(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(t,e){return _performApiRequest(t,"POST","/v1/accounts:delete",e)}async function getAccountInfo(t,e){return _performApiRequest(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(t,e=!1){const n=getModularInstance(t),r=await n.getIdToken(e),o=_parseToken(r);_assert(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s=typeof o.firebase=="object"?o.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:utcTimestampToDateString(secondsStringToMilliseconds(o.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(o.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(o.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function secondsStringToMilliseconds(t){return Number(t)*1e3}function _parseToken(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const o=base64Decode(n);return o?JSON.parse(o):(_logError("Failed to decode base64 JWT payload"),null)}catch(o){return _logError("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function _tokenExpiresIn(t){const e=_parseToken(t);return _assert(e,"internal-error"),_assert(typeof e.exp<"u","internal-error"),_assert(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof FirebaseError&&isUserInvalidated(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function isUserInvalidated({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(t){var e;const n=t.auth,r=await t.getIdToken(),o=await _logoutIfInvalidated(t,getAccountInfo(n,{idToken:r}));_assert(o==null?void 0:o.users.length,n,"internal-error");const s=o.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(s.providerUserInfo):[],c=mergeProviderData(t.providerData,a),d=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),g=d?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new UserMetadata(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function reload(t){const e=getModularInstance(t);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function extractProviderData(t){return t.map(e=>{var{providerId:n}=e,r=__rest(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(t,e){const n=await _performFetchWithErrorHandling(t,{},async()=>{const r=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:s}=t.config,a=_getFinalTarget(t,o,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken<"u","internal-error"),_assert(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return _assert(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:s}=await requestStsToken(e,n);this.updateTokensAndExpiration(r,o,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:s}=n,a=new StsTokenManager;return r&&(_assert(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),o&&(_assert(typeof o=="string","internal-error",{appName:e}),a.accessToken=o),s&&(_assert(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(t,e){_assert(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,s=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new UserMetadata(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,s,a,c,d,f,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(o=n.email)!==null&&o!==void 0?o:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(c=n.tenantId)!==null&&c!==void 0?c:void 0,x=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,A=(f=n.createdAt)!==null&&f!==void 0?f:void 0,T=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:E,emailVerified:L,isAnonymous:P,providerData:O,stsTokenManager:D}=n;_assert(E&&D,e,"internal-error");const N=StsTokenManager.fromJSON(this.name,D);_assert(typeof E=="string",e,"internal-error"),assertStringOrUndefined(v,e.name),assertStringOrUndefined(_,e.name),_assert(typeof L=="boolean",e,"internal-error"),_assert(typeof P=="boolean",e,"internal-error"),assertStringOrUndefined(y,e.name),assertStringOrUndefined(C,e.name),assertStringOrUndefined(S,e.name),assertStringOrUndefined(x,e.name),assertStringOrUndefined(A,e.name),assertStringOrUndefined(T,e.name);const B=new UserImpl({uid:E,auth:e,email:_,emailVerified:L,displayName:v,isAnonymous:P,photoURL:C,phoneNumber:y,tenantId:S,stsTokenManager:N,createdAt:A,lastLoginAt:T});return O&&Array.isArray(O)&&(B.providerData=O.map(q=>Object.assign({},q))),x&&(B._redirectEventId=x),B}static async _fromIdTokenResponse(e,n,r=!1){const o=new StsTokenManager;o.updateFromServerResponse(n);const s=new UserImpl({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await _reloadWithoutSaving(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(t,e,n){return`firebase:${t}:${e}:${n}`}class PersistenceUserManager{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:s}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,o.apiKey,s),this.fullPersistenceKey=_persistenceKeyName("persistence",o.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,r);const o=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=o[0]||_getInstance(inMemoryPersistence);const a=_persistenceKeyName(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const g=await f._get(a);if(g){const v=UserImpl._fromJSON(e,g);f!==s&&(c=v),s=f;break}}catch{}const d=o.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new PersistenceUserManager(s,e,r):(s=d[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new PersistenceUserManager(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _isFirefox(t=getUA()){return/firefox\//i.test(t)}function _isSafari(t=getUA()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(t=getUA()){return/crios\//i.test(t)}function _isIEMobile(t=getUA()){return/iemobile/i.test(t)}function _isAndroid(t=getUA()){return/android/i.test(t)}function _isBlackBerry(t=getUA()){return/blackberry/i.test(t)}function _isWebOS(t=getUA()){return/webos/i.test(t)}function _isIOS(t=getUA()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _isIOSStandalone(t=getUA()){var e;return _isIOS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(t=getUA()){return _isIOS(t)||_isAndroid(t)||_isWebOS(t)||_isBlackBerry(t)||/windows phone/i.test(t)||_isIEMobile(t)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(t,e=[]){let n;switch(t){case"Browser":n=_getBrowserName(getUA());break;case"Worker":n=`${_getBrowserName(getUA())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${SDK_VERSION$1}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{const d=e(s);a(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_getInstance(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&(d==null?void 0:d.user)&&(o=d.user,s=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(o)}catch(a){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?getModularInstance(e):null;return n&&_assert(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_getInstance(e)||this._popupRedirectResolver;_assert(n,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,o):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function _castAuth(t){return getModularInstance(t)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(n=>this.observer=n)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function connectAuthEmulator(t,e,n){const r=_castAuth(t);_assert(r._canInitEmulator,r,"emulator-config-failed"),_assert(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),s=extractProtocol(e),{host:a,port:c}=extractHostAndPort(e),d=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||emitEmulatorWarning()}function extractProtocol(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function extractHostAndPort(t){const e=extractProtocol(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const s=o[1];return{host:s,port:parsePort(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:parsePort(a)}}}function parsePort(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function emitEmulatorWarning(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,n){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function updateEmailPassword(t,e){return _performApiRequest(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}async function signInWithEmailLinkForLinking(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new EmailAuthCredential(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new EmailAuthCredential(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return signInWithPassword(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return updateEmailPassword(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:n,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_fail("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,s=__rest(n,["providerId","signInMethod"]);if(!r||!o)return null;const a=new OAuthCredential(r,o);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return signInWithIdp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,signInWithIdp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,signInWithIdp(e,n)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=querystring(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(t){const e=querystringDecode(extractQuerystring(t)).link,n=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,r=querystringDecode(extractQuerystring(t)).deep_link_id;return(r?querystringDecode(extractQuerystring(r)).link:null)||r||n||e||t}class ActionCodeURL{constructor(e){var n,r,o,s,a,c;const d=querystringDecode(extractQuerystring(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,v=parseMode((o=d.mode)!==null&&o!==void 0?o:null);_assert(f&&g&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=g,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=parseDeepLink(e);try{return new ActionCodeURL(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,n){return EmailAuthCredential._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ActionCodeURL.parseLink(n);return _assert(r,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,r.code,r.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return GoogleAuthProvider.credential(n,r)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,n){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return TwitterAuthProvider.credential(n,r)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signUp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const s=await UserImpl._fromIdTokenResponse(e,r,o),a=providerIdForResponse(r);return new UserCredentialImpl({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=providerIdForResponse(r);return new UserCredentialImpl({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function providerIdForResponse(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,n,r,o){var s;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new MultiFactorError(e,n,r,o)}}function _processCredentialSavingMfaContextIfNecessary(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(t,s,e,r):s})}async function _link$1(t,e,n=!1){const r=await _logoutIfInvalidated(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return UserCredentialImpl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(t,e,n=!1){const{auth:r}=t,o="reauthenticate";try{const s=await _logoutIfInvalidated(t,_processCredentialSavingMfaContextIfNecessary(r,o,e,t),n);_assert(s.idToken,r,"internal-error");const a=_parseToken(s.idToken);_assert(a,r,"internal-error");const{sub:c}=a;return _assert(t.uid===c,r,"user-mismatch"),UserCredentialImpl._forOperation(t,o,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_fail(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(t,e,n=!1){const r="signIn",o=await _processCredentialSavingMfaContextIfNecessary(t,r,e),s=await UserCredentialImpl._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(s.user),s}async function signInWithCredential(t,e){return _signInWithCredential(_castAuth(t),e)}async function createUserWithEmailAndPassword(t,e,n){const r=_castAuth(t),o=await signUp(r,{returnSecureToken:!0,email:e,password:n}),s=await UserCredentialImpl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function signInWithEmailAndPassword(t,e,n){return signInWithCredential(getModularInstance(t),EmailAuthProvider.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile$1(t,e){return _performApiRequest(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=getModularInstance(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await _logoutIfInvalidated(r,updateProfile$1(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function onIdTokenChanged(t,e,n,r){return getModularInstance(t).onIdTokenChanged(e,n,r)}function beforeAuthStateChanged(t,e,n){return getModularInstance(t).beforeAuthStateChanged(e,n)}function onAuthStateChanged(t,e,n,r){return getModularInstance(t).onAuthStateChanged(e,n,r)}function signOut(t){return getModularInstance(t).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const t=getUA();return _isSafari(t)||_isIOS(t)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const o=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);_isIE10()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IE10_LOCAL_STORAGE_SYNC_DELAY):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Receiver(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:s}=n.data,a=this.handlersMap[o];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const c=Array.from(a).map(async f=>f(n.origin,s)),d=await _allSettled(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,d)=>{const f=_generateEventId("",20);o.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(g),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(a),o.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[o.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(t){_window().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function getObjectStore(t,e){return t.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const t=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(t).toPromise()}function _openDatabase(){const t=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(r):(r.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(t,e,n){const r=getObjectStore(t,!0).put({[DB_DATA_KEYPATH]:e,value:n});return new DBPromise(r).toPromise()}async function getObject(t,e){const n=getObjectStore(t,!1).get(e),r=await new DBPromise(n).toPromise();return r===void 0?null:r.value}function _deleteObject(t,e){const n=getObjectStore(t,!0).delete(e);return new DBPromise(n).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_TRANSACTION_RETRY_COUNT)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_putObject(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>getObject(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_deleteObject(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const s=getObjectStore(o,!1).getAll();return new DBPromise(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:o,value:s}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const s=_createError("internal-error");s.customData=o,n(s)},r.type="text/javascript",r.charset="UTF-8",getScriptParentElement().appendChild(r)})}function _generateCallbackName(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(t,e){return e?_getInstance(e):(_assert(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return signInWithIdp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _signIn(t){return _signInWithCredential(t.auth,new IdpCredential(t),t.bypassAuthState)}function _reauth(t){const{auth:e,user:n}=t;return _assert(n,e,"internal-error"),_reauthenticate(n,new IdpCredential(t),t.bypassAuthState)}async function _link(t){const{auth:e,user:n}=t;return _assert(n,e,"internal-error"),_link$1(n,new IdpCredential(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,n,r,o,s=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,n,r,o,s){super(e,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const r=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(t,e){const n=pendingRedirectKey(e),r=resolverPersistence(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function _overrideRedirectResult(t,e){redirectOutcomeMap.set(t._key(),e)}function resolverPersistence(t){return _getInstance(t._redirectPersistence)}function pendingRedirectKey(t){return _persistenceKeyName(PENDING_REDIRECT_KEY,t.config.apiKey,t.name)}async function _getRedirectResult(t,e,n=!1){const r=_castAuth(t),o=_withDefaultResolver(r,e),a=await new RedirectAction(r,o,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!isNullRedirectEvent(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_createError(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(t,e={}){return _performApiRequest(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(t);for(const n of e)try{if(matchDomain(n))return}catch{}_fail(t,"unauthorized-domain")}function matchDomain(t){const e=_getCurrentUrl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!HTTP_REGEX.test(n))return!1;if(IP_ADDRESS_REGEX.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const t=_window().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function loadGapi(t){return new Promise((e,n)=>{var r,o,s;function a(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),n(_createError(t,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((o=(r=_window().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((s=_window().gapi)===null||s===void 0)&&s.load)a();else{const c=_generateCallbackName("iframefcb");return _window()[c]=()=>{gapi.load?a():n(_createError(t,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(t){return cachedGApiLoader=cachedGApiLoader||loadGapi(t),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(t){const e=t.config;_assert(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${t.config.authDomain}/${IFRAME_PATH}`,r={apiKey:e.apiKey,appName:t.name,v:SDK_VERSION$1},o=EID_FROM_APIHOST.get(t.config.apiHost);o&&(r.eid=o);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${querystring(r).slice(1)}`}async function _openIframe(t){const e=await _loadGapi(t),n=_window().gapi;return _assert(n,t,"internal-error"),e.open({where:document.body,url:getIframeUrl(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},r=>new Promise(async(o,s)=>{await r.restyle({setHideOnLeave:!1});const a=_createError(t,"network-request-failed"),c=_window().setTimeout(()=>{s(a)},PING_TIMEOUT.get());function d(){_window().clearTimeout(c),o(r)}r.ping(d).then(d,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(t,e,n,r=DEFAULT_WIDTH,o=DEFAULT_HEIGHT){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:r.toString(),height:o.toString(),top:s,left:a}),f=getUA().toLowerCase();n&&(c=_isChromeIOS(f)?TARGET_BLANK:n),_isFirefox(f)&&(e=e||FIREFOX_EMPTY_URL,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[y,C])=>`${_}${y}=${C},`,"");if(_isIOSStandalone(f)&&c!=="_self")return openAsNewWindowIOS(e||"",c),new AuthPopup(null);const v=window.open(e||"",c,g);_assert(v,t,"popup-blocked");try{v.focus()}catch{}return new AuthPopup(v)}function openAsNewWindowIOS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler";function _getRedirectUrl(t,e,n,r,o,s){_assert(t.config.authDomain,t,"auth-domain-config-required"),_assert(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:SDK_VERSION$1,eventId:o};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",isEmpty(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))a[d]=f}if(e instanceof BaseOAuthProvider){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const d of Object.keys(c))c[d]===void 0&&delete c[d];return`${getHandlerBase(t)}?${querystring(c).slice(1)}`}function getHandlerBase({config:t}){return t.emulator?_emulatorUrl(t,EMULATOR_WIDGET_PATH):`https://${t.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,n,r,o){var s;debugAssert((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=_getRedirectUrl(e,n,r,_getCurrentUrl(),o);return _open(e,a,_generateEventId())}async _openRedirect(e,n,r,o){return await this._originValidation(e),_setWindowLocation(_getRedirectUrl(e,n,r,_getCurrentUrl(),o)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:s}=this.eventManagers[n];return o?Promise.resolve(o):(debugAssert(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _openIframe(e),r=new AuthEventManager(e);return n.register("authEvent",o=>(_assert(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},o=>{var s;const a=(s=o==null?void 0:o[0])===null||s===void 0?void 0:s[WEB_STORAGE_SUPPORT_KEY];a!==void 0&&n(!!a),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_validateOrigin(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name="@firebase/auth",version="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth(t){_registerComponent(new Component("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),{apiKey:s,authDomain:a}=r.options;return((c,d)=>{_assert(s&&!s.includes(":"),"invalid-api-key",{appName:c.name}),_assert(!(a!=null&&a.includes(":")),"argument-error",{appName:c.name});const f={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(t)},g=new AuthImpl(c,d,f);return _initializeAuthInstance(g,n),g})(r,o)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const n=_castAuth(e.getProvider("auth").getImmediate());return(r=>new AuthInterop(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name,version,getVersionForPlatform(t)),registerVersion(name,version,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>authIdTokenMaxAge)return;const o=n==null?void 0:n.token;lastPostedIdToken!==o&&(lastPostedIdToken=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function getAuth(t=getApp()){const e=_getProvider(t,"auth");if(e.isInitialized())return e.getImmediate();const n=initializeAuth(t,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),r=getExperimentalSetting("authTokenSyncURL");if(r){const s=mintCookieFactory(r);beforeAuthStateChanged(n,s,()=>s(n.currentUser)),onIdTokenChanged(n,a=>s(a))}const o=getDefaultEmulatorHost("auth");return o&&connectAuthEmulator(n,`http://${o}`),n}registerAuth("Browser");const firebaseConfig={apiKey:"AIzaSyCIDQsbksT60mQxVsr2IDZwFsK54MyQwGA",authDomain:"legendary-randomizer-data.firebaseapp.com",databaseURL:"https://legendary-randomizer-data-default-rtdb.firebaseio.com",projectId:"legendary-randomizer-data",storageBucket:"legendary-randomizer-data.appspot.com",messagingSenderId:"330850882367",appId:"1:330850882367:web:8d2aae2fd681a3b2d0b98a"};initializeApp(firebaseConfig);const firebase={auth:getAuth(),child,signOut,updateProfile,get,onAuthStateChanged,getDatabase,ref,onValue,set:set$1,update,push:push$1,createUserWithEmailAndPassword,signInWithEmailAndPassword},remembered=t=>{const e=useStore();firebase.onAuthStateChanged(firebase.auth,n=>{e.userLoaded=!0,n&&(e.user=n,t.currentRoute.value.path=="/"&&t.push("/dashboard"))})},logIn=async(t,e,{email:n,password:r})=>{const o=await firebase.signInWithEmailAndPassword(firebase.auth,n,r).catch(()=>{t.snack={visible:!0,color:"error",text:"Invalid credentials"}});o&&(t.user=o.user,e.currentRoute.value.path=="/"&&e.push("/dashboard"))},logOut=async t=>{const e=useStore();await firebase.signOut(firebase.auth),e.user=null,t.push("/")},getUserData=t=>{const e=useStore(),n=`${t}/${e.user.uid}`,r=firebase.getDatabase(),o=firebase.ref(r,n);firebase.onValue(o,s=>{if(!s.val()){t=="game"&&(e.game=null,e.true=!1);return}e[t]=s.val(),t=="game"&&e.setExpiration()}),t=="game"&&(e.gameLoaded=!0)},schemes={primary:"scheme_name",secondary:"veiled"},masterminds={primary:"mastermind_name",secondary:"always_leads"},villains={primary:"villain_group"},henchmen={primary:"henchmen_name"},heroes={primary:"hero_name",secondary:"affiliation",colors:"colors"},tableFields={schemes,masterminds,villains,henchmen,heroes};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var lib$1={},util={};Object.defineProperty(util,"__esModule",{value:!0});util.fromObject=util.fromArray=util.weightFunc=void 0;function weightFunc(t){return Math.pow(Math.random(),1/t)}util.weightFunc=weightFunc;function fromArray(t){return t.map(function(e){return[e[0],weightFunc(e[1])]})}util.fromArray=fromArray;function fromObject(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push([n,weightFunc(t[n])]);return e}util.fromObject=fromObject;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=t.Direction=void 0;var e=util,n;(function(o){o.asc="asc",o.desc="desc"})(n=t.Direction||(t.Direction={}));function r(o,s){s===void 0&&(s=n.asc);var a=Array.isArray(o)?e.fromArray(o):e.fromObject(o);return a.sort(s===n.desc?function(c,d){return d[1]-c[1]}:function(c,d){return c[1]-d[1]}),a}t.default=r,t.shuffle=r})(lib$1);var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,g="__lodash_placeholder__",v=1,_=2,y=4,C=1,S=2,x=1,A=2,T=4,E=8,L=16,P=32,O=64,D=128,N=256,B=512,q=30,G="...",W=800,J=16,U=1,se=2,Y=3,Q=1/0,ae=9007199254740991,xe=17976931348623157e292,ve=0/0,Ce=4294967295,Oe=Ce-1,Ze=Ce>>>1,ye=[["ary",D],["bind",x],["bindKey",A],["curry",E],["curryRight",L],["flip",B],["partial",P],["partialRight",O],["rearg",N]],K="[object Arguments]",de="[object Array]",he="[object AsyncFunction]",we="[object Boolean]",Be="[object Date]",Xe="[object DOMException]",Le="[object Error]",R="[object Function]",M="[object GeneratorFunction]",j="[object Map]",Z="[object Number]",ce="[object Null]",fe="[object Object]",be="[object Promise]",pe="[object Proxy]",me="[object RegExp]",ie="[object Set]",Te="[object String]",Ee="[object Symbol]",Ie="[object Undefined]",Pe="[object WeakMap]",qe="[object WeakSet]",je="[object ArrayBuffer]",Ge="[object DataView]",nt="[object Float32Array]",yt="[object Float64Array]",Kt="[object Int8Array]",xn="[object Int16Array]",Jt="[object Int32Array]",An="[object Uint8Array]",ht="[object Uint8ClampedArray]",St="[object Uint16Array]",Rn="[object Uint32Array]",Qa=/\b__p \+= '';/g,Xa=/\b(__p \+=) '' \+/g,Ja=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ps=/&(?:amp|lt|gt|quot|#39);/g,ms=/[&<>"']/g,Za=RegExp(ps.source),tl=RegExp(ms.source),nl=/<%-([\s\S]+?)%>/g,rl=/<%([\s\S]+?)%>/g,gs=/<%=([\s\S]+?)%>/g,ol=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sl=/^\w*$/,il=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eo=/[\\^$.*+?()[\]{}|]/g,al=RegExp(eo.source),to=/^\s+/,cl=/\s/,ul=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,dl=/\{\n\/\* \[wrapped with (.+)\] \*/,fl=/,? & /,hl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pl=/[()=,{}\[\]\/\s]/,ml=/\\(\\)?/g,vl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vs=/\w*$/,_l=/^[-+]0x[0-9a-f]+$/i,yl=/^0b[01]+$/i,bl=/^\[object .+?Constructor\]$/,Cl=/^0o[0-7]+$/i,wl=/^(?:0|[1-9]\d*)$/,Sl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ar=/($^)/,El=/['\n\r\u2028\u2029\\]/g,lr="\\ud800-\\udfff",kl="\\u0300-\\u036f",Tl="\\ufe20-\\ufe2f",Il="\\u20d0-\\u20ff",_s=kl+Tl+Il,ys="\\u2700-\\u27bf",bs="a-z\\xdf-\\xf6\\xf8-\\xff",xl="\\xac\\xb1\\xd7\\xf7",Al="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rl="\\u2000-\\u206f",Pl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cs="A-Z\\xc0-\\xd6\\xd8-\\xde",ws="\\ufe0e\\ufe0f",Ss=xl+Al+Rl+Pl,no="['\u2019]",Nl="["+lr+"]",Es="["+Ss+"]",cr="["+_s+"]",ks="\\d+",Vl="["+ys+"]",Ts="["+bs+"]",Is="[^"+lr+Ss+ks+ys+bs+Cs+"]",ro="\\ud83c[\\udffb-\\udfff]",Ol="(?:"+cr+"|"+ro+")",xs="[^"+lr+"]",oo="(?:\\ud83c[\\udde6-\\uddff]){2}",so="[\\ud800-\\udbff][\\udc00-\\udfff]",Pn="["+Cs+"]",As="\\u200d",Rs="(?:"+Ts+"|"+Is+")",Dl="(?:"+Pn+"|"+Is+")",Ps="(?:"+no+"(?:d|ll|m|re|s|t|ve))?",Ns="(?:"+no+"(?:D|LL|M|RE|S|T|VE))?",Vs=Ol+"?",Os="["+ws+"]?",Fl="(?:"+As+"(?:"+[xs,oo,so].join("|")+")"+Os+Vs+")*",Ml="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$l="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ls=Os+Vs+Fl,Bl="(?:"+[Vl,oo,so].join("|")+")"+Ls,Ul="(?:"+[xs+cr+"?",cr,oo,so,Nl].join("|")+")",ql=RegExp(no,"g"),Hl=RegExp(cr,"g"),io=RegExp(ro+"(?="+ro+")|"+Ul+Ls,"g"),Wl=RegExp([Pn+"?"+Ts+"+"+Ps+"(?="+[Es,Pn,"$"].join("|")+")",Dl+"+"+Ns+"(?="+[Es,Pn+Rs,"$"].join("|")+")",Pn+"?"+Rs+"+"+Ps,Pn+"+"+Ns,$l,Ml,ks,Bl].join("|"),"g"),Gl=RegExp("["+As+lr+_s+ws+"]"),zl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kl=-1,tt={};tt[nt]=tt[yt]=tt[Kt]=tt[xn]=tt[Jt]=tt[An]=tt[ht]=tt[St]=tt[Rn]=!0,tt[K]=tt[de]=tt[je]=tt[we]=tt[Ge]=tt[Be]=tt[Le]=tt[R]=tt[j]=tt[Z]=tt[fe]=tt[me]=tt[ie]=tt[Te]=tt[Pe]=!1;var et={};et[K]=et[de]=et[je]=et[Ge]=et[we]=et[Be]=et[nt]=et[yt]=et[Kt]=et[xn]=et[Jt]=et[j]=et[Z]=et[fe]=et[me]=et[ie]=et[Te]=et[Ee]=et[An]=et[ht]=et[St]=et[Rn]=!0,et[Le]=et[R]=et[Pe]=!1;var Yl={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ql={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zl=parseFloat,ec=parseInt,Ds=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,tc=typeof self=="object"&&self&&self.Object===Object&&self,pt=Ds||tc||Function("return this")(),ao=e&&!e.nodeType&&e,yn=ao&&!0&&t&&!t.nodeType&&t,Fs=yn&&yn.exports===ao,lo=Fs&&Ds.process,Ot=function(){try{var $=yn&&yn.require&&yn.require("util").types;return $||lo&&lo.binding&&lo.binding("util")}catch{}}(),Ms=Ot&&Ot.isArrayBuffer,$s=Ot&&Ot.isDate,Bs=Ot&&Ot.isMap,Us=Ot&&Ot.isRegExp,qs=Ot&&Ot.isSet,Hs=Ot&&Ot.isTypedArray;function xt($,X,z){switch(z.length){case 0:return $.call(X);case 1:return $.call(X,z[0]);case 2:return $.call(X,z[0],z[1]);case 3:return $.call(X,z[0],z[1],z[2])}return $.apply(X,z)}function nc($,X,z,Se){for(var De=-1,Ke=$==null?0:$.length;++De<Ke;){var ut=$[De];X(Se,ut,z(ut),$)}return Se}function Dt($,X){for(var z=-1,Se=$==null?0:$.length;++z<Se&&X($[z],z,$)!==!1;);return $}function rc($,X){for(var z=$==null?0:$.length;z--&&X($[z],z,$)!==!1;);return $}function Ws($,X){for(var z=-1,Se=$==null?0:$.length;++z<Se;)if(!X($[z],z,$))return!1;return!0}function un($,X){for(var z=-1,Se=$==null?0:$.length,De=0,Ke=[];++z<Se;){var ut=$[z];X(ut,z,$)&&(Ke[De++]=ut)}return Ke}function ur($,X){var z=$==null?0:$.length;return!!z&&Nn($,X,0)>-1}function co($,X,z){for(var Se=-1,De=$==null?0:$.length;++Se<De;)if(z(X,$[Se]))return!0;return!1}function rt($,X){for(var z=-1,Se=$==null?0:$.length,De=Array(Se);++z<Se;)De[z]=X($[z],z,$);return De}function dn($,X){for(var z=-1,Se=X.length,De=$.length;++z<Se;)$[De+z]=X[z];return $}function uo($,X,z,Se){var De=-1,Ke=$==null?0:$.length;for(Se&&Ke&&(z=$[++De]);++De<Ke;)z=X(z,$[De],De,$);return z}function oc($,X,z,Se){var De=$==null?0:$.length;for(Se&&De&&(z=$[--De]);De--;)z=X(z,$[De],De,$);return z}function fo($,X){for(var z=-1,Se=$==null?0:$.length;++z<Se;)if(X($[z],z,$))return!0;return!1}var lc=ho("length");function cc($){return $.split("")}function uc($){return $.match(hl)||[]}function Gs($,X,z){var Se;return z($,function(De,Ke,ut){if(X(De,Ke,ut))return Se=Ke,!1}),Se}function dr($,X,z,Se){for(var De=$.length,Ke=z+(Se?1:-1);Se?Ke--:++Ke<De;)if(X($[Ke],Ke,$))return Ke;return-1}function Nn($,X,z){return X===X?wc($,X,z):dr($,zs,z)}function dc($,X,z,Se){for(var De=z-1,Ke=$.length;++De<Ke;)if(Se($[De],X))return De;return-1}function zs($){return $!==$}function js($,X){var z=$==null?0:$.length;return z?mo($,X)/z:ve}function ho($){return function(X){return X==null?n:X[$]}}function po($){return function(X){return $==null?n:$[X]}}function Ks($,X,z,Se,De){return De($,function(Ke,ut,Je){z=Se?(Se=!1,Ke):X(z,Ke,ut,Je)}),z}function fc($,X){var z=$.length;for($.sort(X);z--;)$[z]=$[z].value;return $}function mo($,X){for(var z,Se=-1,De=$.length;++Se<De;){var Ke=X($[Se]);Ke!==n&&(z=z===n?Ke:z+Ke)}return z}function go($,X){for(var z=-1,Se=Array($);++z<$;)Se[z]=X(z);return Se}function hc($,X){return rt(X,function(z){return[z,$[z]]})}function Ys($){return $&&$.slice(0,Zs($)+1).replace(to,"")}function At($){return function(X){return $(X)}}function vo($,X){return rt(X,function(z){return $[z]})}function Gn($,X){return $.has(X)}function Qs($,X){for(var z=-1,Se=$.length;++z<Se&&Nn(X,$[z],0)>-1;);return z}function Xs($,X){for(var z=$.length;z--&&Nn(X,$[z],0)>-1;);return z}function pc($,X){for(var z=$.length,Se=0;z--;)$[z]===X&&++Se;return Se}var mc=po(Yl),gc=po(Ql);function vc($){return"\\"+Jl[$]}function _c($,X){return $==null?n:$[X]}function Vn($){return Gl.test($)}function yc($){return zl.test($)}function bc($){for(var X,z=[];!(X=$.next()).done;)z.push(X.value);return z}function _o($){var X=-1,z=Array($.size);return $.forEach(function(Se,De){z[++X]=[De,Se]}),z}function Js($,X){return function(z){return $(X(z))}}function fn($,X){for(var z=-1,Se=$.length,De=0,Ke=[];++z<Se;){var ut=$[z];(ut===X||ut===g)&&($[z]=g,Ke[De++]=z)}return Ke}function fr($){var X=-1,z=Array($.size);return $.forEach(function(Se){z[++X]=Se}),z}function Cc($){var X=-1,z=Array($.size);return $.forEach(function(Se){z[++X]=[Se,Se]}),z}function wc($,X,z){for(var Se=z-1,De=$.length;++Se<De;)if($[Se]===X)return Se;return-1}function Ec($,X,z){for(var Se=z+1;Se--;)if($[Se]===X)return Se;return Se}function On($){return Vn($)?Tc($):lc($)}function Ht($){return Vn($)?Ic($):cc($)}function Zs($){for(var X=$.length;X--&&cl.test($.charAt(X)););return X}var kc=po(Xl);function Tc($){for(var X=io.lastIndex=0;io.test($);)++X;return X}function Ic($){return $.match(io)||[]}function xc($){return $.match(Wl)||[]}var Ac=function $(X){X=X==null?pt:Ln.defaults(pt.Object(),X,Ln.pick(pt,jl));var z=X.Array,Se=X.Date,De=X.Error,Ke=X.Function,ut=X.Math,Je=X.Object,yo=X.RegExp,Rc=X.String,Ft=X.TypeError,mr=z.prototype,Pc=Ke.prototype,Dn=Je.prototype,gr=X["__core-js_shared__"],vr=Pc.toString,Qe=Dn.hasOwnProperty,Nc=0,ei=function(){var l=/[^.]+$/.exec(gr&&gr.keys&&gr.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),_r=Dn.toString,Vc=vr.call(Je),Oc=pt._,Lc=yo("^"+vr.call(Qe).replace(eo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yr=Fs?X.Buffer:n,hn=X.Symbol,br=X.Uint8Array,ti=yr?yr.allocUnsafe:n,Cr=Js(Je.getPrototypeOf,Je),ri=Je.create,oi=Dn.propertyIsEnumerable,Sr=mr.splice,si=hn?hn.isConcatSpreadable:n,zn=hn?hn.iterator:n,bn=hn?hn.toStringTag:n,Er=function(){try{var l=kn(Je,"defineProperty");return l({},"",{}),l}catch{}}(),Dc=X.clearTimeout!==pt.clearTimeout&&X.clearTimeout,Fc=Se&&Se.now!==pt.Date.now&&Se.now,Mc=X.setTimeout!==pt.setTimeout&&X.setTimeout,kr=ut.ceil,Tr=ut.floor,bo=Je.getOwnPropertySymbols,$c=yr?yr.isBuffer:n,ai=X.isFinite,Bc=mr.join,Uc=Js(Je.keys,Je),dt=ut.max,vt=ut.min,qc=Se.now,Hc=X.parseInt,li=ut.random,Wc=mr.reverse,Co=kn(X,"DataView"),jn=kn(X,"Map"),wo=kn(X,"Promise"),Fn=kn(X,"Set"),Kn=kn(X,"WeakMap"),Yn=kn(Je,"create"),Ir=Kn&&new Kn,Mn={},Gc=Tn(Co),zc=Tn(jn),jc=Tn(wo),Kc=Tn(Fn),Yc=Tn(Kn),xr=hn?hn.prototype:n,Qn=xr?xr.valueOf:n,ci=xr?xr.toString:n;function k(l){if(st(l)&&!Fe(l)&&!(l instanceof We)){if(l instanceof Mt)return l;if(Qe.call(l,"__wrapped__"))return pa(l)}return new Mt(l)}var $n=function(){function l(){}return function(u){if(!ot(u))return{};if(ri)return ri(u);l.prototype=u;var m=new l;return l.prototype=n,m}}();function Ar(){}function Mt(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}k.templateSettings={escape:nl,evaluate:rl,interpolate:gs,variable:"",imports:{_:k}},k.prototype=Ar.prototype,k.prototype.constructor=k,Mt.prototype=$n(Ar.prototype),Mt.prototype.constructor=Mt;function We(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}function Qc(){var l=new We(this.__wrapped__);return l.__actions__=Et(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Et(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Et(this.__views__),l}function Xc(){if(this.__filtered__){var l=new We(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Jc(){var l=this.__wrapped__.value(),u=this.__dir__,m=Fe(l),b=u<0,w=m?l.length:0,I=gd(0,w,this.__views__),V=I.start,F=I.end,H=F-V,te=b?F:V-1,oe=this.__iteratees__,ue=oe.length,_e=0,ke=vt(H,this.__takeCount__);if(!m||!b&&w==H&&ke==H)return Di(l,this.__actions__);var Ne=[];e:for(;H--&&_e<ke;){te+=u;for(var $e=-1,Ve=l[te];++$e<ue;){var He=oe[$e],ze=He.iteratee,Nt=He.type,wt=ze(Ve);if(Nt==se)Ve=wt;else if(!wt){if(Nt==U)continue e;break e}}Ne[_e++]=Ve}return Ne}We.prototype=$n(Ar.prototype),We.prototype.constructor=We;function Cn(l){var u=-1,m=l==null?0:l.length;for(this.clear();++u<m;){var b=l[u];this.set(b[0],b[1])}}function Zc(){this.__data__=Yn?Yn(null):{},this.size=0}function eu(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}function tu(l){var u=this.__data__;if(Yn){var m=u[l];return m===d?n:m}return Qe.call(u,l)?u[l]:n}function ru(l){var u=this.__data__;return Yn?u[l]!==n:Qe.call(u,l)}function ou(l,u){var m=this.__data__;return this.size+=this.has(l)?0:1,m[l]=Yn&&u===n?d:u,this}Cn.prototype.clear=Zc,Cn.prototype.delete=eu,Cn.prototype.get=tu,Cn.prototype.has=ru,Cn.prototype.set=ou;function Zt(l){var u=-1,m=l==null?0:l.length;for(this.clear();++u<m;){var b=l[u];this.set(b[0],b[1])}}function su(){this.__data__=[],this.size=0}function iu(l){var u=this.__data__,m=Rr(u,l);if(m<0)return!1;var b=u.length-1;return m==b?u.pop():Sr.call(u,m,1),--this.size,!0}function au(l){var u=this.__data__,m=Rr(u,l);return m<0?n:u[m][1]}function lu(l){return Rr(this.__data__,l)>-1}function cu(l,u){var m=this.__data__,b=Rr(m,l);return b<0?(++this.size,m.push([l,u])):m[b][1]=u,this}Zt.prototype.clear=su,Zt.prototype.delete=iu,Zt.prototype.get=au,Zt.prototype.has=lu,Zt.prototype.set=cu;function tn(l){var u=-1,m=l==null?0:l.length;for(this.clear();++u<m;){var b=l[u];this.set(b[0],b[1])}}function uu(){this.size=0,this.__data__={hash:new Cn,map:new(jn||Zt),string:new Cn}}function du(l){var u=Wr(this,l).delete(l);return this.size-=u?1:0,u}function fu(l){return Wr(this,l).get(l)}function hu(l){return Wr(this,l).has(l)}function pu(l,u){var m=Wr(this,l),b=m.size;return m.set(l,u),this.size+=m.size==b?0:1,this}tn.prototype.clear=uu,tn.prototype.delete=du,tn.prototype.get=fu,tn.prototype.has=hu,tn.prototype.set=pu;function wn(l){var u=-1,m=l==null?0:l.length;for(this.__data__=new tn;++u<m;)this.add(l[u])}function gu(l){return this.__data__.set(l,d),this}function vu(l){return this.__data__.has(l)}wn.prototype.add=wn.prototype.push=gu,wn.prototype.has=vu;function Wt(l){var u=this.__data__=new Zt(l);this.size=u.size}function _u(){this.__data__=new Zt,this.size=0}function yu(l){var u=this.__data__,m=u.delete(l);return this.size=u.size,m}function bu(l){return this.__data__.get(l)}function Cu(l){return this.__data__.has(l)}function wu(l,u){var m=this.__data__;if(m instanceof Zt){var b=m.__data__;if(!jn||b.length<o-1)return b.push([l,u]),this.size=++m.size,this;m=this.__data__=new tn(b)}return m.set(l,u),this.size=m.size,this}Wt.prototype.clear=_u,Wt.prototype.delete=yu,Wt.prototype.get=bu,Wt.prototype.has=Cu,Wt.prototype.set=wu;function ui(l,u){var m=Fe(l),b=!m&&In(l),w=!m&&!b&&_n(l),I=!m&&!b&&!w&&Hn(l),V=m||b||w||I,F=V?go(l.length,Rc):[],H=F.length;for(var te in l)(u||Qe.call(l,te))&&!(V&&(te=="length"||w&&(te=="offset"||te=="parent")||I&&(te=="buffer"||te=="byteLength"||te=="byteOffset")||sn(te,H)))&&F.push(te);return F}function di(l){var u=l.length;return u?l[Vo(0,u-1)]:n}function Su(l,u){return Gr(Et(l),Sn(u,0,l.length))}function Eu(l){return Gr(Et(l))}function So(l,u,m){(m!==n&&!zt(l[u],m)||m===n&&!(u in l))&&nn(l,u,m)}function Xn(l,u,m){var b=l[u];(!(Qe.call(l,u)&&zt(b,m))||m===n&&!(u in l))&&nn(l,u,m)}function Rr(l,u){for(var m=l.length;m--;)if(zt(l[m][0],u))return m;return-1}function ku(l,u,m,b){return pn(l,function(w,I,V){u(b,w,m(w),V)}),b}function fi(l,u){return l&&Qt(u,ft(u),l)}function Tu(l,u){return l&&Qt(u,Tt(u),l)}function nn(l,u,m){u=="__proto__"&&Er?Er(l,u,{configurable:!0,enumerable:!0,value:m,writable:!0}):l[u]=m}function Eo(l,u){for(var m=-1,b=u.length,w=z(b),I=l==null;++m<b;)w[m]=I?n:ss(l,u[m]);return w}function Sn(l,u,m){return l===l&&(m!==n&&(l=l<=m?l:m),u!==n&&(l=l>=u?l:u)),l}function $t(l,u,m,b,w,I){var V,F=u&v,H=u&_,te=u&y;if(m&&(V=w?m(l,b,w,I):m(l)),V!==n)return V;if(!ot(l))return l;var oe=Fe(l);if(oe){if(V=_d(l),!F)return Et(l,V)}else{var ue=_t(l),_e=ue==R||ue==M;if(_n(l))return $i(l,F);if(ue==fe||ue==K||_e&&!w){if(V=H||_e?{}:sa(l),!F)return H?sd(l,Tu(V,l)):od(l,fi(V,l))}else{if(!et[ue])return w?l:{};V=yd(l,ue,F)}}I||(I=new Wt);var ke=I.get(l);if(ke)return ke;I.set(l,V),La(l)?l.forEach(function(Ve){V.add($t(Ve,u,m,Ve,l,I))}):Va(l)&&l.forEach(function(Ve,He){V.set(He,$t(Ve,u,m,He,l,I))});var Ne=te?H?Wo:Ho:H?Tt:ft,$e=oe?n:Ne(l);return Dt($e||l,function(Ve,He){$e&&(He=Ve,Ve=l[He]),Xn(V,He,$t(Ve,u,m,He,l,I))}),V}function Iu(l){var u=ft(l);return function(m){return hi(m,l,u)}}function hi(l,u,m){var b=m.length;if(l==null)return!b;for(l=Je(l);b--;){var w=m[b],I=u[w],V=l[w];if(V===n&&!(w in l)||!I(V))return!1}return!0}function mi(l,u,m){if(typeof l!="function")throw new Ft(a);return sr(function(){l.apply(n,m)},u)}function Jn(l,u,m,b){var w=-1,I=ur,V=!0,F=l.length,H=[],te=u.length;if(!F)return H;m&&(u=rt(u,At(m))),b?(I=co,V=!1):u.length>=o&&(I=Gn,V=!1,u=new wn(u));e:for(;++w<F;){var oe=l[w],ue=m==null?oe:m(oe);if(oe=b||oe!==0?oe:0,V&&ue===ue){for(var _e=te;_e--;)if(u[_e]===ue)continue e;H.push(oe)}else I(u,ue,b)||H.push(oe)}return H}var pn=Wi(Yt),gi=Wi(To,!0);function xu(l,u){var m=!0;return pn(l,function(b,w,I){return m=!!u(b,w,I),m}),m}function Nr(l,u,m){for(var b=-1,w=l.length;++b<w;){var I=l[b],V=u(I);if(V!=null&&(F===n?V===V&&!Pt(V):m(V,F)))var F=V,H=I}return H}function Au(l,u,m,b){var w=l.length;for(m=Me(m),m<0&&(m=-m>w?0:w+m),b=b===n||b>w?w:Me(b),b<0&&(b+=w),b=m>b?0:Fa(b);m<b;)l[m++]=u;return l}function vi(l,u){var m=[];return pn(l,function(b,w,I){u(b,w,I)&&m.push(b)}),m}function mt(l,u,m,b,w){var I=-1,V=l.length;for(m||(m=Cd),w||(w=[]);++I<V;){var F=l[I];u>0&&m(F)?u>1?mt(F,u-1,m,b,w):dn(w,F):b||(w[w.length]=F)}return w}var ko=Gi(),_i=Gi(!0);function Yt(l,u){return l&&ko(l,u,ft)}function To(l,u){return l&&_i(l,u,ft)}function Vr(l,u){return un(u,function(m){return an(l[m])})}function En(l,u){u=gn(u,l);for(var m=0,b=u.length;l!=null&&m<b;)l=l[Xt(u[m++])];return m&&m==b?l:n}function yi(l,u,m){var b=u(l);return Fe(l)?b:dn(b,m(l))}function bt(l){return l==null?l===n?Ie:ce:bn&&bn in Je(l)?pd(l):xd(l)}function Io(l,u){return l>u}function Ru(l,u){return l!=null&&Qe.call(l,u)}function Pu(l,u){return l!=null&&u in Je(l)}function Vu(l,u,m){return l>=vt(u,m)&&l<dt(u,m)}function xo(l,u,m){for(var b=m?co:ur,w=l[0].length,I=l.length,V=I,F=z(I),H=1/0,te=[];V--;){var oe=l[V];V&&u&&(oe=rt(oe,At(u))),H=vt(oe.length,H),F[V]=!m&&(u||w>=120&&oe.length>=120)?new wn(V&&oe):n}oe=l[0];var ue=-1,_e=F[0];e:for(;++ue<w&&te.length<H;){var ke=oe[ue],Ne=u?u(ke):ke;if(ke=m||ke!==0?ke:0,!(_e?Gn(_e,Ne):b(te,Ne,m))){for(V=I;--V;){var $e=F[V];if(!($e?Gn($e,Ne):b(l[V],Ne,m)))continue e}_e&&_e.push(Ne),te.push(ke)}}return te}function Ou(l,u,m,b){return Yt(l,function(w,I,V){u(b,m(w),I,V)}),b}function Zn(l,u,m){u=gn(u,l),l=ca(l,u);var b=l==null?l:l[Xt(Ut(u))];return b==null?n:xt(b,l,m)}function bi(l){return st(l)&&bt(l)==K}function Lu(l){return st(l)&&bt(l)==je}function Du(l){return st(l)&&bt(l)==Be}function er(l,u,m,b,w){return l===u?!0:l==null||u==null||!st(l)&&!st(u)?l!==l&&u!==u:Fu(l,u,m,b,er,w)}function Fu(l,u,m,b,w,I){var V=Fe(l),F=Fe(u),H=V?de:_t(l),te=F?de:_t(u);H=H==K?fe:H,te=te==K?fe:te;var oe=H==fe,ue=te==fe,_e=H==te;if(_e&&_n(l)){if(!_n(u))return!1;V=!0,oe=!1}if(_e&&!oe)return I||(I=new Wt),V||Hn(l)?na(l,u,m,b,w,I):fd(l,u,H,m,b,w,I);if(!(m&C)){var ke=oe&&Qe.call(l,"__wrapped__"),Ne=ue&&Qe.call(u,"__wrapped__");if(ke||Ne){var $e=ke?l.value():l,Ve=Ne?u.value():u;return I||(I=new Wt),w($e,Ve,m,b,I)}}return _e?(I||(I=new Wt),hd(l,u,m,b,w,I)):!1}function $u(l){return st(l)&&_t(l)==j}function Ao(l,u,m,b){var w=m.length,I=w,V=!b;if(l==null)return!I;for(l=Je(l);w--;){var F=m[w];if(V&&F[2]?F[1]!==l[F[0]]:!(F[0]in l))return!1}for(;++w<I;){F=m[w];var H=F[0],te=l[H],oe=F[1];if(V&&F[2]){if(te===n&&!(H in l))return!1}else{var ue=new Wt;if(b)var _e=b(te,oe,H,l,u,ue);if(!(_e===n?er(oe,te,C|S,b,ue):_e))return!1}}return!0}function Ci(l){if(!ot(l)||Sd(l))return!1;var u=an(l)?Lc:bl;return u.test(Tn(l))}function Bu(l){return st(l)&&bt(l)==me}function Uu(l){return st(l)&&_t(l)==ie}function qu(l){return st(l)&&Xr(l.length)&&!!tt[bt(l)]}function wi(l){return typeof l=="function"?l:l==null?It:typeof l=="object"?Fe(l)?ki(l[0],l[1]):Ei(l):Ka(l)}function Ro(l){if(!rr(l))return Uc(l);var u=[];for(var m in Je(l))Qe.call(l,m)&&m!="constructor"&&u.push(m);return u}function Hu(l){if(!ot(l))return Id(l);var u=rr(l),m=[];for(var b in l)b=="constructor"&&(u||!Qe.call(l,b))||m.push(b);return m}function Po(l,u){return l<u}function Si(l,u){var m=-1,b=kt(l)?z(l.length):[];return pn(l,function(w,I,V){b[++m]=u(w,I,V)}),b}function Ei(l){var u=zo(l);return u.length==1&&u[0][2]?aa(u[0][0],u[0][1]):function(m){return m===l||Ao(m,l,u)}}function ki(l,u){return Ko(l)&&ia(u)?aa(Xt(l),u):function(m){var b=ss(m,l);return b===n&&b===u?is(m,l):er(u,b,C|S)}}function Lr(l,u,m,b,w){l!==u&&ko(u,function(I,V){if(w||(w=new Wt),ot(I))Wu(l,u,V,m,Lr,b,w);else{var F=b?b(Qo(l,V),I,V+"",l,u,w):n;F===n&&(F=I),So(l,V,F)}},Tt)}function Wu(l,u,m,b,w,I,V){var F=Qo(l,m),H=Qo(u,m),te=V.get(H);if(te){So(l,m,te);return}var oe=I?I(F,H,m+"",l,u,V):n,ue=oe===n;if(ue){var _e=Fe(H),ke=!_e&&_n(H),Ne=!_e&&!ke&&Hn(H);oe=H,_e||ke||Ne?Fe(F)?oe=F:at(F)?oe=Et(F):ke?(ue=!1,oe=$i(H,!0)):Ne?(ue=!1,oe=Bi(H,!0)):oe=[]:ir(H)||In(H)?(oe=F,In(F)?oe=Ma(F):(!ot(F)||an(F))&&(oe=sa(H))):ue=!1}ue&&(V.set(H,oe),w(oe,H,b,I,V),V.delete(H)),So(l,m,oe)}function Ti(l,u){var m=l.length;if(!!m)return u+=u<0?m:0,sn(u,m)?l[u]:n}function Ii(l,u,m){u.length?u=rt(u,function(I){return Fe(I)?function(V){return En(V,I.length===1?I[0]:I)}:I}):u=[It];var b=-1;u=rt(u,At(Ae()));var w=Si(l,function(I,V,F){var H=rt(u,function(te){return te(I)});return{criteria:H,index:++b,value:I}});return fc(w,function(I,V){return rd(I,V,m)})}function Gu(l,u){return Ai(l,u,function(m,b){return is(l,b)})}function Ai(l,u,m){for(var b=-1,w=u.length,I={};++b<w;){var V=u[b],F=En(l,V);m(F,V)&&tr(I,gn(V,l),F)}return I}function zu(l){return function(u){return En(u,l)}}function No(l,u,m,b){var w=b?dc:Nn,I=-1,V=u.length,F=l;for(l===u&&(u=Et(u)),m&&(F=rt(l,At(m)));++I<V;)for(var H=0,te=u[I],oe=m?m(te):te;(H=w(F,oe,H,b))>-1;)F!==l&&Sr.call(F,H,1),Sr.call(l,H,1);return l}function Ri(l,u){for(var m=l?u.length:0,b=m-1;m--;){var w=u[m];if(m==b||w!==I){var I=w;sn(w)?Sr.call(l,w,1):Do(l,w)}}return l}function Vo(l,u){return l+Tr(li()*(u-l+1))}function ju(l,u,m,b){for(var w=-1,I=dt(kr((u-l)/(m||1)),0),V=z(I);I--;)V[b?I:++w]=l,l+=m;return V}function Oo(l,u){var m="";if(!l||u<1||u>ae)return m;do u%2&&(m+=l),u=Tr(u/2),u&&(l+=l);while(u);return m}function Ue(l,u){return Xo(la(l,u,It),l+"")}function Ku(l){return di(Wn(l))}function Yu(l,u){var m=Wn(l);return Gr(m,Sn(u,0,m.length))}function tr(l,u,m,b){if(!ot(l))return l;u=gn(u,l);for(var w=-1,I=u.length,V=I-1,F=l;F!=null&&++w<I;){var H=Xt(u[w]),te=m;if(H==="__proto__"||H==="constructor"||H==="prototype")return l;if(w!=V){var oe=F[H];te=b?b(oe,H,F):n,te===n&&(te=ot(oe)?oe:sn(u[w+1])?[]:{})}Xn(F,H,te),F=F[H]}return l}var Ni=Ir?function(l,u){return Ir.set(l,u),l}:It,Qu=Er?function(l,u){return Er(l,"toString",{configurable:!0,enumerable:!1,value:ls(u),writable:!0})}:It;function Xu(l){return Gr(Wn(l))}function Bt(l,u,m){var b=-1,w=l.length;u<0&&(u=-u>w?0:w+u),m=m>w?w:m,m<0&&(m+=w),w=u>m?0:m-u>>>0,u>>>=0;for(var I=z(w);++b<w;)I[b]=l[b+u];return I}function Ju(l,u){var m;return pn(l,function(b,w,I){return m=u(b,w,I),!m}),!!m}function Dr(l,u,m){var b=0,w=l==null?b:l.length;if(typeof u=="number"&&u===u&&w<=Ze){for(;b<w;){var I=b+w>>>1,V=l[I];V!==null&&!Pt(V)&&(m?V<=u:V<u)?b=I+1:w=I}return w}return Lo(l,u,It,m)}function Lo(l,u,m,b){var w=0,I=l==null?0:l.length;if(I===0)return 0;u=m(u);for(var V=u!==u,F=u===null,H=Pt(u),te=u===n;w<I;){var oe=Tr((w+I)/2),ue=m(l[oe]),_e=ue!==n,ke=ue===null,Ne=ue===ue,$e=Pt(ue);if(V)var Ve=b||Ne;else te?Ve=Ne&&(b||_e):F?Ve=Ne&&_e&&(b||!ke):H?Ve=Ne&&_e&&!ke&&(b||!$e):ke||$e?Ve=!1:Ve=b?ue<=u:ue<u;Ve?w=oe+1:I=oe}return vt(I,Oe)}function Vi(l,u){for(var m=-1,b=l.length,w=0,I=[];++m<b;){var V=l[m],F=u?u(V):V;if(!m||!zt(F,H)){var H=F;I[w++]=V===0?0:V}}return I}function Oi(l){return typeof l=="number"?l:Pt(l)?ve:+l}function Rt(l){if(typeof l=="string")return l;if(Fe(l))return rt(l,Rt)+"";if(Pt(l))return ci?ci.call(l):"";var u=l+"";return u=="0"&&1/l==-Q?"-0":u}function mn(l,u,m){var b=-1,w=ur,I=l.length,V=!0,F=[],H=F;if(m)V=!1,w=co;else if(I>=o){var te=u?null:cd(l);if(te)return fr(te);V=!1,w=Gn,H=new wn}else H=u?[]:F;e:for(;++b<I;){var oe=l[b],ue=u?u(oe):oe;if(oe=m||oe!==0?oe:0,V&&ue===ue){for(var _e=H.length;_e--;)if(H[_e]===ue)continue e;u&&H.push(ue),F.push(oe)}else w(H,ue,m)||(H!==F&&H.push(ue),F.push(oe))}return F}function Do(l,u){return u=gn(u,l),l=ca(l,u),l==null||delete l[Xt(Ut(u))]}function Li(l,u,m,b){return tr(l,u,m(En(l,u)),b)}function Fr(l,u,m,b){for(var w=l.length,I=b?w:-1;(b?I--:++I<w)&&u(l[I],I,l););return m?Bt(l,b?0:I,b?I+1:w):Bt(l,b?I+1:0,b?w:I)}function Di(l,u){var m=l;return m instanceof We&&(m=m.value()),uo(u,function(b,w){return w.func.apply(w.thisArg,dn([b],w.args))},m)}function Fo(l,u,m){var b=l.length;if(b<2)return b?mn(l[0]):[];for(var w=-1,I=z(b);++w<b;)for(var V=l[w],F=-1;++F<b;)F!=w&&(I[w]=Jn(I[w]||V,l[F],u,m));return mn(mt(I,1),u,m)}function Fi(l,u,m){for(var b=-1,w=l.length,I=u.length,V={};++b<w;){var F=b<I?u[b]:n;m(V,l[b],F)}return V}function Mo(l){return at(l)?l:[]}function $o(l){return typeof l=="function"?l:It}function gn(l,u){return Fe(l)?l:Ko(l,u)?[l]:ha(Ye(l))}var Zu=Ue;function vn(l,u,m){var b=l.length;return m=m===n?b:m,!u&&m>=b?l:Bt(l,u,m)}var Mi=Dc||function(l){return pt.clearTimeout(l)};function $i(l,u){if(u)return l.slice();var m=l.length,b=ti?ti(m):new l.constructor(m);return l.copy(b),b}function Bo(l){var u=new l.constructor(l.byteLength);return new br(u).set(new br(l)),u}function ed(l,u){var m=u?Bo(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.byteLength)}function td(l){var u=new l.constructor(l.source,vs.exec(l));return u.lastIndex=l.lastIndex,u}function nd(l){return Qn?Je(Qn.call(l)):{}}function Bi(l,u){var m=u?Bo(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.length)}function Ui(l,u){if(l!==u){var m=l!==n,b=l===null,w=l===l,I=Pt(l),V=u!==n,F=u===null,H=u===u,te=Pt(u);if(!F&&!te&&!I&&l>u||I&&V&&H&&!F&&!te||b&&V&&H||!m&&H||!w)return 1;if(!b&&!I&&!te&&l<u||te&&m&&w&&!b&&!I||F&&m&&w||!V&&w||!H)return-1}return 0}function rd(l,u,m){for(var b=-1,w=l.criteria,I=u.criteria,V=w.length,F=m.length;++b<V;){var H=Ui(w[b],I[b]);if(H){if(b>=F)return H;var te=m[b];return H*(te=="desc"?-1:1)}}return l.index-u.index}function qi(l,u,m,b){for(var w=-1,I=l.length,V=m.length,F=-1,H=u.length,te=dt(I-V,0),oe=z(H+te),ue=!b;++F<H;)oe[F]=u[F];for(;++w<V;)(ue||w<I)&&(oe[m[w]]=l[w]);for(;te--;)oe[F++]=l[w++];return oe}function Hi(l,u,m,b){for(var w=-1,I=l.length,V=-1,F=m.length,H=-1,te=u.length,oe=dt(I-F,0),ue=z(oe+te),_e=!b;++w<oe;)ue[w]=l[w];for(var ke=w;++H<te;)ue[ke+H]=u[H];for(;++V<F;)(_e||w<I)&&(ue[ke+m[V]]=l[w++]);return ue}function Et(l,u){var m=-1,b=l.length;for(u||(u=z(b));++m<b;)u[m]=l[m];return u}function Qt(l,u,m,b){var w=!m;m||(m={});for(var I=-1,V=u.length;++I<V;){var F=u[I],H=b?b(m[F],l[F],F,m,l):n;H===n&&(H=l[F]),w?nn(m,F,H):Xn(m,F,H)}return m}function od(l,u){return Qt(l,jo(l),u)}function sd(l,u){return Qt(l,ra(l),u)}function Mr(l,u){return function(m,b){var w=Fe(m)?nc:ku,I=u?u():{};return w(m,l,Ae(b,2),I)}}function Bn(l){return Ue(function(u,m){var b=-1,w=m.length,I=w>1?m[w-1]:n,V=w>2?m[2]:n;for(I=l.length>3&&typeof I=="function"?(w--,I):n,V&&Ct(m[0],m[1],V)&&(I=w<3?n:I,w=1),u=Je(u);++b<w;){var F=m[b];F&&l(u,F,b,I)}return u})}function Wi(l,u){return function(m,b){if(m==null)return m;if(!kt(m))return l(m,b);for(var w=m.length,I=u?w:-1,V=Je(m);(u?I--:++I<w)&&b(V[I],I,V)!==!1;);return m}}function Gi(l){return function(u,m,b){for(var w=-1,I=Je(u),V=b(u),F=V.length;F--;){var H=V[l?F:++w];if(m(I[H],H,I)===!1)break}return u}}function id(l,u,m){var b=u&x,w=nr(l);function I(){var V=this&&this!==pt&&this instanceof I?w:l;return V.apply(b?m:this,arguments)}return I}function zi(l){return function(u){u=Ye(u);var m=Vn(u)?Ht(u):n,b=m?m[0]:u.charAt(0),w=m?vn(m,1).join(""):u.slice(1);return b[l]()+w}}function Un(l){return function(u){return uo(za(Ga(u).replace(ql,"")),l,"")}}function nr(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var m=$n(l.prototype),b=l.apply(m,u);return ot(b)?b:m}}function ad(l,u,m){var b=nr(l);function w(){for(var I=arguments.length,V=z(I),F=I,H=qn(w);F--;)V[F]=arguments[F];var te=I<3&&V[0]!==H&&V[I-1]!==H?[]:fn(V,H);if(I-=te.length,I<m)return Ji(l,u,$r,w.placeholder,n,V,te,n,n,m-I);var oe=this&&this!==pt&&this instanceof w?b:l;return xt(oe,this,V)}return w}function ji(l){return function(u,m,b){var w=Je(u);if(!kt(u)){var I=Ae(m,3);u=ft(u),m=function(F){return I(w[F],F,w)}}var V=l(u,m,b);return V>-1?w[I?u[V]:V]:n}}function Ki(l){return on(function(u){var m=u.length,b=m,w=Mt.prototype.thru;for(l&&u.reverse();b--;){var I=u[b];if(typeof I!="function")throw new Ft(a);if(w&&!V&&Hr(I)=="wrapper")var V=new Mt([],!0)}for(b=V?b:m;++b<m;){I=u[b];var F=Hr(I),H=F=="wrapper"?Go(I):n;H&&Yo(H[0])&&H[1]==(D|E|P|N)&&!H[4].length&&H[9]==1?V=V[Hr(H[0])].apply(V,H[3]):V=I.length==1&&Yo(I)?V[F]():V.thru(I)}return function(){var te=arguments,oe=te[0];if(V&&te.length==1&&Fe(oe))return V.plant(oe).value();for(var ue=0,_e=m?u[ue].apply(this,te):oe;++ue<m;)_e=u[ue].call(this,_e);return _e}})}function $r(l,u,m,b,w,I,V,F,H,te){var oe=u&D,ue=u&x,_e=u&A,ke=u&(E|L),Ne=u&B,$e=_e?n:nr(l);function Ve(){for(var He=arguments.length,ze=z(He),Nt=He;Nt--;)ze[Nt]=arguments[Nt];if(ke)var wt=qn(Ve),Vt=pc(ze,wt);if(b&&(ze=qi(ze,b,w,ke)),I&&(ze=Hi(ze,I,V,ke)),He-=Vt,ke&&He<te){var ct=fn(ze,wt);return Ji(l,u,$r,Ve.placeholder,m,ze,ct,F,H,te-He)}var jt=ue?m:this,cn=_e?jt[l]:l;return He=ze.length,F?ze=Ad(ze,F):Ne&&He>1&&ze.reverse(),oe&&H<He&&(ze.length=H),this&&this!==pt&&this instanceof Ve&&(cn=$e||nr(cn)),cn.apply(jt,ze)}return Ve}function Yi(l,u){return function(m,b){return Ou(m,l,u(b),{})}}function Br(l,u){return function(m,b){var w;if(m===n&&b===n)return u;if(m!==n&&(w=m),b!==n){if(w===n)return b;typeof m=="string"||typeof b=="string"?(m=Rt(m),b=Rt(b)):(m=Oi(m),b=Oi(b)),w=l(m,b)}return w}}function Uo(l){return on(function(u){return u=rt(u,At(Ae())),Ue(function(m){var b=this;return l(u,function(w){return xt(w,b,m)})})})}function Ur(l,u){u=u===n?" ":Rt(u);var m=u.length;if(m<2)return m?Oo(u,l):u;var b=Oo(u,kr(l/On(u)));return Vn(u)?vn(Ht(b),0,l).join(""):b.slice(0,l)}function ld(l,u,m,b){var w=u&x,I=nr(l);function V(){for(var F=-1,H=arguments.length,te=-1,oe=b.length,ue=z(oe+H),_e=this&&this!==pt&&this instanceof V?I:l;++te<oe;)ue[te]=b[te];for(;H--;)ue[te++]=arguments[++F];return xt(_e,w?m:this,ue)}return V}function Qi(l){return function(u,m,b){return b&&typeof b!="number"&&Ct(u,m,b)&&(m=b=n),u=ln(u),m===n?(m=u,u=0):m=ln(m),b=b===n?u<m?1:-1:ln(b),ju(u,m,b,l)}}function qr(l){return function(u,m){return typeof u=="string"&&typeof m=="string"||(u=qt(u),m=qt(m)),l(u,m)}}function Ji(l,u,m,b,w,I,V,F,H,te){var oe=u&E,ue=oe?V:n,_e=oe?n:V,ke=oe?I:n,Ne=oe?n:I;u|=oe?P:O,u&=~(oe?O:P),u&T||(u&=~(x|A));var $e=[l,u,w,ke,ue,Ne,_e,F,H,te],Ve=m.apply(n,$e);return Yo(l)&&ua(Ve,$e),Ve.placeholder=b,da(Ve,l,u)}function qo(l){var u=ut[l];return function(m,b){if(m=qt(m),b=b==null?0:vt(Me(b),292),b&&ai(m)){var w=(Ye(m)+"e").split("e"),I=u(w[0]+"e"+(+w[1]+b));return w=(Ye(I)+"e").split("e"),+(w[0]+"e"+(+w[1]-b))}return u(m)}}var cd=Fn&&1/fr(new Fn([,-0]))[1]==Q?function(l){return new Fn(l)}:ds;function Zi(l){return function(u){var m=_t(u);return m==j?_o(u):m==ie?Cc(u):hc(u,l(u))}}function rn(l,u,m,b,w,I,V,F){var H=u&A;if(!H&&typeof l!="function")throw new Ft(a);var te=b?b.length:0;if(te||(u&=~(P|O),b=w=n),V=V===n?V:dt(Me(V),0),F=F===n?F:Me(F),te-=w?w.length:0,u&O){var oe=b,ue=w;b=w=n}var _e=H?n:Go(l),ke=[l,u,m,b,w,oe,ue,I,V,F];if(_e&&Td(ke,_e),l=ke[0],u=ke[1],m=ke[2],b=ke[3],w=ke[4],F=ke[9]=ke[9]===n?H?0:l.length:dt(ke[9]-te,0),!F&&u&(E|L)&&(u&=~(E|L)),!u||u==x)var Ne=id(l,u,m);else u==E||u==L?Ne=ad(l,u,F):(u==P||u==(x|P))&&!w.length?Ne=ld(l,u,m,b):Ne=$r.apply(n,ke);var $e=_e?Ni:ua;return da($e(Ne,ke),l,u)}function ea(l,u,m,b){return l===n||zt(l,Dn[m])&&!Qe.call(b,m)?u:l}function ta(l,u,m,b,w,I){return ot(l)&&ot(u)&&(I.set(u,l),Lr(l,u,n,ta,I),I.delete(u)),l}function ud(l){return ir(l)?n:l}function na(l,u,m,b,w,I){var V=m&C,F=l.length,H=u.length;if(F!=H&&!(V&&H>F))return!1;var te=I.get(l),oe=I.get(u);if(te&&oe)return te==u&&oe==l;var ue=-1,_e=!0,ke=m&S?new wn:n;for(I.set(l,u),I.set(u,l);++ue<F;){var Ne=l[ue],$e=u[ue];if(b)var Ve=V?b($e,Ne,ue,u,l,I):b(Ne,$e,ue,l,u,I);if(Ve!==n){if(Ve)continue;_e=!1;break}if(ke){if(!fo(u,function(He,ze){if(!Gn(ke,ze)&&(Ne===He||w(Ne,He,m,b,I)))return ke.push(ze)})){_e=!1;break}}else if(!(Ne===$e||w(Ne,$e,m,b,I))){_e=!1;break}}return I.delete(l),I.delete(u),_e}function fd(l,u,m,b,w,I,V){switch(m){case Ge:if(l.byteLength!=u.byteLength||l.byteOffset!=u.byteOffset)return!1;l=l.buffer,u=u.buffer;case je:return!(l.byteLength!=u.byteLength||!I(new br(l),new br(u)));case we:case Be:case Z:return zt(+l,+u);case Le:return l.name==u.name&&l.message==u.message;case me:case Te:return l==u+"";case j:var F=_o;case ie:var H=b&C;if(F||(F=fr),l.size!=u.size&&!H)return!1;var te=V.get(l);if(te)return te==u;b|=S,V.set(l,u);var oe=na(F(l),F(u),b,w,I,V);return V.delete(l),oe;case Ee:if(Qn)return Qn.call(l)==Qn.call(u)}return!1}function hd(l,u,m,b,w,I){var V=m&C,F=Ho(l),H=F.length,te=Ho(u),oe=te.length;if(H!=oe&&!V)return!1;for(var ue=H;ue--;){var _e=F[ue];if(!(V?_e in u:Qe.call(u,_e)))return!1}var ke=I.get(l),Ne=I.get(u);if(ke&&Ne)return ke==u&&Ne==l;var $e=!0;I.set(l,u),I.set(u,l);for(var Ve=V;++ue<H;){_e=F[ue];var He=l[_e],ze=u[_e];if(b)var Nt=V?b(ze,He,_e,u,l,I):b(He,ze,_e,l,u,I);if(!(Nt===n?He===ze||w(He,ze,m,b,I):Nt)){$e=!1;break}Ve||(Ve=_e=="constructor")}if($e&&!Ve){var wt=l.constructor,Vt=u.constructor;wt!=Vt&&"constructor"in l&&"constructor"in u&&!(typeof wt=="function"&&wt instanceof wt&&typeof Vt=="function"&&Vt instanceof Vt)&&($e=!1)}return I.delete(l),I.delete(u),$e}function on(l){return Xo(la(l,n,va),l+"")}function Ho(l){return yi(l,ft,jo)}function Wo(l){return yi(l,Tt,ra)}var Go=Ir?function(l){return Ir.get(l)}:ds;function Hr(l){for(var u=l.name+"",m=Mn[u],b=Qe.call(Mn,u)?m.length:0;b--;){var w=m[b],I=w.func;if(I==null||I==l)return w.name}return u}function qn(l){var u=Qe.call(k,"placeholder")?k:l;return u.placeholder}function Ae(){var l=k.iteratee||cs;return l=l===cs?wi:l,arguments.length?l(arguments[0],arguments[1]):l}function Wr(l,u){var m=l.__data__;return wd(u)?m[typeof u=="string"?"string":"hash"]:m.map}function zo(l){for(var u=ft(l),m=u.length;m--;){var b=u[m],w=l[b];u[m]=[b,w,ia(w)]}return u}function kn(l,u){var m=_c(l,u);return Ci(m)?m:n}function pd(l){var u=Qe.call(l,bn),m=l[bn];try{l[bn]=n;var b=!0}catch{}var w=_r.call(l);return b&&(u?l[bn]=m:delete l[bn]),w}var jo=bo?function(l){return l==null?[]:(l=Je(l),un(bo(l),function(u){return oi.call(l,u)}))}:fs,ra=bo?function(l){for(var u=[];l;)dn(u,jo(l)),l=Cr(l);return u}:fs,_t=bt;(Co&&_t(new Co(new ArrayBuffer(1)))!=Ge||jn&&_t(new jn)!=j||wo&&_t(wo.resolve())!=be||Fn&&_t(new Fn)!=ie||Kn&&_t(new Kn)!=Pe)&&(_t=function(l){var u=bt(l),m=u==fe?l.constructor:n,b=m?Tn(m):"";if(b)switch(b){case Gc:return Ge;case zc:return j;case jc:return be;case Kc:return ie;case Yc:return Pe}return u});function gd(l,u,m){for(var b=-1,w=m.length;++b<w;){var I=m[b],V=I.size;switch(I.type){case"drop":l+=V;break;case"dropRight":u-=V;break;case"take":u=vt(u,l+V);break;case"takeRight":l=dt(l,u-V);break}}return{start:l,end:u}}function vd(l){var u=l.match(dl);return u?u[1].split(fl):[]}function oa(l,u,m){u=gn(u,l);for(var b=-1,w=u.length,I=!1;++b<w;){var V=Xt(u[b]);if(!(I=l!=null&&m(l,V)))break;l=l[V]}return I||++b!=w?I:(w=l==null?0:l.length,!!w&&Xr(w)&&sn(V,w)&&(Fe(l)||In(l)))}function _d(l){var u=l.length,m=new l.constructor(u);return u&&typeof l[0]=="string"&&Qe.call(l,"index")&&(m.index=l.index,m.input=l.input),m}function sa(l){return typeof l.constructor=="function"&&!rr(l)?$n(Cr(l)):{}}function yd(l,u,m){var b=l.constructor;switch(u){case je:return Bo(l);case we:case Be:return new b(+l);case Ge:return ed(l,m);case nt:case yt:case Kt:case xn:case Jt:case An:case ht:case St:case Rn:return Bi(l,m);case j:return new b;case Z:case Te:return new b(l);case me:return td(l);case ie:return new b;case Ee:return nd(l)}}function bd(l,u){var m=u.length;if(!m)return l;var b=m-1;return u[b]=(m>1?"& ":"")+u[b],u=u.join(m>2?", ":" "),l.replace(ul,`{
/* [wrapped with `+u+`] */
`)}function Cd(l){return Fe(l)||In(l)||!!(si&&l&&l[si])}function sn(l,u){var m=typeof l;return u=u==null?ae:u,!!u&&(m=="number"||m!="symbol"&&wl.test(l))&&l>-1&&l%1==0&&l<u}function Ct(l,u,m){if(!ot(m))return!1;var b=typeof u;return(b=="number"?kt(m)&&sn(u,m.length):b=="string"&&u in m)?zt(m[u],l):!1}function Ko(l,u){if(Fe(l))return!1;var m=typeof l;return m=="number"||m=="symbol"||m=="boolean"||l==null||Pt(l)?!0:sl.test(l)||!ol.test(l)||u!=null&&l in Je(u)}function wd(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}function Yo(l){var u=Hr(l),m=k[u];if(typeof m!="function"||!(u in We.prototype))return!1;if(l===m)return!0;var b=Go(m);return!!b&&l===b[0]}function Sd(l){return!!ei&&ei in l}var Ed=gr?an:hs;function rr(l){var u=l&&l.constructor,m=typeof u=="function"&&u.prototype||Dn;return l===m}function ia(l){return l===l&&!ot(l)}function aa(l,u){return function(m){return m==null?!1:m[l]===u&&(u!==n||l in Je(m))}}function kd(l){var u=Yr(l,function(b){return m.size===f&&m.clear(),b}),m=u.cache;return u}function Td(l,u){var m=l[1],b=u[1],w=m|b,I=w<(x|A|D),V=b==D&&m==E||b==D&&m==N&&l[7].length<=u[8]||b==(D|N)&&u[7].length<=u[8]&&m==E;if(!(I||V))return l;b&x&&(l[2]=u[2],w|=m&x?0:T);var F=u[3];if(F){var H=l[3];l[3]=H?qi(H,F,u[4]):F,l[4]=H?fn(l[3],g):u[4]}return F=u[5],F&&(H=l[5],l[5]=H?Hi(H,F,u[6]):F,l[6]=H?fn(l[5],g):u[6]),F=u[7],F&&(l[7]=F),b&D&&(l[8]=l[8]==null?u[8]:vt(l[8],u[8])),l[9]==null&&(l[9]=u[9]),l[0]=u[0],l[1]=w,l}function Id(l){var u=[];if(l!=null)for(var m in Je(l))u.push(m);return u}function xd(l){return _r.call(l)}function la(l,u,m){return u=dt(u===n?l.length-1:u,0),function(){for(var b=arguments,w=-1,I=dt(b.length-u,0),V=z(I);++w<I;)V[w]=b[u+w];w=-1;for(var F=z(u+1);++w<u;)F[w]=b[w];return F[u]=m(V),xt(l,this,F)}}function ca(l,u){return u.length<2?l:En(l,Bt(u,0,-1))}function Ad(l,u){for(var m=l.length,b=vt(u.length,m),w=Et(l);b--;){var I=u[b];l[b]=sn(I,m)?w[I]:n}return l}function Qo(l,u){if(!(u==="constructor"&&typeof l[u]=="function")&&u!="__proto__")return l[u]}var ua=fa(Ni),sr=Mc||function(l,u){return pt.setTimeout(l,u)},Xo=fa(Qu);function da(l,u,m){var b=u+"";return Xo(l,bd(b,Rd(vd(b),m)))}function fa(l){var u=0,m=0;return function(){var b=qc(),w=J-(b-m);if(m=b,w>0){if(++u>=W)return arguments[0]}else u=0;return l.apply(n,arguments)}}function Gr(l,u){var m=-1,b=l.length,w=b-1;for(u=u===n?b:u;++m<u;){var I=Vo(m,w),V=l[I];l[I]=l[m],l[m]=V}return l.length=u,l}var ha=kd(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(il,function(m,b,w,I){u.push(w?I.replace(ml,"$1"):b||m)}),u});function Xt(l){if(typeof l=="string"||Pt(l))return l;var u=l+"";return u=="0"&&1/l==-Q?"-0":u}function Tn(l){if(l!=null){try{return vr.call(l)}catch{}try{return l+""}catch{}}return""}function Rd(l,u){return Dt(ye,function(m){var b="_."+m[0];u&m[1]&&!ur(l,b)&&l.push(b)}),l.sort()}function pa(l){if(l instanceof We)return l.clone();var u=new Mt(l.__wrapped__,l.__chain__);return u.__actions__=Et(l.__actions__),u.__index__=l.__index__,u.__values__=l.__values__,u}function Pd(l,u,m){(m?Ct(l,u,m):u===n)?u=1:u=dt(Me(u),0);var b=l==null?0:l.length;if(!b||u<1)return[];for(var w=0,I=0,V=z(kr(b/u));w<b;)V[I++]=Bt(l,w,w+=u);return V}function Nd(l){for(var u=-1,m=l==null?0:l.length,b=0,w=[];++u<m;){var I=l[u];I&&(w[b++]=I)}return w}function Vd(){var l=arguments.length;if(!l)return[];for(var u=z(l-1),m=arguments[0],b=l;b--;)u[b-1]=arguments[b];return dn(Fe(m)?Et(m):[m],mt(u,1))}var Od=Ue(function(l,u){return at(l)?Jn(l,mt(u,1,at,!0)):[]}),Ld=Ue(function(l,u){var m=Ut(u);return at(m)&&(m=n),at(l)?Jn(l,mt(u,1,at,!0),Ae(m,2)):[]}),Dd=Ue(function(l,u){var m=Ut(u);return at(m)&&(m=n),at(l)?Jn(l,mt(u,1,at,!0),n,m):[]});function Fd(l,u,m){var b=l==null?0:l.length;return b?(u=m||u===n?1:Me(u),Bt(l,u<0?0:u,b)):[]}function Md(l,u,m){var b=l==null?0:l.length;return b?(u=m||u===n?1:Me(u),u=b-u,Bt(l,0,u<0?0:u)):[]}function $d(l,u){return l&&l.length?Fr(l,Ae(u,3),!0,!0):[]}function Bd(l,u){return l&&l.length?Fr(l,Ae(u,3),!0):[]}function Ud(l,u,m,b){var w=l==null?0:l.length;return w?(m&&typeof m!="number"&&Ct(l,u,m)&&(m=0,b=w),Au(l,u,m,b)):[]}function ma(l,u,m){var b=l==null?0:l.length;if(!b)return-1;var w=m==null?0:Me(m);return w<0&&(w=dt(b+w,0)),dr(l,Ae(u,3),w)}function ga(l,u,m){var b=l==null?0:l.length;if(!b)return-1;var w=b-1;return m!==n&&(w=Me(m),w=m<0?dt(b+w,0):vt(w,b-1)),dr(l,Ae(u,3),w,!0)}function va(l){var u=l==null?0:l.length;return u?mt(l,1):[]}function qd(l){var u=l==null?0:l.length;return u?mt(l,Q):[]}function Hd(l,u){var m=l==null?0:l.length;return m?(u=u===n?1:Me(u),mt(l,u)):[]}function Wd(l){for(var u=-1,m=l==null?0:l.length,b={};++u<m;){var w=l[u];b[w[0]]=w[1]}return b}function ya(l){return l&&l.length?l[0]:n}function Gd(l,u,m){var b=l==null?0:l.length;if(!b)return-1;var w=m==null?0:Me(m);return w<0&&(w=dt(b+w,0)),Nn(l,u,w)}function zd(l){var u=l==null?0:l.length;return u?Bt(l,0,-1):[]}var jd=Ue(function(l){var u=rt(l,Mo);return u.length&&u[0]===l[0]?xo(u):[]}),Kd=Ue(function(l){var u=Ut(l),m=rt(l,Mo);return u===Ut(m)?u=n:m.pop(),m.length&&m[0]===l[0]?xo(m,Ae(u,2)):[]}),Yd=Ue(function(l){var u=Ut(l),m=rt(l,Mo);return u=typeof u=="function"?u:n,u&&m.pop(),m.length&&m[0]===l[0]?xo(m,n,u):[]});function Qd(l,u){return l==null?"":Bc.call(l,u)}function Ut(l){var u=l==null?0:l.length;return u?l[u-1]:n}function Xd(l,u,m){var b=l==null?0:l.length;if(!b)return-1;var w=b;return m!==n&&(w=Me(m),w=w<0?dt(b+w,0):vt(w,b-1)),u===u?Ec(l,u,w):dr(l,zs,w,!0)}function Jd(l,u){return l&&l.length?Ti(l,Me(u)):n}var Zd=Ue(ba);function ba(l,u){return l&&l.length&&u&&u.length?No(l,u):l}function ef(l,u,m){return l&&l.length&&u&&u.length?No(l,u,Ae(m,2)):l}function tf(l,u,m){return l&&l.length&&u&&u.length?No(l,u,n,m):l}var nf=on(function(l,u){var m=l==null?0:l.length,b=Eo(l,u);return Ri(l,rt(u,function(w){return sn(w,m)?+w:w}).sort(Ui)),b});function rf(l,u){var m=[];if(!(l&&l.length))return m;var b=-1,w=[],I=l.length;for(u=Ae(u,3);++b<I;){var V=l[b];u(V,b,l)&&(m.push(V),w.push(b))}return Ri(l,w),m}function Jo(l){return l==null?l:Wc.call(l)}function of(l,u,m){var b=l==null?0:l.length;return b?(m&&typeof m!="number"&&Ct(l,u,m)?(u=0,m=b):(u=u==null?0:Me(u),m=m===n?b:Me(m)),Bt(l,u,m)):[]}function sf(l,u){return Dr(l,u)}function lf(l,u,m){return Lo(l,u,Ae(m,2))}function cf(l,u){var m=l==null?0:l.length;if(m){var b=Dr(l,u);if(b<m&&zt(l[b],u))return b}return-1}function uf(l,u){return Dr(l,u,!0)}function df(l,u,m){return Lo(l,u,Ae(m,2),!0)}function ff(l,u){var m=l==null?0:l.length;if(m){var b=Dr(l,u,!0)-1;if(zt(l[b],u))return b}return-1}function hf(l){return l&&l.length?Vi(l):[]}function pf(l,u){return l&&l.length?Vi(l,Ae(u,2)):[]}function mf(l){var u=l==null?0:l.length;return u?Bt(l,1,u):[]}function gf(l,u,m){return l&&l.length?(u=m||u===n?1:Me(u),Bt(l,0,u<0?0:u)):[]}function vf(l,u,m){var b=l==null?0:l.length;return b?(u=m||u===n?1:Me(u),u=b-u,Bt(l,u<0?0:u,b)):[]}function _f(l,u){return l&&l.length?Fr(l,Ae(u,3),!1,!0):[]}function yf(l,u){return l&&l.length?Fr(l,Ae(u,3)):[]}var bf=Ue(function(l){return mn(mt(l,1,at,!0))}),Cf=Ue(function(l){var u=Ut(l);return at(u)&&(u=n),mn(mt(l,1,at,!0),Ae(u,2))}),wf=Ue(function(l){var u=Ut(l);return u=typeof u=="function"?u:n,mn(mt(l,1,at,!0),n,u)});function Sf(l){return l&&l.length?mn(l):[]}function Ef(l,u){return l&&l.length?mn(l,Ae(u,2)):[]}function kf(l,u){return u=typeof u=="function"?u:n,l&&l.length?mn(l,n,u):[]}function Zo(l){if(!(l&&l.length))return[];var u=0;return l=un(l,function(m){if(at(m))return u=dt(m.length,u),!0}),go(u,function(m){return rt(l,ho(m))})}function Ca(l,u){if(!(l&&l.length))return[];var m=Zo(l);return u==null?m:rt(m,function(b){return xt(u,n,b)})}var Tf=Ue(function(l,u){return at(l)?Jn(l,u):[]}),If=Ue(function(l){return Fo(un(l,at))}),xf=Ue(function(l){var u=Ut(l);return at(u)&&(u=n),Fo(un(l,at),Ae(u,2))}),Af=Ue(function(l){var u=Ut(l);return u=typeof u=="function"?u:n,Fo(un(l,at),n,u)}),Rf=Ue(Zo);function Pf(l,u){return Fi(l||[],u||[],Xn)}function Nf(l,u){return Fi(l||[],u||[],tr)}var Vf=Ue(function(l){var u=l.length,m=u>1?l[u-1]:n;return m=typeof m=="function"?(l.pop(),m):n,Ca(l,m)});function wa(l){var u=k(l);return u.__chain__=!0,u}function Of(l,u){return u(l),l}function zr(l,u){return u(l)}var Lf=on(function(l){var u=l.length,m=u?l[0]:0,b=this.__wrapped__,w=function(I){return Eo(I,l)};return u>1||this.__actions__.length||!(b instanceof We)||!sn(m)?this.thru(w):(b=b.slice(m,+m+(u?1:0)),b.__actions__.push({func:zr,args:[w],thisArg:n}),new Mt(b,this.__chain__).thru(function(I){return u&&!I.length&&I.push(n),I}))});function Df(){return wa(this)}function Ff(){return new Mt(this.value(),this.__chain__)}function Mf(){this.__values__===n&&(this.__values__=Da(this.value()));var l=this.__index__>=this.__values__.length,u=l?n:this.__values__[this.__index__++];return{done:l,value:u}}function $f(){return this}function Bf(l){for(var u,m=this;m instanceof Ar;){var b=pa(m);b.__index__=0,b.__values__=n,u?w.__wrapped__=b:u=b;var w=b;m=m.__wrapped__}return w.__wrapped__=l,u}function Uf(){var l=this.__wrapped__;if(l instanceof We){var u=l;return this.__actions__.length&&(u=new We(this)),u=u.reverse(),u.__actions__.push({func:zr,args:[Jo],thisArg:n}),new Mt(u,this.__chain__)}return this.thru(Jo)}function qf(){return Di(this.__wrapped__,this.__actions__)}var Hf=Mr(function(l,u,m){Qe.call(l,m)?++l[m]:nn(l,m,1)});function Wf(l,u,m){var b=Fe(l)?Ws:xu;return m&&Ct(l,u,m)&&(u=n),b(l,Ae(u,3))}function Gf(l,u){var m=Fe(l)?un:vi;return m(l,Ae(u,3))}var zf=ji(ma),jf=ji(ga);function Kf(l,u){return mt(jr(l,u),1)}function Yf(l,u){return mt(jr(l,u),Q)}function Qf(l,u,m){return m=m===n?1:Me(m),mt(jr(l,u),m)}function Sa(l,u){var m=Fe(l)?Dt:pn;return m(l,Ae(u,3))}function Ea(l,u){var m=Fe(l)?rc:gi;return m(l,Ae(u,3))}var Xf=Mr(function(l,u,m){Qe.call(l,m)?l[m].push(u):nn(l,m,[u])});function Jf(l,u,m,b){l=kt(l)?l:Wn(l),m=m&&!b?Me(m):0;var w=l.length;return m<0&&(m=dt(w+m,0)),Jr(l)?m<=w&&l.indexOf(u,m)>-1:!!w&&Nn(l,u,m)>-1}var Zf=Ue(function(l,u,m){var b=-1,w=typeof u=="function",I=kt(l)?z(l.length):[];return pn(l,function(V){I[++b]=w?xt(u,V,m):Zn(V,u,m)}),I}),eh=Mr(function(l,u,m){nn(l,m,u)});function jr(l,u){var m=Fe(l)?rt:Si;return m(l,Ae(u,3))}function th(l,u,m,b){return l==null?[]:(Fe(u)||(u=u==null?[]:[u]),m=b?n:m,Fe(m)||(m=m==null?[]:[m]),Ii(l,u,m))}var nh=Mr(function(l,u,m){l[m?0:1].push(u)},function(){return[[],[]]});function rh(l,u,m){var b=Fe(l)?uo:Ks,w=arguments.length<3;return b(l,Ae(u,4),m,w,pn)}function oh(l,u,m){var b=Fe(l)?oc:Ks,w=arguments.length<3;return b(l,Ae(u,4),m,w,gi)}function sh(l,u){var m=Fe(l)?un:vi;return m(l,Qr(Ae(u,3)))}function ih(l){var u=Fe(l)?di:Ku;return u(l)}function ah(l,u,m){(m?Ct(l,u,m):u===n)?u=1:u=Me(u);var b=Fe(l)?Su:Yu;return b(l,u)}function lh(l){var u=Fe(l)?Eu:Xu;return u(l)}function ch(l){if(l==null)return 0;if(kt(l))return Jr(l)?On(l):l.length;var u=_t(l);return u==j||u==ie?l.size:Ro(l).length}function uh(l,u,m){var b=Fe(l)?fo:Ju;return m&&Ct(l,u,m)&&(u=n),b(l,Ae(u,3))}var dh=Ue(function(l,u){if(l==null)return[];var m=u.length;return m>1&&Ct(l,u[0],u[1])?u=[]:m>2&&Ct(u[0],u[1],u[2])&&(u=[u[0]]),Ii(l,mt(u,1),[])}),Kr=Fc||function(){return pt.Date.now()};function fh(l,u){if(typeof u!="function")throw new Ft(a);return l=Me(l),function(){if(--l<1)return u.apply(this,arguments)}}function ka(l,u,m){return u=m?n:u,u=l&&u==null?l.length:u,rn(l,D,n,n,n,n,u)}function Ta(l,u){var m;if(typeof u!="function")throw new Ft(a);return l=Me(l),function(){return--l>0&&(m=u.apply(this,arguments)),l<=1&&(u=n),m}}var es=Ue(function(l,u,m){var b=x;if(m.length){var w=fn(m,qn(es));b|=P}return rn(l,b,u,m,w)}),Ia=Ue(function(l,u,m){var b=x|A;if(m.length){var w=fn(m,qn(Ia));b|=P}return rn(u,b,l,m,w)});function xa(l,u,m){u=m?n:u;var b=rn(l,E,n,n,n,n,n,u);return b.placeholder=xa.placeholder,b}function Aa(l,u,m){u=m?n:u;var b=rn(l,L,n,n,n,n,n,u);return b.placeholder=Aa.placeholder,b}function Ra(l,u,m){var b,w,I,V,F,H,te=0,oe=!1,ue=!1,_e=!0;if(typeof l!="function")throw new Ft(a);u=qt(u)||0,ot(m)&&(oe=!!m.leading,ue="maxWait"in m,I=ue?dt(qt(m.maxWait)||0,u):I,_e="trailing"in m?!!m.trailing:_e);function ke(ct){var jt=b,cn=w;return b=w=n,te=ct,V=l.apply(cn,jt),V}function Ne(ct){return te=ct,F=sr(He,u),oe?ke(ct):V}function $e(ct){var jt=ct-H,cn=ct-te,Ya=u-jt;return ue?vt(Ya,I-cn):Ya}function Ve(ct){var jt=ct-H,cn=ct-te;return H===n||jt>=u||jt<0||ue&&cn>=I}function He(){var ct=Kr();if(Ve(ct))return ze(ct);F=sr(He,$e(ct))}function ze(ct){return F=n,_e&&b?ke(ct):(b=w=n,V)}function Nt(){F!==n&&Mi(F),te=0,b=H=w=F=n}function wt(){return F===n?V:ze(Kr())}function Vt(){var ct=Kr(),jt=Ve(ct);if(b=arguments,w=this,H=ct,jt){if(F===n)return Ne(H);if(ue)return Mi(F),F=sr(He,u),ke(H)}return F===n&&(F=sr(He,u)),V}return Vt.cancel=Nt,Vt.flush=wt,Vt}var hh=Ue(function(l,u){return mi(l,1,u)}),ph=Ue(function(l,u,m){return mi(l,qt(u)||0,m)});function mh(l){return rn(l,B)}function Yr(l,u){if(typeof l!="function"||u!=null&&typeof u!="function")throw new Ft(a);var m=function(){var b=arguments,w=u?u.apply(this,b):b[0],I=m.cache;if(I.has(w))return I.get(w);var V=l.apply(this,b);return m.cache=I.set(w,V)||I,V};return m.cache=new(Yr.Cache||tn),m}Yr.Cache=tn;function Qr(l){if(typeof l!="function")throw new Ft(a);return function(){var u=arguments;switch(u.length){case 0:return!l.call(this);case 1:return!l.call(this,u[0]);case 2:return!l.call(this,u[0],u[1]);case 3:return!l.call(this,u[0],u[1],u[2])}return!l.apply(this,u)}}function gh(l){return Ta(2,l)}var vh=Zu(function(l,u){u=u.length==1&&Fe(u[0])?rt(u[0],At(Ae())):rt(mt(u,1),At(Ae()));var m=u.length;return Ue(function(b){for(var w=-1,I=vt(b.length,m);++w<I;)b[w]=u[w].call(this,b[w]);return xt(l,this,b)})}),ts=Ue(function(l,u){var m=fn(u,qn(ts));return rn(l,P,n,u,m)}),Pa=Ue(function(l,u){var m=fn(u,qn(Pa));return rn(l,O,n,u,m)}),_h=on(function(l,u){return rn(l,N,n,n,n,u)});function yh(l,u){if(typeof l!="function")throw new Ft(a);return u=u===n?u:Me(u),Ue(l,u)}function bh(l,u){if(typeof l!="function")throw new Ft(a);return u=u==null?0:dt(Me(u),0),Ue(function(m){var b=m[u],w=vn(m,0,u);return b&&dn(w,b),xt(l,this,w)})}function Ch(l,u,m){var b=!0,w=!0;if(typeof l!="function")throw new Ft(a);return ot(m)&&(b="leading"in m?!!m.leading:b,w="trailing"in m?!!m.trailing:w),Ra(l,u,{leading:b,maxWait:u,trailing:w})}function wh(l){return ka(l,1)}function Sh(l,u){return ts($o(u),l)}function Eh(){if(!arguments.length)return[];var l=arguments[0];return Fe(l)?l:[l]}function kh(l){return $t(l,y)}function Th(l,u){return u=typeof u=="function"?u:n,$t(l,y,u)}function Ih(l){return $t(l,v|y)}function xh(l,u){return u=typeof u=="function"?u:n,$t(l,v|y,u)}function Ah(l,u){return u==null||hi(l,u,ft(u))}function zt(l,u){return l===u||l!==l&&u!==u}var Rh=qr(Io),Ph=qr(function(l,u){return l>=u}),In=bi(function(){return arguments}())?bi:function(l){return st(l)&&Qe.call(l,"callee")&&!oi.call(l,"callee")},Fe=z.isArray,Nh=Ms?At(Ms):Lu;function kt(l){return l!=null&&Xr(l.length)&&!an(l)}function at(l){return st(l)&&kt(l)}function Vh(l){return l===!0||l===!1||st(l)&&bt(l)==we}var _n=$c||hs,Oh=$s?At($s):Du;function Lh(l){return st(l)&&l.nodeType===1&&!ir(l)}function Dh(l){if(l==null)return!0;if(kt(l)&&(Fe(l)||typeof l=="string"||typeof l.splice=="function"||_n(l)||Hn(l)||In(l)))return!l.length;var u=_t(l);if(u==j||u==ie)return!l.size;if(rr(l))return!Ro(l).length;for(var m in l)if(Qe.call(l,m))return!1;return!0}function Fh(l,u){return er(l,u)}function Mh(l,u,m){m=typeof m=="function"?m:n;var b=m?m(l,u):n;return b===n?er(l,u,n,m):!!b}function ns(l){if(!st(l))return!1;var u=bt(l);return u==Le||u==Xe||typeof l.message=="string"&&typeof l.name=="string"&&!ir(l)}function $h(l){return typeof l=="number"&&ai(l)}function an(l){if(!ot(l))return!1;var u=bt(l);return u==R||u==M||u==he||u==pe}function Na(l){return typeof l=="number"&&l==Me(l)}function Xr(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=ae}function ot(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}function st(l){return l!=null&&typeof l=="object"}var Va=Bs?At(Bs):$u;function Bh(l,u){return l===u||Ao(l,u,zo(u))}function Uh(l,u,m){return m=typeof m=="function"?m:n,Ao(l,u,zo(u),m)}function qh(l){return Oa(l)&&l!=+l}function Hh(l){if(Ed(l))throw new De(s);return Ci(l)}function Wh(l){return l===null}function Gh(l){return l==null}function Oa(l){return typeof l=="number"||st(l)&&bt(l)==Z}function ir(l){if(!st(l)||bt(l)!=fe)return!1;var u=Cr(l);if(u===null)return!0;var m=Qe.call(u,"constructor")&&u.constructor;return typeof m=="function"&&m instanceof m&&vr.call(m)==Vc}var rs=Us?At(Us):Bu;function zh(l){return Na(l)&&l>=-ae&&l<=ae}var La=qs?At(qs):Uu;function Jr(l){return typeof l=="string"||!Fe(l)&&st(l)&&bt(l)==Te}function Pt(l){return typeof l=="symbol"||st(l)&&bt(l)==Ee}var Hn=Hs?At(Hs):qu;function jh(l){return l===n}function Kh(l){return st(l)&&_t(l)==Pe}function Yh(l){return st(l)&&bt(l)==qe}var Qh=qr(Po),Xh=qr(function(l,u){return l<=u});function Da(l){if(!l)return[];if(kt(l))return Jr(l)?Ht(l):Et(l);if(zn&&l[zn])return bc(l[zn]());var u=_t(l),m=u==j?_o:u==ie?fr:Wn;return m(l)}function ln(l){if(!l)return l===0?l:0;if(l=qt(l),l===Q||l===-Q){var u=l<0?-1:1;return u*xe}return l===l?l:0}function Me(l){var u=ln(l),m=u%1;return u===u?m?u-m:u:0}function Fa(l){return l?Sn(Me(l),0,Ce):0}function qt(l){if(typeof l=="number")return l;if(Pt(l))return ve;if(ot(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=ot(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=Ys(l);var m=yl.test(l);return m||Cl.test(l)?ec(l.slice(2),m?2:8):_l.test(l)?ve:+l}function Ma(l){return Qt(l,Tt(l))}function Jh(l){return l?Sn(Me(l),-ae,ae):l===0?l:0}function Ye(l){return l==null?"":Rt(l)}var Zh=Bn(function(l,u){if(rr(u)||kt(u)){Qt(u,ft(u),l);return}for(var m in u)Qe.call(u,m)&&Xn(l,m,u[m])}),$a=Bn(function(l,u){Qt(u,Tt(u),l)}),Zr=Bn(function(l,u,m,b){Qt(u,Tt(u),l,b)}),ep=Bn(function(l,u,m,b){Qt(u,ft(u),l,b)}),tp=on(Eo);function np(l,u){var m=$n(l);return u==null?m:fi(m,u)}var rp=Ue(function(l,u){l=Je(l);var m=-1,b=u.length,w=b>2?u[2]:n;for(w&&Ct(u[0],u[1],w)&&(b=1);++m<b;)for(var I=u[m],V=Tt(I),F=-1,H=V.length;++F<H;){var te=V[F],oe=l[te];(oe===n||zt(oe,Dn[te])&&!Qe.call(l,te))&&(l[te]=I[te])}return l}),op=Ue(function(l){return l.push(n,ta),xt(Ba,n,l)});function sp(l,u){return Gs(l,Ae(u,3),Yt)}function ip(l,u){return Gs(l,Ae(u,3),To)}function lp(l,u){return l==null?l:ko(l,Ae(u,3),Tt)}function cp(l,u){return l==null?l:_i(l,Ae(u,3),Tt)}function up(l,u){return l&&Yt(l,Ae(u,3))}function dp(l,u){return l&&To(l,Ae(u,3))}function fp(l){return l==null?[]:Vr(l,ft(l))}function hp(l){return l==null?[]:Vr(l,Tt(l))}function ss(l,u,m){var b=l==null?n:En(l,u);return b===n?m:b}function pp(l,u){return l!=null&&oa(l,u,Ru)}function is(l,u){return l!=null&&oa(l,u,Pu)}var gp=Yi(function(l,u,m){u!=null&&typeof u.toString!="function"&&(u=_r.call(u)),l[u]=m},ls(It)),vp=Yi(function(l,u,m){u!=null&&typeof u.toString!="function"&&(u=_r.call(u)),Qe.call(l,u)?l[u].push(m):l[u]=[m]},Ae),_p=Ue(Zn);function ft(l){return kt(l)?ui(l):Ro(l)}function Tt(l){return kt(l)?ui(l,!0):Hu(l)}function yp(l,u){var m={};return u=Ae(u,3),Yt(l,function(b,w,I){nn(m,u(b,w,I),b)}),m}function bp(l,u){var m={};return u=Ae(u,3),Yt(l,function(b,w,I){nn(m,w,u(b,w,I))}),m}var Cp=Bn(function(l,u,m){Lr(l,u,m)}),Ba=Bn(function(l,u,m,b){Lr(l,u,m,b)}),Sp=on(function(l,u){var m={};if(l==null)return m;var b=!1;u=rt(u,function(I){return I=gn(I,l),b||(b=I.length>1),I}),Qt(l,Wo(l),m),b&&(m=$t(m,v|_|y,ud));for(var w=u.length;w--;)Do(m,u[w]);return m});function Ep(l,u){return Ua(l,Qr(Ae(u)))}var kp=on(function(l,u){return l==null?{}:Gu(l,u)});function Ua(l,u){if(l==null)return{};var m=rt(Wo(l),function(b){return[b]});return u=Ae(u),Ai(l,m,function(b,w){return u(b,w[0])})}function Tp(l,u,m){u=gn(u,l);var b=-1,w=u.length;for(w||(w=1,l=n);++b<w;){var I=l==null?n:l[Xt(u[b])];I===n&&(b=w,I=m),l=an(I)?I.call(l):I}return l}function Ip(l,u,m){return l==null?l:tr(l,u,m)}function xp(l,u,m,b){return b=typeof b=="function"?b:n,l==null?l:tr(l,u,m,b)}var qa=Zi(ft),Ha=Zi(Tt);function Ap(l,u,m){var b=Fe(l),w=b||_n(l)||Hn(l);if(u=Ae(u,4),m==null){var I=l&&l.constructor;w?m=b?new I:[]:ot(l)?m=an(I)?$n(Cr(l)):{}:m={}}return(w?Dt:Yt)(l,function(V,F,H){return u(m,V,F,H)}),m}function Rp(l,u){return l==null?!0:Do(l,u)}function Pp(l,u,m){return l==null?l:Li(l,u,$o(m))}function Np(l,u,m,b){return b=typeof b=="function"?b:n,l==null?l:Li(l,u,$o(m),b)}function Wn(l){return l==null?[]:vo(l,ft(l))}function Vp(l){return l==null?[]:vo(l,Tt(l))}function Op(l,u,m){return m===n&&(m=u,u=n),m!==n&&(m=qt(m),m=m===m?m:0),u!==n&&(u=qt(u),u=u===u?u:0),Sn(qt(l),u,m)}function Lp(l,u,m){return u=ln(u),m===n?(m=u,u=0):m=ln(m),l=qt(l),Vu(l,u,m)}function Dp(l,u,m){if(m&&typeof m!="boolean"&&Ct(l,u,m)&&(u=m=n),m===n&&(typeof u=="boolean"?(m=u,u=n):typeof l=="boolean"&&(m=l,l=n)),l===n&&u===n?(l=0,u=1):(l=ln(l),u===n?(u=l,l=0):u=ln(u)),l>u){var b=l;l=u,u=b}if(m||l%1||u%1){var w=li();return vt(l+w*(u-l+Zl("1e-"+((w+"").length-1))),u)}return Vo(l,u)}var Fp=Un(function(l,u,m){return u=u.toLowerCase(),l+(m?Wa(u):u)});function Wa(l){return as(Ye(l).toLowerCase())}function Ga(l){return l=Ye(l),l&&l.replace(Sl,mc).replace(Hl,"")}function Mp(l,u,m){l=Ye(l),u=Rt(u);var b=l.length;m=m===n?b:Sn(Me(m),0,b);var w=m;return m-=u.length,m>=0&&l.slice(m,w)==u}function $p(l){return l=Ye(l),l&&tl.test(l)?l.replace(ms,gc):l}function Bp(l){return l=Ye(l),l&&al.test(l)?l.replace(eo,"\\$&"):l}var Up=Un(function(l,u,m){return l+(m?"-":"")+u.toLowerCase()}),qp=Un(function(l,u,m){return l+(m?" ":"")+u.toLowerCase()}),Hp=zi("toLowerCase");function Wp(l,u,m){l=Ye(l),u=Me(u);var b=u?On(l):0;if(!u||b>=u)return l;var w=(u-b)/2;return Ur(Tr(w),m)+l+Ur(kr(w),m)}function Gp(l,u,m){l=Ye(l),u=Me(u);var b=u?On(l):0;return u&&b<u?l+Ur(u-b,m):l}function zp(l,u,m){l=Ye(l),u=Me(u);var b=u?On(l):0;return u&&b<u?Ur(u-b,m)+l:l}function jp(l,u,m){return m||u==null?u=0:u&&(u=+u),Hc(Ye(l).replace(to,""),u||0)}function Kp(l,u,m){return(m?Ct(l,u,m):u===n)?u=1:u=Me(u),Oo(Ye(l),u)}function Yp(){var l=arguments,u=Ye(l[0]);return l.length<3?u:u.replace(l[1],l[2])}var Qp=Un(function(l,u,m){return l+(m?"_":"")+u.toLowerCase()});function Xp(l,u,m){return m&&typeof m!="number"&&Ct(l,u,m)&&(u=m=n),m=m===n?Ce:m>>>0,m?(l=Ye(l),l&&(typeof u=="string"||u!=null&&!rs(u))&&(u=Rt(u),!u&&Vn(l))?vn(Ht(l),0,m):l.split(u,m)):[]}var Jp=Un(function(l,u,m){return l+(m?" ":"")+as(u)});function Zp(l,u,m){return l=Ye(l),m=m==null?0:Sn(Me(m),0,l.length),u=Rt(u),l.slice(m,m+u.length)==u}function em(l,u,m){var b=k.templateSettings;m&&Ct(l,u,m)&&(u=n),l=Ye(l),u=Zr({},u,b,ea);var w=Zr({},u.imports,b.imports,ea),I=ft(w),V=vo(w,I),F,H,te=0,oe=u.interpolate||ar,ue="__p += '",_e=yo((u.escape||ar).source+"|"+oe.source+"|"+(oe===gs?vl:ar).source+"|"+(u.evaluate||ar).source+"|$","g"),ke="//# sourceURL="+(Qe.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kl+"]")+`
`;l.replace(_e,function(Ve,He,ze,Nt,wt,Vt){return ze||(ze=Nt),ue+=l.slice(te,Vt).replace(El,vc),He&&(F=!0,ue+=`' +
__e(`+He+`) +
'`),wt&&(H=!0,ue+=`';
`+wt+`;
__p += '`),ze&&(ue+=`' +
((__t = (`+ze+`)) == null ? '' : __t) +
'`),te=Vt+Ve.length,Ve}),ue+=`';
`;var Ne=Qe.call(u,"variable")&&u.variable;if(!Ne)ue=`with (obj) {
`+ue+`
}
`;else if(pl.test(Ne))throw new De(c);ue=(H?ue.replace(Qa,""):ue).replace(Xa,"$1").replace(Ja,"$1;"),ue="function("+(Ne||"obj")+`) {
`+(Ne?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(F?", __e = _.escape":"")+(H?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ue+`return __p
}`;var $e=ja(function(){return Ke(I,ke+"return "+ue).apply(n,V)});if($e.source=ue,ns($e))throw $e;return $e}function tm(l){return Ye(l).toLowerCase()}function nm(l){return Ye(l).toUpperCase()}function rm(l,u,m){if(l=Ye(l),l&&(m||u===n))return Ys(l);if(!l||!(u=Rt(u)))return l;var b=Ht(l),w=Ht(u),I=Qs(b,w),V=Xs(b,w)+1;return vn(b,I,V).join("")}function om(l,u,m){if(l=Ye(l),l&&(m||u===n))return l.slice(0,Zs(l)+1);if(!l||!(u=Rt(u)))return l;var b=Ht(l),w=Xs(b,Ht(u))+1;return vn(b,0,w).join("")}function sm(l,u,m){if(l=Ye(l),l&&(m||u===n))return l.replace(to,"");if(!l||!(u=Rt(u)))return l;var b=Ht(l),w=Qs(b,Ht(u));return vn(b,w).join("")}function im(l,u){var m=q,b=G;if(ot(u)){var w="separator"in u?u.separator:w;m="length"in u?Me(u.length):m,b="omission"in u?Rt(u.omission):b}l=Ye(l);var I=l.length;if(Vn(l)){var V=Ht(l);I=V.length}if(m>=I)return l;var F=m-On(b);if(F<1)return b;var H=V?vn(V,0,F).join(""):l.slice(0,F);if(w===n)return H+b;if(V&&(F+=H.length-F),rs(w)){if(l.slice(F).search(w)){var te,oe=H;for(w.global||(w=yo(w.source,Ye(vs.exec(w))+"g")),w.lastIndex=0;te=w.exec(oe);)var ue=te.index;H=H.slice(0,ue===n?F:ue)}}else if(l.indexOf(Rt(w),F)!=F){var _e=H.lastIndexOf(w);_e>-1&&(H=H.slice(0,_e))}return H+b}function am(l){return l=Ye(l),l&&Za.test(l)?l.replace(ps,kc):l}var lm=Un(function(l,u,m){return l+(m?" ":"")+u.toUpperCase()}),as=zi("toUpperCase");function za(l,u,m){return l=Ye(l),u=m?n:u,u===n?yc(l)?xc(l):uc(l):l.match(u)||[]}var ja=Ue(function(l,u){try{return xt(l,n,u)}catch(m){return ns(m)?m:new De(m)}}),cm=on(function(l,u){return Dt(u,function(m){m=Xt(m),nn(l,m,es(l[m],l))}),l});function um(l){var u=l==null?0:l.length,m=Ae();return l=u?rt(l,function(b){if(typeof b[1]!="function")throw new Ft(a);return[m(b[0]),b[1]]}):[],Ue(function(b){for(var w=-1;++w<u;){var I=l[w];if(xt(I[0],this,b))return xt(I[1],this,b)}})}function dm(l){return Iu($t(l,v))}function ls(l){return function(){return l}}function fm(l,u){return l==null||l!==l?u:l}var hm=Ki(),mm=Ki(!0);function It(l){return l}function cs(l){return wi(typeof l=="function"?l:$t(l,v))}function gm(l){return Ei($t(l,v))}function vm(l,u){return ki(l,$t(u,v))}var _m=Ue(function(l,u){return function(m){return Zn(m,l,u)}}),ym=Ue(function(l,u){return function(m){return Zn(l,m,u)}});function us(l,u,m){var b=ft(u),w=Vr(u,b);m==null&&!(ot(u)&&(w.length||!b.length))&&(m=u,u=l,l=this,w=Vr(u,ft(u)));var I=!(ot(m)&&"chain"in m)||!!m.chain,V=an(l);return Dt(w,function(F){var H=u[F];l[F]=H,V&&(l.prototype[F]=function(){var te=this.__chain__;if(I||te){var oe=l(this.__wrapped__),ue=oe.__actions__=Et(this.__actions__);return ue.push({func:H,args:arguments,thisArg:l}),oe.__chain__=te,oe}return H.apply(l,dn([this.value()],arguments))})}),l}function bm(){return pt._===this&&(pt._=Oc),this}function ds(){}function Cm(l){return l=Me(l),Ue(function(u){return Ti(u,l)})}var wm=Uo(rt),Sm=Uo(Ws),Em=Uo(fo);function Ka(l){return Ko(l)?ho(Xt(l)):zu(l)}function km(l){return function(u){return l==null?n:En(l,u)}}var Tm=Qi(),xm=Qi(!0);function fs(){return[]}function hs(){return!1}function Am(){return{}}function Rm(){return""}function Pm(){return!0}function Nm(l,u){if(l=Me(l),l<1||l>ae)return[];var m=Ce,b=vt(l,Ce);u=Ae(u),l-=Ce;for(var w=go(b,u);++m<l;)u(m);return w}function Vm(l){return Fe(l)?rt(l,Xt):Pt(l)?[l]:Et(ha(Ye(l)))}function Om(l){var u=++Nc;return Ye(l)+u}var Lm=Br(function(l,u){return l+u},0),Dm=qo("ceil"),Fm=Br(function(l,u){return l/u},1),Mm=qo("floor");function $m(l){return l&&l.length?Nr(l,It,Io):n}function Bm(l,u){return l&&l.length?Nr(l,Ae(u,2),Io):n}function Um(l){return js(l,It)}function qm(l,u){return js(l,Ae(u,2))}function Hm(l){return l&&l.length?Nr(l,It,Po):n}function Wm(l,u){return l&&l.length?Nr(l,Ae(u,2),Po):n}var Gm=Br(function(l,u){return l*u},1),zm=qo("round"),jm=Br(function(l,u){return l-u},0);function Km(l){return l&&l.length?mo(l,It):0}function Ym(l,u){return l&&l.length?mo(l,Ae(u,2)):0}return k.after=fh,k.ary=ka,k.assign=Zh,k.assignIn=$a,k.assignInWith=Zr,k.assignWith=ep,k.at=tp,k.before=Ta,k.bind=es,k.bindAll=cm,k.bindKey=Ia,k.castArray=Eh,k.chain=wa,k.chunk=Pd,k.compact=Nd,k.concat=Vd,k.cond=um,k.conforms=dm,k.constant=ls,k.countBy=Hf,k.create=np,k.curry=xa,k.curryRight=Aa,k.debounce=Ra,k.defaults=rp,k.defaultsDeep=op,k.defer=hh,k.delay=ph,k.difference=Od,k.differenceBy=Ld,k.differenceWith=Dd,k.drop=Fd,k.dropRight=Md,k.dropRightWhile=$d,k.dropWhile=Bd,k.fill=Ud,k.filter=Gf,k.flatMap=Kf,k.flatMapDeep=Yf,k.flatMapDepth=Qf,k.flatten=va,k.flattenDeep=qd,k.flattenDepth=Hd,k.flip=mh,k.flow=hm,k.flowRight=mm,k.fromPairs=Wd,k.functions=fp,k.functionsIn=hp,k.groupBy=Xf,k.initial=zd,k.intersection=jd,k.intersectionBy=Kd,k.intersectionWith=Yd,k.invert=gp,k.invertBy=vp,k.invokeMap=Zf,k.iteratee=cs,k.keyBy=eh,k.keys=ft,k.keysIn=Tt,k.map=jr,k.mapKeys=yp,k.mapValues=bp,k.matches=gm,k.matchesProperty=vm,k.memoize=Yr,k.merge=Cp,k.mergeWith=Ba,k.method=_m,k.methodOf=ym,k.mixin=us,k.negate=Qr,k.nthArg=Cm,k.omit=Sp,k.omitBy=Ep,k.once=gh,k.orderBy=th,k.over=wm,k.overArgs=vh,k.overEvery=Sm,k.overSome=Em,k.partial=ts,k.partialRight=Pa,k.partition=nh,k.pick=kp,k.pickBy=Ua,k.property=Ka,k.propertyOf=km,k.pull=Zd,k.pullAll=ba,k.pullAllBy=ef,k.pullAllWith=tf,k.pullAt=nf,k.range=Tm,k.rangeRight=xm,k.rearg=_h,k.reject=sh,k.remove=rf,k.rest=yh,k.reverse=Jo,k.sampleSize=ah,k.set=Ip,k.setWith=xp,k.shuffle=lh,k.slice=of,k.sortBy=dh,k.sortedUniq=hf,k.sortedUniqBy=pf,k.split=Xp,k.spread=bh,k.tail=mf,k.take=gf,k.takeRight=vf,k.takeRightWhile=_f,k.takeWhile=yf,k.tap=Of,k.throttle=Ch,k.thru=zr,k.toArray=Da,k.toPairs=qa,k.toPairsIn=Ha,k.toPath=Vm,k.toPlainObject=Ma,k.transform=Ap,k.unary=wh,k.union=bf,k.unionBy=Cf,k.unionWith=wf,k.uniq=Sf,k.uniqBy=Ef,k.uniqWith=kf,k.unset=Rp,k.unzip=Zo,k.unzipWith=Ca,k.update=Pp,k.updateWith=Np,k.values=Wn,k.valuesIn=Vp,k.without=Tf,k.words=za,k.wrap=Sh,k.xor=If,k.xorBy=xf,k.xorWith=Af,k.zip=Rf,k.zipObject=Pf,k.zipObjectDeep=Nf,k.zipWith=Vf,k.entries=qa,k.entriesIn=Ha,k.extend=$a,k.extendWith=Zr,us(k,k),k.add=Lm,k.attempt=ja,k.camelCase=Fp,k.capitalize=Wa,k.ceil=Dm,k.clamp=Op,k.clone=kh,k.cloneDeep=Ih,k.cloneDeepWith=xh,k.cloneWith=Th,k.conformsTo=Ah,k.deburr=Ga,k.defaultTo=fm,k.divide=Fm,k.endsWith=Mp,k.eq=zt,k.escape=$p,k.escapeRegExp=Bp,k.every=Wf,k.find=zf,k.findIndex=ma,k.findKey=sp,k.findLast=jf,k.findLastIndex=ga,k.findLastKey=ip,k.floor=Mm,k.forEach=Sa,k.forEachRight=Ea,k.forIn=lp,k.forInRight=cp,k.forOwn=up,k.forOwnRight=dp,k.get=ss,k.gt=Rh,k.gte=Ph,k.has=pp,k.hasIn=is,k.head=ya,k.identity=It,k.includes=Jf,k.indexOf=Gd,k.inRange=Lp,k.invoke=_p,k.isArguments=In,k.isArray=Fe,k.isArrayBuffer=Nh,k.isArrayLike=kt,k.isArrayLikeObject=at,k.isBoolean=Vh,k.isBuffer=_n,k.isDate=Oh,k.isElement=Lh,k.isEmpty=Dh,k.isEqual=Fh,k.isEqualWith=Mh,k.isError=ns,k.isFinite=$h,k.isFunction=an,k.isInteger=Na,k.isLength=Xr,k.isMap=Va,k.isMatch=Bh,k.isMatchWith=Uh,k.isNaN=qh,k.isNative=Hh,k.isNil=Gh,k.isNull=Wh,k.isNumber=Oa,k.isObject=ot,k.isObjectLike=st,k.isPlainObject=ir,k.isRegExp=rs,k.isSafeInteger=zh,k.isSet=La,k.isString=Jr,k.isSymbol=Pt,k.isTypedArray=Hn,k.isUndefined=jh,k.isWeakMap=Kh,k.isWeakSet=Yh,k.join=Qd,k.kebabCase=Up,k.last=Ut,k.lastIndexOf=Xd,k.lowerCase=qp,k.lowerFirst=Hp,k.lt=Qh,k.lte=Xh,k.max=$m,k.maxBy=Bm,k.mean=Um,k.meanBy=qm,k.min=Hm,k.minBy=Wm,k.stubArray=fs,k.stubFalse=hs,k.stubObject=Am,k.stubString=Rm,k.stubTrue=Pm,k.multiply=Gm,k.nth=Jd,k.noConflict=bm,k.noop=ds,k.now=Kr,k.pad=Wp,k.padEnd=Gp,k.padStart=zp,k.parseInt=jp,k.random=Dp,k.reduce=rh,k.reduceRight=oh,k.repeat=Kp,k.replace=Yp,k.result=Tp,k.round=zm,k.runInContext=$,k.sample=ih,k.size=ch,k.snakeCase=Qp,k.some=uh,k.sortedIndex=sf,k.sortedIndexBy=lf,k.sortedIndexOf=cf,k.sortedLastIndex=uf,k.sortedLastIndexBy=df,k.sortedLastIndexOf=ff,k.startCase=Jp,k.startsWith=Zp,k.subtract=jm,k.sum=Km,k.sumBy=Ym,k.template=em,k.times=Nm,k.toFinite=ln,k.toInteger=Me,k.toLength=Fa,k.toLower=tm,k.toNumber=qt,k.toSafeInteger=Jh,k.toString=Ye,k.toUpper=nm,k.trim=rm,k.trimEnd=om,k.trimStart=sm,k.truncate=im,k.unescape=am,k.uniqueId=Om,k.upperCase=lm,k.upperFirst=as,k.each=Sa,k.eachRight=Ea,k.first=ya,us(k,function(){var l={};return Yt(k,function(u,m){Qe.call(k.prototype,m)||(l[m]=u)}),l}(),{chain:!1}),k.VERSION=r,Dt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){k[l].placeholder=k}),Dt(["drop","take"],function(l,u){We.prototype[l]=function(m){m=m===n?1:dt(Me(m),0);var b=this.__filtered__&&!u?new We(this):this.clone();return b.__filtered__?b.__takeCount__=vt(m,b.__takeCount__):b.__views__.push({size:vt(m,Ce),type:l+(b.__dir__<0?"Right":"")}),b},We.prototype[l+"Right"]=function(m){return this.reverse()[l](m).reverse()}}),Dt(["filter","map","takeWhile"],function(l,u){var m=u+1,b=m==U||m==Y;We.prototype[l]=function(w){var I=this.clone();return I.__iteratees__.push({iteratee:Ae(w,3),type:m}),I.__filtered__=I.__filtered__||b,I}}),Dt(["head","last"],function(l,u){var m="take"+(u?"Right":"");We.prototype[l]=function(){return this[m](1).value()[0]}}),Dt(["initial","tail"],function(l,u){var m="drop"+(u?"":"Right");We.prototype[l]=function(){return this.__filtered__?new We(this):this[m](1)}}),We.prototype.compact=function(){return this.filter(It)},We.prototype.find=function(l){return this.filter(l).head()},We.prototype.findLast=function(l){return this.reverse().find(l)},We.prototype.invokeMap=Ue(function(l,u){return typeof l=="function"?new We(this):this.map(function(m){return Zn(m,l,u)})}),We.prototype.reject=function(l){return this.filter(Qr(Ae(l)))},We.prototype.slice=function(l,u){l=Me(l);var m=this;return m.__filtered__&&(l>0||u<0)?new We(m):(l<0?m=m.takeRight(-l):l&&(m=m.drop(l)),u!==n&&(u=Me(u),m=u<0?m.dropRight(-u):m.take(u-l)),m)},We.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},We.prototype.toArray=function(){return this.take(Ce)},Yt(We.prototype,function(l,u){var m=/^(?:filter|find|map|reject)|While$/.test(u),b=/^(?:head|last)$/.test(u),w=k[b?"take"+(u=="last"?"Right":""):u],I=b||/^find/.test(u);!w||(k.prototype[u]=function(){var V=this.__wrapped__,F=b?[1]:arguments,H=V instanceof We,te=F[0],oe=H||Fe(V),ue=function(He){var ze=w.apply(k,dn([He],F));return b&&_e?ze[0]:ze};oe&&m&&typeof te=="function"&&te.length!=1&&(H=oe=!1);var _e=this.__chain__,ke=!!this.__actions__.length,Ne=I&&!_e,$e=H&&!ke;if(!I&&oe){V=$e?V:new We(this);var Ve=l.apply(V,F);return Ve.__actions__.push({func:zr,args:[ue],thisArg:n}),new Mt(Ve,_e)}return Ne&&$e?l.apply(this,F):(Ve=this.thru(ue),Ne?b?Ve.value()[0]:Ve.value():Ve)})}),Dt(["pop","push","shift","sort","splice","unshift"],function(l){var u=mr[l],m=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",b=/^(?:pop|shift)$/.test(l);k.prototype[l]=function(){var w=arguments;if(b&&!this.__chain__){var I=this.value();return u.apply(Fe(I)?I:[],w)}return this[m](function(V){return u.apply(Fe(V)?V:[],w)})}}),Yt(We.prototype,function(l,u){var m=k[u];if(m){var b=m.name+"";Qe.call(Mn,b)||(Mn[b]=[]),Mn[b].push({name:u,func:m})}}),Mn[$r(n,A).name]=[{name:"wrapper",func:n}],We.prototype.clone=Qc,We.prototype.reverse=Xc,We.prototype.value=Jc,k.prototype.at=Lf,k.prototype.chain=Df,k.prototype.commit=Ff,k.prototype.next=Mf,k.prototype.plant=Bf,k.prototype.reverse=Uf,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=qf,k.prototype.first=k.prototype.head,zn&&(k.prototype[zn]=$f),k},Ln=Ac();yn?((yn.exports=Ln)._=Ln,ao._=Ln):pt._=Ln}).call(commonjsGlobal)})(lodash,lodash.exports);var base64$1={exports:{}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */(function(t,e){(function(n){var r=e,o=t&&t.exports==r&&t,s=typeof commonjsGlobal=="object"&&commonjsGlobal;(s.global===s||s.window===s)&&(n=s);var a=function(C){this.message=C};a.prototype=new Error,a.prototype.name="InvalidCharacterError";var c=function(C){throw new a(C)},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,g=function(C){C=String(C).replace(f,"");var S=C.length;S%4==0&&(C=C.replace(/==?$/,""),S=C.length),(S%4==1||/[^+a-zA-Z0-9/]/.test(C))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var x=0,A,T,E="",L=-1;++L<S;)T=d.indexOf(C.charAt(L)),A=x%4?A*64+T:T,x++%4&&(E+=String.fromCharCode(255&A>>(-2*x&6)));return E},v=function(C){C=String(C),/[^\0-\xFF]/.test(C)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var S=C.length%3,x="",A=-1,T,E,L,P,O=C.length-S;++A<O;)T=C.charCodeAt(A)<<16,E=C.charCodeAt(++A)<<8,L=C.charCodeAt(++A),P=T+E+L,x+=d.charAt(P>>18&63)+d.charAt(P>>12&63)+d.charAt(P>>6&63)+d.charAt(P&63);return S==2?(T=C.charCodeAt(A)<<8,E=C.charCodeAt(++A),P=T+E,x+=d.charAt(P>>10)+d.charAt(P>>4&63)+d.charAt(P<<2&63)+"="):S==1&&(P=C.charCodeAt(A),x+=d.charAt(P>>2)+d.charAt(P<<4&63)+"=="),x},_={encode:v,decode:g,version:"1.0.0"};if(r&&!r.nodeType)if(o)o.exports=_;else for(var y in _)_.hasOwnProperty(y)&&(r[y]=_[y]);else n.base64=_})(commonjsGlobal)})(base64$1,base64$1.exports);const base64=base64$1.exports,runHandler=({setup,deck,candidates,itemName,alwaysLeadsExtra=!1})=>{const store=useStore(),handlerName=lodash.exports.camelCase(itemName);let code=store.handlers[handlerName];if(!code)return[];code=base64.decode(code);const handlerFn=eval(code),criteria=handlerFn({store,setup,deck,candidates,alwaysLeadsExtra})||[];for(let t of criteria)getItems(deck,setup,candidates,t)},getAlwaysLeads=({setup:t,deck:e,candidates:n,alwaysLeadsExtra:r=!1,item:o})=>{if(t.players==1)return;if(o.always_leads=="*"){runHandler({setup:t,deck:e,candidates:n,itemName:lodash.exports.camelCase(o.mastermind_name),alwaysLeadsExtra:r});return}const s=o.always_leads;[...e.villains,...e.henchmen,...e.heroes].map(c=>c.primary).includes(s)||getItems(e,t,n,{table:"villains",field:"villain_group",value:s})||getItems(e,t,n,{table:"henchmen",field:"henchmen_name",value:s})},getItems=(t,e,n,{table:r,field:o,value:s,append:a=r,special:c=!1,num:d=1,removeAll:f=!1,retrieveAlwaysLeads:g=!1,alwaysLeadsExtra:v=!1,canRepeat:_=!1})=>{const y=useStore();if(t[a]&&t[a].length>=e[a]||d<=0)return;const C=n[r].map(T=>{const E=T.played&&T.played[y.user.uid]?T.played[y.user.uid]:1;return y.userSettings.usePlayedCount?[T.id,E]:[T.id,1]});let x=lib$1.shuffle(C,"asc").map(T=>n[r].filter(({id:E})=>E==T[0]).shift());if(o&&s&&(x=s instanceof RegExp?n[r].filter(T=>s.test(T[o])):n[r].filter(T=>T[o]==s)),x.length==0)return!1;let A=[];if(_)for(let T=0;T<d;T++)A.push(lib$1.shuffle(x).shift());if(_||(A=x.splice(0,d)),A=A.map(T=>{T.special=c,g&&getAlwaysLeads({setup:e,deck:t,candidates:n,alwaysLeadsExtra:v,item:T});const E=tableFields[r];let L=[];r=="heroes"&&(L=T.colors,typeof L=="string"&&(L=JSON.parse(L)));const P=T.played&&T.played[y.user.uid]?T.played[y.user.uid]:1;return{primary:T[E.primary],secondary:T[E.secondary]||!1,colors:L,special:c,id:T.id,played:P,table:r}}),t[a]||(t[a]=[]),t[a]=[...t[a],...A],!_)for(let T of A)n[r]=n[r].filter(({id:E})=>E!=T.id);f&&(n[r]=n[r].filter(T=>T[o]!=s))},defaultSetups={1:{players:1,schemes:1,masterminds:1,villains:1,henchmen:1,heroes:3,bystanders:1},2:{players:2,schemes:1,masterminds:1,villains:2,henchmen:1,heroes:5,bystanders:2},3:{players:3,schemes:1,masterminds:1,villains:3,henchmen:1,heroes:5,bystanders:8},4:{players:4,schemes:1,masterminds:1,villains:3,henchmen:2,heroes:5,bystanders:8},5:{players:5,schemes:1,masterminds:1,villains:4,henchmen:2,heroes:6,bystanders:12}},buildDeck=({numPlayers:t,schemeName:e=null})=>{const n=useStore();if(!n.userSettings.expansions||n.userSettings.expansions.length==0){n.snack={visible:!0,color:"error",text:"No Expansions Found. Go to Settings and select your expansions."};return}const r=n.userSettings.expansions.map(f=>n.expansionList.filter(v=>v.id==f).shift().expansion);let o={schemes:[],masterminds:[],villains:[],henchmen:[],heroes:[]},s={...defaultSetups[t]},a={};for(let f of["schemes","masterminds","villains","henchmen","heroes"])a[f]=n[f].filter(g=>f=="masterminds"&&!n.userSettings.useEpics&&/^Epic/.test(g.mastermind_name)||f=="schemes"&&parseInt(g.min_players)>t?!1:r.includes(g.expansion));const c=e?{field:"scheme_name",value:e}:{};o.schemes=[],getItems(o,s,a,{table:"schemes",field:c.field,value:c.value}),runHandler({setup:s,deck:o,candidates:a,itemName:o.schemes[0].primary}),getItems(o,s,a,{table:"masterminds",retrieveAlwaysLeads:!0}),getItems(o,s,a,{table:"villains",num:s.villains-o.villains.length}),getItems(o,s,a,{table:"henchmen",num:s.henchmen-o.henchmen.length}),getItems(o,s,a,{table:"heroes",num:s.heroes-o.heroes.length});for(let f in o)o[f]=o[f].sort((g,v)=>g.primary<v.primary?-1:1),o[f]=o[f].map(g=>(g.table&&g.table!=f&&o[g.table].push({...g,special:!0}),g));s.expires=new Date().getTime()+9e5;const d={deck:o,setup:s};n.updateGame(d),n.showMarkPlayed=!1},tables=["expansionList","handlers","henchmen","heroes","keywords","masterminds","schemes","villains"],getUniversalData=()=>{const t=useStore(),e=firebase.getDatabase();tables.forEach(n=>{const r=firebase.ref(e,n);firebase.onValue(r,o=>{!o.val()||(t[n]=n!="handlers"?Object.entries(o.val()).map(([s,a])=>({...a,id:s})):o.val())})})},markPlayed=()=>{const t=firebase.getDatabase(),e=useStore(),n=lodash.exports.cloneDeep(e.game.deck);e.game=null,firebase.set(firebase.ref(t,`game/${e.user.uid}`),null);for(let r of Object.keys(n))for(let o of n[r]){if(!o.id)continue;const s=`${r}/${o.id}/played/${e.user.uid}`,a=o.played+1;firebase.set(firebase.ref(t,s),a)}e.showMarkPlayed=!1},setExpiration=()=>{const t=useStore();clearTimeout(t.smpTimer),setTimeout(()=>{t.showMarkPlayed=!0},t.game.setup.expires-new Date().getTime())},updateGame=t=>{const n=`game/${useStore().user.uid}`,r=firebase.getDatabase(),o=firebase.ref(r,n);firebase.set(o,t)},updateHandler=({key:t,contents:e})=>{e=base64.encode(e);const n=`handlers/${t}`,r=firebase.getDatabase(),o=firebase.ref(r,n);firebase.set(o,e)},updateSettings=()=>{const t=useStore(),e=`userSettings/${t.user.uid}`,n=firebase.getDatabase(),r=firebase.ref(n,e);firebase.set(r,t.userSettings)};function requiredArgs(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function _typeof$1(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(n){return typeof n}:_typeof$1=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$1(t)}function toDate(t){requiredArgs(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||_typeof$1(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function _typeof(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(n){return typeof n}:_typeof=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(t)}function isDate(t){return requiredArgs(1,arguments),t instanceof Date||_typeof(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function isValid(t){if(requiredArgs(1,arguments),!isDate(t)&&typeof t!="number")return!1;var e=toDate(t);return!isNaN(Number(e))}function addLeadingZeros(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}function formatISO9075(t,e){var n,r;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var o=toDate(t);if(!isValid(o))throw new RangeError("Invalid time value");var s=String((n=e==null?void 0:e.format)!==null&&n!==void 0?n:"extended"),a=String((r=e==null?void 0:e.representation)!==null&&r!==void 0?r:"complete");if(s!=="extended"&&s!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var c="",d=s==="extended"?"-":"",f=s==="extended"?":":"";if(a!=="time"){var g=addLeadingZeros(o.getDate(),2),v=addLeadingZeros(o.getMonth()+1,2),_=addLeadingZeros(o.getFullYear(),4);c="".concat(_).concat(d).concat(v).concat(d).concat(g)}if(a!=="date"){var y=addLeadingZeros(o.getHours(),2),C=addLeadingZeros(o.getMinutes(),2),S=addLeadingZeros(o.getSeconds(),2),x=c===""?"":" ";c="".concat(c).concat(x).concat(y).concat(f).concat(C).concat(f).concat(S)}return c}const addExpansion=t=>{const e=useStore(),n=t.schemes.map(d=>({min_players:0,scheme_name:d.primary,veiled:!!d.secondary,veiledName:d.secondary||null,expansion:t.name})),r=t.masterminds.map(d=>({mastermind_name:d.primary,always_leads:d.secondary,expansion:t.name})),o=t.villains.map(d=>({expansion:t.name,villain_group:d.primary})),s=t.henchmen.map(d=>({expansion:t.name,henchmen_name:d.primary})),a=t.heroes.map(d=>({expansion:t.name,hero_name:d.primary,affiliation:d.secondary,colors:d.colors}));e.push("expansionList",{expansion:t.name,created:formatISO9075(new Date,{representation:"date"}),rulesName:t.name}),[{name:"schemes",items:n},{name:"masterminds",items:r},{name:"villains",items:o},{name:"henchmen",items:s},{name:"heroes",items:a}].forEach(({name:d,items:f})=>{f.forEach(g=>{e.push(d,g)})})},buildPortable=()=>{const n=useStore();if(n.userSettings.portable=[],!n.userSettings.expansions||n.userSettings.expansions.length==0){n.snack={visible:!0,color:"error",text:"No Expansions Found. Go to Settings and select your expansions."};return}const r=n.userSettings.expansions.map(o=>n.expansionList.filter(a=>a.id==o).shift().expansion);for(let o=0;o<3;o++){let s={schemes:[],masterminds:[],villains:[],henchmen:[],heroes:[]},a={...defaultSetups[5]},c={};for(let g of["schemes","masterminds","villains","henchmen","heroes"])c[g]=n[g].filter(v=>g=="masterminds"&&!n.userSettings.useEpics&&/^Epic/.test(v.mastermind_name)||g=="schemes"&&parseInt(v.min_players)>5?!1:r.includes(v.expansion));const d={};s.schemes=[],getItems(s,a,c,{table:"schemes",field:d.field,value:d.value}),runHandler({setup:a,deck:s,candidates:c,itemName:s.schemes[0].primary}),getItems(s,a,c,{table:"masterminds",retrieveAlwaysLeads:!0}),getItems(s,a,c,{table:"villains",num:a.villains-s.villains.length}),getItems(s,a,c,{table:"henchmen",num:a.henchmen-s.henchmen.length}),getItems(s,a,c,{table:"heroes",num:a.heroes-s.heroes.length});for(let g in s)s[g]=s[g].sort((v,_)=>v.primary<_.primary?-1:1),s[g]=s[g].map(v=>(v.table&&v.table!=g&&s[v.table].push({...v,special:!0}),v));a.expires=new Date().getTime()+9e5;const f=lodash.exports.flattenDeep(Object.keys(s).map(g=>s[g].map(({id:v})=>v))).filter(g=>g);n.userSettings.portable=lodash.exports.uniq([...n.userSettings.portable,...f]),n.updateSettings()}},push=(t,e)=>{const n=`${t}`,r=firebase.getDatabase(),o=firebase.ref(r,n),s=firebase.push(o);firebase.set(s,e)},set=(t,e)=>{const n=firebase.getDatabase(),r=firebase.ref(n,t);firebase.set(r,e)},useStore=defineStore("store",{state:()=>({smpTimer:null,showMarkPlayed:!1,user:null,userLoaded:!1,snack:{visible:!1,color:"",text:""},expansionList:{},handlers:[],henchmen:[],heroes:[],keywords:[],masterminds:[],schemes:[],villains:[],game:null,display:{},gameLoaded:!1,userSettings:{usePlayedCount:!0,useEpics:!0,bgColors:{henchmen:"grey",heroes:"white",masterminds:"blue",schemes:"blue-grey",villains:"red"},textColors:{henchmen:"white",heroes:"black",masterminds:"white",schemes:"white",villains:"white"},enemiesLayout:["masterminds","villains","henchmen","schemes"],portable:null,usePortable:!1}}),actions:{getUniversalData,async getUserData(t){return await getUserData(t)},setDisplay(){this.display=useDisplay()},remembered,async logIn(t,{email:e,password:n}){logIn(this,t,{email:e,password:n})},logOut,buildDeck,buildPortable,markPlayed,setExpiration,updateGame,updateHandler,updateSettings,addExpansion,push,set}}),_export_sfc=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n},VApp$1="",VApp=defineComponent({name:"VApp",props:{...makeLayoutProps({fullHeight:!0}),...makeThemeProps()},setup(t,e){let{slots:n}=e;const r=provideTheme(t),{layoutClasses:o,layoutStyles:s,getLayoutItem:a,items:c,layoutRef:d}=createLayout(t),{rtlClasses:f}=useRtl();return useRender(()=>{var g;return createVNode("div",{ref:d,class:["v-application",r.themeClasses.value,o.value,f.value],style:s.value},[createVNode("div",{class:"v-application__wrap"},[(g=n.default)==null?void 0:g.call(n)])])}),{getLayoutItem:a,items:c,theme:r}}}),VMain$1="",makeTagProps=propsFactory({tag:{type:String,default:"div"}},"tag");function useSsrBoot(){const t=ref$1(!1);return onMounted(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:computed(()=>t.value?void 0:{transition:"none !important"}),isBooted:readonly(t)}}const VMain=defineComponent({name:"VMain",props:{scrollable:Boolean,...makeTagProps({tag:"main"})},setup(t,e){let{slots:n}=e;const{mainStyles:r}=useLayout(),{ssrBootStyles:o}=useSsrBoot();return useRender(()=>{var s,a;return createVNode(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable}],style:[r.value,o.value]},{default:()=>[t.scrollable?createVNode("div",{class:"v-main__scroller"},[(s=n.default)==null?void 0:s.call(n)]):(a=n.default)==null?void 0:a.call(n)]})}),{}}}),VSnackbar$1="",VDefaultsProvider=defineComponent$1({name:"VDefaultsProvider",props:{defaults:Object,reset:[Number,String],root:Boolean,scoped:Boolean},setup(t,e){let{slots:n}=e;const{defaults:r,reset:o,root:s,scoped:a}=toRefs(t);return provideDefaults(r,{reset:o,root:s,scoped:a}),()=>{var c;return(c=n.default)==null?void 0:c.call(n)}}}),VOverlay$1="",makeDelayProps=propsFactory({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function useDelay(t,e){const n={},r=o=>()=>{if(!IN_BROWSER)return Promise.resolve(!0);const s=o==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(a=>{var d;const c=parseInt((d=t[o])!=null?d:0,10);n[o]=window.setTimeout(()=>{e==null||e(s),a(s)},c)})};return{runCloseDelay:r("closeDelay"),runOpenDelay:r("openDelay")}}const VMenuSymbol=Symbol.for("vuetify:v-menu"),makeActivatorProps=propsFactory({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...makeDelayProps()},"v-overlay-activator");function useActivator(t,e){let{isActive:n,isTop:r}=e;const o=ref$1();let s=!1,a=!1,c=!0;const d=computed(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),f=computed(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!d.value),{runOpenDelay:g,runCloseDelay:v}=useDelay(t,E=>{E===(t.openOnHover&&s||d.value&&a)&&!(t.openOnHover&&n.value&&!r.value)&&(n.value!==E&&(c=!0),n.value=E)}),_={click:E=>{E.stopPropagation(),o.value=E.currentTarget||E.target,n.value=!n.value},mouseenter:E=>{s=!0,o.value=E.currentTarget||E.target,g()},mouseleave:E=>{s=!1,v()},focus:E=>{SUPPORTS_FOCUS_VISIBLE&&!E.target.matches(":focus-visible")||(a=!0,E.stopPropagation(),o.value=E.currentTarget||E.target,g())},blur:E=>{a=!1,E.stopPropagation(),v()}},y=computed(()=>{const E={};return f.value&&(E.click=_.click),t.openOnHover&&(E.mouseenter=_.mouseenter,E.mouseleave=_.mouseleave),d.value&&(E.focus=_.focus,E.blur=_.blur),E}),C=computed(()=>{const E={};if(t.openOnHover&&(E.mouseenter=()=>{s=!0,g()},E.mouseleave=()=>{s=!1,v()}),t.closeOnContentClick){const L=inject$1(VMenuSymbol,null);E.click=()=>{n.value=!1,L==null||L.closeParents()}}return E}),S=computed(()=>{const E={};return t.openOnHover&&(E.mouseenter=()=>{c&&(s=!0,c=!1,g())},E.mouseleave=()=>{s=!1,v()}),E});watch(r,E=>{E&&(t.openOnHover&&!s&&(!d.value||!a)||d.value&&!a&&(!t.openOnHover||!s))&&(n.value=!1)});const x=ref$1();watchEffect(()=>{!x.value||nextTick(()=>{const E=x.value;o.value=isComponentInstance(E)?E.$el:E})});const A=getCurrentInstance("useActivator");let T;return watch(()=>!!t.activator,E=>{E&&IN_BROWSER?(T=effectScope(),T.run(()=>{_useActivator(t,A,{activatorEl:o,activatorEvents:y})})):T&&T.stop()},{flush:"post",immediate:!0}),{activatorEl:o,activatorRef:x,activatorEvents:y,contentEvents:C,scrimEvents:S}}function _useActivator(t,e,n){let{activatorEl:r,activatorEvents:o}=n;watch(()=>t.activator,(d,f)=>{if(f&&d!==f){const g=c(f);g&&a(g)}d&&nextTick(()=>s())},{immediate:!0}),watch(()=>t.activatorProps,()=>{s()}),onScopeDispose(()=>{a()});function s(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;!d||(Object.entries(o.value).forEach(g=>{let[v,_]=g;d.addEventListener(v,_)}),Object.keys(f).forEach(g=>{f[g]==null?d.removeAttribute(g):d.setAttribute(g,f[g])}))}function a(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;!d||(Object.entries(o.value).forEach(g=>{let[v,_]=g;d.removeEventListener(v,_)}),Object.keys(f).forEach(g=>{d.removeAttribute(g)}))}function c(){var d;let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator,g;if(f)if(f==="parent"){var v,_;let y=e==null||(v=e.proxy)==null||(_=v.$el)==null?void 0:_.parentNode;for(;y.hasAttribute("data-no-activator");)y=y.parentNode;g=y}else typeof f=="string"?g=document.querySelector(f):"$el"in f?g=f.$el:g=f;return r.value=((d=g)==null?void 0:d.nodeType)===Node.ELEMENT_NODE?g:null,r.value}}const makeDimensionProps=propsFactory({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function useDimension(t){return{dimensionStyles:computed(()=>({height:convertToUnit(t.height),maxHeight:convertToUnit(t.maxHeight),maxWidth:convertToUnit(t.maxWidth),minHeight:convertToUnit(t.minHeight),minWidth:convertToUnit(t.minWidth),width:convertToUnit(t.width)}))}}const makeLazyProps=propsFactory({eager:Boolean},"lazy");function useLazy(t,e){const n=ref$1(!1),r=computed(()=>n.value||t.eager||e.value);watch(e,()=>n.value=!0);function o(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:o}}function elementToViewport(t,e){return{x:t.x+e.x,y:t.y+e.y}}function getOffset$1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function anchorToPoint(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:r}=t,o=r==="left"?0:r==="center"?e.width/2:r==="right"?e.width:r,s=n==="top"?0:n==="bottom"?e.height:n;return elementToViewport({x:o,y:s},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:r}=t,o=n==="left"?0:n==="right"?e.width:n,s=r==="top"?0:r==="center"?e.height/2:r==="bottom"?e.height:r;return elementToViewport({x:o,y:s},e)}return elementToViewport({x:e.width/2,y:e.height/2},e)}const locationStrategies={static:staticLocationStrategy,connected:connectedLocationStrategy},makeLocationStrategyProps=propsFactory({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in locationStrategies},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"v-overlay-location-strategies");function useLocationStrategies(t,e){const n=ref$1({}),r=ref$1();let o;watchEffect(async()=>{var a;(a=o)==null||a.stop(),r.value=void 0,IN_BROWSER&&e.isActive.value&&t.locationStrategy&&(o=effectScope(),await nextTick(),o.run(()=>{if(typeof t.locationStrategy=="function"){var c;r.value=(c=t.locationStrategy(e,t,n))==null?void 0:c.updateLocation}else{var d;r.value=(d=locationStrategies[t.locationStrategy](e,t,n))==null?void 0:d.updateLocation}}))}),IN_BROWSER&&window.addEventListener("resize",s,{passive:!0}),onScopeDispose(()=>{var a;IN_BROWSER&&window.removeEventListener("resize",s),r.value=void 0,(a=o)==null||a.stop()});function s(a){var c;(c=r.value)==null||c.call(r,a)}return{contentStyles:n,updateLocation:r}}function staticLocationStrategy(){}function getIntrinsicSize(t){const e=nullifyTransforms(t);return e.x-=parseFloat(t.style.left||0),e.y-=parseFloat(t.style.top||0),e}function connectedLocationStrategy(t,e,n){const r=isFixedPosition(t.activatorEl.value);r&&Object.assign(n.value,{position:"fixed"});const{preferredAnchor:o,preferredOrigin:s}=destructComputed(()=>{const C=parseAnchor(e.location,t.isRtl.value),S=e.origin==="overlap"?C:e.origin==="auto"?flipSide(C):parseAnchor(e.origin,t.isRtl.value);return C.side===S.side&&C.align===flipAlign(S).align?{preferredAnchor:flipCorner(C),preferredOrigin:flipCorner(S)}:{preferredAnchor:C,preferredOrigin:S}}),[a,c,d,f]=["minWidth","minHeight","maxWidth","maxHeight"].map(C=>computed(()=>{const S=parseFloat(e[C]);return isNaN(S)?1/0:S})),g=computed(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const C=e.offset.split(" ").map(parseFloat);return C.length<2&&C.push(0),C}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let v=!1;const _=new ResizeObserver(()=>{v&&y()});watch([t.activatorEl,t.contentEl],(C,S)=>{let[x,A]=C,[T,E]=S;T&&_.unobserve(T),x&&_.observe(x),E&&_.unobserve(E),A&&_.observe(A)},{immediate:!0}),onScopeDispose(()=>{_.disconnect()});function y(){if(v=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>v=!0)}),!t.activatorEl.value||!t.contentEl.value)return;const C=t.activatorEl.value.getBoundingClientRect(),S=getIntrinsicSize(t.contentEl.value),x=getScrollParents(t.contentEl.value),A=12;x.length||(x.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(S.x+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),S.y+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const T=x.reduce((G,W)=>{const J=W.getBoundingClientRect(),U=new Box({x:W===document.documentElement?0:J.x,y:W===document.documentElement?0:J.y,width:W.clientWidth,height:W.clientHeight});return G?new Box({x:Math.max(G.left,U.left),y:Math.max(G.top,U.top),width:Math.min(G.right,U.right)-Math.max(G.left,U.left),height:Math.min(G.bottom,U.bottom)-Math.max(G.top,U.top)}):U},void 0);T.x+=A,T.y+=A,T.width-=A*2,T.height-=A*2;let E={anchor:o.value,origin:s.value};function L(G){const W=new Box(S),J=anchorToPoint(G.anchor,C),U=anchorToPoint(G.origin,W);let{x:se,y:Y}=getOffset$1(J,U);switch(G.anchor.side){case"top":Y-=g.value[0];break;case"bottom":Y+=g.value[0];break;case"left":se-=g.value[0];break;case"right":se+=g.value[0];break}switch(G.anchor.align){case"top":Y-=g.value[1];break;case"bottom":Y+=g.value[1];break;case"left":se-=g.value[1];break;case"right":se+=g.value[1];break}return W.x+=se,W.y+=Y,W.width=Math.min(W.width,d.value),W.height=Math.min(W.height,f.value),{overflows:getOverflow(W,T),x:se,y:Y}}let P=0,O=0;const D={x:0,y:0},N={x:!1,y:!1};let B=-1;for(;;){if(B++>10){consoleError("Infinite loop detected in connectedLocationStrategy");break}const{x:G,y:W,overflows:J}=L(E);P+=G,O+=W,S.x+=G,S.y+=W;{const U=getAxis(E.anchor),se=J.x.before||J.x.after,Y=J.y.before||J.y.after;let Q=!1;if(["x","y"].forEach(ae=>{if(ae==="x"&&se&&!N.x||ae==="y"&&Y&&!N.y){const xe={anchor:{...E.anchor},origin:{...E.origin}},ve=ae==="x"?U==="y"?flipAlign:flipSide:U==="y"?flipSide:flipAlign;xe.anchor=ve(xe.anchor),xe.origin=ve(xe.origin);const{overflows:Ce}=L(xe);(Ce[ae].before<=J[ae].before&&Ce[ae].after<=J[ae].after||Ce[ae].before+Ce[ae].after<(J[ae].before+J[ae].after)/2)&&(E=xe,Q=N[ae]=!0)}}),Q)continue}J.x.before&&(P+=J.x.before,S.x+=J.x.before),J.x.after&&(P-=J.x.after,S.x-=J.x.after),J.y.before&&(O+=J.y.before,S.y+=J.y.before),J.y.after&&(O-=J.y.after,S.y-=J.y.after);{const U=getOverflow(S,T);D.x=T.width-U.x.before-U.x.after,D.y=T.height-U.y.before-U.y.after,P+=U.x.before,S.x+=U.x.before,O+=U.y.before,S.y+=U.y.before}break}const q=getAxis(E.anchor);Object.assign(n.value,{"--v-overlay-anchor-origin":`${E.anchor.side} ${E.anchor.align}`,transformOrigin:`${E.origin.side} ${E.origin.align}`,top:convertToUnit(pixelRound(O)),left:convertToUnit(pixelRound(P)),minWidth:convertToUnit(q==="y"?Math.min(a.value,C.width):a.value),maxWidth:convertToUnit(pixelCeil(clamp(D.x,a.value===1/0?0:a.value,d.value))),maxHeight:convertToUnit(pixelCeil(clamp(D.y,c.value===1/0?0:c.value,f.value)))})}return watch(()=>[o.value,s.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>y(),{immediate:!r}),r&&nextTick(()=>y()),requestAnimationFrame(()=>{n.value.maxHeight&&y()}),{updateLocation:y}}function pixelRound(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function pixelCeil(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let clean=!0;const frames=[];function requestNewFrame(t){!clean||frames.length?(frames.push(t),run()):(clean=!1,t(),run())}let raf=-1;function run(){cancelAnimationFrame(raf),raf=requestAnimationFrame(()=>{const t=frames.shift();t&&t(),frames.length?run():clean=!0})}const scrollStrategies={none:null,close:closeScrollStrategy,block:blockScrollStrategy,reposition:repositionScrollStrategy},makeScrollStrategyProps=propsFactory({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in scrollStrategies}},"v-overlay-scroll-strategies");function useScrollStrategies(t,e){if(!IN_BROWSER)return;let n;watchEffect(async()=>{var r;(r=n)==null||r.stop(),e.isActive.value&&t.scrollStrategy&&(n=effectScope(),await nextTick(),n.run(()=>{if(typeof t.scrollStrategy=="function")t.scrollStrategy(e,t);else{var o;(o=scrollStrategies[t.scrollStrategy])==null||o.call(scrollStrategies,e,t)}}))})}function closeScrollStrategy(t){var n;function e(r){t.isActive.value=!1}bindScroll((n=t.activatorEl.value)!=null?n:t.contentEl.value,e)}function blockScrollStrategy(t,e){var n;const r=(n=t.root.value)==null?void 0:n.offsetParent,o=[...new Set([...getScrollParents(t.activatorEl.value,e.contained?r:void 0),...getScrollParents(t.contentEl.value,e.contained?r:void 0)])].filter(c=>!c.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,a=(c=>hasScrollbar(c)&&c)(r||document.documentElement);a&&t.root.value.classList.add("v-overlay--scroll-blocked"),o.forEach((c,d)=>{c.style.setProperty("--v-body-scroll-x",convertToUnit(-c.scrollLeft)),c.style.setProperty("--v-body-scroll-y",convertToUnit(-c.scrollTop)),c.style.setProperty("--v-scrollbar-offset",convertToUnit(s)),c.classList.add("v-overlay-scroll-blocked")}),onScopeDispose(()=>{o.forEach((c,d)=>{const f=parseFloat(c.style.getPropertyValue("--v-body-scroll-x")),g=parseFloat(c.style.getPropertyValue("--v-body-scroll-y"));c.style.removeProperty("--v-body-scroll-x"),c.style.removeProperty("--v-body-scroll-y"),c.style.removeProperty("--v-scrollbar-offset"),c.classList.remove("v-overlay-scroll-blocked"),c.scrollLeft=-f,c.scrollTop=-g}),a&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function repositionScrollStrategy(t){var o;let e=!1,n=-1;function r(s){requestNewFrame(()=>{var a,c;const d=performance.now();(a=(c=t.updateLocation).value)==null||a.call(c,s),e=(performance.now()-d)/(1e3/60)>2})}bindScroll((o=t.activatorEl.value)!=null?o:t.contentEl.value,s=>{e?(cancelAnimationFrame(n),n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{r(s)})})):r(s)})}function bindScroll(t,e){const n=[document,...getScrollParents(t)];n.forEach(r=>{r.addEventListener("scroll",e,{passive:!0})}),onScopeDispose(()=>{n.forEach(r=>{r.removeEventListener("scroll",e)})})}const makeTransitionProps=propsFactory({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),MaybeTransition=(t,e)=>{let{slots:n}=e;const{transition:r,...o}=t,{component:s=Transition,...a}=typeof r=="object"?r:{};return h(s,mergeProps(typeof r=="string"?{name:r}:a,o),n)};function useRouter(){var t,e;return(t=getCurrentInstance("useRouter"))==null||(e=t.proxy)==null?void 0:e.$router}function useLink$1(t,e){const n=resolveDynamicComponent("RouterLink"),r=computed(()=>!!(t.href||t.to)),o=computed(()=>(r==null?void 0:r.value)||hasEvent(e,"click")||hasEvent(t,"click"));if(typeof n=="string")return{isLink:r,isClickable:o,href:toRef(t,"href")};const s=t.to?n.useLink(t):void 0;return{isLink:r,isClickable:o,route:s==null?void 0:s.route,navigate:s==null?void 0:s.navigate,isActive:s&&computed(()=>{var a,c;return t.exact?(a=s.isExactActive)==null?void 0:a.value:(c=s.isActive)==null?void 0:c.value}),href:computed(()=>t.to?s==null?void 0:s.route.value.href:t.href)}}const makeRouterProps=propsFactory({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let inTransition=!1;function useBackButton(t,e){let n=!1,r,o;IN_BROWSER&&(nextTick(()=>{window.addEventListener("popstate",s),r=t==null?void 0:t.beforeEach((a,c,d)=>{inTransition?n?e(d):d():setTimeout(()=>n?e(d):d()),inTransition=!0}),o=t==null?void 0:t.afterEach(()=>{inTransition=!1})}),onScopeDispose(()=>{var a,c;window.removeEventListener("popstate",s),(a=r)==null||a(),(c=o)==null||c()}));function s(a){var c;(c=a.state)!=null&&c.replaced||(n=!0,setTimeout(()=>n=!1))}}function useColor(t){return destructComputed(()=>{const e=[],n={};return t.value.background&&(isCssColor(t.value.background)?n.backgroundColor=t.value.background:e.push(`bg-${t.value.background}`)),t.value.text&&(isCssColor(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function useTextColor(t,e){const n=computed(()=>({text:isRef(t)?t.value:e?t[e]:null})),{colorClasses:r,colorStyles:o}=useColor(n);return{textColorClasses:r,textColorStyles:o}}function useBackgroundColor(t,e){const n=computed(()=>({background:isRef(t)?t.value:e?t[e]:null})),{colorClasses:r,colorStyles:o}=useColor(n);return{backgroundColorClasses:r,backgroundColorStyles:o}}function useHydration(){var t,e,n;if(!IN_BROWSER)return ref$1(!1);const r=getCurrentInstance("useHydration"),o=r==null||(t=r.root)==null||(e=t.appContext)==null||(n=e.app)==null?void 0:n._container,s=ref$1(!!(o!=null&&o.__vue_app__));return s.value||onMounted(()=>s.value=!0),s}const StackSymbol=Symbol.for("vuetify:stack"),globalStack=reactive([]);function useStack(t,e){const n=getCurrentInstance("useStack"),r=inject$1(StackSymbol,void 0),o=reactive({activeChildren:new Set});provide(StackSymbol,o);const s=ref$1(+e.value);useToggleScope(t,()=>{var d;const f=(d=globalStack.at(-1))==null?void 0:d[1];s.value=f?f+10:+e.value,globalStack.push([n.uid,s.value]),r==null||r.activeChildren.add(n.uid),onScopeDispose(()=>{const g=globalStack.findIndex(v=>v[0]===n.uid);globalStack.splice(g,1),r==null||r.activeChildren.delete(n.uid)})});const a=ref$1(!0);watchEffect(()=>{var d;const f=((d=globalStack.at(-1))==null?void 0:d[0])===n.uid;setTimeout(()=>a.value=f)});const c=computed(()=>!o.activeChildren.size);return{globalTop:readonly(a),localTop:c,stackStyles:computed(()=>({zIndex:s.value}))}}function useTeleport(t){return{teleportTarget:computed(()=>{const n=t.value;if(n===!0||!IN_BROWSER)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r!=null){if(!useTeleport.cache.has(r)){const o=document.createElement("div");o.className="v-overlay-container",r.appendChild(o),useTeleport.cache.set(r,o)}return useTeleport.cache.get(r)}})}}useTeleport.cache=new WeakMap;function defaultConditional(){return!0}function checkEvent(t,e,n){if(!t||checkIsActive(t,n)===!1)return!1;const r=attachedRoot(e);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===t.target)return!1;const o=(typeof n.value=="object"&&n.value.include||(()=>[]))();return o.push(e),!o.some(s=>s==null?void 0:s.contains(t.target))}function checkIsActive(t,e){return(typeof e.value=="object"&&e.value.closeConditional||defaultConditional)(t)}function directive(t,e,n){const r=typeof n.value=="function"?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&checkEvent(t,e,n)&&setTimeout(()=>{checkIsActive(t,n)&&r&&r(t)},0)}function handleShadow(t,e){const n=attachedRoot(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const ClickOutside={mounted(t,e){const n=o=>directive(o,t,e),r=o=>{t._clickOutside.lastMousedownWasOutside=checkEvent(o,t,e)};handleShadow(t,o=>{o.addEventListener("click",n,!0),o.addEventListener("mousedown",r,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!0}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(t,e){!t._clickOutside||(handleShadow(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:o,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",o,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function Scrim(t){const{modelValue:e,color:n,...r}=t;return createVNode(Transition,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&createVNode("div",mergeProps({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},r),null)]})}const makeVOverlayProps=propsFactory({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...makeActivatorProps(),...makeDimensionProps(),...makeLazyProps(),...makeLocationStrategyProps(),...makeScrollStrategyProps(),...makeThemeProps(),...makeTransitionProps()},"v-overlay"),VOverlay=genericComponent()({name:"VOverlay",directives:{ClickOutside},inheritAttrs:!1,props:makeVOverlayProps(),emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:r,emit:o}=e;const s=useProxiedModel(t,"modelValue"),a=computed({get:()=>s.value,set:ae=>{ae&&t.disabled||(s.value=ae)}}),{teleportTarget:c}=useTeleport(computed(()=>t.attach||t.contained)),{themeClasses:d}=provideTheme(t),{rtlClasses:f,isRtl:g}=useRtl(),{hasContent:v,onAfterLeave:_}=useLazy(t,a),y=useBackgroundColor(computed(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:C,localTop:S,stackStyles:x}=useStack(a,toRef(t,"zIndex")),{activatorEl:A,activatorRef:T,activatorEvents:E,contentEvents:L,scrimEvents:P}=useActivator(t,{isActive:a,isTop:S}),{dimensionStyles:O}=useDimension(t),D=useHydration();watch(()=>t.disabled,ae=>{ae&&(a.value=!1)});const N=ref$1(),B=ref$1(),{contentStyles:q,updateLocation:G}=useLocationStrategies(t,{isRtl:g,contentEl:B,activatorEl:A,isActive:a});useScrollStrategies(t,{root:N,contentEl:B,activatorEl:A,isActive:a,updateLocation:G});function W(ae){o("click:outside",ae),t.persistent?Q():a.value=!1}function J(){return a.value&&C.value}IN_BROWSER&&watch(a,ae=>{ae?window.addEventListener("keydown",U):window.removeEventListener("keydown",U)},{immediate:!0});function U(ae){ae.key==="Escape"&&C.value&&(t.persistent?Q():a.value=!1)}const se=useRouter();useToggleScope(()=>t.closeOnBack,()=>{useBackButton(se,ae=>{C.value&&a.value?(ae(!1),t.persistent?Q():a.value=!1):ae()})});const Y=ref$1();watch(()=>a.value&&(t.absolute||t.contained)&&c.value==null,ae=>{if(ae){const xe=getScrollParent(N.value);xe&&xe!==document.scrollingElement&&(Y.value=xe.scrollTop)}});function Q(){t.noClickAnimation||B.value&&animate(B.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:standardEasing})}return useRender(()=>{var ae,xe;return createVNode(Fragment,null,[(ae=n.activator)==null?void 0:ae.call(n,{isActive:a.value,props:mergeProps({ref:T},toHandlers(E.value),t.activatorProps)}),D.value&&createVNode(Teleport,{disabled:!c.value,to:c.value},{default:()=>[v.value&&createVNode("div",mergeProps({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":a.value,"v-overlay--contained":t.contained},d.value,f.value],style:[x.value,{top:convertToUnit(Y.value)}],ref:N},r),[createVNode(Scrim,mergeProps({color:y,modelValue:a.value&&!!t.scrim},toHandlers(P.value)),null),createVNode(MaybeTransition,{appear:!0,persisted:!0,transition:t.transition,target:A.value,onAfterLeave:()=>{_(),o("afterLeave")}},{default:()=>[withDirectives(createVNode("div",mergeProps({ref:B,class:["v-overlay__content",t.contentClass],style:[O.value,q.value]},toHandlers(L.value),t.contentProps),[(xe=n.default)==null?void 0:xe.call(n,{isActive:a})]),[[vShow,a.value],[resolveDirective("click-outside"),{handler:W,closeConditional:J,include:()=>[A.value]}]])]})])]})])}),{activatorEl:A,animateClick:Q,contentEl:B,globalTop:C,localTop:S,updateLocation:G}}});function filterVOverlayProps(t){return pick(t,Object.keys(VOverlay.props))}const allowedVariants$2=["elevated","flat","tonal","outlined","text","plain"];function genOverlays(t,e){return createVNode(Fragment,null,[t&&createVNode("span",{key:"overlay",class:`${e}__overlay`},null),createVNode("span",{key:"underlay",class:`${e}__underlay`},null)])}const makeVariantProps=propsFactory({color:String,variant:{type:String,default:"elevated",validator:t=>allowedVariants$2.includes(t)}},"variant");function useVariant(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const n=computed(()=>{const{variant:s}=unref(t);return`${e}--variant-${s}`}),{colorClasses:r,colorStyles:o}=useColor(computed(()=>{const{variant:s,color:a}=unref(t);return{[["elevated","flat"].includes(s)?"background":"text"]:a}}));return{colorClasses:r,colorStyles:o,variantClasses:n}}const oppositeMap={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},makeLocationProps=propsFactory({location:String},"location");function useLocation(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=useRtl();return{locationStyles:computed(()=>{if(!t.location)return{};const{side:s,align:a}=parseAnchor(t.location.split(" ").length>1?t.location:`${t.location} center`,r.value);function c(f){return n?n(f):0}const d={};return s!=="center"&&(e?d[oppositeMap[s]]=`calc(100% - ${c(s)}px)`:d[s]=0),a!=="center"?e?d[oppositeMap[a]]=`calc(100% - ${c(a)}px)`:d[a]=0:(s==="center"?d.top=d.left="50%":d[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",d.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),d})}}const positionValues=["static","relative","fixed","absolute","sticky"],makePositionProps=propsFactory({position:{type:String,validator:t=>positionValues.includes(t)}},"position");function usePosition(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{positionClasses:computed(()=>t.position?`${e}--${t.position}`:void 0)}}const makeRoundedProps=propsFactory({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function useRounded(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{roundedClasses:computed(()=>{const r=isRef(t)?t.value:t.rounded,o=[];if(r===!0||r==="")o.push(`${e}--rounded`);else if(typeof r=="string"||r===0)for(const s of String(r).split(" "))o.push(`rounded-${s}`);return o})}}function useScopeId(){const e=getCurrentInstance("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const Refs=Symbol("Forwarded refs");function forwardRefs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t[Refs]=n,new Proxy(t,{get(o,s){if(Reflect.has(o,s))return Reflect.get(o,s);for(const a of n)if(a.value&&Reflect.has(a.value,s)){const c=Reflect.get(a.value,s);return typeof c=="function"?c.bind(a.value):c}},getOwnPropertyDescriptor(o,s){const a=Reflect.getOwnPropertyDescriptor(o,s);if(a)return a;if(!(typeof s=="symbol"||s.startsWith("__"))){for(const c of n){if(!c.value)continue;const d=Reflect.getOwnPropertyDescriptor(c.value,s);if(d)return d;if("_"in c.value&&"setupState"in c.value._){const f=Reflect.getOwnPropertyDescriptor(c.value._.setupState,s);if(f)return f}}for(const c of n){let d=c.value&&Object.getPrototypeOf(c.value);for(;d;){const f=Reflect.getOwnPropertyDescriptor(d,s);if(f)return f;d=Object.getPrototypeOf(d)}}for(const c of n){const d=c.value&&c.value[Refs];if(!d)continue;const f=d.slice();for(;f.length;){const g=f.shift(),v=Reflect.getOwnPropertyDescriptor(g.value,s);if(v)return v;const _=g.value&&g.value[Refs];_&&f.push(..._)}}}}})}const VSnackbar=genericComponent()({name:"VSnackbar",props:{multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...makeLocationProps({location:"bottom"}),...makePositionProps(),...makeRoundedProps(),...makeVariantProps(),...omit(makeVOverlayProps({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),{locationStyles:o}=useLocation(t),{positionClasses:s}=usePosition(t),{scopeId:a}=useScopeId(),{colorClasses:c,colorStyles:d,variantClasses:f}=useVariant(t),{roundedClasses:g}=useRounded(t),v=ref$1();watch(r,y),watch(()=>t.timeout,y),onMounted(()=>{r.value&&y()});let _=-1;function y(){window.clearTimeout(_);const S=Number(t.timeout);!r.value||S===-1||(_=window.setTimeout(()=>{r.value=!1},S))}function C(){window.clearTimeout(_)}return useRender(()=>{const[S]=filterVOverlayProps(t);return createVNode(VOverlay,mergeProps({ref:v,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--vertical":t.vertical},s.value]},S,{modelValue:r.value,"onUpdate:modelValue":x=>r.value=x,contentProps:mergeProps({style:o.value},S.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none"},a),{default:()=>[createVNode("div",{class:["v-snackbar__wrapper",c.value,g.value,f.value],style:[d.value],onPointerenter:C,onPointerleave:y},[genOverlays(!1,"v-snackbar"),n.default&&createVNode("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.default()]),n.actions&&createVNode(VDefaultsProvider,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[createVNode("div",{class:"v-snackbar__actions"},[n.actions()])]})])],activator:n.activator})}),forwardRefs({},v)}}),_sfc_main$i={computed:{...mapState(useStore,["user","userLoaded","display","snack"])},watch:{$route(){!this.user&&this.userLoaded&&this.$route.meta.requireAuth&&this.$router.push("/")}},methods:{...mapActions(useStore,["remembered","setDisplay"])},mounted(){this.setDisplay(),!this.user&&!this.userLoaded&&this.remembered(this.$router)}};function _sfc_render$i(t,e,n,r,o,s){const a=resolveComponent("router-view");return openBlock(),createBlock(VApp,null,{default:withCtx(()=>[createVNode(VMain,null,{default:withCtx(()=>[t.userLoaded?(openBlock(),createBlock(a,{key:0})):createCommentVNode("",!0)]),_:1}),createVNode(VSnackbar,{modelValue:t.snack.visible,"onUpdate:modelValue":e[0]||(e[0]=c=>t.snack.visible=c),color:t.snack.color},{default:withCtx(()=>[createTextVNode(toDisplayString(t.snack.text),1)]),_:1},8,["modelValue","color"])]),_:1})}const App=_export_sfc(_sfc_main$i,[["render",_sfc_render$i]]),scriptRel="modulepreload",assetsURL=function(t){return"/"+t},seen={},__vitePreload=function t(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=assetsURL(s),s in seen)return;seen[s]=!0;const a=s.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!r)for(let g=o.length-1;g>=0;g--){const v=o[g];if(v.href===s&&(!a||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":scriptRel,a||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),a)return new Promise((g,v)=>{f.addEventListener("load",g),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};async function loadFonts(){(await __vitePreload(()=>import("./webfontloader.b777d690.js").then(e=>e.w),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}const materialdesignicons="",main="",vuetify=createVuetify({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});function registerPlugins(t){loadFonts(),t.use(vuetify)}/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const hasSymbol=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",PolySymbol=t=>hasSymbol?Symbol(t):"_vr_"+t,matchedRouteKey=PolySymbol("rvlm"),viewDepthKey=PolySymbol("rvd"),routerKey=PolySymbol("r"),routeLocationKey=PolySymbol("rl"),routerViewLocationKey=PolySymbol("rvl"),isBrowser=typeof window<"u";function isESModule(t){return t.__esModule||hasSymbol&&t[Symbol.toStringTag]==="Module"}const assign$2=Object.assign;function applyToParams(t,e){const n={};for(const r in e){const o=e[r];n[r]=Array.isArray(o)?o.map(t):t(o)}return n}const noop=()=>{},TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,n="/"){let r,o={},s="",a="";const c=e.indexOf("?"),d=e.indexOf("#",c>-1?c:0);return c>-1&&(r=e.slice(0,c),s=e.slice(c+1,d>-1?d:e.length),o=t(s)),d>-1&&(r=r||e.slice(0,d),a=e.slice(d,e.length)),r=resolveRelativePath(r!=null?r:e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:o,hash:a}}function stringifyURL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,n){const r=e.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&isSameRouteRecord(e.matched[r],n.matched[o])&&isSameRouteLocationParams(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!isSameRouteLocationParamsValue(t[n],e[n]))return!1;return!0}function isSameRouteLocationParamsValue(t,e){return Array.isArray(t)?isEquivalentArray(t,e):Array.isArray(e)?isEquivalentArray(e,t):t===e}function isEquivalentArray(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],!(o===1||a==="."))if(a==="..")o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=getElementPosition(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,e){const{pathname:n,search:r,hash:o}=e,s=t.indexOf("#");if(s>-1){let c=o.includes(t.slice(s))?t.slice(s).length:1,d=o.slice(c);return d[0]!=="/"&&(d="/"+d),stripBase(d,"")}return stripBase(n,t)+r+o}function useHistoryListeners(t,e,n,r){let o=[],s=[],a=null;const c=({state:_})=>{const y=createCurrentLocation(t,location),C=n.value,S=e.value;let x=0;if(_){if(n.value=y,e.value=_,a&&a===C){a=null;return}x=S?_.position-S.position:0}else r(y);o.forEach(A=>{A(n.value,C,{delta:x,type:NavigationType.pop,direction:x?x>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function d(){a=n.value}function f(_){o.push(_);const y=()=>{const C=o.indexOf(_);C>-1&&o.splice(C,1)};return s.push(y),y}function g(){const{history:_}=window;!_.state||_.replaceState(assign$2({},_.state,{scroll:computeScrollPosition()}),"")}function v(){for(const _ of s)_();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",g),{pauseListeners:d,listen:f,destroy:v}}function buildState(t,e,n,r=!1,o=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:o?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:n}=window,r={value:createCurrentLocation(t,n)},o={value:e.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(d,f,g){const v=t.indexOf("#"),_=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+d:createBaseLocation()+t+d;try{e[g?"replaceState":"pushState"](f,"",_),o.value=f}catch(y){console.error(y),n[g?"replace":"assign"](_)}}function a(d,f){const g=assign$2({},e.state,buildState(o.value.back,d,o.value.forward,!0),f,{position:o.value.position});s(d,g,!0),r.value=d}function c(d,f){const g=assign$2({},o.value,e.state,{forward:d,scroll:computeScrollPosition()});s(g.current,g,!0);const v=assign$2({},buildState(r.value,d,null),{position:g.position+1},f);s(d,v,!1),r.value=d}return{location:r,state:o,push:c,replace:a}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),n=useHistoryListeners(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=assign$2({location:"",base:t,go:r,createHref:createHref.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=PolySymbol("nf");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,e){return assign$2(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const n=assign$2({},BASE_PATH_PARSER_OPTIONS,e),r=[];let o=n.start?"^":"";const s=[];for(const f of t){const g=f.length?[]:[90];n.strict&&!f.length&&(o+="/");for(let v=0;v<f.length;v++){const _=f[v];let y=40+(n.sensitive?.25:0);if(_.type===0)v||(o+="/"),o+=_.value.replace(REGEX_CHARS_RE,"\\$&"),y+=40;else if(_.type===1){const{value:C,repeatable:S,optional:x,regexp:A}=_;s.push({name:C,repeatable:S,optional:x});const T=A||BASE_PARAM_PATTERN;if(T!==BASE_PARAM_PATTERN){y+=10;try{new RegExp(`(${T})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${C}" (${T}): `+L.message)}}let E=S?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;v||(E=x&&f.length<2?`(?:/${E})`:"/"+E),x&&(E+="?"),o+=E,y+=20,x&&(y+=-8),S&&(y+=-20),T===".*"&&(y+=-50)}g.push(y)}r.push(g)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function c(f){const g=f.match(a),v={};if(!g)return null;for(let _=1;_<g.length;_++){const y=g[_]||"",C=s[_-1];v[C.name]=y&&C.repeatable?y.split("/"):y}return v}function d(f){let g="",v=!1;for(const _ of t){(!v||!g.endsWith("/"))&&(g+="/"),v=!1;for(const y of _)if(y.type===0)g+=y.value;else if(y.type===1){const{value:C,repeatable:S,optional:x}=y,A=C in f?f[C]:"";if(Array.isArray(A)&&!S)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const T=Array.isArray(A)?A.join("/"):A;if(!T)if(x)_.length<2&&(g.endsWith("/")?g=g.slice(0,-1):v=!0);else throw new Error(`Missing required param "${C}"`);g+=T}}return g}return{re:a,score:r,keys:s,parse:c,stringify:d}}function compareScoreArray(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(t,e){let n=0;const r=t.score,o=e.score;for(;n<r.length&&n<o.length;){const s=compareScoreArray(r[n],o[n]);if(s)return s;n++}return o.length-r.length}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${f}": ${y}`)}let n=0,r=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let c=0,d,f="",g="";function v(){!f||(n===0?s.push({type:0,value:f}):n===1||n===2||n===3?(s.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:f,regexp:g,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),f="")}function _(){f+=d}for(;c<t.length;){if(d=t[c++],d==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:d==="/"?(f&&v(),a()):d===":"?(v(),n=1):_();break;case 4:_(),n=r;break;case 1:d==="("?n=2:VALID_PARAM_RE.test(d)?_():(v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case 2:d===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+d:n=3:g+=d;break;case 3:v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--,g="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),a(),o}function createRouteRecordMatcher(t,e,n){const r=tokensToParser(tokenizePath(t.path),n),o=assign$2(r,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function createRouterMatcher(t,e){const n=[],r=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function o(g){return r.get(g)}function s(g,v,_){const y=!_,C=normalizeRouteRecord(g);C.aliasOf=_&&_.record;const S=mergeOptions(e,g),x=[C];if("alias"in g){const E=typeof g.alias=="string"?[g.alias]:g.alias;for(const L of E)x.push(assign$2({},C,{components:_?_.record.components:C.components,path:L,aliasOf:_?_.record:C}))}let A,T;for(const E of x){const{path:L}=E;if(v&&L[0]!=="/"){const P=v.record.path,O=P[P.length-1]==="/"?"":"/";E.path=v.record.path+(L&&O+L)}if(A=createRouteRecordMatcher(E,v,S),_?_.alias.push(A):(T=T||A,T!==A&&T.alias.push(A),y&&g.name&&!isAliasRecord(A)&&a(g.name)),"children"in C){const P=C.children;for(let O=0;O<P.length;O++)s(P[O],A,_&&_.children[O])}_=_||A,d(A)}return T?()=>{a(T)}:noop}function a(g){if(isRouteName(g)){const v=r.get(g);v&&(r.delete(g),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(g);v>-1&&(n.splice(v,1),g.record.name&&r.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function c(){return n}function d(g){let v=0;for(;v<n.length&&comparePathParserScore(g,n[v])>=0&&(g.record.path!==n[v].record.path||!isRecordChildOf(g,n[v]));)v++;n.splice(v,0,g),g.record.name&&!isAliasRecord(g)&&r.set(g.record.name,g)}function f(g,v){let _,y={},C,S;if("name"in g&&g.name){if(_=r.get(g.name),!_)throw createRouterError(1,{location:g});S=_.record.name,y=assign$2(paramsFromLocation(v.params,_.keys.filter(T=>!T.optional).map(T=>T.name)),g.params),C=_.stringify(y)}else if("path"in g)C=g.path,_=n.find(T=>T.re.test(C)),_&&(y=_.parse(C),S=_.record.name);else{if(_=v.name?r.get(v.name):n.find(T=>T.re.test(v.path)),!_)throw createRouterError(1,{location:g,currentLocation:v});S=_.record.name,y=assign$2({},v.params,g.params),C=_.stringify(y)}const x=[];let A=_;for(;A;)x.unshift(A.record),A=A.parent;return{name:S,path:C,params:y,matched:x,meta:mergeMetaFields(x)}}return t.forEach(g=>s(g)),{addRoute:s,resolve:f,removeRoute:a,getRoutes:c,getRecordMatcher:o}}function paramsFromLocation(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function normalizeRouteRecord(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function normalizeRecordProps(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,n)=>assign$2(e,n.meta),{})}function mergeOptions(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function isRecordChildOf(t,e){return e.children.some(n=>n===t||isRecordChildOf(t,n))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode$1(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function parseQuery(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(PLUS_RE," "),a=s.indexOf("="),c=decode$1(a<0?s:s.slice(0,a)),d=a<0?null:decode$1(s.slice(a+1));if(c in e){let f=e[c];Array.isArray(f)||(f=e[c]=[f]),f.push(d)}else e[c]=d}return e}function stringifyQuery(t){let e="";for(let n in t){const r=t[n];if(n=encodeQueryKey(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(r)?r.map(s=>s&&encodeQueryValue(s)):[r&&encodeQueryValue(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function normalizeQuery(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Array.isArray(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}function useCallbacks(){let t=[];function e(r){return t.push(r),()=>{const o=t.indexOf(r);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function guardToPromiseFn(t,e,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,c)=>{const d=v=>{v===!1?c(createRouterError(4,{from:n,to:e})):v instanceof Error?c(v):isRouteLocation(v)?c(createRouterError(2,{from:e,to:v})):(s&&r.enterCallbacks[o]===s&&typeof v=="function"&&s.push(v),a())},f=t.call(r&&r.instances[o],e,n,d);let g=Promise.resolve(f);t.length<3&&(g=g.then(d)),g.catch(v=>c(v))})}function extractComponentsGuards(t,e,n,r){const o=[];for(const s of t)for(const a in s.components){let c=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(isRouteComponent(c)){const f=(c.__vccOpts||c)[e];f&&o.push(guardToPromiseFn(f,n,r,s,a))}else{let d=c();o.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const g=isESModule(f)?f.default:f;s.components[a]=g;const _=(g.__vccOpts||g)[e];return _&&guardToPromiseFn(_,n,r,s,a)()}))}}return o}function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function useLink(t){const e=inject$1(routerKey),n=inject$1(routeLocationKey),r=computed(()=>e.resolve(unref(t.to))),o=computed(()=>{const{matched:d}=r.value,{length:f}=d,g=d[f-1],v=n.matched;if(!g||!v.length)return-1;const _=v.findIndex(isSameRouteRecord.bind(null,g));if(_>-1)return _;const y=getOriginalPath(d[f-2]);return f>1&&getOriginalPath(g)===y&&v[v.length-1].path!==y?v.findIndex(isSameRouteRecord.bind(null,d[f-2])):_}),s=computed(()=>o.value>-1&&includesParams(n.params,r.value.params)),a=computed(()=>o.value>-1&&o.value===n.matched.length-1&&isSameRouteLocationParams(n.params,r.value.params));function c(d={}){return guardEvent(d)?e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop):Promise.resolve()}return{route:r,href:computed(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const RouterLinkImpl=defineComponent$1({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(t,{slots:e}){const n=reactive(useLink(t)),{options:r}=inject$1(routerKey),o=computed(()=>({[getLinkClass(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[getLinkClass(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:h("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,e){for(const n in e){const r=e[n],o=t[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some((s,a)=>s!==o[a]))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,n)=>t!=null?t:e!=null?e:n,RouterViewImpl=defineComponent$1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=inject$1(routerViewLocationKey),o=computed(()=>t.route||r.value),s=inject$1(viewDepthKey,0),a=computed(()=>o.value.matched[s]);provide(viewDepthKey,s+1),provide(matchedRouteKey,a),provide(routerViewLocationKey,o);const c=ref$1();return watch(()=>[c.value,a.value,t.name],([d,f,g],[v,_,y])=>{f&&(f.instances[g]=d,_&&_!==f&&d&&d===v&&(f.leaveGuards.size||(f.leaveGuards=_.leaveGuards),f.updateGuards.size||(f.updateGuards=_.updateGuards))),d&&f&&(!_||!isSameRouteRecord(f,_)||!v)&&(f.enterCallbacks[g]||[]).forEach(C=>C(d))},{flush:"post"}),()=>{const d=o.value,f=a.value,g=f&&f.components[t.name],v=t.name;if(!g)return normalizeSlot(n.default,{Component:g,route:d});const _=f.props[t.name],y=_?_===!0?d.params:typeof _=="function"?_(d):_:null,S=h(g,assign$2({},y,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(f.instances[v]=null)},ref:c}));return normalizeSlot(n.default,{Component:S,route:d})||S}}});function normalizeSlot(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const RouterView=RouterViewImpl;function createRouter(t){const e=createRouterMatcher(t.routes,t),n=t.parseQuery||parseQuery,r=t.stringifyQuery||stringifyQuery,o=t.history,s=useCallbacks(),a=useCallbacks(),c=useCallbacks(),d=shallowRef(START_LOCATION_NORMALIZED);let f=START_LOCATION_NORMALIZED;isBrowser&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=applyToParams.bind(null,K=>""+K),v=applyToParams.bind(null,encodeParam),_=applyToParams.bind(null,decode$1);function y(K,de){let he,we;return isRouteName(K)?(he=e.getRecordMatcher(K),we=de):we=K,e.addRoute(we,he)}function C(K){const de=e.getRecordMatcher(K);de&&e.removeRoute(de)}function S(){return e.getRoutes().map(K=>K.record)}function x(K){return!!e.getRecordMatcher(K)}function A(K,de){if(de=assign$2({},de||d.value),typeof K=="string"){const R=parseURL(n,K,de.path),M=e.resolve({path:R.path},de),j=o.createHref(R.fullPath);return assign$2(R,M,{params:_(M.params),hash:decode$1(R.hash),redirectedFrom:void 0,href:j})}let he;if("path"in K)he=assign$2({},K,{path:parseURL(n,K.path,de.path).path});else{const R=assign$2({},K.params);for(const M in R)R[M]==null&&delete R[M];he=assign$2({},K,{params:v(K.params)}),de.params=v(de.params)}const we=e.resolve(he,de),Be=K.hash||"";we.params=g(_(we.params));const Xe=stringifyURL(r,assign$2({},K,{hash:encodeHash(Be),path:we.path})),Le=o.createHref(Xe);return assign$2({fullPath:Xe,hash:Be,query:r===stringifyQuery?normalizeQuery(K.query):K.query||{}},we,{redirectedFrom:void 0,href:Le})}function T(K){return typeof K=="string"?parseURL(n,K,d.value.path):assign$2({},K)}function E(K,de){if(f!==K)return createRouterError(8,{from:de,to:K})}function L(K){return D(K)}function P(K){return L(assign$2(T(K),{replace:!0}))}function O(K){const de=K.matched[K.matched.length-1];if(de&&de.redirect){const{redirect:he}=de;let we=typeof he=="function"?he(K):he;return typeof we=="string"&&(we=we.includes("?")||we.includes("#")?we=T(we):{path:we},we.params={}),assign$2({query:K.query,hash:K.hash,params:K.params},we)}}function D(K,de){const he=f=A(K),we=d.value,Be=K.state,Xe=K.force,Le=K.replace===!0,R=O(he);if(R)return D(assign$2(T(R),{state:Be,force:Xe,replace:Le}),de||he);const M=he;M.redirectedFrom=de;let j;return!Xe&&isSameRouteLocation(r,we,he)&&(j=createRouterError(16,{to:M,from:we}),ve(we,we,!0,!1)),(j?Promise.resolve(j):B(M,we)).catch(Z=>isNavigationFailure(Z)?isNavigationFailure(Z,2)?Z:xe(Z):Q(Z,M,we)).then(Z=>{if(Z){if(isNavigationFailure(Z,2))return D(assign$2(T(Z.to),{state:Be,force:Xe,replace:Le}),de||M)}else Z=G(M,we,!0,Le,Be);return q(M,we,Z),Z})}function N(K,de){const he=E(K,de);return he?Promise.reject(he):Promise.resolve()}function B(K,de){let he;const[we,Be,Xe]=extractChangingRecords(K,de);he=extractComponentsGuards(we.reverse(),"beforeRouteLeave",K,de);for(const R of we)R.leaveGuards.forEach(M=>{he.push(guardToPromiseFn(M,K,de))});const Le=N.bind(null,K,de);return he.push(Le),runGuardQueue(he).then(()=>{he=[];for(const R of s.list())he.push(guardToPromiseFn(R,K,de));return he.push(Le),runGuardQueue(he)}).then(()=>{he=extractComponentsGuards(Be,"beforeRouteUpdate",K,de);for(const R of Be)R.updateGuards.forEach(M=>{he.push(guardToPromiseFn(M,K,de))});return he.push(Le),runGuardQueue(he)}).then(()=>{he=[];for(const R of K.matched)if(R.beforeEnter&&!de.matched.includes(R))if(Array.isArray(R.beforeEnter))for(const M of R.beforeEnter)he.push(guardToPromiseFn(M,K,de));else he.push(guardToPromiseFn(R.beforeEnter,K,de));return he.push(Le),runGuardQueue(he)}).then(()=>(K.matched.forEach(R=>R.enterCallbacks={}),he=extractComponentsGuards(Xe,"beforeRouteEnter",K,de),he.push(Le),runGuardQueue(he))).then(()=>{he=[];for(const R of a.list())he.push(guardToPromiseFn(R,K,de));return he.push(Le),runGuardQueue(he)}).catch(R=>isNavigationFailure(R,8)?R:Promise.reject(R))}function q(K,de,he){for(const we of c.list())we(K,de,he)}function G(K,de,he,we,Be){const Xe=E(K,de);if(Xe)return Xe;const Le=de===START_LOCATION_NORMALIZED,R=isBrowser?history.state:{};he&&(we||Le?o.replace(K.fullPath,assign$2({scroll:Le&&R&&R.scroll},Be)):o.push(K.fullPath,Be)),d.value=K,ve(K,de,he,Le),xe()}let W;function J(){W=o.listen((K,de,he)=>{const we=A(K),Be=O(we);if(Be){D(assign$2(Be,{replace:!0}),we).catch(noop);return}f=we;const Xe=d.value;isBrowser&&saveScrollPosition(getScrollKey(Xe.fullPath,he.delta),computeScrollPosition()),B(we,Xe).catch(Le=>isNavigationFailure(Le,12)?Le:isNavigationFailure(Le,2)?(D(Le.to,we).then(R=>{isNavigationFailure(R,20)&&!he.delta&&he.type===NavigationType.pop&&o.go(-1,!1)}).catch(noop),Promise.reject()):(he.delta&&o.go(-he.delta,!1),Q(Le,we,Xe))).then(Le=>{Le=Le||G(we,Xe,!1),Le&&(he.delta?o.go(-he.delta,!1):he.type===NavigationType.pop&&isNavigationFailure(Le,20)&&o.go(-1,!1)),q(we,Xe,Le)}).catch(noop)})}let U=useCallbacks(),se=useCallbacks(),Y;function Q(K,de,he){xe(K);const we=se.list();return we.length?we.forEach(Be=>Be(K,de,he)):console.error(K),Promise.reject(K)}function ae(){return Y&&d.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((K,de)=>{U.add([K,de])})}function xe(K){return Y||(Y=!K,J(),U.list().forEach(([de,he])=>K?he(K):de()),U.reset()),K}function ve(K,de,he,we){const{scrollBehavior:Be}=t;if(!isBrowser||!Be)return Promise.resolve();const Xe=!he&&getSavedScrollPosition(getScrollKey(K.fullPath,0))||(we||!he)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Be(K,de,Xe)).then(Le=>Le&&scrollToPosition(Le)).catch(Le=>Q(Le,K,de))}const Ce=K=>o.go(K);let Oe;const Ze=new Set;return{currentRoute:d,addRoute:y,removeRoute:C,hasRoute:x,getRoutes:S,resolve:A,options:t,push:L,replace:P,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:se.add,isReady:ae,install(K){const de=this;K.component("RouterLink",RouterLink),K.component("RouterView",RouterView),K.config.globalProperties.$router=de,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(d)}),isBrowser&&!Oe&&d.value===START_LOCATION_NORMALIZED&&(Oe=!0,L(o.location).catch(Be=>{}));const he={};for(const Be in START_LOCATION_NORMALIZED)he[Be]=computed(()=>d.value[Be]);K.provide(routerKey,de),K.provide(routeLocationKey,reactive(he)),K.provide(routerViewLocationKey,d);const we=K.unmount;Ze.add(K),K.unmount=function(){Ze.delete(K),Ze.size<1&&(f=START_LOCATION_NORMALIZED,W&&W(),d.value=START_LOCATION_NORMALIZED,Oe=!1,Y=!1),we()}}}}function runGuardQueue(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function extractChangingRecords(t,e){const n=[],r=[],o=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const c=e.matched[a];c&&(t.matched.find(f=>isSameRouteRecord(f,c))?r.push(c):n.push(c));const d=t.matched[a];d&&(e.matched.find(f=>isSameRouteRecord(f,d))||o.push(d))}return[n,r,o]}const VBtn$1="",VBtnToggle="",VBtnGroup$1="",makeBorderProps=propsFactory({border:[Boolean,Number,String]},"border");function useBorder(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{borderClasses:computed(()=>{const r=isRef(t)?t.value:t.border,o=[];if(r===!0||r==="")o.push(`${e}--border`);else if(typeof r=="string"||r===0)for(const s of String(r).split(" "))o.push(`border-${s}`);return o})}}const allowedDensities$1=[null,"default","comfortable","compact"],makeDensityProps=propsFactory({density:{type:String,default:"default",validator:t=>allowedDensities$1.includes(t)}},"density");function useDensity(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{densityClasses:computed(()=>`${e}--density-${t.density}`)}}const makeElevationProps=propsFactory({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function useElevation(t){return{elevationClasses:computed(()=>{const n=isRef(t)?t.value:t.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const VBtnGroup=defineComponent({name:"VBtnGroup",props:{divided:Boolean,...makeBorderProps(),...makeDensityProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps()},setup(t,e){let{slots:n}=e;const{themeClasses:r}=provideTheme(t),{densityClasses:o}=useDensity(t),{borderClasses:s}=useBorder(t),{elevationClasses:a}=useElevation(t),{roundedClasses:c}=useRounded(t);provideDefaults({VBtn:{height:"auto",color:toRef(t,"color"),density:toRef(t,"density"),flat:!0,variant:toRef(t,"variant")}}),useRender(()=>createVNode(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},r.value,s.value,o.value,a.value,c.value]},n))}}),makeGroupProps=propsFactory({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),makeGroupItemProps=propsFactory({value:null,disabled:Boolean,selectedClass:String},"group-item");function useGroupItem(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=getCurrentInstance("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const o=getUid();provide(Symbol.for(`${e.description}:id`),o);const s=inject$1(e,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=toRef(t,"value"),c=computed(()=>s.disabled.value||t.disabled);s.register({id:o,value:a,disabled:c},r),onBeforeUnmount(()=>{s.unregister(o)});const d=computed(()=>s.isSelected(o)),f=computed(()=>d.value&&[s.selectedClass.value,t.selectedClass]);return watch(d,g=>{r.emit("group:selected",{value:g})}),{id:o,isSelected:d,toggle:()=>s.select(o,!d.value),select:g=>s.select(o,g),selectedClass:f,value:a,disabled:c,group:s}}function useGroup(t,e){let n=!1;const r=reactive([]),o=useProxiedModel(t,"modelValue",[],_=>_==null?[]:getIds(r,wrapInArray(_)),_=>{const y=getValues(r,_);return t.multiple?y:y[0]}),s=getCurrentInstance("useGroup");function a(_,y){const C=_,S=Symbol.for(`${e.description}:id`),A=findChildrenWithProvide(S,s==null?void 0:s.vnode).indexOf(y);A>-1?r.splice(A,0,C):r.push(C)}function c(_){if(n)return;d();const y=r.findIndex(C=>C.id===_);r.splice(y,1)}function d(){const _=r.find(y=>!y.disabled);_&&t.mandatory==="force"&&!o.value.length&&(o.value=[_.id])}onMounted(()=>{d()}),onBeforeUnmount(()=>{n=!0});function f(_,y){const C=r.find(S=>S.id===_);if(!(y&&C!=null&&C.disabled))if(t.multiple){const S=o.value.slice(),x=S.findIndex(T=>T===_),A=~x;if(y=y!=null?y:!A,A&&t.mandatory&&S.length<=1||!A&&t.max!=null&&S.length+1>t.max)return;x<0&&y?S.push(_):x>=0&&!y&&S.splice(x,1),o.value=S}else{const S=o.value.includes(_);if(t.mandatory&&S)return;o.value=(y!=null?y:!S)?[_]:[]}}function g(_){if(t.multiple&&consoleWarn('This method is not supported when using "multiple" prop'),o.value.length){const y=o.value[0],C=r.findIndex(A=>A.id===y);let S=(C+_)%r.length,x=r[S];for(;x.disabled&&S!==C;)S=(S+_)%r.length,x=r[S];if(x.disabled)return;o.value=[r[S].id]}else{const y=r.find(C=>!C.disabled);y&&(o.value=[y.id])}}const v={register:a,unregister:c,selected:o,select:f,disabled:toRef(t,"disabled"),prev:()=>g(r.length-1),next:()=>g(1),isSelected:_=>o.value.includes(_),selectedClass:computed(()=>t.selectedClass),items:computed(()=>r),getItemIndex:_=>getItemIndex(r,_)};return provide(e,v),v}function getItemIndex(t,e){const n=getIds(t,[e]);return n.length?t.findIndex(r=>r.id===n[0]):-1}function getIds(t,e){const n=[];for(let r=0;r<t.length;r++){const o=t[r];o.value!=null?e.find(s=>deepEqual$1(s,o.value))!=null&&n.push(o.id):e.includes(r)&&n.push(o.id)}return n}function getValues(t,e){const n=[];for(let r=0;r<t.length;r++){const o=t[r];e.includes(o.id)&&n.push(o.value!=null?o.value:r)}return n}const VBtnToggleSymbol=Symbol.for("vuetify:v-btn-toggle");genericComponent()({name:"VBtnToggle",props:makeGroupProps(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:r,next:o,prev:s,select:a,selected:c}=useGroup(t,VBtnToggleSymbol);return useRender(()=>{var d;return createVNode(VBtnGroup,{class:"v-btn-toggle"},{default:()=>[(d=n.default)==null?void 0:d.call(n,{isSelected:r,next:o,prev:s,select:a,selected:c})]})}),{next:o,prev:s,select:a}}});const VIcon$1="",predefinedSizes=["x-small","small","default","large","x-large"],makeSizeProps=propsFactory({size:{type:[String,Number],default:"default"}},"size");function useSize(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return destructComputed(()=>{let n,r;return includes(predefinedSizes,t.size)?n=`${e}--size-${t.size}`:t.size&&(r={width:convertToUnit(t.size),height:convertToUnit(t.size)}),{sizeClasses:n,sizeStyles:r}})}const makeVIconProps=propsFactory({color:String,start:Boolean,end:Boolean,icon:IconValue,...makeSizeProps(),...makeTagProps({tag:"i"}),...makeThemeProps()},"v-icon"),VIcon=defineComponent({name:"VIcon",props:makeVIconProps(),setup(t,e){let{attrs:n,slots:r}=e,o;r.default&&(o=computed(()=>{var g,v;const _=(g=r.default)==null?void 0:g.call(r);if(!!_)return(v=flattenFragments(_).filter(y=>y.children&&typeof y.children=="string")[0])==null?void 0:v.children}));const{themeClasses:s}=provideTheme(t),{iconData:a}=useIcon(o||t),{sizeClasses:c}=useSize(t),{textColorClasses:d,textColorStyles:f}=useTextColor(toRef(t,"color"));return useRender(()=>createVNode(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",s.value,c.value,d.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":t.start,"v-icon--end":t.end}],style:[c.value?void 0:{fontSize:convertToUnit(t.size),height:convertToUnit(t.size),width:convertToUnit(t.size)},f.value],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},null)),{}}}),VProgressCircular$1="";function useIntersectionObserver(t){const e=ref$1(),n=ref$1(!1);if(SUPPORTS_INTERSECTION){const r=new IntersectionObserver(o=>{t==null||t(o,r),n.value=!!o.find(s=>s.isIntersecting)});onBeforeUnmount(()=>{r.disconnect()}),watch(e,(o,s)=>{s&&(r.unobserve(s),n.value=!1),o&&r.observe(o)},{flush:"post"})}return{intersectionRef:e,isIntersecting:n}}const VProgressCircular=defineComponent({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...makeSizeProps(),...makeTagProps({tag:"div"}),...makeThemeProps()},setup(t,e){let{slots:n}=e;const r=20,o=2*Math.PI*r,s=ref$1(),{themeClasses:a}=provideTheme(t),{sizeClasses:c,sizeStyles:d}=useSize(t),{textColorClasses:f,textColorStyles:g}=useTextColor(toRef(t,"color")),{textColorClasses:v,textColorStyles:_}=useTextColor(toRef(t,"bgColor")),{intersectionRef:y,isIntersecting:C}=useIntersectionObserver(),{resizeRef:S,contentRect:x}=useResizeObserver(),A=computed(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),T=computed(()=>Number(t.width)),E=computed(()=>d.value?Number(t.size):x.value?x.value.width:Math.max(T.value,32)),L=computed(()=>r/(1-T.value/E.value)*2),P=computed(()=>T.value/E.value*L.value),O=computed(()=>convertToUnit((100-A.value)/100*o));return watchEffect(()=>{y.value=s.value,S.value=s.value}),useRender(()=>createVNode(t.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":C.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},a.value,c.value,f.value],style:[d.value,g.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:A.value},{default:()=>[createVNode("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${L.value} ${L.value}`},[createVNode("circle",{class:["v-progress-circular__underlay",v.value],style:_.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":P.value,"stroke-dasharray":o,"stroke-dashoffset":0},null),createVNode("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":P.value,"stroke-dasharray":o,"stroke-dashoffset":O.value},null)]),n.default&&createVNode("div",{class:"v-progress-circular__content"},[n.default({value:A.value})])]})),{}}}),VRipple="",stopSymbol=Symbol("rippleStop"),DELAY_RIPPLE=80;function transform(t,e){t.style.transform=e,t.style.webkitTransform=e}function opacity(t,e){t.style.opacity=`calc(${e} * var(--v-theme-overlay-multiplier))`}function isTouchEvent(t){return t.constructor.name==="TouchEvent"}function isKeyboardEvent(t){return t.constructor.name==="KeyboardEvent"}const calculate=function(t,e){var n;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=0,s=0;if(!isKeyboardEvent(t)){const _=e.getBoundingClientRect(),y=isTouchEvent(t)?t.touches[t.touches.length-1]:t;o=y.clientX-_.left,s=y.clientY-_.top}let a=0,c=.3;(n=e._ripple)!=null&&n.circle?(c=.15,a=e.clientWidth/2,a=r.center?a:a+Math.sqrt((o-a)**2+(s-a)**2)/4):a=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const d=`${(e.clientWidth-a*2)/2}px`,f=`${(e.clientHeight-a*2)/2}px`,g=r.center?d:`${o-a}px`,v=r.center?f:`${s-a}px`;return{radius:a,scale:c,x:g,y:v,centerX:d,centerY:f}},ripples={show(t,e){var n;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(e!=null&&(n=e._ripple)!=null&&n.enabled))return;const o=document.createElement("span"),s=document.createElement("span");o.appendChild(s),o.className="v-ripple__container",r.class&&(o.className+=` ${r.class}`);const{radius:a,scale:c,x:d,y:f,centerX:g,centerY:v}=calculate(t,e,r),_=`${a*2}px`;s.className="v-ripple__animation",s.style.width=_,s.style.height=_,e.appendChild(o);const y=window.getComputedStyle(e);y&&y.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),transform(s,`translate(${d}, ${f}) scale3d(${c},${c},${c})`),opacity(s,0),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),transform(s,`translate(${g}, ${v}) scale3d(1,1,1)`),opacity(s,.08)},0)},hide(t){var e;if(!(t!=null&&(e=t._ripple)!=null&&e.enabled))return;const n=t.getElementsByClassName("v-ripple__animation");if(n.length===0)return;const r=n[n.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const o=performance.now()-Number(r.dataset.activated),s=Math.max(250-o,0);setTimeout(()=>{r.classList.remove("v-ripple__animation--in"),r.classList.add("v-ripple__animation--out"),opacity(r,0),setTimeout(()=>{t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),r.parentNode&&t.removeChild(r.parentNode)},300)},s)}};function isRippleEnabled(t){return typeof t>"u"||!!t}function rippleShow(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[stopSymbol])){if(t[stopSymbol]=!0,isTouchEvent(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||isKeyboardEvent(t),n._ripple.class&&(e.class=n._ripple.class),isTouchEvent(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{ripples.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var r;n!=null&&(r=n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},DELAY_RIPPLE)}else ripples.show(t,n,e)}}function rippleStop(t){t[stopSymbol]=!0}function rippleHide(t){const e=t.currentTarget;if(!(!e||!e._ripple)){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{rippleHide(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),ripples.hide(e)}}function rippleCancelShow(t){const e=t.currentTarget;!e||!e._ripple||(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let keyboardRipple=!1;function keyboardRippleShow(t){!keyboardRipple&&(t.keyCode===keyCodes.enter||t.keyCode===keyCodes.space)&&(keyboardRipple=!0,rippleShow(t))}function keyboardRippleHide(t){keyboardRipple=!1,rippleHide(t)}function focusRippleHide(t){keyboardRipple&&(keyboardRipple=!1,rippleHide(t))}function updateRipple(t,e,n){var a;const{value:r,modifiers:o}=e,s=isRippleEnabled(r);if(s||ripples.hide(t),t._ripple=(a=t._ripple)!=null?a:{},t._ripple.enabled=s,t._ripple.centered=o.center,t._ripple.circle=o.circle,isObject$2(r)&&r.class&&(t._ripple.class=r.class),s&&!n){if(o.stop){t.addEventListener("touchstart",rippleStop,{passive:!0}),t.addEventListener("mousedown",rippleStop);return}t.addEventListener("touchstart",rippleShow,{passive:!0}),t.addEventListener("touchend",rippleHide,{passive:!0}),t.addEventListener("touchmove",rippleCancelShow,{passive:!0}),t.addEventListener("touchcancel",rippleHide),t.addEventListener("mousedown",rippleShow),t.addEventListener("mouseup",rippleHide),t.addEventListener("mouseleave",rippleHide),t.addEventListener("keydown",keyboardRippleShow),t.addEventListener("keyup",keyboardRippleHide),t.addEventListener("blur",focusRippleHide),t.addEventListener("dragstart",rippleHide,{passive:!0})}else!s&&n&&removeListeners(t)}function removeListeners(t){t.removeEventListener("mousedown",rippleShow),t.removeEventListener("touchstart",rippleShow),t.removeEventListener("touchend",rippleHide),t.removeEventListener("touchmove",rippleCancelShow),t.removeEventListener("touchcancel",rippleHide),t.removeEventListener("mouseup",rippleHide),t.removeEventListener("mouseleave",rippleHide),t.removeEventListener("keydown",keyboardRippleShow),t.removeEventListener("keyup",keyboardRippleHide),t.removeEventListener("dragstart",rippleHide),t.removeEventListener("blur",focusRippleHide)}function mounted$2(t,e){updateRipple(t,e,!1)}function unmounted$2(t){delete t._ripple,removeListeners(t)}function updated(t,e){if(e.value===e.oldValue)return;const n=isRippleEnabled(e.oldValue);updateRipple(t,e,n)}const Ripple={mounted:mounted$2,unmounted:unmounted$2,updated},VProgressLinear$1="",VProgressLinear=defineComponent({name:"VProgressLinear",props:{active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),{isRtl:o}=useRtl(),{themeClasses:s}=provideTheme(t),{textColorClasses:a,textColorStyles:c}=useTextColor(t,"color"),{backgroundColorClasses:d,backgroundColorStyles:f}=useBackgroundColor(computed(()=>t.bgColor||t.color)),{backgroundColorClasses:g,backgroundColorStyles:v}=useBackgroundColor(t,"color"),{roundedClasses:_}=useRounded(t),{intersectionRef:y,isIntersecting:C}=useIntersectionObserver(),S=computed(()=>parseInt(t.max,10)),x=computed(()=>parseInt(t.height,10)),A=computed(()=>parseFloat(t.bufferValue)/S.value*100),T=computed(()=>parseFloat(r.value)/S.value*100),E=computed(()=>o.value!==t.reverse),L=computed(()=>t.indeterminate?"fade-transition":"slide-x-transition"),P=computed(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function O(D){if(!y.value)return;const{left:N,right:B,width:q}=y.value.getBoundingClientRect(),G=E.value?q-D.clientX+(B-q):D.clientX-N;r.value=Math.round(G/q*S.value)}return useRender(()=>createVNode(t.tag,{ref:y,class:["v-progress-linear",{"v-progress-linear--active":t.active&&C.value,"v-progress-linear--reverse":E.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},_.value,s.value],style:{height:t.active?convertToUnit(x.value):0,"--v-progress-linear-height":convertToUnit(x.value)},role:"progressbar","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:T.value,onClick:t.clickable&&O},{default:()=>[t.stream&&createVNode("div",{key:"stream",class:["v-progress-linear__stream",a.value],style:{...c.value,[E.value?"left":"right"]:convertToUnit(-x.value),borderTop:`${convertToUnit(x.value/2)} dotted`,opacity:P.value,top:`calc(50% - ${convertToUnit(x.value/4)})`,width:convertToUnit(100-A.value,"%"),"--v-progress-linear-stream-to":convertToUnit(x.value*(E.value?1:-1))}},null),createVNode("div",{class:["v-progress-linear__background",d.value],style:[f.value,{opacity:P.value,width:convertToUnit(t.stream?A.value:100,"%")}]},null),createVNode(Transition,{name:L.value},{default:()=>[t.indeterminate?createVNode("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(D=>createVNode("div",{key:D,class:["v-progress-linear__indeterminate",D,g.value],style:v.value},null))]):createVNode("div",{class:["v-progress-linear__determinate",g.value],style:[v.value,{width:convertToUnit(T.value,"%")}]},null)]}),n.default&&createVNode("div",{class:"v-progress-linear__content"},[n.default({value:T.value,buffer:A.value})])]})),{}}}),makeLoaderProps=propsFactory({loading:Boolean},"loader");function useLoader(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{loaderClasses:computed(()=>({[`${e}--loading`]:t.loading}))}}function LoaderSlot(t,e){var n;let{slots:r}=e;return createVNode("div",{class:`${t.name}__loader`},[((n=r.default)==null?void 0:n.call(r,{color:t.color,isActive:t.active}))||createVNode(VProgressLinear,{active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}function useSelectLink(t,e){watch(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&nextTick(()=>{e(!0)})},{immediate:!0})}const VBtn=defineComponent({name:"VBtn",directives:{Ripple},props:{active:{type:Boolean,default:void 0},symbol:{type:null,default:VBtnToggleSymbol},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:IconValue,appendIcon:IconValue,block:Boolean,stacked:Boolean,ripple:{type:Boolean,default:!0},...makeBorderProps(),...makeRoundedProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeGroupItemProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"button"}),...makeThemeProps(),...makeVariantProps({variant:"elevated"})},emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:o}=provideTheme(t),{borderClasses:s}=useBorder(t),{colorClasses:a,colorStyles:c,variantClasses:d}=useVariant(t),{densityClasses:f}=useDensity(t),{dimensionStyles:g}=useDimension(t),{elevationClasses:v}=useElevation(t),{loaderClasses:_}=useLoader(t),{locationStyles:y}=useLocation(t),{positionClasses:C}=usePosition(t),{roundedClasses:S}=useRounded(t),{sizeClasses:x,sizeStyles:A}=useSize(t),T=useGroupItem(t,t.symbol,!1),E=useLink$1(t,n),L=computed(()=>{var D;return t.active!==!1&&(t.active||((D=E.isActive)==null?void 0:D.value)||(T==null?void 0:T.isSelected.value))}),P=computed(()=>(T==null?void 0:T.disabled.value)||t.disabled),O=computed(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border));return useSelectLink(E,T==null?void 0:T.select),useRender(()=>{var D,N,B,q;const G=E.isLink.value?"a":t.tag,W=!T||T.isSelected.value,J=!!(t.prependIcon||r.prepend),U=!!(t.appendIcon||r.append),se=!!(t.icon&&t.icon!==!0);return withDirectives(createVNode(G,{type:G==="a"?void 0:"button",class:["v-btn",T==null?void 0:T.selectedClass.value,{"v-btn--active":L.value,"v-btn--block":t.block,"v-btn--disabled":P.value,"v-btn--elevated":O.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--stacked":t.stacked},o.value,s.value,W?a.value:void 0,f.value,v.value,_.value,C.value,S.value,x.value,d.value],style:[W?c.value:void 0,g.value,y.value,A.value],disabled:P.value||void 0,href:E.href.value,onClick:Y=>{var Q;P.value||((Q=E.navigate)==null||Q.call(E,Y),T==null||T.toggle())}},{default:()=>{var Y;return[genOverlays(!0,"v-btn"),!t.icon&&J&&createVNode(VDefaultsProvider,{key:"prepend",defaults:{VIcon:{icon:t.prependIcon}}},{default:()=>{var Q;return[createVNode("span",{class:"v-btn__prepend"},[(Q=(D=r.prepend)==null?void 0:D.call(r))!=null?Q:createVNode(VIcon,null,null)])]}}),createVNode("span",{class:"v-btn__content","data-no-activator":""},[createVNode(VDefaultsProvider,{key:"content",defaults:{VIcon:{icon:se?t.icon:void 0}}},{default:()=>{var Q;return[(Q=(N=r.default)==null?void 0:N.call(r))!=null?Q:se&&createVNode(VIcon,{key:"icon"},null)]}})]),!t.icon&&U&&createVNode(VDefaultsProvider,{key:"append",defaults:{VIcon:{icon:t.appendIcon}}},{default:()=>{var Q;return[createVNode("span",{class:"v-btn__append"},[(Q=(B=r.append)==null?void 0:B.call(r))!=null?Q:createVNode(VIcon,null,null)])]}}),!!t.loading&&createVNode("span",{key:"loader",class:"v-btn__loader"},[(Y=(q=r.loader)==null?void 0:q.call(r))!=null?Y:createVNode(VProgressCircular,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[resolveDirective("ripple"),!P.value&&t.ripple,null]])}),{}}}),VGrid="",VContainer=defineComponent({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...makeTagProps()},setup(t,e){let{slots:n}=e;return useRender(()=>createVNode(t.tag,{class:["v-container",{"v-container--fluid":t.fluid}]},n)),{}}}),breakpoints$1=["sm","md","lg","xl","xxl"],breakpointProps=(()=>breakpoints$1.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),offsetProps=(()=>breakpoints$1.reduce((t,e)=>(t["offset"+capitalize(e)]={type:[String,Number],default:null},t),{}))(),orderProps=(()=>breakpoints$1.reduce((t,e)=>(t["order"+capitalize(e)]={type:[String,Number],default:null},t),{}))(),propMap$1={col:Object.keys(breakpointProps),offset:Object.keys(offsetProps),order:Object.keys(orderProps)};function breakpointClass$1(t,e,n){let r=t;if(!(n==null||n===!1)){if(e){const o=e.replace(t,"");r+=`-${o}`}return t==="col"&&(r="v-"+r),t==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const ALIGN_SELF_VALUES=["auto","start","end","center","baseline","stretch"],VCol=defineComponent({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...breakpointProps,offset:{type:[String,Number],default:null},...offsetProps,order:{type:[String,Number],default:null},...orderProps,alignSelf:{type:String,default:null,validator:t=>ALIGN_SELF_VALUES.includes(t)},...makeTagProps()},setup(t,e){let{slots:n}=e;const r=computed(()=>{const o=[];let s;for(s in propMap$1)propMap$1[s].forEach(c=>{const d=t[c],f=breakpointClass$1(s,c,d);f&&o.push(f)});const a=o.some(c=>c.startsWith("v-col-"));return o.push({"v-col":!a||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),o});return()=>{var o;return h(t.tag,{class:r.value},(o=n.default)==null?void 0:o.call(n))}}}),breakpoints=["sm","md","lg","xl","xxl"],ALIGNMENT=["start","end","center"],SPACE=["space-between","space-around","space-evenly"];function makeRowProps(t,e){return breakpoints.reduce((n,r)=>(n[t+capitalize(r)]=e(),n),{})}const ALIGN_VALUES=[...ALIGNMENT,"baseline","stretch"],alignValidator=t=>ALIGN_VALUES.includes(t),alignProps=makeRowProps("align",()=>({type:String,default:null,validator:alignValidator})),JUSTIFY_VALUES=[...ALIGNMENT,...SPACE],justifyValidator=t=>JUSTIFY_VALUES.includes(t),justifyProps=makeRowProps("justify",()=>({type:String,default:null,validator:justifyValidator})),ALIGN_CONTENT_VALUES=[...ALIGNMENT,...SPACE,"stretch"],alignContentValidator=t=>ALIGN_CONTENT_VALUES.includes(t),alignContentProps=makeRowProps("alignContent",()=>({type:String,default:null,validator:alignContentValidator})),propMap={align:Object.keys(alignProps),justify:Object.keys(justifyProps),alignContent:Object.keys(alignContentProps)},classMap={align:"align",justify:"justify",alignContent:"align-content"};function breakpointClass(t,e,n){let r=classMap[t];if(n!=null){if(e){const o=e.replace(t,"");r+=`-${o}`}return r+=`-${n}`,r.toLowerCase()}}const VRow=defineComponent({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:alignValidator},...alignProps,justify:{type:String,default:null,validator:justifyValidator},...justifyProps,alignContent:{type:String,default:null,validator:alignContentValidator},...alignContentProps,...makeTagProps()},setup(t,e){let{slots:n}=e;const r=computed(()=>{const o=[];let s;for(s in propMap)propMap[s].forEach(a=>{const c=t[a],d=breakpointClass(s,a,c);d&&o.push(d)});return o.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),o});return()=>{var o;return h(t.tag,{class:["v-row",r.value]},(o=n.default)==null?void 0:o.call(n))}}}),VSpacer=createSimpleFunctional("flex-grow-1","div","VSpacer"),VTextField$1="",VField$1="";function createCssTransition(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top center 0",n=arguments.length>2?arguments[2]:void 0;return defineComponent({name:t,props:{group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:n},origin:{type:String,default:e}},setup(r,o){let{slots:s}=o;return()=>{const a=r.group?TransitionGroup:Transition;return h(a,{name:t,mode:r.mode,onBeforeEnter(c){c.style.transformOrigin=r.origin},onLeave(c){if(r.leaveAbsolute){const{offsetTop:d,offsetLeft:f,offsetWidth:g,offsetHeight:v}=c;c._transitionInitialStyles={position:c.style.position,top:c.style.top,left:c.style.left,width:c.style.width,height:c.style.height},c.style.position="absolute",c.style.top=`${d}px`,c.style.left=`${f}px`,c.style.width=`${g}px`,c.style.height=`${v}px`}r.hideOnLeave&&c.style.setProperty("display","none","important")},onAfterLeave(c){if(r.leaveAbsolute&&c!=null&&c._transitionInitialStyles){const{position:d,top:f,left:g,width:v,height:_}=c._transitionInitialStyles;delete c._transitionInitialStyles,c.style.position=d||"",c.style.top=f||"",c.style.left=g||"",c.style.width=v||"",c.style.height=_||""}}},s.default)}}})}function createJavascriptTransition(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return defineComponent({name:t,props:{mode:{type:String,default:n}},setup(r,o){let{slots:s}=o;return()=>h(Transition,{name:t,...e},s.default)}})}function ExpandTransitionGenerator(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=camelize(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const c=a._initialStyle;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const d=`${a[r]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=c.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=d})},onAfterEnter:s,onEnterCancelled:s,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[r]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:o,onLeaveCancelled:o};function o(a){t&&a._parent&&a._parent.classList.remove(t),s(a)}function s(a){const c=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,c!=null&&(a.style[n]=c),delete a._initialStyle}}const VDialogTransition=defineComponent({name:"VDialogTransition",props:{target:Object},setup(t,e){let{slots:n}=e;const r={onBeforeEnter(o){o.style.pointerEvents="none",o.style.visibility="hidden"},async onEnter(o,s){var a;await new Promise(y=>requestAnimationFrame(y)),await new Promise(y=>requestAnimationFrame(y)),o.style.visibility="";const{x:c,y:d,sx:f,sy:g,speed:v}=getDimensions(t.target,o),_=animate(o,[{transform:`translate(${c}px, ${d}px) scale(${f}, ${g})`,opacity:0},{transform:""}],{duration:225*v,easing:deceleratedEasing});(a=getChildren(o))==null||a.forEach(y=>{animate(y,[{opacity:0},{opacity:0,offset:.33},{opacity:1}],{duration:225*2*v,easing:standardEasing})}),_.finished.then(()=>s())},onAfterEnter(o){o.style.removeProperty("pointer-events")},onBeforeLeave(o){o.style.pointerEvents="none"},async onLeave(o,s){var a;await new Promise(y=>requestAnimationFrame(y));const{x:c,y:d,sx:f,sy:g,speed:v}=getDimensions(t.target,o);animate(o,[{transform:""},{transform:`translate(${c}px, ${d}px) scale(${f}, ${g})`,opacity:0}],{duration:125*v,easing:acceleratedEasing}).finished.then(()=>s()),(a=getChildren(o))==null||a.forEach(y=>{animate(y,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*v,easing:standardEasing})})},onAfterLeave(o){o.style.removeProperty("pointer-events")}};return()=>t.target?createVNode(Transition,mergeProps({name:"dialog-transition"},r,{css:!1}),n):createVNode(Transition,{name:"dialog-transition"},n)}});function getChildren(t){var e;const n=(e=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:e.children;return n&&[...n]}function getDimensions(t,e){const n=t.getBoundingClientRect(),r=nullifyTransforms(e),[o,s]=getComputedStyle(e).transformOrigin.split(" ").map(A=>parseFloat(A)),[a,c]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=n.left+n.width/2;a==="left"||c==="left"?d-=n.width/2:(a==="right"||c==="right")&&(d+=n.width/2);let f=n.top+n.height/2;a==="top"||c==="top"?f-=n.height/2:(a==="bottom"||c==="bottom")&&(f+=n.height/2);const g=n.width/r.width,v=n.height/r.height,_=Math.max(1,g,v),y=g/_,C=v/_,S=r.width*r.height/(window.innerWidth*window.innerHeight),x=S>.12?Math.min(1.5,(S-.12)*10+1):1;return{x:d-(o+r.left),y:f-(s+r.top),sx:y,sy:C,speed:x}}createCssTransition("fab-transition","center center","out-in");createCssTransition("dialog-bottom-transition");createCssTransition("dialog-top-transition");const VFadeTransition=createCssTransition("fade-transition"),VScaleTransition=createCssTransition("scale-transition");createCssTransition("scroll-x-transition");createCssTransition("scroll-x-reverse-transition");createCssTransition("scroll-y-transition");createCssTransition("scroll-y-reverse-transition");createCssTransition("slide-x-transition");createCssTransition("slide-x-reverse-transition");const VSlideYTransition=createCssTransition("slide-y-transition");createCssTransition("slide-y-reverse-transition");const VExpandTransition=createJavascriptTransition("expand-transition",ExpandTransitionGenerator()),VExpandXTransition=createJavascriptTransition("expand-x-transition",ExpandTransitionGenerator("",!0));function useInputIcon(t){const{t:e}=useLocale();function n(r){var d;let{name:o}=r;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],a=t[`onClick:${o}`],c=a&&s?e(`$vuetify.input.${s}`,(d=t.label)!=null?d:""):void 0;return createVNode(VIcon,{icon:t[`${o}Icon`],"aria-label":c,onClick:a},null)}return{InputIcon:n}}const VLabel$1="",VLabel=defineComponent({name:"VLabel",props:{text:String,clickable:Boolean,...makeThemeProps()},setup(t,e){let{slots:n}=e;return useRender(()=>{var r;return createVNode("label",{class:["v-label",{"v-label--clickable":t.clickable}]},[t.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),VFieldLabel=defineComponent({name:"VFieldLabel",props:{floating:Boolean},setup(t,e){let{slots:n}=e;return useRender(()=>createVNode(VLabel,{class:["v-field-label",{"v-field-label--floating":t.floating}],"aria-hidden":t.floating||void 0},n)),{}}}),makeFocusProps=propsFactory({focused:Boolean},"focus");function useFocus(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const n=useProxiedModel(t,"focused"),r=computed(()=>({[`${e}--focused`]:n.value}));function o(){n.value=!0}function s(){n.value=!1}return{focusClasses:r,isFocused:n,focus:o,blur:s}}const allowedVariants$1=["underlined","outlined","filled","solo","plain"],makeVFieldProps=propsFactory({appendInnerIcon:IconValue,bgColor:String,clearable:Boolean,clearIcon:{type:IconValue,default:"$clear"},active:Boolean,color:String,dirty:Boolean,disabled:Boolean,error:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:IconValue,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>allowedVariants$1.includes(t)},"onClick:clear":EventProp,"onClick:appendInner":EventProp,"onClick:prependInner":EventProp,...makeThemeProps(),...makeLoaderProps()},"v-field"),VField=genericComponent()({name:"VField",inheritAttrs:!1,props:{id:String,...makeFocusProps(),...makeVFieldProps()},emits:{"click:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{themeClasses:s}=provideTheme(t),{loaderClasses:a}=useLoader(t),{focusClasses:c,isFocused:d,focus:f,blur:g}=useFocus(t),{InputIcon:v}=useInputIcon(t),_=computed(()=>t.dirty||t.active),y=computed(()=>!t.singleLine&&!!(t.label||o.label)),C=getUid(),S=computed(()=>t.id||`input-${C}`),x=ref$1(),A=ref$1(),T=ref$1(),{backgroundColorClasses:E,backgroundColorStyles:L}=useBackgroundColor(toRef(t,"bgColor")),{textColorClasses:P,textColorStyles:O}=useTextColor(computed(()=>_.value&&d.value&&!t.error&&!t.disabled?t.color:void 0));watch(_,B=>{if(y.value){const q=x.value.$el,G=A.value.$el,W=nullifyTransforms(q),J=G.getBoundingClientRect(),U=J.x-W.x,se=J.y-W.y-(W.height/2-J.height/2),Y=J.width/.75,Q=Math.abs(Y-W.width)>1?{maxWidth:convertToUnit(Y)}:void 0,ae=getComputedStyle(q),xe=getComputedStyle(G),ve=parseFloat(ae.transitionDuration)*1e3||150,Ce=parseFloat(xe.getPropertyValue("--v-field-label-scale")),Oe=xe.getPropertyValue("color");q.style.visibility="visible",G.style.visibility="hidden",animate(q,{transform:`translate(${U}px, ${se}px) scale(${Ce})`,color:Oe,...Q},{duration:ve,easing:standardEasing,direction:B?"normal":"reverse"}).finished.then(()=>{q.style.removeProperty("visibility"),G.style.removeProperty("visibility")})}},{flush:"post"});const D=computed(()=>({isActive:_,isFocused:d,controlRef:T,blur:g,focus:f}));function N(B){B.target!==document.activeElement&&B.preventDefault(),r("click:control",B)}return useRender(()=>{var B,q,G;const W=t.variant==="outlined",J=o["prepend-inner"]||t.prependInnerIcon,U=!!(t.clearable||o.clear),se=!!(o["append-inner"]||t.appendInnerIcon||U),Y=o.label?o.label({label:t.label,props:{for:S.value}}):t.label;return createVNode("div",mergeProps({class:["v-field",{"v-field--active":_.value,"v-field--appended":se,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":J,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!Y,[`v-field--variant-${t.variant}`]:!0},s.value,E.value,c.value,a.value],style:[L.value,O.value],onClick:N},n),[createVNode("div",{class:"v-field__overlay"},null),createVNode(LoaderSlot,{name:"v-field",active:t.loading,color:t.error?"error":t.color},{default:o.loader}),J&&createVNode("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&createVNode(v,{key:"prepend-icon",name:"prependInner"},null),(B=o["prepend-inner"])==null?void 0:B.call(o,D.value)]),createVNode("div",{class:"v-field__field","data-no-activator":""},[["solo","filled"].includes(t.variant)&&y.value&&createVNode(VFieldLabel,{key:"floating-label",ref:A,class:[P.value],floating:!0,for:S.value},{default:()=>[Y]}),createVNode(VFieldLabel,{ref:x,for:S.value},{default:()=>[Y]}),(q=o.default)==null?void 0:q.call(o,{...D.value,props:{id:S.value,class:"v-field__input"},focus:f,blur:g})]),U&&createVNode(VExpandXTransition,{key:"clear"},{default:()=>[withDirectives(createVNode("div",{class:"v-field__clearable"},[o.clear?o.clear():createVNode(v,{name:"clear"},null)]),[[vShow,t.dirty]])]}),se&&createVNode("div",{key:"append",class:"v-field__append-inner"},[(G=o["append-inner"])==null?void 0:G.call(o,D.value),t.appendInnerIcon&&createVNode(v,{key:"append-icon",name:"appendInner"},null)]),createVNode("div",{class:["v-field__outline",P.value]},[W&&createVNode(Fragment,null,[createVNode("div",{class:"v-field__outline__start"},null),y.value&&createVNode("div",{class:"v-field__outline__notch"},[createVNode(VFieldLabel,{ref:A,floating:!0,for:S.value},{default:()=>[Y]})]),createVNode("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(t.variant)&&y.value&&createVNode(VFieldLabel,{ref:A,floating:!0,for:S.value},{default:()=>[Y]})])])}),{controlRef:T}}});function filterFieldProps(t){const e=Object.keys(VField.props).filter(n=>!isOn(n));return pick(t,e)}const VInput$1="",VMessages$1="",VMessages=defineComponent({name:"VMessages",props:{active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...makeTransitionProps({transition:{component:VSlideYTransition,leaveAbsolute:!0,group:!0}})},setup(t,e){let{slots:n}=e;const r=computed(()=>wrapInArray(t.messages)),{textColorClasses:o,textColorStyles:s}=useTextColor(computed(()=>t.color));return useRender(()=>createVNode(MaybeTransition,{transition:t.transition,tag:"div",class:["v-messages",o.value],style:s.value},{default:()=>[t.active&&r.value.map((a,c)=>createVNode("div",{class:"v-messages__message",key:`${c}-${r.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),FormKey=Symbol.for("vuetify:form");function useForm(){return inject$1(FormKey,null)}const makeValidationProps=propsFactory({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...makeFocusProps()},"validation");function useValidation(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:getUid();const r=useProxiedModel(t,"modelValue"),o=computed(()=>t.validationValue===void 0?r.value:t.validationValue),s=useForm(),a=ref$1([]),c=ref$1(!0),d=computed(()=>!!(wrapInArray(r.value===""?null:r.value).length||wrapInArray(o.value===""?null:o.value).length)),f=computed(()=>!!(t.disabled||s!=null&&s.isDisabled.value)),g=computed(()=>!!(t.readonly||s!=null&&s.isReadonly.value)),v=computed(()=>t.errorMessages.length?wrapInArray(t.errorMessages):a.value),_=computed(()=>t.error||v.value.length?!1:t.rules.length&&c.value?null:!0),y=ref$1(!1),C=computed(()=>({[`${e}--error`]:_.value===!1,[`${e}--dirty`]:d.value,[`${e}--disabled`]:f.value,[`${e}--readonly`]:g.value})),S=computed(()=>{var L;return(L=t.name)!=null?L:unref(n)});onBeforeMount(()=>{s==null||s.register({id:S.value,validate:E,reset:A,resetValidation:T})}),onBeforeUnmount(()=>{s==null||s.unregister(S.value)});const x=computed(()=>t.validateOn||(s==null?void 0:s.validateOn.value)||"input");onMounted(()=>s==null?void 0:s.update(S.value,_.value,v.value)),useToggleScope(()=>x.value==="input",()=>{watch(o,()=>{if(o.value!=null)E();else if(t.focused){const L=watch(()=>t.focused,P=>{P||E(),L()})}})}),useToggleScope(()=>x.value==="blur",()=>{watch(()=>t.focused,L=>{L||E()})}),watch(_,()=>{s==null||s.update(S.value,_.value,v.value)});function A(){T(),r.value=null}function T(){c.value=!0,a.value=[]}async function E(){const L=[];y.value=!0;for(const P of t.rules){if(L.length>=(t.maxErrors||1))break;const D=await(typeof P=="function"?P:()=>P)(o.value);if(D!==!0){if(typeof D!="string"){console.warn(`${D} is not a valid value. Rule functions must return boolean true or a string.`);continue}L.push(D)}}return a.value=L,y.value=!1,c.value=!1,a.value}return{errorMessages:v,isDirty:d,isDisabled:f,isReadonly:g,isPristine:c,isValid:_,isValidating:y,reset:A,resetValidation:T,validate:E,validationClasses:C}}const makeVInputProps=propsFactory({id:String,appendIcon:IconValue,prependIcon:IconValue,hideDetails:[Boolean,String],messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":EventProp,"onClick:append":EventProp,...makeDensityProps(),...makeValidationProps()},"v-input"),VInput=genericComponent()({name:"VInput",props:{...makeVInputProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r,emit:o}=e;const{densityClasses:s}=useDensity(t),{InputIcon:a}=useInputIcon(t),c=getUid(),d=computed(()=>t.id||`input-${c}`),{errorMessages:f,isDirty:g,isDisabled:v,isReadonly:_,isPristine:y,isValid:C,isValidating:S,reset:x,resetValidation:A,validate:T,validationClasses:E}=useValidation(t,"v-input",d),L=computed(()=>({id:d,isDirty:g,isDisabled:v,isReadonly:_,isPristine:y,isValid:C,isValidating:S,reset:x,resetValidation:A,validate:T}));return useRender(()=>{var P,O,D,N,B;const q=!!(r.prepend||t.prependIcon),G=!!(r.append||t.appendIcon),W=!!((P=t.messages)!=null&&P.length||f.value.length),J=!t.hideDetails||t.hideDetails==="auto"&&(W||!!r.details);return createVNode("div",{class:["v-input",`v-input--${t.direction}`,s.value,E.value]},[q&&createVNode("div",{key:"prepend",class:"v-input__prepend"},[(O=r.prepend)==null?void 0:O.call(r,L.value),t.prependIcon&&createVNode(a,{key:"prepend-icon",name:"prepend"},null)]),r.default&&createVNode("div",{class:"v-input__control"},[(D=r.default)==null?void 0:D.call(r,L.value)]),G&&createVNode("div",{key:"append",class:"v-input__append"},[t.appendIcon&&createVNode(a,{key:"append-icon",name:"append"},null),(N=r.append)==null?void 0:N.call(r,L.value)]),J&&createVNode("div",{class:"v-input__details"},[createVNode(VMessages,{active:W,messages:f.value.length>0?f.value:t.messages},{message:r.message}),(B=r.details)==null?void 0:B.call(r,L.value)])])}),{reset:x,resetValidation:A,validate:T}}});function filterInputProps(t){const e=Object.keys(VInput.props).filter(n=>!isOn(n));return pick(t,e)}const VCounter$1="",VCounter=defineComponent({name:"VCounter",functional:!0,props:{active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...makeTransitionProps({transition:{component:VSlideYTransition}})},setup(t,e){let{slots:n}=e;const r=computed(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return useRender(()=>createVNode(MaybeTransition,{transition:t.transition},{default:()=>[withDirectives(createVNode("div",{class:"v-counter"},[n.default?n.default({counter:r.value,max:t.max,value:t.value}):r.value]),[[vShow,t.active]])]})),{}}});function mounted$1(t,e){if(!SUPPORTS_INTERSECTION)return;const n=e.modifiers||{},r=e.value,{handler:o,options:s}=typeof r=="object"?r:{handler:r,options:{}},a=new IntersectionObserver(function(){var c;let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0;const g=(c=t._observe)==null?void 0:c[e.instance.$.uid];if(!g)return;const v=d.some(_=>_.isIntersecting);o&&(!n.quiet||g.init)&&(!n.once||v||g.init)&&o(v,d,f),v&&n.once?unmounted$1(t,e):g.init=!0},s);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function unmounted$1(t,e){var n;const r=(n=t._observe)==null?void 0:n[e.instance.$.uid];!r||(r.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const Intersect={mounted:mounted$1,unmounted:unmounted$1},Intersect$1=Intersect,activeTypes=["color","file","time","date","datetime-local","week","month"],makeVTextFieldProps=propsFactory({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},...makeVInputProps(),...makeVFieldProps()},"v-text-field"),VTextField=genericComponent()({name:"VTextField",directives:{Intersect:Intersect$1},inheritAttrs:!1,props:makeVTextFieldProps(),emits:{"click:control":t=>!0,"click:input":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const s=useProxiedModel(t,"modelValue"),{isFocused:a,focus:c,blur:d}=useFocus(t),f=computed(()=>{var P;return typeof t.counterValue=="function"?t.counterValue(s.value):((P=s.value)!=null?P:"").toString().length}),g=computed(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function v(P,O){var D,N;!t.autofocus||!P||(D=O[0].target)==null||(N=D.focus)==null||N.call(D)}const _=ref$1(),y=ref$1(),C=ref$1(),S=computed(()=>activeTypes.includes(t.type)||t.persistentPlaceholder||a.value),x=computed(()=>t.messages.length?t.messages:a.value||t.persistentHint?t.hint:"");function A(){if(C.value!==document.activeElement){var P;(P=C.value)==null||P.focus()}a.value||c()}function T(P){A(),r("click:control",P)}function E(P){P.stopPropagation(),A(),nextTick(()=>{s.value=null,callEvent(t["onClick:clear"],P)})}function L(P){s.value=P.target.value}return useRender(()=>{const P=!!(o.counter||t.counter||t.counterValue),O=!!(P||o.details),[D,N]=filterInputAttrs(n),[{modelValue:B,...q}]=filterInputProps(t),[G]=filterFieldProps(t);return createVNode(VInput,mergeProps({ref:_,modelValue:s.value,"onUpdate:modelValue":W=>s.value=W,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-text-field--flush-details":["plain","underlined"].includes(t.variant)}],"onClick:prepend":t["onClick:prepend"],"onClick:append":t["onClick:append"]},D,q,{focused:a.value,messages:x.value}),{...o,default:W=>{let{id:J,isDisabled:U,isDirty:se,isReadonly:Y,isValid:Q}=W;return createVNode(VField,mergeProps({ref:y,onMousedown:ae=>{ae.target!==C.value&&ae.preventDefault()},"onClick:control":T,"onClick:clear":E,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:"textbox"},G,{id:J.value,active:S.value||se.value,dirty:se.value||t.dirty,focused:a.value,error:Q.value===!1}),{...o,default:ae=>{let{props:{class:xe,...ve}}=ae;const Ce=withDirectives(createVNode("input",mergeProps({ref:C,value:s.value,onInput:L,autofocus:t.autofocus,readonly:Y.value,disabled:U.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:A,onBlur:d},ve,N),null),[[resolveDirective("intersect"),{handler:v},null,{once:!0}]]);return createVNode(Fragment,null,[t.prefix&&createVNode("span",{class:"v-text-field__prefix"},[t.prefix]),o.default?createVNode("div",{class:xe,onClick:Oe=>r("click:input",Oe),"data-no-activator":""},[o.default(),Ce]):cloneVNode(Ce,{class:xe}),t.suffix&&createVNode("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:O?W=>{var J;return createVNode(Fragment,null,[(J=o.details)==null?void 0:J.call(o,W),P&&createVNode(Fragment,null,[createVNode("span",null,null),createVNode(VCounter,{active:t.persistentCounter||a.value,value:f.value,max:g.value},o.counter)])])}:void 0})}),forwardRefs({},_,y,C)}});function filterVTextFieldProps(t){return pick(t,Object.keys(VTextField.props))}const VToolbar$1="",VImg$1="",VResponsive$1="";function useAspectStyles(t){return{aspectStyles:computed(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const VResponsive=defineComponent({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...makeDimensionProps()},setup(t,e){let{slots:n}=e;const{aspectStyles:r}=useAspectStyles(t),{dimensionStyles:o}=useDimension(t);return useRender(()=>{var s;return createVNode("div",{class:"v-responsive",style:o.value},[createVNode("div",{class:"v-responsive__sizer",style:r.value},null),(s=n.additional)==null?void 0:s.call(n),n.default&&createVNode("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}}),VImg=defineComponent({name:"VImg",directives:{intersect:Intersect$1},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...makeTransitionProps()},emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:r}=e;const o=ref$1(""),s=ref$1(),a=ref$1(t.eager?"loading":"idle"),c=ref$1(),d=ref$1(),f=computed(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),g=computed(()=>f.value.aspect||c.value/d.value||0);watch(()=>t.src,()=>{v(a.value!=="idle")}),onBeforeMount(()=>v());function v(D){if(!(t.eager&&D)&&!(SUPPORTS_INTERSECTION&&!D&&!t.eager)){if(a.value="loading",f.value.lazySrc){const N=new Image;N.src=f.value.lazySrc,S(N,null)}!f.value.src||nextTick(()=>{var N,B;if(n("loadstart",((N=s.value)==null?void 0:N.currentSrc)||f.value.src),(B=s.value)!=null&&B.complete){if(s.value.naturalWidth||y(),a.value==="error")return;g.value||S(s.value,null),_()}else g.value||S(s.value),C()})}}function _(){var D;C(),a.value="loaded",n("load",((D=s.value)==null?void 0:D.currentSrc)||f.value.src)}function y(){var D;a.value="error",n("error",((D=s.value)==null?void 0:D.currentSrc)||f.value.src)}function C(){const D=s.value;D&&(o.value=D.currentSrc||D.src)}function S(D){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const B=()=>{const{naturalHeight:q,naturalWidth:G}=D;q||G?(c.value=G,d.value=q):!D.complete&&a.value==="loading"&&N!=null?setTimeout(B,N):(D.currentSrc.endsWith(".svg")||D.currentSrc.startsWith("data:image/svg+xml"))&&(c.value=1,d.value=1)};B()}const x=computed(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),A=()=>{var D;if(!f.value.src||a.value==="idle")return null;const N=createVNode("img",{class:["v-img__img",x.value],src:f.value.src,srcset:f.value.srcset,alt:"",sizes:t.sizes,ref:s,onLoad:_,onError:y},null),B=(D=r.sources)==null?void 0:D.call(r);return createVNode(MaybeTransition,{transition:t.transition,appear:!0},{default:()=>[withDirectives(B?createVNode("picture",{class:"v-img__picture"},[B,N]):N,[[vShow,a.value==="loaded"]])]})},T=()=>createVNode(MaybeTransition,{transition:t.transition},{default:()=>[f.value.lazySrc&&a.value!=="loaded"&&createVNode("img",{class:["v-img__img","v-img__img--preload",x.value],src:f.value.lazySrc,alt:""},null)]}),E=()=>r.placeholder?createVNode(MaybeTransition,{transition:t.transition,appear:!0},{default:()=>[(a.value==="loading"||a.value==="error"&&!r.error)&&createVNode("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,L=()=>r.error?createVNode(MaybeTransition,{transition:t.transition,appear:!0},{default:()=>[a.value==="error"&&createVNode("div",{class:"v-img__error"},[r.error()])]}):null,P=()=>t.gradient?createVNode("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,O=ref$1(!1);{const D=watch(g,N=>{N&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{O.value=!0})}),D())})}return useRender(()=>withDirectives(createVNode(VResponsive,{class:["v-img",{"v-img--booting":!O.value}],style:{width:convertToUnit(t.width==="auto"?c.value:t.width)},aspectRatio:g.value,"aria-label":t.alt,role:t.alt?"img":void 0},{additional:()=>createVNode(Fragment,null,[createVNode(A,null,null),createVNode(T,null,null),createVNode(P,null,null),createVNode(E,null,null),createVNode(L,null,null)]),default:r.default}),[[resolveDirective("intersect"),{handler:v,options:t.options},null,{once:!0}]])),{currentSrc:o,image:s,state:a,naturalWidth:c,naturalHeight:d}}}),VToolbarTitle=genericComponent()({name:"VToolbarTitle",props:{text:String,...makeTagProps()},setup(t,e){let{slots:n}=e;return useRender(()=>{var r;const o=!!(n.default||n.text||t.text);return createVNode(t.tag,{class:"v-toolbar-title"},{default:()=>[o&&createVNode("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(r=n.default)==null?void 0:r.call(n)])]})}),{}}}),allowedDensities=[null,"prominent","default","comfortable","compact"],makeVToolbarProps=propsFactory({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>allowedDensities.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...makeBorderProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps({tag:"header"}),...makeThemeProps()},"v-toolbar"),VToolbar=genericComponent()({name:"VToolbar",props:makeVToolbarProps(),setup(t,e){var n;let{slots:r}=e;const{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(toRef(t,"color")),{borderClasses:a}=useBorder(t),{elevationClasses:c}=useElevation(t),{roundedClasses:d}=useRounded(t),{themeClasses:f}=provideTheme(t),g=ref$1(!!(t.extended||(n=r.extension)!=null&&n.call(r))),v=computed(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),_=computed(()=>g.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>{var y,C,S,x,A;const T=!!(t.title||r.title),E=!!(r.image||t.image),L=(y=r.extension)==null?void 0:y.call(r);return g.value=!!(t.extended||L),createVNode(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},o.value,a.value,c.value,d.value,f.value],style:[s.value]},{default:()=>[E&&createVNode("div",{key:"image",class:"v-toolbar__image"},[createVNode(VDefaultsProvider,{defaults:{VImg:{cover:!0,src:t.image}}},{default:()=>[r.image?(C=r.image)==null?void 0:C.call(r):createVNode(VImg,null,null)]})]),createVNode("div",{class:"v-toolbar__content",style:{height:convertToUnit(v.value)}},[r.prepend&&createVNode("div",{class:"v-toolbar__prepend"},[(S=r.prepend)==null?void 0:S.call(r)]),T&&createVNode(VToolbarTitle,{key:"title",text:t.title},{text:r.title}),(x=r.default)==null?void 0:x.call(r),r.append&&createVNode("div",{class:"v-toolbar__append"},[(A=r.append)==null?void 0:A.call(r)])]),createVNode(VExpandTransition,null,{default:()=>[g.value&&createVNode("div",{class:"v-toolbar__extension",style:{height:convertToUnit(_.value)}},[L])]})]})}),{contentHeight:v,extensionHeight:_}}}),VToolbarItems=defineComponent({name:"VToolbarItems",props:makeVariantProps({variant:"text"}),setup(t,e){let{slots:n}=e;return provideDefaults({VBtn:{color:toRef(t,"color"),height:"inherit",variant:toRef(t,"variant")}}),useRender(()=>{var r;return createVNode("div",{class:"v-toolbar-items"},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),_sfc_main$h={data:()=>({email:"",password:"",showPass:!1}),computed:{...mapState(useStore,["user","gameLoaded"])},methods:{...mapActions(useStore,["logIn"])}};function _sfc_render$h(t,e,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{color:"grey",density:"compact"},{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(" Legendary Randomizer ")]),_:1})]),_:1}),createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VTextField,{label:"E-Mail",modelValue:t.email,"onUpdate:modelValue":e[0]||(e[0]=a=>t.email=a)},null,8,["modelValue"]),createVNode(VTextField,{label:"Password",modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=a=>t.password=a),type:t.showPass?"text":"password","append-inner-icon":t.showPass?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[2]||(e[2]=a=>t.showPass=!t.showPass)},null,8,["modelValue","type","append-inner-icon"]),createVNode(VBtn,{onClick:e[3]||(e[3]=a=>t.logIn(t.$router,{email:t.email,password:t.password}))},{default:withCtx(()=>[createTextVNode("Sign In")]),_:1})]),_:1})])}const Home=_export_sfc(_sfc_main$h,[["render",_sfc_render$h]]),VCard$1="",VCardActions=defineComponent({name:"VCardActions",setup(t,e){let{slots:n}=e;return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>{var r;return createVNode("div",{class:"v-card-actions"},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),VAvatar$1="",makeVAvatarProps=propsFactory({start:Boolean,end:Boolean,icon:IconValue,image:String,...makeDensityProps(),...makeRoundedProps(),...makeSizeProps(),...makeTagProps(),...makeVariantProps({variant:"flat"})},"v-avatar"),VAvatar=defineComponent({name:"VAvatar",props:makeVAvatarProps(),setup(t,e){let{slots:n}=e;const{colorClasses:r,colorStyles:o,variantClasses:s}=useVariant(t),{densityClasses:a}=useDensity(t),{roundedClasses:c}=useRounded(t),{sizeClasses:d,sizeStyles:f}=useSize(t);return useRender(()=>{var g;return createVNode(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},r.value,a.value,c.value,d.value,s.value],style:[o.value,f.value]},{default:()=>[t.image?createVNode(VImg,{key:"image",src:t.image,alt:""},null):t.icon?createVNode(VIcon,{key:"icon",icon:t.icon},null):(g=n.default)==null?void 0:g.call(n),genOverlays(!1,"v-avatar")]})}),{}}}),VCardSubtitle=createSimpleFunctional("v-card-subtitle"),VCardTitle=createSimpleFunctional("v-card-title"),VCardItem=defineComponent$1({name:"VCardItem",props:{appendAvatar:String,appendIcon:IconValue,prependAvatar:String,prependIcon:IconValue,subtitle:String,title:String,...makeDensityProps()},setup(t,e){let{slots:n}=e;return useRender(()=>{var r,o,s,a,c;const d=!!(t.prependAvatar||t.prependIcon||n.prepend),f=!!(t.appendAvatar||t.appendIcon||n.append),g=!!(t.title||n.title),v=!!(t.subtitle||n.subtitle);return createVNode("div",{class:"v-card-item"},[d&&createVNode(VDefaultsProvider,{key:"prepend",defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},{default:()=>{var _;return[createVNode("div",{class:"v-card-item__prepend"},[(_=(r=n.prepend)==null?void 0:r.call(n))!=null?_:createVNode(VAvatar,null,null)])]}}),createVNode("div",{class:"v-card-item__content"},[g&&createVNode(VCardTitle,{key:"title"},{default:()=>{var _;return[(_=(o=n.title)==null?void 0:o.call(n))!=null?_:t.title]}}),v&&createVNode(VCardSubtitle,{key:"subtitle"},{default:()=>{var _;return[(_=(s=n.subtitle)==null?void 0:s.call(n))!=null?_:t.subtitle]}}),(a=n.default)==null?void 0:a.call(n)]),f&&createVNode(VDefaultsProvider,{key:"append",defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},{default:()=>{var _;return[createVNode("div",{class:"v-card-item__append"},[(_=(c=n.append)==null?void 0:c.call(n))!=null?_:createVNode(VAvatar,null,null)])]}})])}),{}}}),VCardText=createSimpleFunctional("v-card-text"),VCard=defineComponent({name:"VCard",directives:{Ripple},props:{appendAvatar:String,appendIcon:IconValue,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:IconValue,ripple:Boolean,subtitle:String,text:String,title:String,...makeThemeProps(),...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeVariantProps({variant:"elevated"})},setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:o}=provideTheme(t),{borderClasses:s}=useBorder(t),{colorClasses:a,colorStyles:c,variantClasses:d}=useVariant(t),{densityClasses:f}=useDensity(t),{dimensionStyles:g}=useDimension(t),{elevationClasses:v}=useElevation(t),{loaderClasses:_}=useLoader(t),{locationStyles:y}=useLocation(t),{positionClasses:C}=usePosition(t),{roundedClasses:S}=useRounded(t),x=useLink$1(t,n),A=computed(()=>t.link!==!1&&x.isLink.value),T=computed(()=>!t.disabled&&t.link!==!1&&(t.link||x.isClickable.value));return useRender(()=>{var E,L,P;const O=A.value?"a":t.tag,D=!!(r.title||t.title),N=!!(r.subtitle||t.subtitle),B=D||N,q=!!(r.append||t.appendAvatar||t.appendIcon),G=!!(r.prepend||t.prependAvatar||t.prependIcon),W=!!(r.image||t.image),J=B||G||q,U=!!(r.text||t.text);return withDirectives(createVNode(O,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":T.value},o.value,s.value,a.value,f.value,v.value,_.value,C.value,S.value,d.value],style:[c.value,g.value,y.value],href:x.href.value,onClick:T.value&&x.navigate},{default:()=>[W&&createVNode(VDefaultsProvider,{key:"image",defaults:{VImg:{cover:!0,src:t.image}}},{default:()=>{var se;return[createVNode("div",{class:"v-card__image"},[(se=(E=r.image)==null?void 0:E.call(r))!=null?se:createVNode(VImg,null,null)])]}}),createVNode(LoaderSlot,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:r.loader}),J&&createVNode(VCardItem,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),U&&createVNode(VCardText,{key:"text"},{default:()=>{var se;return[(se=(L=r.text)==null?void 0:L.call(r))!=null?se:t.text]}}),(P=r.default)==null?void 0:P.call(r),r.actions&&createVNode(VCardActions,null,{default:r.actions}),genOverlays(T.value,"v-card")]}),[[resolveDirective("ripple"),T.value]])}),{}}}),VList$1="",VDivider$1="",VDivider=defineComponent({name:"VDivider",props:{color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...makeThemeProps()},setup(t,e){let{attrs:n}=e;const{themeClasses:r}=provideTheme(t),{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(toRef(t,"color")),a=computed(()=>{const c={};return t.length&&(c[t.vertical?"maxHeight":"maxWidth"]=convertToUnit(t.length)),t.thickness&&(c[t.vertical?"borderRightWidth":"borderTopWidth"]=convertToUnit(t.thickness)),c});return useRender(()=>createVNode("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},r.value,o.value],style:[a.value,s.value],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}}),ListKey=Symbol.for("vuetify:list");function createList(){const t=inject$1(ListKey,{hasPrepend:ref$1(!1),updateHasPrepend:()=>null}),e={hasPrepend:ref$1(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return provide(ListKey,e),t}function useList(){return inject$1(ListKey,null)}const singleOpenStrategy={open:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(n){const s=new Set;s.add(e);let a=o.get(e);for(;a!=null;)s.add(a),a=o.get(a);return s}else return r.delete(e),r},select:()=>null},multipleOpenStrategy={open:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(n){let s=o.get(e);for(r.add(e);s!=null&&s!==e;)r.add(s),s=o.get(s);return r}else r.delete(e);return r},select:()=>null},listOpenStrategy={open:multipleOpenStrategy.open,select:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(!n)return r;const s=[];let a=o.get(e);for(;a!=null;)s.push(a),a=o.get(a);return new Set(s)}},independentSelectStrategy=t=>{const e={select:n=>{let{id:r,value:o,selected:s}=n;if(t&&!o){const a=Array.from(s.entries()).reduce((c,d)=>{let[f,g]=d;return g==="on"?[...c,f]:c},[]);if(a.length===1&&a[0]===r)return s}return s.set(r,o?"on":"off"),s},in:(n,r,o)=>{let s=new Map;for(const a of n||[])s=e.select({id:a,value:!0,selected:new Map(s),children:r,parents:o});return s},out:n=>{const r=[];for(const[o,s]of n.entries())s==="on"&&r.push(o);return r}};return e},independentSingleSelectStrategy=t=>{const e=independentSelectStrategy(t);return{select:r=>{let{selected:o,id:s,...a}=r;const c=o.has(s)?new Map([[s,o.get(s)]]):new Map;return e.select({...a,id:s,selected:c})},in:(r,o,s)=>{let a=new Map;return r!=null&&r.length&&(a=e.in(r.slice(0,1),o,s)),a},out:(r,o,s)=>e.out(r,o,s)}},leafSelectStrategy=t=>{const e=independentSelectStrategy(t);return{select:r=>{let{id:o,selected:s,children:a,...c}=r;return a.has(o)?s:e.select({id:o,selected:s,children:a,...c})},in:e.in,out:e.out}},leafSingleSelectStrategy=t=>{const e=independentSingleSelectStrategy(t);return{select:r=>{let{id:o,selected:s,children:a,...c}=r;return a.has(o)?s:e.select({id:o,selected:s,children:a,...c})},in:e.in,out:e.out}},classicSelectStrategy=t=>{const e={select:n=>{let{id:r,value:o,selected:s,children:a,parents:c}=n;const d=new Map(s),f=[r];for(;f.length;){const v=f.shift();s.set(v,o?"on":"off"),a.has(v)&&f.push(...a.get(v))}let g=c.get(r);for(;g;){const v=a.get(g),_=v.every(C=>s.get(C)==="on"),y=v.every(C=>!s.has(C)||s.get(C)==="off");s.set(g,_?"on":y?"off":"indeterminate"),g=c.get(g)}return t&&!o&&Array.from(s.entries()).reduce((_,y)=>{let[C,S]=y;return S==="on"?[..._,C]:_},[]).length===0?d:s},in:(n,r,o)=>{let s=new Map;for(const a of n||[])s=e.select({id:a,value:!0,selected:new Map(s),children:r,parents:o});return s},out:(n,r)=>{const o=[];for(const[s,a]of n.entries())a==="on"&&!r.has(s)&&o.push(s);return o}};return e},VNestedSymbol=Symbol.for("vuetify:nested"),emptyNested={id:ref$1(),root:{register:()=>null,unregister:()=>null,parents:ref$1(new Map),children:ref$1(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:ref$1(new Set),selected:ref$1(new Map),selectedValues:ref$1([])}},makeNestedProps=propsFactory({selectStrategy:[String,Function],openStrategy:[String,Function],opened:Array,selected:Array,mandatory:Boolean},"nested"),useNested=t=>{let e=!1;const n=ref$1(new Map),r=ref$1(new Map),o=useProxiedModel(t,"opened",t.opened,v=>new Set(v),v=>[...v.values()]),s=computed(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single-leaf":return leafSingleSelectStrategy(t.mandatory);case"leaf":return leafSelectStrategy(t.mandatory);case"independent":return independentSelectStrategy(t.mandatory);case"single-independent":return independentSingleSelectStrategy(t.mandatory);case"classic":default:return classicSelectStrategy(t.mandatory)}}),a=computed(()=>{if(typeof t.openStrategy=="function")return t.openStrategy;switch(t.openStrategy){case"list":return listOpenStrategy;case"single":return singleOpenStrategy;case"multiple":default:return multipleOpenStrategy}}),c=useProxiedModel(t,"selected",t.selected,v=>s.value.in(v,n.value,r.value),v=>s.value.out(v,n.value,r.value));onBeforeUnmount(()=>{e=!0});function d(v){const _=[];let y=v;for(;y!=null;)_.unshift(y),y=r.value.get(y);return _}const f=getCurrentInstance("nested"),g={id:ref$1(),root:{opened:o,selected:c,selectedValues:computed(()=>{const v=[];for(const[_,y]of c.value.entries())y==="on"&&v.push(_);return v}),register:(v,_,y)=>{_&&v!==_&&r.value.set(v,_),y&&n.value.set(v,[]),_!=null&&n.value.set(_,[...n.value.get(_)||[],v])},unregister:v=>{var y;if(e)return;n.value.delete(v);const _=r.value.get(v);if(_){const C=(y=n.value.get(_))!=null?y:[];n.value.set(_,C.filter(S=>S!==v))}r.value.delete(v),o.value.delete(v)},open:(v,_,y)=>{f.emit("click:open",{id:v,value:_,path:d(v),event:y});const C=a.value.open({id:v,value:_,opened:new Set(o.value),children:n.value,parents:r.value,event:y});C&&(o.value=C)},openOnSelect:(v,_,y)=>{const C=a.value.select({id:v,value:_,selected:new Map(c.value),opened:new Set(o.value),children:n.value,parents:r.value,event:y});C&&(o.value=C)},select:(v,_,y)=>{f.emit("click:select",{id:v,value:_,path:d(v),event:y});const C=s.value.select({id:v,value:_,selected:new Map(c.value),children:n.value,parents:r.value,event:y});C&&(c.value=C),g.root.openOnSelect(v,_,y)},children:n,parents:r}};return provide(VNestedSymbol,g),g.root},useNestedItem=(t,e)=>{const n=inject$1(VNestedSymbol,emptyNested),r=computed(()=>{var s;return(s=t.value)!=null?s:Symbol(getUid())}),o={...n,id:r,open:(s,a)=>n.root.open(r.value,s,a),openOnSelect:(s,a)=>n.root.openOnSelect(r.value,s,a),isOpen:computed(()=>n.root.opened.value.has(r.value)),parent:computed(()=>n.root.parents.value.get(r.value)),select:(s,a)=>n.root.select(r.value,s,a),isSelected:computed(()=>n.root.selected.value.get(r.value)==="on"),isIndeterminate:computed(()=>n.root.selected.value.get(r.value)==="indeterminate"),isLeaf:computed(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(r.value,n.id.value,e),onBeforeUnmount(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),e&&provide(VNestedSymbol,o),o},useNestedGroupActivator=()=>{const t=inject$1(VNestedSymbol,emptyNested);provide(VNestedSymbol,{...t,isGroupActivator:!0})},VListGroupActivator=defineComponent({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return useNestedGroupActivator(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),makeVListGroupProps=propsFactory({activeColor:String,color:String,collapseIcon:{type:IconValue,default:"$collapse"},expandIcon:{type:IconValue,default:"$expand"},prependIcon:IconValue,appendIcon:IconValue,fluid:Boolean,subgroup:Boolean,value:null,...makeTagProps()},"v-list-group"),VListGroup=genericComponent()({name:"VListGroup",props:{title:String,...makeVListGroupProps()},setup(t,e){let{slots:n}=e;const{isOpen:r,open:o,id:s}=useNestedItem(toRef(t,"value"),!0),a=computed(()=>`v-list-group--id-${String(s.value)}`),c=useList();function d(v){o(!r.value,v)}const f=computed(()=>({onClick:d,class:"v-list-group__header",id:a.value})),g=computed(()=>r.value?t.collapseIcon:t.expandIcon);return useRender(()=>{var v;return createVNode(t.tag,{class:["v-list-group",{"v-list-group--prepend":c==null?void 0:c.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup}]},{default:()=>[n.activator&&createVNode(VDefaultsProvider,{defaults:{VListItem:{active:r.value,activeColor:t.activeColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&g.value,appendIcon:t.appendIcon||!t.subgroup&&g.value,title:t.title,value:t.value}}},{default:()=>[createVNode(VListGroupActivator,null,{default:()=>[n.activator({props:f.value,isOpen:r})]})]}),createVNode(VExpandTransition,null,{default:()=>[withDirectives(createVNode("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(v=n.default)==null?void 0:v.call(n)]),[[vShow,r.value]])]})]})}),{}}});function filterListGroupProps(t){return pick(t,Object.keys(VListGroup.props))}const VListItem$1="",VListItemSubtitle=createSimpleFunctional("v-list-item-subtitle"),VListItemTitle=createSimpleFunctional("v-list-item-title"),VListItem=genericComponent()({name:"VListItem",directives:{Ripple},props:{active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:IconValue,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:IconValue,subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:EventProp,onClickOnce:EventProp,...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:r,emit:o}=e;const s=useLink$1(t,n),a=computed(()=>{var Q;return(Q=t.value)!=null?Q:s.href.value}),{select:c,isSelected:d,isIndeterminate:f,isGroupActivator:g,root:v,parent:_,openOnSelect:y}=useNestedItem(a,!1),C=useList(),S=computed(()=>{var Q;return t.active!==!1&&(t.active||((Q=s.isActive)==null?void 0:Q.value)||d.value)}),x=computed(()=>t.link!==!1&&s.isLink.value),A=computed(()=>!t.disabled&&t.link!==!1&&(t.link||s.isClickable.value||t.value!=null&&!!C)),T=computed(()=>t.rounded||t.nav),E=computed(()=>{var Q;return{color:S.value&&(Q=t.activeColor)!=null?Q:t.color,variant:t.variant}});watch(()=>{var Q;return(Q=s.isActive)==null?void 0:Q.value},Q=>{Q&&_.value!=null&&v.open(_.value,!0),Q&&y(Q)},{immediate:!0});const{themeClasses:L}=provideTheme(t),{borderClasses:P}=useBorder(t),{colorClasses:O,colorStyles:D,variantClasses:N}=useVariant(E),{densityClasses:B}=useDensity(t),{dimensionStyles:q}=useDimension(t),{elevationClasses:G}=useElevation(t),{roundedClasses:W}=useRounded(T),J=computed(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),U=computed(()=>({isActive:S.value,select:c,isSelected:d.value,isIndeterminate:f.value}));function se(Q){var ae;o("click",Q),!(g||!A.value)&&((ae=s.navigate)==null||ae.call(s,Q),t.value!=null&&c(!d.value,Q))}function Y(Q){(Q.key==="Enter"||Q.key===" ")&&(Q.preventDefault(),se(Q))}return useRender(()=>{var Q,ae,xe,ve,Ce;const Oe=x.value?"a":t.tag,Ze=!C||d.value||S.value,ye=r.title||t.title,K=r.subtitle||t.subtitle,de=!!(r.append||t.appendAvatar||t.appendIcon),he=!!(r.prepend||t.prependAvatar||t.prependIcon);return C==null||C.updateHasPrepend(he),withDirectives(createVNode(Oe,{class:["v-list-item",{"v-list-item--active":S.value,"v-list-item--disabled":t.disabled,"v-list-item--link":A.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!he&&(C==null?void 0:C.hasPrepend.value),[`${t.activeClass}`]:t.activeClass&&S.value},L.value,P.value,Ze?O.value:void 0,B.value,G.value,J.value,W.value,N.value],style:[Ze?D.value:void 0,q.value],href:s.href.value,tabindex:A.value?0:void 0,onClick:se,onKeydown:A.value&&!x.value&&Y},{default:()=>[genOverlays(A.value||S.value,"v-list-item"),he&&createVNode(VDefaultsProvider,{key:"prepend",defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>[createVNode("div",{class:"v-list-item__prepend"},[t.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar"},null),t.prependIcon&&createVNode(VIcon,{key:"prepend-icon"},null),(Q=r.prepend)==null?void 0:Q.call(r,U.value)])]}),createVNode("div",{class:"v-list-item__content"},[ye&&createVNode(VListItemTitle,{key:"title"},{default:()=>{var we;return[(we=(ae=r.title)==null?void 0:ae.call(r,{title:t.title}))!=null?we:t.title]}}),K&&createVNode(VListItemSubtitle,{key:"subtitle"},{default:()=>{var we;return[(we=(xe=r.subtitle)==null?void 0:xe.call(r,{subtitle:t.subtitle}))!=null?we:t.subtitle]}}),(ve=r.default)==null?void 0:ve.call(r,U.value)]),de&&createVNode(VDefaultsProvider,{key:"append",defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>[createVNode("div",{class:"v-list-item__append"},[(Ce=r.append)==null?void 0:Ce.call(r,U.value),t.appendIcon&&createVNode(VIcon,{key:"append-icon"},null),t.appendAvatar&&createVNode(VAvatar,{key:"append-avatar"},null)])]})]}),[[resolveDirective("ripple"),A.value]])}),{}}}),VListSubheader=defineComponent({name:"VListSubheader",props:{color:String,inset:Boolean,sticky:Boolean,title:String,...makeTagProps()},setup(t,e){let{slots:n}=e;const{textColorClasses:r,textColorStyles:o}=useTextColor(toRef(t,"color"));return useRender(()=>{var s;const a=!!(n.default||t.title);return createVNode(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},r.value],style:{textColorStyles:o}},{default:()=>{var c;return[a&&createVNode("div",{class:"v-list-subheader__text"},[(c=(s=n.default)==null?void 0:s.call(n))!=null?c:t.title])]}})}),{}}}),VListChildren=genericComponent()({name:"VListChildren",props:{items:Array},setup(t,e){let{slots:n}=e;return createList(),()=>{var s;var r,o;return(s=(r=n.default)==null?void 0:r.call(n))!=null?s:(o=t.items)==null?void 0:o.map(a=>{var x,A;let{children:c,props:d,type:f,raw:g}=a;if(f==="divider"){var v;return(x=(v=n.divider)==null?void 0:v.call(n,{props:d}))!=null?x:createVNode(VDivider,d,null)}if(f==="subheader"){var _;return(A=(_=n.subheader)==null?void 0:_.call(n,{props:d}))!=null?A:createVNode(VListSubheader,d,{default:n.subheader})}const y={subtitle:n.subtitle?T=>{var E;return(E=n.subtitle)==null?void 0:E.call(n,{...T,item:g})}:void 0,prepend:n.prepend?T=>{var E;return(E=n.prepend)==null?void 0:E.call(n,{...T,item:g})}:void 0,append:n.append?T=>{var E;return(E=n.append)==null?void 0:E.call(n,{...T,item:g})}:void 0,default:n.default?T=>{var E;return(E=n.default)==null?void 0:E.call(n,{...T,item:g})}:void 0,title:n.title?T=>{var E;return(E=n.title)==null?void 0:E.call(n,{...T,item:g})}:void 0},[C,S]=filterListGroupProps(d);return c?createVNode(VListGroup,mergeProps({value:d==null?void 0:d.value},C),{activator:T=>{let{props:E}=T;return n.header?n.header({...d,...E}):createVNode(VListItem,mergeProps(d,E),y)},default:()=>createVNode(VListChildren,{items:c},n)}):n.item?n.item(d):createVNode(VListItem,d,y)})}}}),makeItemsProps=propsFactory({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"item");function transformItem$1(t,e){var c;const n=getPropertyFromItem(e,t.itemTitle,e),r=t.returnObject?e:getPropertyFromItem(e,t.itemValue,n),o=getPropertyFromItem(e,t.itemChildren),s=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?pick(e,["children"])[1]:e:void 0:getPropertyFromItem(e,t.itemProps),a={title:n,value:r,...s};return{title:String((c=a.title)!=null?c:""),value:a.value,props:a,children:Array.isArray(o)?transformItems$1(t,o):void 0,raw:e}}function transformItems$1(t,e){const n=[];for(const r of e)n.push(transformItem$1(t,r));return n}function useItems(t){const e=computed(()=>transformItems$1(t,t.items));function n(o){return o.map(s=>transformItem$1(t,s))}function r(o){return o.map(s=>{let{props:a}=s;return a.value})}return{items:e,transformIn:n,transformOut:r}}function transformItem(t,e){const n=getPropertyFromItem(e,t.itemType,"item"),r=typeof e=="string"?e:getPropertyFromItem(e,t.itemTitle),o=getPropertyFromItem(e,t.itemValue,void 0),s=getPropertyFromItem(e,t.itemChildren),a=t.itemProps===!0?pick(e,["children"])[1]:getPropertyFromItem(e,t.itemProps),c={title:r,value:o,...a};return{type:n,title:c.title,value:c.value,props:c,children:n==="item"&&s?transformItems(t,s):void 0,raw:e}}function transformItems(t,e){const n=[];for(const r of e)n.push(transformItem(t,r));return n}function useListItems(t){return{items:computed(()=>transformItems(t,t.items))}}const VList=genericComponent()({name:"VList",props:{activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...makeNestedProps({selectStrategy:"single-leaf",openStrategy:"list"}),...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),itemType:{type:String,default:"type"},...makeItemsProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},emits:{"update:selected":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:r}=useListItems(t),{themeClasses:o}=provideTheme(t),{backgroundColorClasses:s,backgroundColorStyles:a}=useBackgroundColor(toRef(t,"bgColor")),{borderClasses:c}=useBorder(t),{densityClasses:d}=useDensity(t),{dimensionStyles:f}=useDimension(t),{elevationClasses:g}=useElevation(t),{roundedClasses:v}=useRounded(t),{open:_,select:y}=useNested(t),C=computed(()=>t.lines?`v-list--${t.lines}-line`:void 0),S=toRef(t,"activeColor"),x=toRef(t,"color");createList(),provideDefaults({VListGroup:{activeColor:S,color:x},VListItem:{activeClass:toRef(t,"activeClass"),activeColor:S,color:x,density:toRef(t,"density"),disabled:toRef(t,"disabled"),lines:toRef(t,"lines"),nav:toRef(t,"nav"),variant:toRef(t,"variant")}});const A=ref$1(!1),T=ref$1();function E(N){A.value=!0}function L(N){A.value=!1}function P(N){var B;!A.value&&!(N.relatedTarget&&(B=T.value)!=null&&B.contains(N.relatedTarget))&&D()}function O(N){if(!!T.value){if(N.key==="ArrowDown")D("next");else if(N.key==="ArrowUp")D("prev");else if(N.key==="Home")D("first");else if(N.key==="End")D("last");else return;N.preventDefault()}}function D(N){if(!T.value)return;const B=[...T.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(U=>!U.hasAttribute("disabled")),q=B.indexOf(document.activeElement);if(N)if(N==="first"){var W;(W=B[0])==null||W.focus()}else if(N==="last"){var J;(J=B.at(-1))==null||J.focus()}else{let U,se=q;const Y=N==="next"?1:-1;do se+=Y,U=B[se];while((!U||U.offsetParent==null)&&se<B.length&&se>=0);U?U.focus():D(N==="next"?"first":"last")}else{var G;(G=B[0])==null||G.focus()}}return useRender(()=>createVNode(t.tag,{ref:T,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav},o.value,s.value,c.value,d.value,g.value,C.value,v.value],style:[a.value,f.value],role:"listbox","aria-activedescendant":void 0,onFocusin:E,onFocusout:L,onFocus:P,onKeydown:O},{default:()=>[createVNode(VListChildren,{items:r.value},n)]})),{open:_,select:y,focus:D}}}),_sfc_main$g={computed:{...mapState(useStore,["game","userSettings","display"])}};function _sfc_render$g(t,e,n,r,o,s){return openBlock(),createBlock(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.game.deck.heroes,a=>(openBlock(),createBlock(VCol,{cols:t.display.xs?12:4},{default:withCtx(()=>[createVNode(VCard,{variant:"outlined","min-height":"85px"},{default:withCtx(()=>[createVNode(VListItem,null,createSlots({default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(a.primary),1)]),_:2},1024),a.secondary?(openBlock(),createBlock(VListItemSubtitle,{key:0},{default:withCtx(()=>[createTextVNode(toDisplayString(a.secondary),1)]),_:2},1024)):createCommentVNode("",!0),a.colors?(openBlock(),createBlock(VListItemSubtitle,{key:1},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.colors,c=>(openBlock(),createBlock(VIcon,{color:c},{default:withCtx(()=>[createTextVNode(" mdi-circle ")]),_:2},1032,["color"]))),256))]),_:2},1024)):createCommentVNode("",!0)]),_:2},[a.special?{name:"append",fn:withCtx(()=>[createVNode(VIcon,{color:"error"},{default:withCtx(()=>[createTextVNode("mdi-star")]),_:1})]),key:"0"}:void 0]),1024)]),_:2},1024)]),_:2},1032,["cols"]))),256))]),_:1})]),_:1})}const Heroes=_export_sfc(_sfc_main$g,[["render",_sfc_render$g]]),EnemySection_vue_vue_type_style_index_0_lang="",_sfc_main$f={props:["enemy","section"],computed:{...mapState(useStore,["userSettings"]),label(){return lodash.exports.startCase(this.section)}}},_hoisted_1$6={class:"mb-3"},_hoisted_2$3={class:"mx-1 px-1"};function _sfc_render$f(t,e,n,r,o,s){return openBlock(),createElementBlock("fieldset",_hoisted_1$6,[createBaseVNode("legend",_hoisted_2$3,toDisplayString(s.label),1),createVNode(VList,{density:"compact","bg-color":t.userSettings.bgColors?t.userSettings.bgColors[n.section]:"",class:normalizeClass(t.userSettings.textColors?`text-${t.userSettings.textColors[n.section]}`:"")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.enemy,a=>(openBlock(),createBlock(VListItem,null,createSlots({default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-black",style:normalizeStyle(`color:${t.userSettings.textColors[n.section]}`)},{default:withCtx(()=>[createTextVNode(toDisplayString(a.primary),1)]),_:2},1032,["style"]),a.secondary&&a.secondary!="0"?(openBlock(),createBlock(VListItemSubtitle,{key:0,style:normalizeStyle(`color:${t.userSettings.textColors[n.section]}`)},{default:withCtx(()=>[createTextVNode(toDisplayString(a.secondary),1)]),_:2},1032,["style"])):createCommentVNode("",!0),a.colors?(openBlock(),createBlock(VListItemSubtitle,{key:1,style:normalizeStyle(`color:${t.userSettings.textColors[n.section]}`)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.colors,c=>(openBlock(),createBlock(VIcon,{color:c},{default:withCtx(()=>[createTextVNode(" mdi-circle ")]),_:2},1032,["color"]))),256))]),_:2},1032,["style"])):createCommentVNode("",!0)]),_:2},[a.special?{name:"append",fn:withCtx(()=>[createVNode(VIcon,{color:"black"},{default:withCtx(()=>[createTextVNode("mdi-star")]),_:1})]),key:"0"}:void 0]),1024))),256))]),_:1},8,["bg-color","class"])])}const EnemySection=_export_sfc(_sfc_main$f,[["render",_sfc_render$f]]),_sfc_main$e={components:{EnemySection},computed:{...mapState(useStore,["game","userSettings"])}};function _sfc_render$e(t,e,n,r,o,s){const a=resolveComponent("enemy-section");return openBlock(),createBlock(VContainer,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.userSettings.enemiesLayout,c=>(openBlock(),createElementBlock("div",null,[createVNode(a,{section:c,enemy:t.game.deck[c]},null,8,["section","enemy"])]))),256))]),_:1})}const Enemies=_export_sfc(_sfc_main$e,[["render",_sfc_render$e]]),VDialog$1="",VDialog=genericComponent()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...makeVOverlayProps({origin:"center center",scrollStrategy:"block",transition:{component:VDialogTransition},zIndex:2400})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),{scopeId:o}=useScopeId(),s=ref$1();function a(c){var d,f;const g=c.relatedTarget,v=c.target;if(g!==v&&(d=s.value)!=null&&d.contentEl&&(f=s.value)!=null&&f.globalTop&&![document,s.value.contentEl].includes(v)&&!s.value.contentEl.contains(v)){const _=[...s.value.contentEl.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')].filter(S=>!S.hasAttribute("disabled")&&!S.matches('[tabindex="-1"]'));if(!_.length)return;const y=_[0],C=_[_.length-1];g===y?C.focus():y.focus()}}return IN_BROWSER&&watch(()=>r.value&&t.retainFocus,c=>{c?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0}),watch(r,async c=>{if(await nextTick(),c){var d;(d=s.value.contentEl)==null||d.focus({preventScroll:!0})}else{var f;(f=s.value.activatorEl)==null||f.focus({preventScroll:!0})}}),useRender(()=>{const[c]=filterVOverlayProps(t);return createVNode(VOverlay,mergeProps({ref:s,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable}]},c,{modelValue:r.value,"onUpdate:modelValue":d=>r.value=d,"aria-role":"dialog","aria-modal":"true",activatorProps:mergeProps({"aria-haspopup":"dialog","aria-expanded":String(r.value)},t.activatorProps)},o),{activator:n.activator,default:function(){for(var d,f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];return createVNode(VDefaultsProvider,{root:!0},{default:()=>[(d=n.default)==null?void 0:d.call(n,...g)]})}})}),forwardRefs({},s)}}),_sfc_main$d={props:["dialog"],data:()=>({search:null}),computed:{...mapState(useStore,["schemes"]),filteredList(){const t=this.schemes.sort((e,n)=>e.scheme_name<n.scheme_name?-1:1);return this.search?t.filter(({scheme_name:e})=>e.toLowerCase().includes(this.search.toLowerCase())):t}},methods:{...mapActions(useStore,["buildDeck"]),playScheme(t,e){this.buildDeck({numPlayers:e,schemeName:t.scheme_name}),this.dialog.visible=!1}}};function _sfc_render$d(t,e,n,r,o,s){return openBlock(),createBlock(VDialog,{modelValue:n.dialog.visible,"onUpdate:modelValue":e[2]||(e[2]=a=>n.dialog.visible=a),"max-width":"750px"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(" Specify Scheme ")]),_:1}),createVNode(VCardSubtitle,null,{default:withCtx(()=>[createVNode(VTextField,{label:"Search",modelValue:t.search,"onUpdate:modelValue":e[0]||(e[0]=a=>t.search=a),clearable:"",onKeydown:e[1]||(e[1]=withKeys(a=>t.search=null,["esc"]))},null,8,["modelValue"])]),_:1}),createVNode(VContainer,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.filteredList,a=>(openBlock(),createBlock(VToolbar,{class:"my-1"},{default:withCtx(()=>[createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(a.scheme_name),1)]),_:2},1024),createVNode(VToolbarItems,null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList([1,2,3,4,5],c=>createVNode(VBtn,{onClick:d=>s.playScheme(a,c)},{default:withCtx(()=>[createTextVNode(toDisplayString(c),1)]),_:2},1032,["onClick"])),64))]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"])}const PlaySpecificScheme=_export_sfc(_sfc_main$d,[["render",_sfc_render$d]]),VMenu$1="",VMenu=genericComponent()({name:"VMenu",props:{id:String,...omit(makeVOverlayProps({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:VDialogTransition}}),["absolute"])},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),{scopeId:o}=useScopeId(),s=getUid(),a=computed(()=>t.id||`v-menu-${s}`),c=ref$1(),d=inject$1(VMenuSymbol,null);let f=0;provide(VMenuSymbol,{register(){++f},unregister(){--f},closeParents(){setTimeout(()=>{f||(r.value=!1,d==null||d.closeParents())},40)}}),watch(r,v=>{v?d==null||d.register():d==null||d.unregister()});function g(){d==null||d.closeParents()}return useRender(()=>{const[v]=filterVOverlayProps(t);return createVNode(VOverlay,mergeProps({ref:c,class:["v-menu"]},v,{modelValue:r.value,"onUpdate:modelValue":_=>r.value=_,absolute:!0,activatorProps:mergeProps({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":a.value},t.activatorProps),"onClick:outside":g},o),{activator:n.activator,default:function(){for(var _,y=arguments.length,C=new Array(y),S=0;S<y;S++)C[S]=arguments[S];return createVNode(VDefaultsProvider,{root:!0},{default:()=>[(_=n.default)==null?void 0:_.call(n,...C)]})}})}),forwardRefs({id:a},c)}}),VTabs$1="",VSlideGroup$1="";function bias(t){const n=Math.abs(t);return Math.sign(t)*(n/((1/.501-2)*(1-n)+1))}function calculateUpdatedOffset(t){let{selectedElement:e,containerSize:n,contentSize:r,isRtl:o,currentScrollOffset:s,isHorizontal:a}=t;const c=a?e.clientWidth:e.clientHeight,d=a?e.offsetLeft:e.offsetTop,f=o&&a?r-d-c:d,g=n+s,v=c+f,_=c*.4;return f<=s?s=Math.max(f-_,0):g<=v&&(s=Math.min(s-(g-v-_),r-n)),s}function calculateCenteredOffset(t){let{selectedElement:e,containerSize:n,contentSize:r,isRtl:o,isHorizontal:s}=t;const a=s?e.clientWidth:e.clientHeight,c=s?e.offsetLeft:e.offsetTop,d=o&&s?r-c-a/2-n/2:c+a/2-n/2;return Math.min(r-n,Math.max(0,d))}const VSlideGroupSymbol=Symbol.for("vuetify:v-slide-group"),VSlideGroup=genericComponent()({name:"VSlideGroup",props:{centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:VSlideGroupSymbol},nextIcon:{type:IconValue,default:"$next"},prevIcon:{type:IconValue,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...makeTagProps(),...makeGroupProps({selectedClass:"v-slide-group-item--active"})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:r}=useRtl(),{mobile:o}=useDisplay(),s=useGroup(t,t.symbol),a=ref$1(!1),c=ref$1(0),d=ref$1(0),f=ref$1(0),g=computed(()=>t.direction==="horizontal"),{resizeRef:v,contentRect:_}=useResizeObserver(),{resizeRef:y,contentRect:C}=useResizeObserver(),S=computed(()=>s.selected.value.length?s.items.value.findIndex(ve=>ve.id===s.selected.value[0]):-1),x=computed(()=>s.selected.value.length?s.items.value.findIndex(ve=>ve.id===s.selected.value[s.selected.value.length-1]):-1);if(IN_BROWSER){let ve=-1;watch(()=>[s.selected.value,_.value,C.value,g.value],()=>{cancelAnimationFrame(ve),ve=requestAnimationFrame(()=>{if(_.value&&C.value){const Ce=g.value?"width":"height";d.value=_.value[Ce],f.value=C.value[Ce],a.value=d.value+1<f.value}if(S.value>=0&&y.value){const Ce=y.value.children[x.value];S.value===0||!a.value?c.value=0:t.centerActive?c.value=calculateCenteredOffset({selectedElement:Ce,containerSize:d.value,contentSize:f.value,isRtl:r.value,isHorizontal:g.value}):a.value&&(c.value=calculateUpdatedOffset({selectedElement:Ce,containerSize:d.value,contentSize:f.value,isRtl:r.value,currentScrollOffset:c.value,isHorizontal:g.value}))}})})}const A=ref$1(!1);let T=0,E=0;function L(ve){const Ce=g.value?"clientX":"clientY";E=(r.value&&g.value?-1:1)*c.value,T=ve.touches[0][Ce],A.value=!0}function P(ve){if(!a.value)return;const Ce=g.value?"clientX":"clientY",Oe=r.value&&g.value?-1:1;c.value=Oe*(E+T-ve.touches[0][Ce])}function O(ve){const Ce=f.value-d.value;c.value<0||!a.value?c.value=0:c.value>=Ce&&(c.value=Ce),A.value=!1}function D(){!v.value||(v.value[g.value?"scrollLeft":"scrollTop"]=0)}const N=ref$1(!1);function B(ve){if(N.value=!0,!(!a.value||!y.value)){for(const Ce of ve.composedPath())for(const Oe of y.value.children)if(Oe===Ce){c.value=calculateUpdatedOffset({selectedElement:Oe,containerSize:d.value,contentSize:f.value,isRtl:r.value,currentScrollOffset:c.value,isHorizontal:g.value});return}}}function q(ve){N.value=!1}function G(ve){var Ce;!N.value&&!(ve.relatedTarget&&(Ce=y.value)!=null&&Ce.contains(ve.relatedTarget))&&J()}function W(ve){!y.value||(g.value?ve.key==="ArrowRight"?J(r.value?"prev":"next"):ve.key==="ArrowLeft"&&J(r.value?"next":"prev"):ve.key==="ArrowDown"?J("next"):ve.key==="ArrowUp"&&J("prev"),ve.key==="Home"?J("first"):ve.key==="End"&&J("last"))}function J(ve){if(!!y.value)if(ve){if(ve==="next"){var Oe;const de=(Oe=y.value.querySelector(":focus"))==null?void 0:Oe.nextElementSibling;de?de.focus():J("first")}else if(ve==="prev"){var Ze;const de=(Ze=y.value.querySelector(":focus"))==null?void 0:Ze.previousElementSibling;de?de.focus():J("last")}else if(ve==="first"){var ye;(ye=y.value.firstElementChild)==null||ye.focus()}else if(ve==="last"){var K;(K=y.value.lastElementChild)==null||K.focus()}}else{var Ce;(Ce=[...y.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(he=>!he.hasAttribute("disabled"))[0])==null||Ce.focus()}}function U(ve){const Ce=c.value+(ve==="prev"?-1:1)*d.value;c.value=clamp(Ce,0,f.value-d.value)}const se=computed(()=>{let ve=c.value>f.value-d.value?-(f.value-d.value)+bias(f.value-d.value-c.value):-c.value;c.value<=0&&(ve=bias(-c.value));const Ce=r.value&&g.value?-1:1;return{transform:`translate${g.value?"X":"Y"}(${Ce*ve}px)`,transition:A.value?"none":"",willChange:A.value?"transform":""}}),Y=computed(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),Q=computed(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!o.value;case!0:return a.value||Math.abs(c.value)>0;case"mobile":return o.value||a.value||Math.abs(c.value)>0;default:return!o.value&&(a.value||Math.abs(c.value)>0)}}),ae=computed(()=>Math.abs(c.value)>0),xe=computed(()=>f.value>Math.abs(c.value)+d.value);return useRender(()=>{var ve,Ce,Oe;return createVNode(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!g.value,"v-slide-group--has-affixes":Q.value,"v-slide-group--is-overflowing":a.value}],tabindex:N.value||s.selected.value.length?-1:0,onFocus:G},{default:()=>{var Ze,ye;return[Q.value&&createVNode("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ae.value}],onClick:()=>U("prev")},[(Ze=(ve=n.prev)==null?void 0:ve.call(n,Y.value))!=null?Ze:createVNode(VFadeTransition,null,{default:()=>[createVNode(VIcon,{icon:r.value?t.nextIcon:t.prevIcon},null)]})]),createVNode("div",{key:"container",ref:v,class:"v-slide-group__container",onScroll:D},[createVNode("div",{ref:y,class:"v-slide-group__content",style:se.value,onTouchstartPassive:L,onTouchmovePassive:P,onTouchendPassive:O,onFocusin:B,onFocusout:q,onKeydown:W},[(Ce=n.default)==null?void 0:Ce.call(n,Y.value)])]),Q.value&&createVNode("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!xe.value}],onClick:()=>U("next")},[(ye=(Oe=n.next)==null?void 0:Oe.call(n,Y.value))!=null?ye:createVNode(VFadeTransition,null,{default:()=>[createVNode(VIcon,{icon:r.value?t.prevIcon:t.nextIcon},null)]})])]}})}),{selected:s.selected,scrollTo:U,scrollOffset:c,focus:J}}}),VTab$1="",VTabsSymbol=Symbol.for("vuetify:v-tabs"),VTab=defineComponent({name:"VTab",props:{fixed:Boolean,icon:[Boolean,String,Function,Object],prependIcon:IconValue,appendIcon:IconValue,stacked:Boolean,title:String,ripple:{type:Boolean,default:!0},color:String,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...makeTagProps(),...makeRouterProps(),...makeGroupItemProps({selectedClass:"v-tab--selected"}),...makeThemeProps()},setup(t,e){let{slots:n,attrs:r}=e;const{textColorClasses:o,textColorStyles:s}=useTextColor(t,"sliderColor"),a=computed(()=>t.direction==="horizontal"),c=ref$1(!1),d=ref$1(),f=ref$1();function g(v){let{value:_}=v;if(c.value=_,_){var y,C;const S=(y=d.value)==null||(C=y.$el.parentElement)==null?void 0:C.querySelector(".v-tab--selected .v-tab__slider"),x=f.value;if(!S||!x)return;const A=getComputedStyle(S).color,T=S.getBoundingClientRect(),E=x.getBoundingClientRect(),L=a.value?"x":"y",P=a.value?"X":"Y",O=a.value?"right":"bottom",D=a.value?"width":"height",N=T[L],B=E[L],q=N>B?T[O]-E[O]:T[L]-E[L],G=Math.sign(q)>0?a.value?"right":"bottom":Math.sign(q)<0?a.value?"left":"top":"center",J=(Math.abs(q)+(Math.sign(q)<0?T[D]:E[D]))/Math.max(T[D],E[D]),U=T[D]/E[D],se=1.5;animate(x,{backgroundColor:[A,""],transform:[`translate${P}(${q}px) scale${P}(${U})`,`translate${P}(${q/se}px) scale${P}(${(J-1)/se+1})`,""],transformOrigin:Array(3).fill(G)},{duration:225,easing:standardEasing})}}return useRender(()=>{const[v]=pick(t,["href","to","replace","icon","stacked","prependIcon","appendIcon","ripple","theme","disabled","selectedClass","value","color"]);return createVNode(VBtn,mergeProps({_as:"VTab",symbol:VTabsSymbol,ref:d,class:["v-tab"],tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1,block:t.fixed,maxWidth:t.fixed?300:void 0,variant:"text",rounded:0},v,r,{"onGroup:selected":g}),{default:()=>[n.default?n.default():t.title,!t.hideSlider&&createVNode("div",{ref:f,class:["v-tab__slider",o.value],style:s.value},null)]})}),{}}});function parseItems(t){return t?t.map(e=>typeof e=="string"?{title:e,value:e}:e):[]}const VTabs=defineComponent({name:"VTabs",props:{alignTabs:{type:String,default:"start"},color:String,direction:{type:String,default:"horizontal"},fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,modelValue:null,mandatory:{type:[Boolean,String],default:"force"},...makeDensityProps(),...makeTagProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),o=computed(()=>parseItems(t.items)),{densityClasses:s}=useDensity(t),{backgroundColorClasses:a,backgroundColorStyles:c}=useBackgroundColor(toRef(t,"bgColor"));return provideDefaults({VTab:{color:toRef(t,"color"),direction:toRef(t,"direction"),stacked:toRef(t,"stacked"),fixed:toRef(t,"fixedTabs"),sliderColor:toRef(t,"sliderColor"),hideSlider:toRef(t,"hideSlider")}}),useRender(()=>createVNode(VSlideGroup,{modelValue:r.value,"onUpdate:modelValue":d=>r.value=d,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},s.value,a.value],style:[{"--v-tabs-height":convertToUnit(t.height)},c.value],role:"tablist",symbol:VTabsSymbol,mandatory:t.mandatory,direction:t.direction},{default:()=>[n.default?n.default():o.value.map(d=>createVNode(VTab,mergeProps(d,{key:d.title}),null))]})),{}}}),VWindow$1="",handleGesture=t=>{const{touchstartX:e,touchendX:n,touchstartY:r,touchendY:o}=t,s=.5,a=16;t.offsetX=n-e,t.offsetY=o-r,Math.abs(t.offsetY)<s*Math.abs(t.offsetX)&&(t.left&&n<e-a&&t.left(t),t.right&&n>e+a&&t.right(t)),Math.abs(t.offsetX)<s*Math.abs(t.offsetY)&&(t.up&&o<r-a&&t.up(t),t.down&&o>r+a&&t.down(t))};function touchstart(t,e){var n;const r=t.changedTouches[0];e.touchstartX=r.clientX,e.touchstartY=r.clientY,(n=e.start)==null||n.call(e,{originalEvent:t,...e})}function touchend(t,e){var n;const r=t.changedTouches[0];e.touchendX=r.clientX,e.touchendY=r.clientY,(n=e.end)==null||n.call(e,{originalEvent:t,...e}),handleGesture(e)}function touchmove(t,e){var n;const r=t.changedTouches[0];e.touchmoveX=r.clientX,e.touchmoveY=r.clientY,(n=e.move)==null||n.call(e,{originalEvent:t,...e})}function createHandlers(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>touchstart(n,e),touchend:n=>touchend(n,e),touchmove:n=>touchmove(n,e)}}function mounted(t,e){var d,f;var n;const r=e.value,o=r!=null&&r.parent?t.parentElement:t,s=(d=r==null?void 0:r.options)!=null?d:{passive:!0},a=(n=e.instance)==null?void 0:n.$.uid;if(!o||!a)return;const c=createHandlers(e.value);o._touchHandlers=(f=o._touchHandlers)!=null?f:Object.create(null),o._touchHandlers[a]=c,keys(c).forEach(g=>{o.addEventListener(g,c[g],s)})}function unmounted(t,e){var n,r;const o=(n=e.value)!=null&&n.parent?t.parentElement:t,s=(r=e.instance)==null?void 0:r.$.uid;if(!(o!=null&&o._touchHandlers)||!s)return;const a=o._touchHandlers[s];keys(a).forEach(c=>{o.removeEventListener(c,a[c])}),delete o._touchHandlers[s]}const Touch={mounted,unmounted},Touch$1=Touch,VWindowSymbol=Symbol.for("vuetify:v-window"),VWindowGroupSymbol=Symbol.for("vuetify:v-window-group"),VWindow=genericComponent()({name:"VWindow",directives:{Touch},props:{continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...makeTagProps(),...makeThemeProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:r}=provideTheme(t),{isRtl:o}=useRtl(),{t:s}=useLocale(),a=useGroup(t,VWindowGroupSymbol),c=ref$1(),d=computed(()=>o.value?!t.reverse:t.reverse),f=ref$1(!1),g=computed(()=>{const L=t.direction==="vertical"?"y":"x",O=(d.value?!f.value:f.value)?"-reverse":"";return`v-window-${L}${O}-transition`}),v=ref$1(0),_=ref$1(void 0),y=computed(()=>a.items.value.findIndex(L=>a.selected.value.includes(L.id)));watch(y,(L,P)=>{const O=a.items.value.length,D=O-1;O<=2?f.value=L<P:L===D&&P===0?f.value=!0:L===0&&P===D?f.value=!1:f.value=L<P}),provide(VWindowSymbol,{transition:g,isReversed:f,transitionCount:v,transitionHeight:_,rootRef:c});const C=computed(()=>t.continuous||y.value!==0),S=computed(()=>t.continuous||y.value!==a.items.value.length-1);function x(){C.value&&a.prev()}function A(){S.value&&a.next()}const T=computed(()=>{const L=[],P={icon:o.value?t.nextIcon:t.prevIcon,class:`v-window__${d.value?"right":"left"}`,onClick:a.prev,ariaLabel:s("$vuetify.carousel.prev")};L.push(C.value?n.prev?n.prev({props:P}):createVNode(VBtn,P,null):createVNode("div",null,null));const O={icon:o.value?t.prevIcon:t.nextIcon,class:`v-window__${d.value?"left":"right"}`,onClick:a.next,ariaLabel:s("$vuetify.carousel.next")};return L.push(S.value?n.next?n.next({props:O}):createVNode(VBtn,O,null):createVNode("div",null,null)),L}),E=computed(()=>t.touch===!1?t.touch:{...{left:()=>{d.value?x():A()},right:()=>{d.value?A():x()},start:P=>{let{originalEvent:O}=P;O.stopPropagation()}},...t.touch===!0?{}:t.touch});return useRender(()=>{var L,P;return withDirectives(createVNode(t.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},r.value]},{default:()=>[createVNode("div",{class:"v-window__container",style:{height:_.value}},[(L=n.default)==null?void 0:L.call(n,{group:a}),t.showArrows!==!1&&createVNode("div",{class:"v-window__controls"},[T.value])]),(P=n.additional)==null?void 0:P.call(n,{group:a})]}),[[resolveDirective("touch"),E.value]])}),{group:a}}}),VWindowItem=defineComponent({name:"VWindowItem",directives:{Touch:Touch$1},props:{reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...makeGroupItemProps(),...makeLazyProps()},emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const r=inject$1(VWindowSymbol),o=useGroupItem(t,VWindowGroupSymbol),{isBooted:s}=useSsrBoot();if(!r||!o)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=ref$1(!1),c=computed(()=>r.isReversed.value?t.reverseTransition!==!1:t.transition!==!1);function d(){!a.value||!r||(a.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function f(){if(!(a.value||!r)){if(a.value=!0,r.transitionCount.value===0){var C;r.transitionHeight.value=convertToUnit((C=r.rootRef.value)==null?void 0:C.clientHeight)}r.transitionCount.value+=1}}function g(){d()}function v(C){!a.value||nextTick(()=>{!c.value||!a.value||!r||(r.transitionHeight.value=convertToUnit(C.clientHeight))})}const _=computed(()=>{const C=r.isReversed.value?t.reverseTransition:t.transition;return c.value?{name:typeof C!="string"?r.transition.value:C,onBeforeEnter:f,onAfterEnter:d,onEnterCancelled:g,onBeforeLeave:f,onAfterLeave:d,onLeaveCancelled:g,onEnter:v}:!1}),{hasContent:y}=useLazy(t,o.isSelected);return useRender(()=>{var C;return createVNode(MaybeTransition,{transition:s.value&&_.value},{default:()=>[withDirectives(createVNode("div",{class:["v-window-item",o.selectedClass.value]},[y.value&&((C=n.default)==null?void 0:C.call(n))]),[[vShow,o.isSelected.value]])]})}),{}}}),_sfc_main$c={components:{Heroes,Enemies,PlaySpecificScheme},data(){return{specScheme:{visible:!1},tab:0,menuItems:[{name:"Clear Game",icon:"mdi-close-circle-outline",action:()=>{this.updateGame(null)}},{name:"Settings",icon:"mdi-cogs",path:"/settings"},{name:"Play Specific Scheme",icon:"mdi-cog-play",action:()=>{this.specScheme.visible=!0}},{name:"Select For Portability",icon:"mdi-package-variant-closed",path:"/portable"},{name:"Keywords",icon:"mdi-key",path:"/keywords"},{name:"Admin",icon:"mdi-cog",path:"/admin",requireAdmin:!0},{name:"Sign Out",icon:"mdi-logout",action:()=>{this.logOut(this.$router)}}]}},computed:{...mapState(useStore,["userSettings","display","gameLoaded","game","showMarkPlayed"]),menuItemsComputed(){return this.menuItems.filter(t=>!t.requireAdmin||this.userSettings.isAdmin)}},methods:{...mapActions(useStore,["getUniversalData","getUserData","logOut","buildDeck","markPlayed","updateGame"]),pullData(){this.getUserData("game").then(()=>{this.getUserData("userSettings")}).then(()=>{this.getUniversalData()})}},mounted(){this.pullData()}},_hoisted_1$5={key:0,class:"text-center mt-12"},_hoisted_2$2={key:1,class:"text-right mr-2 mt-2"};function _sfc_render$c(t,e,n,r,o,s){const a=resolveComponent("heroes"),c=resolveComponent("enemies"),d=resolveComponent("play-specific-scheme");return openBlock(),createElementBlock(Fragment,null,[createVNode(VToolbar,{density:"compact",color:"grey"},{default:withCtx(()=>[createVNode(VBtnGroup,{density:"compact",class:"ml-1"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(5,f=>createVNode(VBtn,{color:"grey",size:"small",class:"text-white font-weight-black",onClick:g=>t.buildDeck({numPlayers:f})},{default:withCtx(()=>[createTextVNode(toDisplayString(f),1)]),_:2},1032,["onClick"])),64))]),_:1}),createVNode(VSpacer),t.showMarkPlayed?(openBlock(),createBlock(VBtn,{key:0,icon:"mdi-check-outline",size:"small",onClick:t.markPlayed},null,8,["onClick"])):createCommentVNode("",!0),createVNode(VSpacer),createVNode(VMenu,null,{activator:withCtx(({props:f})=>[createVNode(VBtn,mergeProps(f,{icon:"mdi-dots-vertical"}),null,16)]),default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.menuItemsComputed,f=>(openBlock(),createBlock(VListItem,{to:f.path||"",onClick:f.action},{prepend:withCtx(()=>[createVNode(VIcon,{icon:f.icon},null,8,["icon"])]),default:withCtx(()=>[createVNode(VListItemTitle,{textContent:toDisplayString(f.name)},null,8,["textContent"])]),_:2},1032,["to","onClick"]))),256))]),_:1})]),_:1})]),_:1})]),_:1}),!t.game&&t.gameLoaded?(openBlock(),createElementBlock("div",_hoisted_1$5," Select the number of players. ")):createCommentVNode("",!0),t.game?(openBlock(),createElementBlock("div",_hoisted_2$2," Bystanders: "+toDisplayString(t.game.setup.bystanders),1)):createCommentVNode("",!0),t.game&&t.gameLoaded?(openBlock(),createBlock(VToolbar,{key:2,flat:"",color:"transparent",density:"compact"},{default:withCtx(()=>[createVNode(VTabs,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=f=>o.tab=f),density:"compact"},{default:withCtx(()=>[createVNode(VTab,null,{default:withCtx(()=>[createTextVNode("Heroes")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode("Enemies")]),_:1})]),_:1},8,["modelValue"])]),_:1})):createCommentVNode("",!0),t.game&&t.gameLoaded?(openBlock(),createBlock(VWindow,{key:3,modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=f=>o.tab=f)},{default:withCtx(()=>[createVNode(VWindowItem,null,{default:withCtx(()=>[t.game?(openBlock(),createBlock(a,{key:0})):createCommentVNode("",!0)]),_:1}),createVNode(VWindowItem,null,{default:withCtx(()=>[t.game?(openBlock(),createBlock(c,{key:0})):createCommentVNode("",!0)]),_:1})]),_:1},8,["modelValue"])):createCommentVNode("",!0),createVNode(d,{dialog:o.specScheme},null,8,["dialog"])],64)}const Dashboard=_export_sfc(_sfc_main$c,[["render",_sfc_render$c]]),VColorPicker$1="",VColorPickerCanvas$1="",VColorPickerCanvas=defineComponent({name:"VColorPickerCanvas",props:{color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300}},emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,e){let{emit:n}=e;const r=ref$1(!1),o=ref$1(!1),s=ref$1({x:0,y:0}),a=computed(()=>{const{x:C,y:S}=s.value,x=parseInt(t.dotSize,10)/2;return{width:convertToUnit(t.dotSize),height:convertToUnit(t.dotSize),transform:`translate(${convertToUnit(C-x)}, ${convertToUnit(S-x)})`}}),c=ref$1();function d(C,S,x){const{left:A,top:T,width:E,height:L}=x;s.value={x:clamp(C-A,0,E),y:clamp(S-T,0,L)}}function f(C){t.disabled||!c.value||d(C.clientX,C.clientY,c.value.getBoundingClientRect())}function g(C){C.preventDefault(),!t.disabled&&(r.value=!0,window.addEventListener("mousemove",v),window.addEventListener("mouseup",_),window.addEventListener("touchmove",v),window.addEventListener("touchend",_))}function v(C){if(t.disabled||!c.value)return;r.value=!0;const S=getEventCoordinates(C);d(S.clientX,S.clientY,c.value.getBoundingClientRect())}function _(){window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",_),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",_)}watch(s,()=>{var L,P;var C,S;if(o.value){o.value=!1;return}if(!c.value)return;const{width:x,height:A}=c.value.getBoundingClientRect(),{x:T,y:E}=s.value;n("update:color",{h:(L=(C=t.color)==null?void 0:C.h)!=null?L:0,s:clamp(T,0,x)/x,v:1-clamp(E,0,A)/A,a:(P=(S=t.color)==null?void 0:S.a)!=null?P:1})});function y(){var E;var C;if(!c.value)return;const S=c.value,x=S.getContext("2d");if(!x)return;const A=x.createLinearGradient(0,0,S.width,0);A.addColorStop(0,"hsla(0, 0%, 100%, 1)"),A.addColorStop(1,`hsla(${(E=(C=t.color)==null?void 0:C.h)!=null?E:0}, 100%, 50%, 1)`),x.fillStyle=A,x.fillRect(0,0,S.width,S.height);const T=x.createLinearGradient(0,0,0,S.height);T.addColorStop(0,"hsla(0, 0%, 100%, 0)"),T.addColorStop(1,"hsla(0, 0%, 0%, 1)"),x.fillStyle=T,x.fillRect(0,0,S.width,S.height)}return watch(()=>{var C;return(C=t.color)==null?void 0:C.h},y,{immediate:!0}),watch(()=>t.color,()=>{if(r.value){r.value=!1;return}!t.color||(o.value=!0,s.value={x:t.color.s*parseInt(t.width,10),y:(1-t.color.v)*parseInt(t.height,10)})},{deep:!0,immediate:!0}),onMounted(()=>y()),useRender(()=>createVNode("div",{class:"v-color-picker-canvas",style:{width:convertToUnit(t.width),height:convertToUnit(t.height)},onClick:f,onMousedown:g,onTouchstart:g},[createVNode("canvas",{ref:c,width:t.width,height:t.height},null),createVNode("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:a.value},null)])),{}}}),VColorPickerEdit$1="";var _rgba$inputs;function has$1(t,e){return e.every(n=>t.hasOwnProperty(n))}function parseColor(t){var n;if(!t)return null;let e=null;if(typeof t=="string"){const r=parseHex(t);e=HexToHSVA(r)}return typeof t=="object"&&(has$1(t,["r","g","b"])?e=RGBAtoHSVA(t):has$1(t,["h","s","l"])?e=HSLAtoHSVA(t):has$1(t,["h","s","v"])&&(e=t)),e!=null?{...e,a:(n=e.a)!=null?n:1}:null}function stripAlpha(t,e){if(e){const{a:n,...r}=t;return r}return t}function extractColor(t,e){if(e==null||typeof e=="string"){const n=HSVAtoHex(t);return t.a===1?n.slice(0,7):n}if(typeof e=="object"){let n;return has$1(e,["r","g","b"])?n=HSVAtoRGBA(t):has$1(e,["h","s","l"])?n=HSVAtoHSLA(t):has$1(e,["h","s","v"])&&(n=t),stripAlpha(n,!has$1(e,["a"]))}return t}const nullColor={h:0,s:0,v:1,a:1},rgba={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,e)=>({...t,r:Number(e)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,e)=>({...t,g:Number(e)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,e)=>({...t,b:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>Math.round(t.a*100)/100,getColor:(t,e)=>({...t,a:Number(e)})}],to:HSVAtoRGBA,from:RGBAtoHSVA},rgb={...rgba,inputs:(_rgba$inputs=rgba.inputs)==null?void 0:_rgba$inputs.slice(0,3)},hsla={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,e)=>({...t,h:Number(e)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,e)=>({...t,s:Number(e)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,e)=>({...t,l:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>Math.round(t.a*100)/100,getColor:(t,e)=>({...t,a:Number(e)})}],to:HSVAtoHSLA,from:HSLAtoHSVA},hsl={...hsla,inputs:hsla.inputs.slice(0,3)},hexa={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,e)=>e}],to:HSVAtoHex,from:HexToHSVA},hex={...hexa,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,e)=>e}]},modes={rgb,rgba,hsl,hsla,hex,hexa},VColorPickerInput=t=>{let{label:e,...n}=t;return createVNode("div",{class:"v-color-picker-edit__input"},[createVNode("input",n,null),createVNode("span",null,[e])])},VColorPickerEdit=defineComponent({name:"VColorPickerEdit",props:{color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(modes).includes(t)},modes:{type:Array,default:()=>Object.keys(modes),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(modes).includes(e))}},emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,e){let{emit:n}=e;const r=computed(()=>t.modes.map(s=>({...modes[s],name:s}))),o=computed(()=>{var s;const a=r.value.find(d=>d.name===t.mode);if(!a)return[];const c=t.color?a.to(t.color):{};return(s=a.inputs)==null?void 0:s.map(d=>{let{getValue:f,getColor:g,...v}=d;return{...a.inputProps,...v,disabled:t.disabled,value:f(c),onChange:_=>{const y=_.target;!y||n("update:color",a.from(g(c,y.value)))}}})});return useRender(()=>{var s;return createVNode("div",{class:"v-color-picker-edit"},[(s=o.value)==null?void 0:s.map(a=>createVNode(VColorPickerInput,a,null)),r.value.length>1&&createVNode(VBtn,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const a=r.value.findIndex(c=>c.name===t.mode);n("update:mode",r.value[(a+1)%r.value.length].name)}},null)])}),{}}}),VColorPickerPreview$1="",VSlider$1="",VSliderThumb$1="",VSliderSymbol=Symbol.for("vuetify:v-slider");function getOffset(t,e,n){const r=n==="vertical",o=e.getBoundingClientRect(),s="touches"in t?t.touches[0]:t;return r?s.clientY-(o.top+o.height/2):s.clientX-(o.left+o.width/2)}function getPosition(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const makeSliderProps=propsFactory({disabled:Boolean,error:Boolean,readonly:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...makeRoundedProps(),...makeElevationProps({elevation:2})},"slider"),useSlider=t=>{let{props:e,handleSliderMouseUp:n,handleMouseMove:r,getActiveThumb:o}=t;const{isRtl:s}=useRtl(),a=computed(()=>s.value!==e.reverse),c=computed(()=>{let ye=s.value?"rtl":"ltr";return e.reverse&&(ye=ye==="rtl"?"ltr":"rtl"),ye}),d=computed(()=>parseFloat(e.min)),f=computed(()=>parseFloat(e.max)),g=computed(()=>e.step>0?parseFloat(e.step):0),v=computed(()=>{const ye=g.value.toString().trim();return ye.includes(".")?ye.length-ye.indexOf(".")-1:0}),_=computed(()=>parseInt(e.thumbSize,10)),y=computed(()=>parseInt(e.tickSize,10)),C=computed(()=>parseInt(e.trackSize,10)),S=computed(()=>(f.value-d.value)/g.value),x=toRef(e,"disabled"),A=computed(()=>e.direction==="vertical"),T=computed(()=>{var ye;return e.error||e.disabled?void 0:(ye=e.thumbColor)!=null?ye:e.color}),E=computed(()=>{var ye;return e.error||e.disabled?void 0:(ye=e.trackColor)!=null?ye:e.color}),L=computed(()=>{var ye;return e.error||e.disabled?void 0:(ye=e.trackFillColor)!=null?ye:e.color}),P=ref$1(!1),O=ref$1(0),D=ref$1(),N=ref$1();function B(ye){if(g.value<=0)return ye;const K=clamp(ye,d.value,f.value),de=d.value%g.value,he=Math.round((K-de)/g.value)*g.value+de;return parseFloat(Math.min(he,f.value).toFixed(v.value))}function q(ye){var K;const de=e.direction==="vertical",he=de?"top":"left",we=de?"height":"width",Be=de?"clientY":"clientX",{[he]:Xe,[we]:Le}=(K=D.value)==null?void 0:K.$el.getBoundingClientRect(),R=getPosition(ye,Be);let M=Math.min(Math.max((R-Xe-O.value)/Le,0),1)||0;return(de||a.value)&&(M=1-M),B(d.value+M*(f.value-d.value))}let G=!1;const W=ye=>{G||(O.value=0,n(q(ye))),P.value=!1,G=!1,O.value=0},J=ye=>{N.value=o(ye),N.value&&(N.value.focus(),P.value=!0,N.value.contains(ye.target)?(G=!0,O.value=getOffset(ye,N.value,e.direction)):(O.value=0,r(q(ye))))},U={passive:!0,capture:!0};function se(ye){G=!0,r(q(ye))}function Y(ye){ye.stopPropagation(),ye.preventDefault(),W(ye),window.removeEventListener("mousemove",se,U),window.removeEventListener("mouseup",Y)}function Q(ye){var K;W(ye),window.removeEventListener("touchmove",se,U),(K=ye.target)==null||K.removeEventListener("touchend",Q)}function ae(ye){var K;J(ye),window.addEventListener("touchmove",se,U),(K=ye.target)==null||K.addEventListener("touchend",Q,{passive:!1})}function xe(ye){ye.preventDefault(),J(ye),window.addEventListener("mousemove",se,U),window.addEventListener("mouseup",Y,{passive:!1})}const ve=ye=>{const K=(ye-d.value)/(f.value-d.value)*100;return clamp(isNaN(K)?0:K,0,100)},Ce=computed(()=>e.ticks?Array.isArray(e.ticks)?e.ticks.map(ye=>({value:ye,position:ve(ye),label:ye.toString()})):Object.keys(e.ticks).map(ye=>({value:parseFloat(ye),position:ve(parseFloat(ye)),label:e.ticks[ye]})):S.value!==1/0?createRange(S.value+1).map(ye=>{const K=d.value+ye*g.value;return{value:K,position:ve(K)}}):[]),Oe=computed(()=>Ce.value.some(ye=>{let{label:K}=ye;return!!K})),Ze={activeThumbRef:N,color:toRef(e,"color"),decimals:v,disabled:x,direction:toRef(e,"direction"),elevation:toRef(e,"elevation"),hasLabels:Oe,horizontalDirection:c,isReversed:a,min:d,max:f,mousePressed:P,numTicks:S,onSliderMousedown:xe,onSliderTouchstart:ae,parsedTicks:Ce,parseMouseMove:q,position:ve,readonly:toRef(e,"readonly"),rounded:toRef(e,"rounded"),roundValue:B,showTicks:toRef(e,"showTicks"),startOffset:O,step:g,thumbSize:_,thumbColor:T,thumbLabel:toRef(e,"thumbLabel"),ticks:toRef(e,"ticks"),tickSize:y,trackColor:E,trackContainerRef:D,trackFillColor:L,trackSize:C,vertical:A};return provide(VSliderSymbol,Ze),Ze},VSliderThumb=defineComponent({name:"VSliderThumb",directives:{Ripple},props:{focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0}},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n,emit:r}=e;const o=inject$1(VSliderSymbol);if(!o)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:a,vertical:c,disabled:d,thumbSize:f,thumbLabel:g,direction:v,readonly:_,elevation:y,isReversed:C,horizontalDirection:S,mousePressed:x,decimals:A}=o,{textColorClasses:T,textColorStyles:E}=useTextColor(s),{pageup:L,pagedown:P,end:O,home:D,left:N,right:B,down:q,up:G}=keyValues,W=[L,P,O,D,N,B,q,G],J=computed(()=>a.value?[1,2,3]:[1,5,10]);function U(Y,Q){if(!W.includes(Y.key))return;Y.preventDefault();const ae=a.value||.1,xe=(t.max-t.min)/ae;if([N,B,q,G].includes(Y.key)){const Ce=(C.value?[N,G]:[B,G]).includes(Y.key)?1:-1,Oe=Y.shiftKey?2:Y.ctrlKey?1:0;Q=Q+Ce*ae*J.value[Oe]}else if(Y.key===D)Q=t.min;else if(Y.key===O)Q=t.max;else{const ve=Y.key===P?1:-1;Q=Q-ve*ae*(xe>100?xe/10:10)}return Math.max(t.min,Math.min(t.max,Q))}function se(Y){const Q=U(Y,t.modelValue);Q!=null&&r("update:modelValue",Q)}return useRender(()=>{var Y;const Q=convertToUnit(c.value?100-t.position:t.position,"%"),ae=c.value?"block":"inline",{elevationClasses:xe}=useElevation(computed(()=>d.value?void 0:y.value));return createVNode("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&x.value}],style:{[`inset-${ae}-start`]:`calc(${Q} - var(--v-slider-thumb-size) / 2)`,"--v-slider-thumb-size":convertToUnit(f.value),direction:c.value?void 0:S.value},role:"slider",tabindex:d.value?-1:0,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":_.value,"aria-orientation":v.value,onKeydown:_.value?void 0:se},[createVNode("div",{class:["v-slider-thumb__surface",T.value,xe.value],style:{...E.value}},null),withDirectives(createVNode("div",{class:["v-slider-thumb__ripple",T.value],style:E.value},null),[[resolveDirective("ripple"),!0,null,{circle:!0,center:!0}]]),createVNode(VScaleTransition,{origin:"bottom center"},{default:()=>{var ve;return[withDirectives(createVNode("div",{class:"v-slider-thumb__label-container"},[createVNode("div",{class:["v-slider-thumb__label"]},[createVNode("div",null,[(ve=(Y=n["thumb-label"])==null?void 0:Y.call(n,{modelValue:t.modelValue}))!=null?ve:t.modelValue.toFixed(a.value?A.value:1)])])]),[[vShow,g.value&&t.focused||g.value==="always"]])]}})])}),{}}}),VSliderTrack$1="",VSliderTrack=defineComponent({name:"VSliderTrack",props:{start:{type:Number,required:!0},stop:{type:Number,required:!0}},emits:{},setup(t,e){let{slots:n}=e;const r=inject$1(VSliderSymbol);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:o,horizontalDirection:s,parsedTicks:a,rounded:c,showTicks:d,tickSize:f,trackColor:g,trackFillColor:v,trackSize:_,vertical:y,min:C,max:S}=r,{roundedClasses:x}=useRounded(c),{backgroundColorClasses:A,backgroundColorStyles:T}=useBackgroundColor(v),{backgroundColorClasses:E,backgroundColorStyles:L}=useBackgroundColor(g),P=computed(()=>`inset-${y.value?"block-end":"inline-start"}`),O=computed(()=>y.value?"height":"width"),D=computed(()=>({[P.value]:"0%",[O.value]:"100%"})),N=computed(()=>t.stop-t.start),B=computed(()=>({[P.value]:convertToUnit(t.start,"%"),[O.value]:convertToUnit(N.value,"%")})),q=computed(()=>(y.value?a.value.slice().reverse():a.value).map((W,J)=>{var Q;var U;const se=y.value?"bottom":"margin-inline-start",Y=W.value!==C.value&&W.value!==S.value?convertToUnit(W.position,"%"):void 0;return createVNode("div",{key:W.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":W.position>=t.start&&W.position<=t.stop,"v-slider-track__tick--first":W.value===C.value,"v-slider-track__tick--last":W.value===S.value}],style:{[se]:Y}},[(W.label||n["tick-label"])&&createVNode("div",{class:"v-slider-track__tick-label"},[(Q=(U=n["tick-label"])==null?void 0:U.call(n,{tick:W,index:J}))!=null?Q:W.label])])}));return useRender(()=>createVNode("div",{class:["v-slider-track",x.value],style:{"--v-slider-track-size":convertToUnit(_.value),"--v-slider-tick-size":convertToUnit(f.value),direction:y.value?void 0:s.value}},[createVNode("div",{class:["v-slider-track__background",E.value,{"v-slider-track__background--opacity":!!o.value||!v.value}],style:{...D.value,...L.value}},null),createVNode("div",{class:["v-slider-track__fill",A.value],style:{...B.value,...T.value}},null),d.value&&createVNode("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":d.value==="always"}]},[q.value])])),{}}}),VSlider=defineComponent({name:"VSlider",props:{...makeFocusProps(),...makeSliderProps(),...makeVInputProps(),modelValue:{type:[Number,String],default:0}},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=ref$1(),{min:o,max:s,mousePressed:a,roundValue:c,onSliderMousedown:d,onSliderTouchstart:f,trackContainerRef:g,position:v,hasLabels:_,readonly:y}=useSlider({props:t,handleSliderMouseUp:E=>C.value=c(E),handleMouseMove:E=>C.value=c(E),getActiveThumb:()=>{var E;return(E=r.value)==null?void 0:E.$el}}),C=useProxiedModel(t,"modelValue",void 0,E=>{const L=typeof E=="string"?parseFloat(E):E==null?o.value:E;return c(L)}),{isFocused:S,focus:x,blur:A}=useFocus(t),T=computed(()=>v(C.value));return useRender(()=>{const[E,L]=filterInputProps(t),P=!!(t.label||n.label||n.prepend);return createVNode(VInput,mergeProps({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||_.value,"v-slider--focused":S.value,"v-slider--pressed":a.value,"v-slider--disabled":t.disabled}]},E,{focused:S.value}),{...n,prepend:P?O=>{var B;var D,N;return createVNode(Fragment,null,[((B=(D=n.label)==null?void 0:D.call(n,O))!=null?B:t.label)?createVNode(VLabel,{class:"v-slider__label",text:t.label},null):void 0,(N=n.prepend)==null?void 0:N.call(n,O)])}:void 0,default:O=>{let{id:D}=O;return createVNode("div",{class:"v-slider__container",onMousedown:y.value?void 0:d,onTouchstartPassive:y.value?void 0:f},[createVNode("input",{id:D.value,name:t.name||D.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:C.value},null),createVNode(VSliderTrack,{ref:g,start:0,stop:T.value},{"tick-label":n["tick-label"]}),createVNode(VSliderThumb,{ref:r,focused:S.value,min:o.value,max:s.value,modelValue:C.value,"onUpdate:modelValue":N=>C.value=N,position:T.value,elevation:t.elevation,onFocus:x,onBlur:A},{"thumb-label":n["thumb-label"]})])}})}),{}}}),VColorPickerPreview=defineComponent({name:"VColorPickerPreview",props:{color:{type:Object},disabled:Boolean,hideAlpha:Boolean},emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return useRender(()=>{var s;var r,o;return createVNode("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha}]},[createVNode("div",{class:"v-color-picker-preview__dot"},[createVNode("div",{style:{background:HSVAtoCSS((s=t.color)!=null?s:nullColor)}},null)]),createVNode("div",{class:"v-color-picker-preview__sliders"},[createVNode(VSlider,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(r=t.color)==null?void 0:r.h,"onUpdate:modelValue":a=>{var c;return n("update:color",{...(c=t.color)!=null?c:nullColor,h:a})},step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&createVNode(VSlider,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:(o=t.color)==null?void 0:o.a,"onUpdate:modelValue":a=>{var c;return n("update:color",{...(c=t.color)!=null?c:nullColor,a})},step:0,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),VColorPickerSwatches$1="",red=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),pink=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),purple=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),deepPurple=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),indigo=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),blue=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),lightBlue=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),cyan=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),teal=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),green=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),lightGreen=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),lime=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),yellow=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),amber=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),orange=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),deepOrange=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),brown=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),blueGrey=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),grey=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),shades=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"}),colors=Object.freeze({red,pink,purple,deepPurple,indigo,blue,lightBlue,cyan,teal,green,lightGreen,lime,yellow,amber,orange,deepOrange,brown,blueGrey,grey,shades});function parseDefaultColors(t){return Object.keys(t).map(e=>{const n=t[e];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const VColorPickerSwatches=defineComponent({name:"VColorPickerSwatches",props:{swatches:{type:Array,default:()=>parseDefaultColors(colors)},disabled:Boolean,color:Object,maxHeight:[Number,String]},emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return useRender(()=>createVNode("div",{class:"v-color-picker-swatches",style:{maxHeight:convertToUnit(t.maxHeight)}},[createVNode("div",null,[t.swatches.map(r=>createVNode("div",{class:"v-color-picker-swatches__swatch"},[r.map(o=>{const s=parseColor(o);return createVNode("div",{class:"v-color-picker-swatches__color",onClick:()=>s&&n("update:color",s)},[createVNode("div",{style:{background:o}},[t.color&&deepEqual$1(t.color,s)?createVNode(VIcon,{size:"x-small",icon:"$success",color:getContrast(o,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),VSheet$1="",VSheet=defineComponent({name:"VSheet",props:{color:String,...makeBorderProps(),...makeDimensionProps(),...makeElevationProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},setup(t,e){let{slots:n}=e;const{themeClasses:r}=provideTheme(t),{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(toRef(t,"color")),{borderClasses:a}=useBorder(t),{dimensionStyles:c}=useDimension(t),{elevationClasses:d}=useElevation(t),{locationStyles:f}=useLocation(t),{positionClasses:g}=usePosition(t),{roundedClasses:v}=useRounded(t);return()=>createVNode(t.tag,{class:["v-sheet",r.value,o.value,a.value,d.value,g.value,v.value],style:[s.value,c.value,f.value]},n)}}),VColorPicker=defineComponent({name:"VColorPicker",inheritAttrs:!1,props:{canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(modes).includes(t)},modes:{type:Array,default:()=>Object.keys(modes),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(modes).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},width:{type:[Number,String],default:300},...makeElevationProps(),...makeRoundedProps(),...makeThemeProps()},emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const e=useProxiedModel(t,"mode"),n=ref$1(null),r=useProxiedModel(t,"modelValue",void 0,s=>{let a=parseColor(s);return a?(n.value&&(a={...a,h:n.value.h},n.value=null),a):null},s=>s?extractColor(s,t.modelValue):null),o=s=>{r.value=s,n.value=s};return onMounted(()=>{t.modes.includes(e.value)||(e.value=t.modes[0])}),useRender(()=>{var s;return createVNode(VSheet,{rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker"],style:{"--v-color-picker-color-hsv":HSVAtoCSS({...(s=r.value)!=null?s:nullColor,a:1})},maxWidth:t.width},{default:()=>[!t.hideCanvas&&createVNode(VColorPickerCanvas,{key:"canvas",color:r.value,"onUpdate:color":o,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&createVNode("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&createVNode(VColorPickerPreview,{key:"preview",color:r.value,"onUpdate:color":o,hideAlpha:!e.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&createVNode(VColorPickerEdit,{key:"edit",modes:t.modes,mode:e.value,"onUpdate:mode":a=>e.value=a,color:r.value,"onUpdate:color":o,disabled:t.disabled},null)]),t.showSwatches&&createVNode(VColorPickerSwatches,{key:"swatches",color:r.value,"onUpdate:color":o,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})}),{}}}),VSelectionControl$1="",VSelectionControlGroup$1="",VSelectionControlGroupSymbol=Symbol.for("vuetify:selection-control-group"),makeSelectionControlGroupProps=propsFactory({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:IconValue,trueIcon:IconValue,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:deepEqual$1},...makeThemeProps(),...makeDensityProps()},"v-selection-control-group"),VSelectionControlGroup=defineComponent({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...makeSelectionControlGroupProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),o=getUid(),s=computed(()=>t.id||`v-selection-control-group-${o}`),a=computed(()=>t.name||s.value);return provide(VSelectionControlGroupSymbol,{modelValue:r}),provideDefaults({[t.defaultsTarget]:{color:toRef(t,"color"),disabled:toRef(t,"disabled"),density:toRef(t,"density"),error:toRef(t,"error"),inline:toRef(t,"inline"),modelValue:r,multiple:computed(()=>!!t.multiple||t.multiple==null&&Array.isArray(r.value)),name:a,falseIcon:toRef(t,"falseIcon"),trueIcon:toRef(t,"trueIcon"),readonly:toRef(t,"readonly"),ripple:toRef(t,"ripple"),type:toRef(t,"type"),valueComparator:toRef(t,"valueComparator")}}),useRender(()=>{var c;return createVNode("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline}],"aria-labelled-by":t.type==="radio"?s.value:void 0,role:t.type==="radio"?"radiogroup":void 0},[(c=n.default)==null?void 0:c.call(n)])}),{}}}),makeSelectionControlProps=propsFactory({label:String,trueValue:null,falseValue:null,value:null,...makeSelectionControlGroupProps()},"v-selection-control");function useSelectionControl(t){const e=inject$1(VSelectionControlGroupSymbol,void 0),{densityClasses:n}=useDensity(t),r=useProxiedModel(t,"modelValue"),o=computed(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),s=computed(()=>t.falseValue!==void 0?t.falseValue:!1),a=computed(()=>!!t.multiple||t.multiple==null&&Array.isArray(r.value)),c=computed({get(){const v=e?e.modelValue.value:r.value;return a.value?v.some(_=>t.valueComparator(_,o.value)):t.valueComparator(v,o.value)},set(v){if(t.readonly)return;const _=v?o.value:s.value;let y=_;a.value&&(y=v?[...wrapInArray(r.value),_]:wrapInArray(r.value).filter(C=>!t.valueComparator(C,o.value))),e?e.modelValue.value=y:r.value=y}}),{textColorClasses:d,textColorStyles:f}=useTextColor(computed(()=>c.value&&!t.error&&!t.disabled?t.color:void 0)),g=computed(()=>c.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:o,falseValue:s,model:c,textColorClasses:d,textColorStyles:f,icon:g}}const VSelectionControl=genericComponent()({name:"VSelectionControl",directives:{Ripple},inheritAttrs:!1,props:makeSelectionControlProps(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{densityClasses:o,icon:s,model:a,textColorClasses:c,textColorStyles:d,trueValue:f}=useSelectionControl(t),g=getUid(),v=computed(()=>t.id||`input-${g}`),_=ref$1(!1),y=ref$1(!1),C=ref$1();function S(T){_.value=!0,(!SUPPORTS_FOCUS_VISIBLE||SUPPORTS_FOCUS_VISIBLE&&T.target.matches(":focus-visible"))&&(y.value=!0)}function x(){_.value=!1,y.value=!1}function A(T){a.value=T.target.checked}return useRender(()=>{var T,E;const L=r.label?r.label({label:t.label,props:{for:v.value}}):t.label,[P,O]=filterInputAttrs(n);return createVNode("div",mergeProps({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":_.value,"v-selection-control--focus-visible":y.value,"v-selection-control--inline":t.inline},o.value]},P),[createVNode("div",{class:["v-selection-control__wrapper",c.value],style:d.value},[(T=r.default)==null?void 0:T.call(r),withDirectives(createVNode("div",{class:["v-selection-control__input"]},[s.value&&createVNode(VIcon,{key:"icon",icon:s.value},null),createVNode("input",mergeProps({ref:C,checked:a.value,disabled:t.disabled,id:v.value,onBlur:x,onFocus:S,onInput:A,"aria-readonly":t.readonly,type:t.type,value:f.value,name:t.name,"aria-checked":t.type==="checkbox"?a.value:void 0},O),null),(E=r.input)==null?void 0:E.call(r,{model:a,textColorClasses:c,textColorStyles:d,props:{onFocus:S,onBlur:x,id:v.value}})]),[[resolveDirective("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),L&&createVNode(VLabel,{for:v.value,clickable:!0},{default:()=>[L]})])}),{isFocused:_,input:C}}});function filterControlProps(t){return pick(t,Object.keys(VSelectionControl.props))}const VRadio=defineComponent({name:"VRadio",props:{...makeSelectionControlProps({falseIcon:"$radioOff",trueIcon:"$radioOn"})},setup(t,e){let{slots:n}=e;return useRender(()=>createVNode(VSelectionControl,mergeProps(t,{class:"v-radio",type:"radio"}),n)),{}}}),VRadioGroup$1="",VRadioGroup=defineComponent({name:"VRadioGroup",inheritAttrs:!1,props:{height:{type:[Number,String],default:"auto"},...makeVInputProps(),...omit(makeSelectionControlGroupProps(),["multiple"]),trueIcon:{type:IconValue,default:"$radioOn"},falseIcon:{type:IconValue,default:"$radioOff"},type:{type:String,default:"radio"}},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const o=getUid(),s=computed(()=>t.id||`radio-group-${o}`),a=useProxiedModel(t,"modelValue");return useRender(()=>{const[c,d]=filterInputAttrs(n),[f,g]=filterInputProps(t),[v,_]=filterControlProps({...t,multiple:!1}),y=r.label?r.label({label:t.label,props:{for:s.value}}):t.label;return createVNode(VInput,mergeProps({class:"v-radio-group"},c,f,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,id:s.value}),{...r,default:C=>{let{id:S,isDisabled:x,isReadonly:A}=C;return createVNode(Fragment,null,[y&&createVNode(VLabel,{for:S.value,clickable:!0},{default:()=>[y]}),createVNode(VSelectionControlGroup,mergeProps(v,{id:S.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:x.value,readonly:A.value},d,{modelValue:a.value,"onUpdate:modelValue":T=>a.value=T}),r)])}})}),{}}}),VSelect$1="",VCheckbox$1="",makeVCheckboxBtnProps=propsFactory({indeterminate:Boolean,indeterminateIcon:{type:IconValue,default:"$checkboxIndeterminate"},...makeSelectionControlProps({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),VCheckboxBtn=defineComponent({name:"VCheckboxBtn",props:makeVCheckboxBtnProps(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"indeterminate"),o=useProxiedModel(t,"modelValue");function s(d){r.value&&(r.value=!1)}const a=computed(()=>t.indeterminate?t.indeterminateIcon:t.falseIcon),c=computed(()=>t.indeterminate?t.indeterminateIcon:t.trueIcon);return useRender(()=>createVNode(VSelectionControl,mergeProps(t,{modelValue:o.value,"onUpdate:modelValue":[d=>o.value=d,s],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:a.value,trueIcon:c.value,"aria-checked":t.indeterminate?"mixed":void 0}),n)),{}}});function filterCheckboxBtnProps(t){return pick(t,Object.keys(VCheckboxBtn.props))}const VCheckbox=defineComponent({name:"VCheckbox",inheritAttrs:!1,props:{...makeVInputProps(),...makeVCheckboxBtnProps()},emits:{"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{isFocused:o,focus:s,blur:a}=useFocus(t),c=getUid(),d=computed(()=>t.id||`checkbox-${c}`);return useRender(()=>{const[f,g]=filterInputAttrs(n),[v,_]=filterInputProps(t),[y,C]=filterCheckboxBtnProps(t);return createVNode(VInput,mergeProps({class:"v-checkbox"},f,v,{id:d.value,focused:o.value}),{...r,default:S=>{let{id:x,isDisabled:A,isReadonly:T}=S;return createVNode(VCheckboxBtn,mergeProps(y,{id:x.value,disabled:A.value,readonly:T.value},g,{onFocus:s,onBlur:a}),r)}})}),{}}}),VChip$1="",VChipGroup="",VChipGroupSymbol=Symbol.for("vuetify:v-chip-group");defineComponent({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:deepEqual$1},...makeGroupProps({selectedClass:"v-chip--selected"}),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:r}=provideTheme(t),{isSelected:o,select:s,next:a,prev:c,selected:d}=useGroup(t,VChipGroupSymbol);return provideDefaults({VChip:{color:toRef(t,"color"),filter:toRef(t,"filter"),variant:toRef(t,"variant")}}),useRender(()=>{var f;return createVNode(t.tag,{class:["v-chip-group",{"v-chip-group--column":t.column},r.value]},{default:()=>[(f=n.default)==null?void 0:f.call(n,{isSelected:o,select:s,next:a,prev:c,selected:d.value})]})}),{}}});const VChip=defineComponent({name:"VChip",directives:{Ripple},props:{activeClass:String,appendAvatar:String,appendIcon:IconValue,closable:Boolean,closeIcon:{type:IconValue,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,pill:Boolean,prependAvatar:String,prependIcon:IconValue,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},...makeBorderProps(),...makeDensityProps(),...makeElevationProps(),...makeGroupItemProps(),...makeRoundedProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"span"}),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{borderClasses:s}=useBorder(t),{colorClasses:a,colorStyles:c,variantClasses:d}=useVariant(t),{densityClasses:f}=useDensity(t),{elevationClasses:g}=useElevation(t),{roundedClasses:v}=useRounded(t),{sizeClasses:_}=useSize(t),{themeClasses:y}=provideTheme(t),C=useProxiedModel(t,"modelValue"),S=useGroupItem(t,VChipGroupSymbol,!1),x=useLink$1(t,n);function A(T){C.value=!1,r("click:close",T)}return()=>{var T;const E=x.isLink.value?"a":t.tag,L=!!(o.append||t.appendIcon||t.appendAvatar),P=!!(o.close||t.closable),O=!!(o.filter||t.filter)&&S,D=!!(o.prepend||t.prependIcon||t.prependAvatar),N=!S||S.isSelected.value,B=!t.disabled&&(!!S||x.isClickable.value||t.link),q=t.link?t.link:S==null?void 0:S.toggle;return C.value&&withDirectives(createVNode(E,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":B,"v-chip--filter":O,"v-chip--pill":t.pill},y.value,s.value,N?a.value:void 0,f.value,g.value,v.value,_.value,d.value,S==null?void 0:S.selectedClass.value],style:[N?c.value:void 0],disabled:t.disabled||void 0,draggable:t.draggable,href:x.href.value,onClick:B&&q},{default:()=>{var G;return[genOverlays(B,"v-chip"),O&&createVNode(VDefaultsProvider,{key:"filter",defaults:{VIcon:{icon:t.filterIcon}}},{default:()=>[createVNode(VExpandXTransition,null,{default:()=>[withDirectives(createVNode("div",{class:"v-chip__filter"},[o.filter?o.filter():createVNode(VIcon,null,null)]),[[vShow,S.isSelected.value]])]})]}),D&&createVNode(VDefaultsProvider,{key:"prepend",defaults:{VAvatar:{image:t.prependAvatar},VIcon:{icon:t.prependIcon}}},{default:()=>[o.prepend?createVNode("div",{class:"v-chip__prepend"},[o.prepend()]):t.prependAvatar?createVNode(VAvatar,{start:!0},null):t.prependIcon?createVNode(VIcon,{start:!0},null):void 0]}),(G=(T=o.default)==null?void 0:T.call(o,{isSelected:S==null?void 0:S.isSelected.value,selectedClass:S==null?void 0:S.selectedClass.value,select:S==null?void 0:S.select,toggle:S==null?void 0:S.toggle,value:S==null?void 0:S.value.value,disabled:t.disabled}))!=null?G:t.text,L&&createVNode(VDefaultsProvider,{key:"append",defaults:{VAvatar:{image:t.appendAvatar},VIcon:{icon:t.appendIcon}}},{default:()=>[o.append?createVNode("div",{class:"v-chip__append"},[o.append()]):t.appendAvatar?createVNode(VAvatar,{end:!0},null):t.appendIcon?createVNode(VIcon,{end:!0},null):void 0]}),P&&createVNode(VDefaultsProvider,{key:"close",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},{default:()=>[createVNode("div",{class:"v-chip__close",onClick:A},[o.close?o.close():createVNode(VIcon,null,null)])]})]}}),[[resolveDirective("ripple"),B&&t.ripple,null]])}}}),makeSelectProps=propsFactory({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:IconValue,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,...makeItemsProps({itemChildren:!1})},"v-select"),VSelect=genericComponent()({name:"VSelect",props:{...makeSelectProps(),...omit(makeVTextFieldProps({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...makeTransitionProps({transition:{component:VDialogTransition}})},emits:{"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:r}=useLocale(),o=ref$1(),s=useProxiedModel(t,"menu"),{items:a,transformIn:c,transformOut:d}=useItems(t),f=useProxiedModel(t,"modelValue",[],E=>c(wrapInArray(E)),E=>{var P;const L=d(E);return t.multiple?L:(P=L[0])!=null?P:null}),g=computed(()=>f.value.map(E=>a.value.find(L=>L.value===E.value)||E)),v=computed(()=>g.value.map(E=>E.props.value)),_=ref$1();function y(E){f.value=[],t.openOnClear&&(s.value=!0)}function C(){t.hideNoData&&!a.value.length||t.readonly||(s.value=!s.value)}function S(E){if(!t.readonly){if(["Enter","ArrowDown"," "].includes(E.key)&&(E.preventDefault(),s.value=!0),["Escape","Tab"].includes(E.key)&&(s.value=!1),E.key==="ArrowDown"){var L;(L=_.value)==null||L.focus("next")}else if(E.key==="ArrowUp"){var P;E.preventDefault(),(P=_.value)==null||P.focus("prev")}else if(E.key==="Home"){var O;E.preventDefault(),(O=_.value)==null||O.focus("first")}else if(E.key==="End"){var D;E.preventDefault(),(D=_.value)==null||D.focus("last")}}}function x(E){if(t.multiple){const L=v.value.findIndex(P=>P===E.value);if(L===-1)f.value=[...f.value,E];else{const P=[...f.value];P.splice(L,1),f.value=P}}else f.value=[E],s.value=!1}function A(E){var L;(L=_.value)!=null&&L.$el.contains(E.relatedTarget)||(s.value=!1)}function T(E){if(E.relatedTarget==null){var L;(L=o.value)==null||L.focus()}}return useRender(()=>{const E=!!(t.chips||n.chip),[L]=filterVTextFieldProps(t);return createVNode(VTextField,mergeProps({ref:o},L,{modelValue:f.value.map(P=>P.props.value).join(", "),"onUpdate:modelValue":P=>{P==null&&(f.value=[])},validationValue:f.externalValue,dirty:f.value.length>0,class:["v-select",{"v-select--active-menu":s.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length}],appendInnerIcon:t.menuIcon,readonly:!0,"onClick:clear":y,"onClick:control":C,onBlur:A,onKeydown:S}),{...n,default:()=>{var P,O,D;return createVNode(Fragment,null,[createVNode(VMenu,mergeProps({modelValue:s.value,"onUpdate:modelValue":N=>s.value=N,activator:"parent",contentClass:"v-select__content",eager:t.eager,openOnClick:!1,closeOnContentClick:!1,transition:t.transition},t.menuProps),{default:()=>[createVNode(VList,{ref:_,selected:v.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:N=>N.preventDefault(),onFocusout:T},{default:()=>{var N;return[!a.value.length&&!t.hideNoData&&((N=(P=n["no-data"])==null?void 0:P.call(n))!=null?N:createVNode(VListItem,{title:r(t.noDataText)},null)),(O=n["prepend-item"])==null?void 0:O.call(n),a.value.map((B,q)=>{var W;var G;return(W=(G=n.item)==null?void 0:G.call(n,{item:B,index:q,props:mergeProps(B.props,{onClick:()=>x(B)})}))!=null?W:createVNode(VListItem,mergeProps({key:q},B.props,{onClick:()=>x(B)}),{prepend:J=>{let{isSelected:U}=J;return t.multiple&&!t.hideSelected?createVNode(VCheckboxBtn,{modelValue:U,ripple:!1},null):void 0}})}),(D=n["append-item"])==null?void 0:D.call(n)]}})]}),g.value.map((N,B)=>{function q(W){W.stopPropagation(),W.preventDefault(),x(N)}const G={"onClick:close":q,modelValue:!0,"onUpdate:modelValue":void 0};return createVNode("div",{key:N.value,class:"v-select__selection"},[E?createVNode(VDefaultsProvider,{defaults:{VChip:{closable:t.closableChips,size:"small",text:N.title}}},{default:()=>[n.chip?n.chip({item:N,index:B,props:G}):createVNode(VChip,G,null)]}):n.selection?n.selection({item:N,index:B}):createVNode("span",{class:"v-select__selection-text"},[N.title,t.multiple&&B<g.value.length-1&&createVNode("span",{class:"v-select__selection-comma"},[createTextVNode(",")])])])})])}})}),forwardRefs({menu:s,select:x},o)}}),_sfc_main$b={data:()=>({color:"",type:"bgColors",section:null,sections:["Schemes","Masterminds","Villains","Henchmen","Heroes"]}),watch:{section(){this.updateColor()},type(){this.updateColor()},color(){!this.section||(this.userSettings[this.type][this.section.toLowerCase()]=this.color,this.updateSettings())}},computed:{...mapState(useStore,["userSettings"]),sample(){return this.updateColor(),this.section?{bgColor:this.userSettings.bgColors[this.section.toLowerCase()],textColor:this.userSettings.textColors[this.section.toLowerCase()]}:null}},methods:{...mapActions(useStore,["updateSettings"]),updateColor(){if(!this.section)return null;this.color=this.userSettings[this.type][this.section.toLowerCase()]}}},_hoisted_1$4={class:"d-flex"};function _sfc_render$b(t,e,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VRow,{justify:"center"},{default:withCtx(()=>[createVNode(VSelect,{label:"Section",modelValue:t.section,"onUpdate:modelValue":e[0]||(e[0]=a=>t.section=a),items:t.sections},null,8,["modelValue","items"])]),_:1}),createVNode(VRow,{justify:"center"},{default:withCtx(()=>[createVNode(VRadioGroup,{modelValue:t.type,"onUpdate:modelValue":e[1]||(e[1]=a=>t.type=a),density:"compact"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$4,[createVNode(VRadio,{value:"bgColors",label:"Background Color"}),createVNode(VRadio,{value:"textColors",label:"Text Color"})])]),_:1},8,["modelValue"])]),_:1}),createVNode(VRow,{justify:"center"},{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VColorPicker,{"hide-inputs":"","hide-canvas":"","show-swatches":"",model:"hex","swatches-max-height":"40vh",modelValue:t.color,"onUpdate:modelValue":e[2]||(e[2]=a=>t.color=a)},null,8,["modelValue"])]),_:1})]),_:1}),createVNode(VRow,{justify:"center"},{default:withCtx(()=>[t.section?(openBlock(),createBlock(VCard,{key:0,color:t.userSettings.bgColors[t.section?t.section.toLowerCase():""]},{default:withCtx(()=>[createVNode(VCardTitle,{style:normalizeStyle(`color:${t.userSettings.textColors[t.section?t.section.toLowerCase():""]}`)},{default:withCtx(()=>[createTextVNode(toDisplayString(t.section),1)]),_:1},8,["style"])]),_:1},8,["color"])):createCommentVNode("",!0)]),_:1})]),_:1})])}const Colors=_export_sfc(_sfc_main$b,[["render",_sfc_render$b]]),_sfc_main$a={computed:{...mapState(useStore,["userSettings","expansionList"]),userExpansions:{get(){return this.userSettings.expansions||[]},set(t){this.userSettings.expansions=t,this.updateSettings()}},allExpansions(){return this.expansionList.sort((t,e)=>t.expansion<e.expansion?-1:1)}},methods:{...mapActions(useStore,["updateSettings"])}},_hoisted_1$3={style:{height:"85vh","overflow-y":"scroll"}};function _sfc_render$a(t,e,n,r,o,s){const a=resolveDirective("key");return openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.allExpansions,c=>(openBlock(),createBlock(VListItem,null,{default:withCtx(()=>[withDirectives(createVNode(VCheckbox,{label:c.expansion,modelValue:s.userExpansions,"onUpdate:modelValue":e[0]||(e[0]=d=>s.userExpansions=d),textContent:toDisplayString(c),value:c.id,density:"compact"},null,8,["label","modelValue","textContent","value"]),[[a,t.id]])]),_:2},1024))),256))]),_:1})])}const Expansions=_export_sfc(_sfc_main$a,[["render",_sfc_render$a]]),_sfc_main$9={data:()=>({selected:null}),computed:{...mapState(useStore,["userSettings"]),itemList(){return this.userSettings.enemiesLayout.map(t=>lodash.exports.startCase(t))},itemPosition(){return this.itemList.indexOf(this.selected)},endPosition(){return this.itemList.length-1}},methods:{...mapActions(useStore,["updateSettings"]),moveItem(t){const e=this.itemPosition,n=t=="up"?e-1:e+1;this.userSettings.enemiesLayout.splice(n,0,this.userSettings.enemiesLayout.splice(e,1)[0]),this.updateSettings()}}};function _sfc_render$9(t,e,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VRadioGroup,{modelValue:t.selected,"onUpdate:modelValue":e[0]||(e[0]=a=>t.selected=a)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.itemList,a=>(openBlock(),createBlock(VRadio,{value:a,label:a},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"3"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",class:"mb-5",disabled:s.itemPosition<=0},{default:withCtx(()=>[createVNode(VIcon,{onClick:e[1]||(e[1]=a=>s.moveItem("up"))},{default:withCtx(()=>[createTextVNode(" mdi-chevron-up ")]),_:1})]),_:1},8,["disabled"]),createVNode(VBtn,{icon:"",disabled:s.itemPosition==-1||s.itemPosition==s.endPosition},{default:withCtx(()=>[createVNode(VIcon,{onClick:e[2]||(e[2]=a=>s.moveItem("down"))},{default:withCtx(()=>[createTextVNode(" mdi-chevron-down ")]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})])}const Layout=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]),_sfc_main$8={computed:{...mapState(useStore,["userSettings"])},methods:{...mapActions(useStore,["updateSettings"]),showChange(){this.updateSettings()}}};function _sfc_render$8(t,e,n,r,o,s){return openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[createVNode(VCard,{flat:""},{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[createTextVNode(" Options ")]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VCheckbox,{modelValue:t.userSettings.useEpics,"onUpdate:modelValue":e[0]||(e[0]=a=>t.userSettings.useEpics=a),label:"Allow Epic Masterminds",density:"compact","hide-details":"",onChange:s.showChange},null,8,["modelValue","onChange"]),createVNode(VCheckbox,{modelValue:t.userSettings.usePlayedCount,"onUpdate:modelValue":e[1]||(e[1]=a=>t.userSettings.usePlayedCount=a),label:"Use Played Count",density:"compact","hide-details":"",onChange:s.showChange},null,8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1})])}const Options=_export_sfc(_sfc_main$8,[["render",_sfc_render$8]]),_sfc_main$7={components:{Colors,Expansions,Layout,Options},props:["section"],data:()=>({menuItems:[{name:"Options",path:"/settings/options",icon:"mdi-cog"},{name:"Expansions",path:"/settings/expansions",icon:"mdi-format-list-checks"},{name:"Layout",path:"/settings/layout",icon:"mdi-view-dashboard"},{name:"Colors",path:"/settings/colors",icon:"mdi-palette"}],tab:0,showNav:!1}),computed:{sectionName(){return this.section===""?"Options":lodash.exports.startCase(this.section.shift())}}};function _sfc_render$7(t,e,n,r,o,s){return openBlock(),createElementBlock(Fragment,null,[createVNode(VToolbar,{density:"compact",color:"grey"},{default:withCtx(()=>[createVNode(VBtn,{to:"/dashboard",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(" mdi-arrow-left-circle ")]),_:1})]),_:1}),createVNode(VSpacer),createVNode(VToolbarTitle,null,{default:withCtx(()=>[createTextVNode(" Settings ")]),_:1}),createVNode(VSpacer),createVNode(VMenu,null,{activator:withCtx(({props:a})=>[createVNode(VBtn,mergeProps(a,{icon:"mdi-cogs"}),null,16)]),default:withCtx(()=>[createVNode(VCard,{color:"grey"},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.menuItems,a=>(openBlock(),createBlock(VListItem,{to:a.path||"",onClick:a.action},{prepend:withCtx(()=>[createVNode(VIcon,{icon:a.icon},null,8,["icon"])]),default:withCtx(()=>[createVNode(VListItemTitle,{textContent:toDisplayString(a.name)},null,8,["textContent"])]),_:2},1032,["to","onClick"]))),256))]),_:1})]),_:1})]),_:1})]),_:1}),(openBlock(),createBlock(resolveDynamicComponent(s.sectionName)))],64)}const Settings=_export_sfc(_sfc_main$7,[["render",_sfc_render$7]]);var markdownIt$1={exports:{}},utils$1={},entities$1={exports:{}};const Aacute="\xC1",aacute="\xE1",Abreve="\u0102",abreve="\u0103",ac="\u223E",acd="\u223F",acE="\u223E\u0333",Acirc="\xC2",acirc="\xE2",acute="\xB4",Acy="\u0410",acy="\u0430",AElig="\xC6",aelig="\xE6",af="\u2061",Afr="\u{1D504}",afr="\u{1D51E}",Agrave="\xC0",agrave="\xE0",alefsym="\u2135",aleph="\u2135",Alpha="\u0391",alpha="\u03B1",Amacr="\u0100",amacr="\u0101",amalg="\u2A3F",amp="&",AMP="&",andand="\u2A55",And="\u2A53",and="\u2227",andd="\u2A5C",andslope="\u2A58",andv="\u2A5A",ang="\u2220",ange="\u29A4",angle="\u2220",angmsdaa="\u29A8",angmsdab="\u29A9",angmsdac="\u29AA",angmsdad="\u29AB",angmsdae="\u29AC",angmsdaf="\u29AD",angmsdag="\u29AE",angmsdah="\u29AF",angmsd="\u2221",angrt="\u221F",angrtvb="\u22BE",angrtvbd="\u299D",angsph="\u2222",angst="\xC5",angzarr="\u237C",Aogon="\u0104",aogon="\u0105",Aopf="\u{1D538}",aopf="\u{1D552}",apacir="\u2A6F",ap="\u2248",apE="\u2A70",ape="\u224A",apid="\u224B",apos="'",ApplyFunction="\u2061",approx="\u2248",approxeq="\u224A",Aring="\xC5",aring="\xE5",Ascr="\u{1D49C}",ascr="\u{1D4B6}",Assign="\u2254",ast="*",asymp="\u2248",asympeq="\u224D",Atilde="\xC3",atilde="\xE3",Auml="\xC4",auml="\xE4",awconint="\u2233",awint="\u2A11",backcong="\u224C",backepsilon="\u03F6",backprime="\u2035",backsim="\u223D",backsimeq="\u22CD",Backslash="\u2216",Barv="\u2AE7",barvee="\u22BD",barwed="\u2305",Barwed="\u2306",barwedge="\u2305",bbrk="\u23B5",bbrktbrk="\u23B6",bcong="\u224C",Bcy="\u0411",bcy="\u0431",bdquo="\u201E",becaus="\u2235",because="\u2235",Because="\u2235",bemptyv="\u29B0",bepsi="\u03F6",bernou="\u212C",Bernoullis="\u212C",Beta="\u0392",beta="\u03B2",beth="\u2136",between="\u226C",Bfr="\u{1D505}",bfr="\u{1D51F}",bigcap="\u22C2",bigcirc="\u25EF",bigcup="\u22C3",bigodot="\u2A00",bigoplus="\u2A01",bigotimes="\u2A02",bigsqcup="\u2A06",bigstar="\u2605",bigtriangledown="\u25BD",bigtriangleup="\u25B3",biguplus="\u2A04",bigvee="\u22C1",bigwedge="\u22C0",bkarow="\u290D",blacklozenge="\u29EB",blacksquare="\u25AA",blacktriangle="\u25B4",blacktriangledown="\u25BE",blacktriangleleft="\u25C2",blacktriangleright="\u25B8",blank="\u2423",blk12="\u2592",blk14="\u2591",blk34="\u2593",block$1="\u2588",bne="=\u20E5",bnequiv="\u2261\u20E5",bNot="\u2AED",bnot="\u2310",Bopf="\u{1D539}",bopf="\u{1D553}",bot="\u22A5",bottom="\u22A5",bowtie="\u22C8",boxbox="\u29C9",boxdl="\u2510",boxdL="\u2555",boxDl="\u2556",boxDL="\u2557",boxdr="\u250C",boxdR="\u2552",boxDr="\u2553",boxDR="\u2554",boxh="\u2500",boxH="\u2550",boxhd="\u252C",boxHd="\u2564",boxhD="\u2565",boxHD="\u2566",boxhu="\u2534",boxHu="\u2567",boxhU="\u2568",boxHU="\u2569",boxminus="\u229F",boxplus="\u229E",boxtimes="\u22A0",boxul="\u2518",boxuL="\u255B",boxUl="\u255C",boxUL="\u255D",boxur="\u2514",boxuR="\u2558",boxUr="\u2559",boxUR="\u255A",boxv="\u2502",boxV="\u2551",boxvh="\u253C",boxvH="\u256A",boxVh="\u256B",boxVH="\u256C",boxvl="\u2524",boxvL="\u2561",boxVl="\u2562",boxVL="\u2563",boxvr="\u251C",boxvR="\u255E",boxVr="\u255F",boxVR="\u2560",bprime="\u2035",breve="\u02D8",Breve="\u02D8",brvbar="\xA6",bscr="\u{1D4B7}",Bscr="\u212C",bsemi="\u204F",bsim="\u223D",bsime="\u22CD",bsolb="\u29C5",bsol="\\",bsolhsub="\u27C8",bull="\u2022",bullet="\u2022",bump="\u224E",bumpE="\u2AAE",bumpe="\u224F",Bumpeq="\u224E",bumpeq="\u224F",Cacute="\u0106",cacute="\u0107",capand="\u2A44",capbrcup="\u2A49",capcap="\u2A4B",cap="\u2229",Cap="\u22D2",capcup="\u2A47",capdot="\u2A40",CapitalDifferentialD="\u2145",caps="\u2229\uFE00",caret="\u2041",caron="\u02C7",Cayleys="\u212D",ccaps="\u2A4D",Ccaron="\u010C",ccaron="\u010D",Ccedil="\xC7",ccedil="\xE7",Ccirc="\u0108",ccirc="\u0109",Cconint="\u2230",ccups="\u2A4C",ccupssm="\u2A50",Cdot="\u010A",cdot="\u010B",cedil="\xB8",Cedilla="\xB8",cemptyv="\u29B2",cent="\xA2",centerdot="\xB7",CenterDot="\xB7",cfr="\u{1D520}",Cfr="\u212D",CHcy="\u0427",chcy="\u0447",check="\u2713",checkmark="\u2713",Chi="\u03A7",chi="\u03C7",circ="\u02C6",circeq="\u2257",circlearrowleft="\u21BA",circlearrowright="\u21BB",circledast="\u229B",circledcirc="\u229A",circleddash="\u229D",CircleDot="\u2299",circledR="\xAE",circledS="\u24C8",CircleMinus="\u2296",CirclePlus="\u2295",CircleTimes="\u2297",cir="\u25CB",cirE="\u29C3",cire="\u2257",cirfnint="\u2A10",cirmid="\u2AEF",cirscir="\u29C2",ClockwiseContourIntegral="\u2232",CloseCurlyDoubleQuote="\u201D",CloseCurlyQuote="\u2019",clubs="\u2663",clubsuit="\u2663",colon=":",Colon="\u2237",Colone="\u2A74",colone="\u2254",coloneq="\u2254",comma=",",commat="@",comp="\u2201",compfn="\u2218",complement="\u2201",complexes="\u2102",cong="\u2245",congdot="\u2A6D",Congruent="\u2261",conint="\u222E",Conint="\u222F",ContourIntegral="\u222E",copf="\u{1D554}",Copf="\u2102",coprod="\u2210",Coproduct="\u2210",copy="\xA9",COPY="\xA9",copysr="\u2117",CounterClockwiseContourIntegral="\u2233",crarr="\u21B5",cross="\u2717",Cross="\u2A2F",Cscr="\u{1D49E}",cscr="\u{1D4B8}",csub="\u2ACF",csube="\u2AD1",csup="\u2AD0",csupe="\u2AD2",ctdot="\u22EF",cudarrl="\u2938",cudarrr="\u2935",cuepr="\u22DE",cuesc="\u22DF",cularr="\u21B6",cularrp="\u293D",cupbrcap="\u2A48",cupcap="\u2A46",CupCap="\u224D",cup="\u222A",Cup="\u22D3",cupcup="\u2A4A",cupdot="\u228D",cupor="\u2A45",cups="\u222A\uFE00",curarr="\u21B7",curarrm="\u293C",curlyeqprec="\u22DE",curlyeqsucc="\u22DF",curlyvee="\u22CE",curlywedge="\u22CF",curren="\xA4",curvearrowleft="\u21B6",curvearrowright="\u21B7",cuvee="\u22CE",cuwed="\u22CF",cwconint="\u2232",cwint="\u2231",cylcty="\u232D",dagger="\u2020",Dagger="\u2021",daleth="\u2138",darr="\u2193",Darr="\u21A1",dArr="\u21D3",dash="\u2010",Dashv="\u2AE4",dashv="\u22A3",dbkarow="\u290F",dblac="\u02DD",Dcaron="\u010E",dcaron="\u010F",Dcy="\u0414",dcy="\u0434",ddagger="\u2021",ddarr="\u21CA",DD="\u2145",dd="\u2146",DDotrahd="\u2911",ddotseq="\u2A77",deg="\xB0",Del="\u2207",Delta="\u0394",delta="\u03B4",demptyv="\u29B1",dfisht="\u297F",Dfr="\u{1D507}",dfr="\u{1D521}",dHar="\u2965",dharl="\u21C3",dharr="\u21C2",DiacriticalAcute="\xB4",DiacriticalDot="\u02D9",DiacriticalDoubleAcute="\u02DD",DiacriticalGrave="`",DiacriticalTilde="\u02DC",diam="\u22C4",diamond="\u22C4",Diamond="\u22C4",diamondsuit="\u2666",diams="\u2666",die="\xA8",DifferentialD="\u2146",digamma="\u03DD",disin="\u22F2",div="\xF7",divide="\xF7",divideontimes="\u22C7",divonx="\u22C7",DJcy="\u0402",djcy="\u0452",dlcorn="\u231E",dlcrop="\u230D",dollar="$",Dopf="\u{1D53B}",dopf="\u{1D555}",Dot="\xA8",dot="\u02D9",DotDot="\u20DC",doteq="\u2250",doteqdot="\u2251",DotEqual="\u2250",dotminus="\u2238",dotplus="\u2214",dotsquare="\u22A1",doublebarwedge="\u2306",DoubleContourIntegral="\u222F",DoubleDot="\xA8",DoubleDownArrow="\u21D3",DoubleLeftArrow="\u21D0",DoubleLeftRightArrow="\u21D4",DoubleLeftTee="\u2AE4",DoubleLongLeftArrow="\u27F8",DoubleLongLeftRightArrow="\u27FA",DoubleLongRightArrow="\u27F9",DoubleRightArrow="\u21D2",DoubleRightTee="\u22A8",DoubleUpArrow="\u21D1",DoubleUpDownArrow="\u21D5",DoubleVerticalBar="\u2225",DownArrowBar="\u2913",downarrow="\u2193",DownArrow="\u2193",Downarrow="\u21D3",DownArrowUpArrow="\u21F5",DownBreve="\u0311",downdownarrows="\u21CA",downharpoonleft="\u21C3",downharpoonright="\u21C2",DownLeftRightVector="\u2950",DownLeftTeeVector="\u295E",DownLeftVectorBar="\u2956",DownLeftVector="\u21BD",DownRightTeeVector="\u295F",DownRightVectorBar="\u2957",DownRightVector="\u21C1",DownTeeArrow="\u21A7",DownTee="\u22A4",drbkarow="\u2910",drcorn="\u231F",drcrop="\u230C",Dscr="\u{1D49F}",dscr="\u{1D4B9}",DScy="\u0405",dscy="\u0455",dsol="\u29F6",Dstrok="\u0110",dstrok="\u0111",dtdot="\u22F1",dtri="\u25BF",dtrif="\u25BE",duarr="\u21F5",duhar="\u296F",dwangle="\u29A6",DZcy="\u040F",dzcy="\u045F",dzigrarr="\u27FF",Eacute="\xC9",eacute="\xE9",easter="\u2A6E",Ecaron="\u011A",ecaron="\u011B",Ecirc="\xCA",ecirc="\xEA",ecir="\u2256",ecolon="\u2255",Ecy="\u042D",ecy="\u044D",eDDot="\u2A77",Edot="\u0116",edot="\u0117",eDot="\u2251",ee="\u2147",efDot="\u2252",Efr="\u{1D508}",efr="\u{1D522}",eg="\u2A9A",Egrave="\xC8",egrave="\xE8",egs="\u2A96",egsdot="\u2A98",el="\u2A99",Element$1="\u2208",elinters="\u23E7",ell="\u2113",els="\u2A95",elsdot="\u2A97",Emacr="\u0112",emacr="\u0113",empty="\u2205",emptyset="\u2205",EmptySmallSquare="\u25FB",emptyv="\u2205",EmptyVerySmallSquare="\u25AB",emsp13="\u2004",emsp14="\u2005",emsp="\u2003",ENG="\u014A",eng="\u014B",ensp="\u2002",Eogon="\u0118",eogon="\u0119",Eopf="\u{1D53C}",eopf="\u{1D556}",epar="\u22D5",eparsl="\u29E3",eplus="\u2A71",epsi="\u03B5",Epsilon="\u0395",epsilon="\u03B5",epsiv="\u03F5",eqcirc="\u2256",eqcolon="\u2255",eqsim="\u2242",eqslantgtr="\u2A96",eqslantless="\u2A95",Equal="\u2A75",equals="=",EqualTilde="\u2242",equest="\u225F",Equilibrium="\u21CC",equiv="\u2261",equivDD="\u2A78",eqvparsl="\u29E5",erarr="\u2971",erDot="\u2253",escr="\u212F",Escr="\u2130",esdot="\u2250",Esim="\u2A73",esim="\u2242",Eta="\u0397",eta="\u03B7",ETH="\xD0",eth="\xF0",Euml="\xCB",euml="\xEB",euro="\u20AC",excl="!",exist="\u2203",Exists="\u2203",expectation="\u2130",exponentiale="\u2147",ExponentialE="\u2147",fallingdotseq="\u2252",Fcy="\u0424",fcy="\u0444",female="\u2640",ffilig="\uFB03",fflig="\uFB00",ffllig="\uFB04",Ffr="\u{1D509}",ffr="\u{1D523}",filig="\uFB01",FilledSmallSquare="\u25FC",FilledVerySmallSquare="\u25AA",fjlig="fj",flat="\u266D",fllig="\uFB02",fltns="\u25B1",fnof="\u0192",Fopf="\u{1D53D}",fopf="\u{1D557}",forall="\u2200",ForAll="\u2200",fork="\u22D4",forkv="\u2AD9",Fouriertrf="\u2131",fpartint="\u2A0D",frac12="\xBD",frac13="\u2153",frac14="\xBC",frac15="\u2155",frac16="\u2159",frac18="\u215B",frac23="\u2154",frac25="\u2156",frac34="\xBE",frac35="\u2157",frac38="\u215C",frac45="\u2158",frac56="\u215A",frac58="\u215D",frac78="\u215E",frasl="\u2044",frown="\u2322",fscr="\u{1D4BB}",Fscr="\u2131",gacute="\u01F5",Gamma="\u0393",gamma="\u03B3",Gammad="\u03DC",gammad="\u03DD",gap="\u2A86",Gbreve="\u011E",gbreve="\u011F",Gcedil="\u0122",Gcirc="\u011C",gcirc="\u011D",Gcy="\u0413",gcy="\u0433",Gdot="\u0120",gdot="\u0121",ge="\u2265",gE="\u2267",gEl="\u2A8C",gel="\u22DB",geq="\u2265",geqq="\u2267",geqslant="\u2A7E",gescc="\u2AA9",ges="\u2A7E",gesdot="\u2A80",gesdoto="\u2A82",gesdotol="\u2A84",gesl="\u22DB\uFE00",gesles="\u2A94",Gfr="\u{1D50A}",gfr="\u{1D524}",gg="\u226B",Gg="\u22D9",ggg="\u22D9",gimel="\u2137",GJcy="\u0403",gjcy="\u0453",gla="\u2AA5",gl="\u2277",glE="\u2A92",glj="\u2AA4",gnap="\u2A8A",gnapprox="\u2A8A",gne="\u2A88",gnE="\u2269",gneq="\u2A88",gneqq="\u2269",gnsim="\u22E7",Gopf="\u{1D53E}",gopf="\u{1D558}",grave="`",GreaterEqual="\u2265",GreaterEqualLess="\u22DB",GreaterFullEqual="\u2267",GreaterGreater="\u2AA2",GreaterLess="\u2277",GreaterSlantEqual="\u2A7E",GreaterTilde="\u2273",Gscr="\u{1D4A2}",gscr="\u210A",gsim="\u2273",gsime="\u2A8E",gsiml="\u2A90",gtcc="\u2AA7",gtcir="\u2A7A",gt=">",GT=">",Gt="\u226B",gtdot="\u22D7",gtlPar="\u2995",gtquest="\u2A7C",gtrapprox="\u2A86",gtrarr="\u2978",gtrdot="\u22D7",gtreqless="\u22DB",gtreqqless="\u2A8C",gtrless="\u2277",gtrsim="\u2273",gvertneqq="\u2269\uFE00",gvnE="\u2269\uFE00",Hacek="\u02C7",hairsp="\u200A",half="\xBD",hamilt="\u210B",HARDcy="\u042A",hardcy="\u044A",harrcir="\u2948",harr="\u2194",hArr="\u21D4",harrw="\u21AD",Hat="^",hbar="\u210F",Hcirc="\u0124",hcirc="\u0125",hearts="\u2665",heartsuit="\u2665",hellip="\u2026",hercon="\u22B9",hfr="\u{1D525}",Hfr="\u210C",HilbertSpace="\u210B",hksearow="\u2925",hkswarow="\u2926",hoarr="\u21FF",homtht="\u223B",hookleftarrow="\u21A9",hookrightarrow="\u21AA",hopf="\u{1D559}",Hopf="\u210D",horbar="\u2015",HorizontalLine="\u2500",hscr="\u{1D4BD}",Hscr="\u210B",hslash="\u210F",Hstrok="\u0126",hstrok="\u0127",HumpDownHump="\u224E",HumpEqual="\u224F",hybull="\u2043",hyphen="\u2010",Iacute="\xCD",iacute="\xED",ic="\u2063",Icirc="\xCE",icirc="\xEE",Icy="\u0418",icy="\u0438",Idot="\u0130",IEcy="\u0415",iecy="\u0435",iexcl="\xA1",iff="\u21D4",ifr="\u{1D526}",Ifr="\u2111",Igrave="\xCC",igrave="\xEC",ii="\u2148",iiiint="\u2A0C",iiint="\u222D",iinfin="\u29DC",iiota="\u2129",IJlig="\u0132",ijlig="\u0133",Imacr="\u012A",imacr="\u012B",image$1="\u2111",ImaginaryI="\u2148",imagline="\u2110",imagpart="\u2111",imath="\u0131",Im="\u2111",imof="\u22B7",imped="\u01B5",Implies="\u21D2",incare="\u2105",infin="\u221E",infintie="\u29DD",inodot="\u0131",intcal="\u22BA",int="\u222B",Int="\u222C",integers="\u2124",Integral="\u222B",intercal="\u22BA",Intersection="\u22C2",intlarhk="\u2A17",intprod="\u2A3C",InvisibleComma="\u2063",InvisibleTimes="\u2062",IOcy="\u0401",iocy="\u0451",Iogon="\u012E",iogon="\u012F",Iopf="\u{1D540}",iopf="\u{1D55A}",Iota="\u0399",iota="\u03B9",iprod="\u2A3C",iquest="\xBF",iscr="\u{1D4BE}",Iscr="\u2110",isin="\u2208",isindot="\u22F5",isinE="\u22F9",isins="\u22F4",isinsv="\u22F3",isinv="\u2208",it="\u2062",Itilde="\u0128",itilde="\u0129",Iukcy="\u0406",iukcy="\u0456",Iuml="\xCF",iuml="\xEF",Jcirc="\u0134",jcirc="\u0135",Jcy="\u0419",jcy="\u0439",Jfr="\u{1D50D}",jfr="\u{1D527}",jmath="\u0237",Jopf="\u{1D541}",jopf="\u{1D55B}",Jscr="\u{1D4A5}",jscr="\u{1D4BF}",Jsercy="\u0408",jsercy="\u0458",Jukcy="\u0404",jukcy="\u0454",Kappa="\u039A",kappa="\u03BA",kappav="\u03F0",Kcedil="\u0136",kcedil="\u0137",Kcy="\u041A",kcy="\u043A",Kfr="\u{1D50E}",kfr="\u{1D528}",kgreen="\u0138",KHcy="\u0425",khcy="\u0445",KJcy="\u040C",kjcy="\u045C",Kopf="\u{1D542}",kopf="\u{1D55C}",Kscr="\u{1D4A6}",kscr="\u{1D4C0}",lAarr="\u21DA",Lacute="\u0139",lacute="\u013A",laemptyv="\u29B4",lagran="\u2112",Lambda="\u039B",lambda="\u03BB",lang="\u27E8",Lang="\u27EA",langd="\u2991",langle="\u27E8",lap="\u2A85",Laplacetrf="\u2112",laquo="\xAB",larrb="\u21E4",larrbfs="\u291F",larr="\u2190",Larr="\u219E",lArr="\u21D0",larrfs="\u291D",larrhk="\u21A9",larrlp="\u21AB",larrpl="\u2939",larrsim="\u2973",larrtl="\u21A2",latail="\u2919",lAtail="\u291B",lat="\u2AAB",late="\u2AAD",lates="\u2AAD\uFE00",lbarr="\u290C",lBarr="\u290E",lbbrk="\u2772",lbrace="{",lbrack="[",lbrke="\u298B",lbrksld="\u298F",lbrkslu="\u298D",Lcaron="\u013D",lcaron="\u013E",Lcedil="\u013B",lcedil="\u013C",lceil="\u2308",lcub="{",Lcy="\u041B",lcy="\u043B",ldca="\u2936",ldquo="\u201C",ldquor="\u201E",ldrdhar="\u2967",ldrushar="\u294B",ldsh="\u21B2",le="\u2264",lE="\u2266",LeftAngleBracket="\u27E8",LeftArrowBar="\u21E4",leftarrow="\u2190",LeftArrow="\u2190",Leftarrow="\u21D0",LeftArrowRightArrow="\u21C6",leftarrowtail="\u21A2",LeftCeiling="\u2308",LeftDoubleBracket="\u27E6",LeftDownTeeVector="\u2961",LeftDownVectorBar="\u2959",LeftDownVector="\u21C3",LeftFloor="\u230A",leftharpoondown="\u21BD",leftharpoonup="\u21BC",leftleftarrows="\u21C7",leftrightarrow="\u2194",LeftRightArrow="\u2194",Leftrightarrow="\u21D4",leftrightarrows="\u21C6",leftrightharpoons="\u21CB",leftrightsquigarrow="\u21AD",LeftRightVector="\u294E",LeftTeeArrow="\u21A4",LeftTee="\u22A3",LeftTeeVector="\u295A",leftthreetimes="\u22CB",LeftTriangleBar="\u29CF",LeftTriangle="\u22B2",LeftTriangleEqual="\u22B4",LeftUpDownVector="\u2951",LeftUpTeeVector="\u2960",LeftUpVectorBar="\u2958",LeftUpVector="\u21BF",LeftVectorBar="\u2952",LeftVector="\u21BC",lEg="\u2A8B",leg="\u22DA",leq="\u2264",leqq="\u2266",leqslant="\u2A7D",lescc="\u2AA8",les="\u2A7D",lesdot="\u2A7F",lesdoto="\u2A81",lesdotor="\u2A83",lesg="\u22DA\uFE00",lesges="\u2A93",lessapprox="\u2A85",lessdot="\u22D6",lesseqgtr="\u22DA",lesseqqgtr="\u2A8B",LessEqualGreater="\u22DA",LessFullEqual="\u2266",LessGreater="\u2276",lessgtr="\u2276",LessLess="\u2AA1",lesssim="\u2272",LessSlantEqual="\u2A7D",LessTilde="\u2272",lfisht="\u297C",lfloor="\u230A",Lfr="\u{1D50F}",lfr="\u{1D529}",lg="\u2276",lgE="\u2A91",lHar="\u2962",lhard="\u21BD",lharu="\u21BC",lharul="\u296A",lhblk="\u2584",LJcy="\u0409",ljcy="\u0459",llarr="\u21C7",ll="\u226A",Ll="\u22D8",llcorner="\u231E",Lleftarrow="\u21DA",llhard="\u296B",lltri="\u25FA",Lmidot="\u013F",lmidot="\u0140",lmoustache="\u23B0",lmoust="\u23B0",lnap="\u2A89",lnapprox="\u2A89",lne="\u2A87",lnE="\u2268",lneq="\u2A87",lneqq="\u2268",lnsim="\u22E6",loang="\u27EC",loarr="\u21FD",lobrk="\u27E6",longleftarrow="\u27F5",LongLeftArrow="\u27F5",Longleftarrow="\u27F8",longleftrightarrow="\u27F7",LongLeftRightArrow="\u27F7",Longleftrightarrow="\u27FA",longmapsto="\u27FC",longrightarrow="\u27F6",LongRightArrow="\u27F6",Longrightarrow="\u27F9",looparrowleft="\u21AB",looparrowright="\u21AC",lopar="\u2985",Lopf="\u{1D543}",lopf="\u{1D55D}",loplus="\u2A2D",lotimes="\u2A34",lowast="\u2217",lowbar="_",LowerLeftArrow="\u2199",LowerRightArrow="\u2198",loz="\u25CA",lozenge="\u25CA",lozf="\u29EB",lpar="(",lparlt="\u2993",lrarr="\u21C6",lrcorner="\u231F",lrhar="\u21CB",lrhard="\u296D",lrm="\u200E",lrtri="\u22BF",lsaquo="\u2039",lscr="\u{1D4C1}",Lscr="\u2112",lsh="\u21B0",Lsh="\u21B0",lsim="\u2272",lsime="\u2A8D",lsimg="\u2A8F",lsqb="[",lsquo="\u2018",lsquor="\u201A",Lstrok="\u0141",lstrok="\u0142",ltcc="\u2AA6",ltcir="\u2A79",lt="<",LT="<",Lt="\u226A",ltdot="\u22D6",lthree="\u22CB",ltimes="\u22C9",ltlarr="\u2976",ltquest="\u2A7B",ltri="\u25C3",ltrie="\u22B4",ltrif="\u25C2",ltrPar="\u2996",lurdshar="\u294A",luruhar="\u2966",lvertneqq="\u2268\uFE00",lvnE="\u2268\uFE00",macr="\xAF",male="\u2642",malt="\u2720",maltese="\u2720",map="\u21A6",mapsto="\u21A6",mapstodown="\u21A7",mapstoleft="\u21A4",mapstoup="\u21A5",marker="\u25AE",mcomma="\u2A29",Mcy="\u041C",mcy="\u043C",mdash="\u2014",mDDot="\u223A",measuredangle="\u2221",MediumSpace="\u205F",Mellintrf="\u2133",Mfr="\u{1D510}",mfr="\u{1D52A}",mho="\u2127",micro="\xB5",midast="*",midcir="\u2AF0",mid="\u2223",middot="\xB7",minusb="\u229F",minus="\u2212",minusd="\u2238",minusdu="\u2A2A",MinusPlus="\u2213",mlcp="\u2ADB",mldr="\u2026",mnplus="\u2213",models="\u22A7",Mopf="\u{1D544}",mopf="\u{1D55E}",mp="\u2213",mscr="\u{1D4C2}",Mscr="\u2133",mstpos="\u223E",Mu="\u039C",mu="\u03BC",multimap="\u22B8",mumap="\u22B8",nabla="\u2207",Nacute="\u0143",nacute="\u0144",nang="\u2220\u20D2",nap="\u2249",napE="\u2A70\u0338",napid="\u224B\u0338",napos="\u0149",napprox="\u2249",natural="\u266E",naturals="\u2115",natur="\u266E",nbsp="\xA0",nbump="\u224E\u0338",nbumpe="\u224F\u0338",ncap="\u2A43",Ncaron="\u0147",ncaron="\u0148",Ncedil="\u0145",ncedil="\u0146",ncong="\u2247",ncongdot="\u2A6D\u0338",ncup="\u2A42",Ncy="\u041D",ncy="\u043D",ndash="\u2013",nearhk="\u2924",nearr="\u2197",neArr="\u21D7",nearrow="\u2197",ne="\u2260",nedot="\u2250\u0338",NegativeMediumSpace="\u200B",NegativeThickSpace="\u200B",NegativeThinSpace="\u200B",NegativeVeryThinSpace="\u200B",nequiv="\u2262",nesear="\u2928",nesim="\u2242\u0338",NestedGreaterGreater="\u226B",NestedLessLess="\u226A",NewLine=`
`,nexist="\u2204",nexists="\u2204",Nfr="\u{1D511}",nfr="\u{1D52B}",ngE="\u2267\u0338",nge="\u2271",ngeq="\u2271",ngeqq="\u2267\u0338",ngeqslant="\u2A7E\u0338",nges="\u2A7E\u0338",nGg="\u22D9\u0338",ngsim="\u2275",nGt="\u226B\u20D2",ngt="\u226F",ngtr="\u226F",nGtv="\u226B\u0338",nharr="\u21AE",nhArr="\u21CE",nhpar="\u2AF2",ni="\u220B",nis="\u22FC",nisd="\u22FA",niv="\u220B",NJcy="\u040A",njcy="\u045A",nlarr="\u219A",nlArr="\u21CD",nldr="\u2025",nlE="\u2266\u0338",nle="\u2270",nleftarrow="\u219A",nLeftarrow="\u21CD",nleftrightarrow="\u21AE",nLeftrightarrow="\u21CE",nleq="\u2270",nleqq="\u2266\u0338",nleqslant="\u2A7D\u0338",nles="\u2A7D\u0338",nless="\u226E",nLl="\u22D8\u0338",nlsim="\u2274",nLt="\u226A\u20D2",nlt="\u226E",nltri="\u22EA",nltrie="\u22EC",nLtv="\u226A\u0338",nmid="\u2224",NoBreak="\u2060",NonBreakingSpace="\xA0",nopf="\u{1D55F}",Nopf="\u2115",Not="\u2AEC",not="\xAC",NotCongruent="\u2262",NotCupCap="\u226D",NotDoubleVerticalBar="\u2226",NotElement="\u2209",NotEqual="\u2260",NotEqualTilde="\u2242\u0338",NotExists="\u2204",NotGreater="\u226F",NotGreaterEqual="\u2271",NotGreaterFullEqual="\u2267\u0338",NotGreaterGreater="\u226B\u0338",NotGreaterLess="\u2279",NotGreaterSlantEqual="\u2A7E\u0338",NotGreaterTilde="\u2275",NotHumpDownHump="\u224E\u0338",NotHumpEqual="\u224F\u0338",notin="\u2209",notindot="\u22F5\u0338",notinE="\u22F9\u0338",notinva="\u2209",notinvb="\u22F7",notinvc="\u22F6",NotLeftTriangleBar="\u29CF\u0338",NotLeftTriangle="\u22EA",NotLeftTriangleEqual="\u22EC",NotLess="\u226E",NotLessEqual="\u2270",NotLessGreater="\u2278",NotLessLess="\u226A\u0338",NotLessSlantEqual="\u2A7D\u0338",NotLessTilde="\u2274",NotNestedGreaterGreater="\u2AA2\u0338",NotNestedLessLess="\u2AA1\u0338",notni="\u220C",notniva="\u220C",notnivb="\u22FE",notnivc="\u22FD",NotPrecedes="\u2280",NotPrecedesEqual="\u2AAF\u0338",NotPrecedesSlantEqual="\u22E0",NotReverseElement="\u220C",NotRightTriangleBar="\u29D0\u0338",NotRightTriangle="\u22EB",NotRightTriangleEqual="\u22ED",NotSquareSubset="\u228F\u0338",NotSquareSubsetEqual="\u22E2",NotSquareSuperset="\u2290\u0338",NotSquareSupersetEqual="\u22E3",NotSubset="\u2282\u20D2",NotSubsetEqual="\u2288",NotSucceeds="\u2281",NotSucceedsEqual="\u2AB0\u0338",NotSucceedsSlantEqual="\u22E1",NotSucceedsTilde="\u227F\u0338",NotSuperset="\u2283\u20D2",NotSupersetEqual="\u2289",NotTilde="\u2241",NotTildeEqual="\u2244",NotTildeFullEqual="\u2247",NotTildeTilde="\u2249",NotVerticalBar="\u2224",nparallel="\u2226",npar="\u2226",nparsl="\u2AFD\u20E5",npart="\u2202\u0338",npolint="\u2A14",npr="\u2280",nprcue="\u22E0",nprec="\u2280",npreceq="\u2AAF\u0338",npre="\u2AAF\u0338",nrarrc="\u2933\u0338",nrarr="\u219B",nrArr="\u21CF",nrarrw="\u219D\u0338",nrightarrow="\u219B",nRightarrow="\u21CF",nrtri="\u22EB",nrtrie="\u22ED",nsc="\u2281",nsccue="\u22E1",nsce="\u2AB0\u0338",Nscr="\u{1D4A9}",nscr="\u{1D4C3}",nshortmid="\u2224",nshortparallel="\u2226",nsim="\u2241",nsime="\u2244",nsimeq="\u2244",nsmid="\u2224",nspar="\u2226",nsqsube="\u22E2",nsqsupe="\u22E3",nsub="\u2284",nsubE="\u2AC5\u0338",nsube="\u2288",nsubset="\u2282\u20D2",nsubseteq="\u2288",nsubseteqq="\u2AC5\u0338",nsucc="\u2281",nsucceq="\u2AB0\u0338",nsup="\u2285",nsupE="\u2AC6\u0338",nsupe="\u2289",nsupset="\u2283\u20D2",nsupseteq="\u2289",nsupseteqq="\u2AC6\u0338",ntgl="\u2279",Ntilde="\xD1",ntilde="\xF1",ntlg="\u2278",ntriangleleft="\u22EA",ntrianglelefteq="\u22EC",ntriangleright="\u22EB",ntrianglerighteq="\u22ED",Nu="\u039D",nu="\u03BD",num="#",numero="\u2116",numsp="\u2007",nvap="\u224D\u20D2",nvdash="\u22AC",nvDash="\u22AD",nVdash="\u22AE",nVDash="\u22AF",nvge="\u2265\u20D2",nvgt=">\u20D2",nvHarr="\u2904",nvinfin="\u29DE",nvlArr="\u2902",nvle="\u2264\u20D2",nvlt="<\u20D2",nvltrie="\u22B4\u20D2",nvrArr="\u2903",nvrtrie="\u22B5\u20D2",nvsim="\u223C\u20D2",nwarhk="\u2923",nwarr="\u2196",nwArr="\u21D6",nwarrow="\u2196",nwnear="\u2927",Oacute="\xD3",oacute="\xF3",oast="\u229B",Ocirc="\xD4",ocirc="\xF4",ocir="\u229A",Ocy="\u041E",ocy="\u043E",odash="\u229D",Odblac="\u0150",odblac="\u0151",odiv="\u2A38",odot="\u2299",odsold="\u29BC",OElig="\u0152",oelig="\u0153",ofcir="\u29BF",Ofr="\u{1D512}",ofr="\u{1D52C}",ogon="\u02DB",Ograve="\xD2",ograve="\xF2",ogt="\u29C1",ohbar="\u29B5",ohm="\u03A9",oint="\u222E",olarr="\u21BA",olcir="\u29BE",olcross="\u29BB",oline="\u203E",olt="\u29C0",Omacr="\u014C",omacr="\u014D",Omega="\u03A9",omega="\u03C9",Omicron="\u039F",omicron="\u03BF",omid="\u29B6",ominus="\u2296",Oopf="\u{1D546}",oopf="\u{1D560}",opar="\u29B7",OpenCurlyDoubleQuote="\u201C",OpenCurlyQuote="\u2018",operp="\u29B9",oplus="\u2295",orarr="\u21BB",Or="\u2A54",or="\u2228",ord="\u2A5D",order="\u2134",orderof="\u2134",ordf="\xAA",ordm="\xBA",origof="\u22B6",oror="\u2A56",orslope="\u2A57",orv="\u2A5B",oS="\u24C8",Oscr="\u{1D4AA}",oscr="\u2134",Oslash="\xD8",oslash="\xF8",osol="\u2298",Otilde="\xD5",otilde="\xF5",otimesas="\u2A36",Otimes="\u2A37",otimes="\u2297",Ouml="\xD6",ouml="\xF6",ovbar="\u233D",OverBar="\u203E",OverBrace="\u23DE",OverBracket="\u23B4",OverParenthesis="\u23DC",para="\xB6",parallel="\u2225",par="\u2225",parsim="\u2AF3",parsl="\u2AFD",part="\u2202",PartialD="\u2202",Pcy="\u041F",pcy="\u043F",percnt="%",period=".",permil="\u2030",perp="\u22A5",pertenk="\u2031",Pfr="\u{1D513}",pfr="\u{1D52D}",Phi="\u03A6",phi="\u03C6",phiv="\u03D5",phmmat="\u2133",phone="\u260E",Pi="\u03A0",pi="\u03C0",pitchfork="\u22D4",piv="\u03D6",planck="\u210F",planckh="\u210E",plankv="\u210F",plusacir="\u2A23",plusb="\u229E",pluscir="\u2A22",plus="+",plusdo="\u2214",plusdu="\u2A25",pluse="\u2A72",PlusMinus="\xB1",plusmn="\xB1",plussim="\u2A26",plustwo="\u2A27",pm="\xB1",Poincareplane="\u210C",pointint="\u2A15",popf="\u{1D561}",Popf="\u2119",pound="\xA3",prap="\u2AB7",Pr="\u2ABB",pr="\u227A",prcue="\u227C",precapprox="\u2AB7",prec="\u227A",preccurlyeq="\u227C",Precedes="\u227A",PrecedesEqual="\u2AAF",PrecedesSlantEqual="\u227C",PrecedesTilde="\u227E",preceq="\u2AAF",precnapprox="\u2AB9",precneqq="\u2AB5",precnsim="\u22E8",pre="\u2AAF",prE="\u2AB3",precsim="\u227E",prime="\u2032",Prime="\u2033",primes="\u2119",prnap="\u2AB9",prnE="\u2AB5",prnsim="\u22E8",prod="\u220F",Product="\u220F",profalar="\u232E",profline="\u2312",profsurf="\u2313",prop="\u221D",Proportional="\u221D",Proportion="\u2237",propto="\u221D",prsim="\u227E",prurel="\u22B0",Pscr="\u{1D4AB}",pscr="\u{1D4C5}",Psi="\u03A8",psi="\u03C8",puncsp="\u2008",Qfr="\u{1D514}",qfr="\u{1D52E}",qint="\u2A0C",qopf="\u{1D562}",Qopf="\u211A",qprime="\u2057",Qscr="\u{1D4AC}",qscr="\u{1D4C6}",quaternions="\u210D",quatint="\u2A16",quest="?",questeq="\u225F",quot='"',QUOT='"',rAarr="\u21DB",race="\u223D\u0331",Racute="\u0154",racute="\u0155",radic="\u221A",raemptyv="\u29B3",rang="\u27E9",Rang="\u27EB",rangd="\u2992",range="\u29A5",rangle="\u27E9",raquo="\xBB",rarrap="\u2975",rarrb="\u21E5",rarrbfs="\u2920",rarrc="\u2933",rarr="\u2192",Rarr="\u21A0",rArr="\u21D2",rarrfs="\u291E",rarrhk="\u21AA",rarrlp="\u21AC",rarrpl="\u2945",rarrsim="\u2974",Rarrtl="\u2916",rarrtl="\u21A3",rarrw="\u219D",ratail="\u291A",rAtail="\u291C",ratio="\u2236",rationals="\u211A",rbarr="\u290D",rBarr="\u290F",RBarr="\u2910",rbbrk="\u2773",rbrace="}",rbrack="]",rbrke="\u298C",rbrksld="\u298E",rbrkslu="\u2990",Rcaron="\u0158",rcaron="\u0159",Rcedil="\u0156",rcedil="\u0157",rceil="\u2309",rcub="}",Rcy="\u0420",rcy="\u0440",rdca="\u2937",rdldhar="\u2969",rdquo="\u201D",rdquor="\u201D",rdsh="\u21B3",real="\u211C",realine="\u211B",realpart="\u211C",reals="\u211D",Re="\u211C",rect="\u25AD",reg="\xAE",REG="\xAE",ReverseElement="\u220B",ReverseEquilibrium="\u21CB",ReverseUpEquilibrium="\u296F",rfisht="\u297D",rfloor="\u230B",rfr="\u{1D52F}",Rfr="\u211C",rHar="\u2964",rhard="\u21C1",rharu="\u21C0",rharul="\u296C",Rho="\u03A1",rho="\u03C1",rhov="\u03F1",RightAngleBracket="\u27E9",RightArrowBar="\u21E5",rightarrow="\u2192",RightArrow="\u2192",Rightarrow="\u21D2",RightArrowLeftArrow="\u21C4",rightarrowtail="\u21A3",RightCeiling="\u2309",RightDoubleBracket="\u27E7",RightDownTeeVector="\u295D",RightDownVectorBar="\u2955",RightDownVector="\u21C2",RightFloor="\u230B",rightharpoondown="\u21C1",rightharpoonup="\u21C0",rightleftarrows="\u21C4",rightleftharpoons="\u21CC",rightrightarrows="\u21C9",rightsquigarrow="\u219D",RightTeeArrow="\u21A6",RightTee="\u22A2",RightTeeVector="\u295B",rightthreetimes="\u22CC",RightTriangleBar="\u29D0",RightTriangle="\u22B3",RightTriangleEqual="\u22B5",RightUpDownVector="\u294F",RightUpTeeVector="\u295C",RightUpVectorBar="\u2954",RightUpVector="\u21BE",RightVectorBar="\u2953",RightVector="\u21C0",ring="\u02DA",risingdotseq="\u2253",rlarr="\u21C4",rlhar="\u21CC",rlm="\u200F",rmoustache="\u23B1",rmoust="\u23B1",rnmid="\u2AEE",roang="\u27ED",roarr="\u21FE",robrk="\u27E7",ropar="\u2986",ropf="\u{1D563}",Ropf="\u211D",roplus="\u2A2E",rotimes="\u2A35",RoundImplies="\u2970",rpar=")",rpargt="\u2994",rppolint="\u2A12",rrarr="\u21C9",Rrightarrow="\u21DB",rsaquo="\u203A",rscr="\u{1D4C7}",Rscr="\u211B",rsh="\u21B1",Rsh="\u21B1",rsqb="]",rsquo="\u2019",rsquor="\u2019",rthree="\u22CC",rtimes="\u22CA",rtri="\u25B9",rtrie="\u22B5",rtrif="\u25B8",rtriltri="\u29CE",RuleDelayed="\u29F4",ruluhar="\u2968",rx="\u211E",Sacute="\u015A",sacute="\u015B",sbquo="\u201A",scap="\u2AB8",Scaron="\u0160",scaron="\u0161",Sc="\u2ABC",sc="\u227B",sccue="\u227D",sce="\u2AB0",scE="\u2AB4",Scedil="\u015E",scedil="\u015F",Scirc="\u015C",scirc="\u015D",scnap="\u2ABA",scnE="\u2AB6",scnsim="\u22E9",scpolint="\u2A13",scsim="\u227F",Scy="\u0421",scy="\u0441",sdotb="\u22A1",sdot="\u22C5",sdote="\u2A66",searhk="\u2925",searr="\u2198",seArr="\u21D8",searrow="\u2198",sect="\xA7",semi=";",seswar="\u2929",setminus="\u2216",setmn="\u2216",sext="\u2736",Sfr="\u{1D516}",sfr="\u{1D530}",sfrown="\u2322",sharp="\u266F",SHCHcy="\u0429",shchcy="\u0449",SHcy="\u0428",shcy="\u0448",ShortDownArrow="\u2193",ShortLeftArrow="\u2190",shortmid="\u2223",shortparallel="\u2225",ShortRightArrow="\u2192",ShortUpArrow="\u2191",shy="\xAD",Sigma="\u03A3",sigma="\u03C3",sigmaf="\u03C2",sigmav="\u03C2",sim="\u223C",simdot="\u2A6A",sime="\u2243",simeq="\u2243",simg="\u2A9E",simgE="\u2AA0",siml="\u2A9D",simlE="\u2A9F",simne="\u2246",simplus="\u2A24",simrarr="\u2972",slarr="\u2190",SmallCircle="\u2218",smallsetminus="\u2216",smashp="\u2A33",smeparsl="\u29E4",smid="\u2223",smile="\u2323",smt="\u2AAA",smte="\u2AAC",smtes="\u2AAC\uFE00",SOFTcy="\u042C",softcy="\u044C",solbar="\u233F",solb="\u29C4",sol="/",Sopf="\u{1D54A}",sopf="\u{1D564}",spades="\u2660",spadesuit="\u2660",spar="\u2225",sqcap="\u2293",sqcaps="\u2293\uFE00",sqcup="\u2294",sqcups="\u2294\uFE00",Sqrt="\u221A",sqsub="\u228F",sqsube="\u2291",sqsubset="\u228F",sqsubseteq="\u2291",sqsup="\u2290",sqsupe="\u2292",sqsupset="\u2290",sqsupseteq="\u2292",square="\u25A1",Square="\u25A1",SquareIntersection="\u2293",SquareSubset="\u228F",SquareSubsetEqual="\u2291",SquareSuperset="\u2290",SquareSupersetEqual="\u2292",SquareUnion="\u2294",squarf="\u25AA",squ="\u25A1",squf="\u25AA",srarr="\u2192",Sscr="\u{1D4AE}",sscr="\u{1D4C8}",ssetmn="\u2216",ssmile="\u2323",sstarf="\u22C6",Star="\u22C6",star="\u2606",starf="\u2605",straightepsilon="\u03F5",straightphi="\u03D5",strns="\xAF",sub="\u2282",Sub="\u22D0",subdot="\u2ABD",subE="\u2AC5",sube="\u2286",subedot="\u2AC3",submult="\u2AC1",subnE="\u2ACB",subne="\u228A",subplus="\u2ABF",subrarr="\u2979",subset="\u2282",Subset="\u22D0",subseteq="\u2286",subseteqq="\u2AC5",SubsetEqual="\u2286",subsetneq="\u228A",subsetneqq="\u2ACB",subsim="\u2AC7",subsub="\u2AD5",subsup="\u2AD3",succapprox="\u2AB8",succ="\u227B",succcurlyeq="\u227D",Succeeds="\u227B",SucceedsEqual="\u2AB0",SucceedsSlantEqual="\u227D",SucceedsTilde="\u227F",succeq="\u2AB0",succnapprox="\u2ABA",succneqq="\u2AB6",succnsim="\u22E9",succsim="\u227F",SuchThat="\u220B",sum="\u2211",Sum="\u2211",sung="\u266A",sup1="\xB9",sup2="\xB2",sup3="\xB3",sup="\u2283",Sup="\u22D1",supdot="\u2ABE",supdsub="\u2AD8",supE="\u2AC6",supe="\u2287",supedot="\u2AC4",Superset="\u2283",SupersetEqual="\u2287",suphsol="\u27C9",suphsub="\u2AD7",suplarr="\u297B",supmult="\u2AC2",supnE="\u2ACC",supne="\u228B",supplus="\u2AC0",supset="\u2283",Supset="\u22D1",supseteq="\u2287",supseteqq="\u2AC6",supsetneq="\u228B",supsetneqq="\u2ACC",supsim="\u2AC8",supsub="\u2AD4",supsup="\u2AD6",swarhk="\u2926",swarr="\u2199",swArr="\u21D9",swarrow="\u2199",swnwar="\u292A",szlig="\xDF",Tab="	",target="\u2316",Tau="\u03A4",tau="\u03C4",tbrk="\u23B4",Tcaron="\u0164",tcaron="\u0165",Tcedil="\u0162",tcedil="\u0163",Tcy="\u0422",tcy="\u0442",tdot="\u20DB",telrec="\u2315",Tfr="\u{1D517}",tfr="\u{1D531}",there4="\u2234",therefore="\u2234",Therefore="\u2234",Theta="\u0398",theta="\u03B8",thetasym="\u03D1",thetav="\u03D1",thickapprox="\u2248",thicksim="\u223C",ThickSpace="\u205F\u200A",ThinSpace="\u2009",thinsp="\u2009",thkap="\u2248",thksim="\u223C",THORN="\xDE",thorn="\xFE",tilde="\u02DC",Tilde="\u223C",TildeEqual="\u2243",TildeFullEqual="\u2245",TildeTilde="\u2248",timesbar="\u2A31",timesb="\u22A0",times="\xD7",timesd="\u2A30",tint="\u222D",toea="\u2928",topbot="\u2336",topcir="\u2AF1",top="\u22A4",Topf="\u{1D54B}",topf="\u{1D565}",topfork="\u2ADA",tosa="\u2929",tprime="\u2034",trade="\u2122",TRADE="\u2122",triangle="\u25B5",triangledown="\u25BF",triangleleft="\u25C3",trianglelefteq="\u22B4",triangleq="\u225C",triangleright="\u25B9",trianglerighteq="\u22B5",tridot="\u25EC",trie="\u225C",triminus="\u2A3A",TripleDot="\u20DB",triplus="\u2A39",trisb="\u29CD",tritime="\u2A3B",trpezium="\u23E2",Tscr="\u{1D4AF}",tscr="\u{1D4C9}",TScy="\u0426",tscy="\u0446",TSHcy="\u040B",tshcy="\u045B",Tstrok="\u0166",tstrok="\u0167",twixt="\u226C",twoheadleftarrow="\u219E",twoheadrightarrow="\u21A0",Uacute="\xDA",uacute="\xFA",uarr="\u2191",Uarr="\u219F",uArr="\u21D1",Uarrocir="\u2949",Ubrcy="\u040E",ubrcy="\u045E",Ubreve="\u016C",ubreve="\u016D",Ucirc="\xDB",ucirc="\xFB",Ucy="\u0423",ucy="\u0443",udarr="\u21C5",Udblac="\u0170",udblac="\u0171",udhar="\u296E",ufisht="\u297E",Ufr="\u{1D518}",ufr="\u{1D532}",Ugrave="\xD9",ugrave="\xF9",uHar="\u2963",uharl="\u21BF",uharr="\u21BE",uhblk="\u2580",ulcorn="\u231C",ulcorner="\u231C",ulcrop="\u230F",ultri="\u25F8",Umacr="\u016A",umacr="\u016B",uml="\xA8",UnderBar="_",UnderBrace="\u23DF",UnderBracket="\u23B5",UnderParenthesis="\u23DD",Union="\u22C3",UnionPlus="\u228E",Uogon="\u0172",uogon="\u0173",Uopf="\u{1D54C}",uopf="\u{1D566}",UpArrowBar="\u2912",uparrow="\u2191",UpArrow="\u2191",Uparrow="\u21D1",UpArrowDownArrow="\u21C5",updownarrow="\u2195",UpDownArrow="\u2195",Updownarrow="\u21D5",UpEquilibrium="\u296E",upharpoonleft="\u21BF",upharpoonright="\u21BE",uplus="\u228E",UpperLeftArrow="\u2196",UpperRightArrow="\u2197",upsi="\u03C5",Upsi="\u03D2",upsih="\u03D2",Upsilon="\u03A5",upsilon="\u03C5",UpTeeArrow="\u21A5",UpTee="\u22A5",upuparrows="\u21C8",urcorn="\u231D",urcorner="\u231D",urcrop="\u230E",Uring="\u016E",uring="\u016F",urtri="\u25F9",Uscr="\u{1D4B0}",uscr="\u{1D4CA}",utdot="\u22F0",Utilde="\u0168",utilde="\u0169",utri="\u25B5",utrif="\u25B4",uuarr="\u21C8",Uuml="\xDC",uuml="\xFC",uwangle="\u29A7",vangrt="\u299C",varepsilon="\u03F5",varkappa="\u03F0",varnothing="\u2205",varphi="\u03D5",varpi="\u03D6",varpropto="\u221D",varr="\u2195",vArr="\u21D5",varrho="\u03F1",varsigma="\u03C2",varsubsetneq="\u228A\uFE00",varsubsetneqq="\u2ACB\uFE00",varsupsetneq="\u228B\uFE00",varsupsetneqq="\u2ACC\uFE00",vartheta="\u03D1",vartriangleleft="\u22B2",vartriangleright="\u22B3",vBar="\u2AE8",Vbar="\u2AEB",vBarv="\u2AE9",Vcy="\u0412",vcy="\u0432",vdash="\u22A2",vDash="\u22A8",Vdash="\u22A9",VDash="\u22AB",Vdashl="\u2AE6",veebar="\u22BB",vee="\u2228",Vee="\u22C1",veeeq="\u225A",vellip="\u22EE",verbar="|",Verbar="\u2016",vert="|",Vert="\u2016",VerticalBar="\u2223",VerticalLine="|",VerticalSeparator="\u2758",VerticalTilde="\u2240",VeryThinSpace="\u200A",Vfr="\u{1D519}",vfr="\u{1D533}",vltri="\u22B2",vnsub="\u2282\u20D2",vnsup="\u2283\u20D2",Vopf="\u{1D54D}",vopf="\u{1D567}",vprop="\u221D",vrtri="\u22B3",Vscr="\u{1D4B1}",vscr="\u{1D4CB}",vsubnE="\u2ACB\uFE00",vsubne="\u228A\uFE00",vsupnE="\u2ACC\uFE00",vsupne="\u228B\uFE00",Vvdash="\u22AA",vzigzag="\u299A",Wcirc="\u0174",wcirc="\u0175",wedbar="\u2A5F",wedge="\u2227",Wedge="\u22C0",wedgeq="\u2259",weierp="\u2118",Wfr="\u{1D51A}",wfr="\u{1D534}",Wopf="\u{1D54E}",wopf="\u{1D568}",wp="\u2118",wr="\u2240",wreath="\u2240",Wscr="\u{1D4B2}",wscr="\u{1D4CC}",xcap="\u22C2",xcirc="\u25EF",xcup="\u22C3",xdtri="\u25BD",Xfr="\u{1D51B}",xfr="\u{1D535}",xharr="\u27F7",xhArr="\u27FA",Xi="\u039E",xi="\u03BE",xlarr="\u27F5",xlArr="\u27F8",xmap="\u27FC",xnis="\u22FB",xodot="\u2A00",Xopf="\u{1D54F}",xopf="\u{1D569}",xoplus="\u2A01",xotime="\u2A02",xrarr="\u27F6",xrArr="\u27F9",Xscr="\u{1D4B3}",xscr="\u{1D4CD}",xsqcup="\u2A06",xuplus="\u2A04",xutri="\u25B3",xvee="\u22C1",xwedge="\u22C0",Yacute="\xDD",yacute="\xFD",YAcy="\u042F",yacy="\u044F",Ycirc="\u0176",ycirc="\u0177",Ycy="\u042B",ycy="\u044B",yen="\xA5",Yfr="\u{1D51C}",yfr="\u{1D536}",YIcy="\u0407",yicy="\u0457",Yopf="\u{1D550}",yopf="\u{1D56A}",Yscr="\u{1D4B4}",yscr="\u{1D4CE}",YUcy="\u042E",yucy="\u044E",yuml="\xFF",Yuml="\u0178",Zacute="\u0179",zacute="\u017A",Zcaron="\u017D",zcaron="\u017E",Zcy="\u0417",zcy="\u0437",Zdot="\u017B",zdot="\u017C",zeetrf="\u2128",ZeroWidthSpace="\u200B",Zeta="\u0396",zeta="\u03B6",zfr="\u{1D537}",Zfr="\u2128",ZHcy="\u0416",zhcy="\u0436",zigrarr="\u21DD",zopf="\u{1D56B}",Zopf="\u2124",Zscr="\u{1D4B5}",zscr="\u{1D4CF}",zwj="\u200D",zwnj="\u200C",require$$0$1={Aacute,aacute,Abreve,abreve,ac,acd,acE,Acirc,acirc,acute,Acy,acy,AElig,aelig,af,Afr,afr,Agrave,agrave,alefsym,aleph,Alpha,alpha,Amacr,amacr,amalg,amp,AMP,andand,And,and,andd,andslope,andv,ang,ange,angle,angmsdaa,angmsdab,angmsdac,angmsdad,angmsdae,angmsdaf,angmsdag,angmsdah,angmsd,angrt,angrtvb,angrtvbd,angsph,angst,angzarr,Aogon,aogon,Aopf,aopf,apacir,ap,apE,ape,apid,apos,ApplyFunction,approx,approxeq,Aring,aring,Ascr,ascr,Assign,ast,asymp,asympeq,Atilde,atilde,Auml,auml,awconint,awint,backcong,backepsilon,backprime,backsim,backsimeq,Backslash,Barv,barvee,barwed,Barwed,barwedge,bbrk,bbrktbrk,bcong,Bcy,bcy,bdquo,becaus,because,Because,bemptyv,bepsi,bernou,Bernoullis,Beta,beta,beth,between,Bfr,bfr,bigcap,bigcirc,bigcup,bigodot,bigoplus,bigotimes,bigsqcup,bigstar,bigtriangledown,bigtriangleup,biguplus,bigvee,bigwedge,bkarow,blacklozenge,blacksquare,blacktriangle,blacktriangledown,blacktriangleleft,blacktriangleright,blank,blk12,blk14,blk34,block:block$1,bne,bnequiv,bNot,bnot,Bopf,bopf,bot,bottom,bowtie,boxbox,boxdl,boxdL,boxDl,boxDL,boxdr,boxdR,boxDr,boxDR,boxh,boxH,boxhd,boxHd,boxhD,boxHD,boxhu,boxHu,boxhU,boxHU,boxminus,boxplus,boxtimes,boxul,boxuL,boxUl,boxUL,boxur,boxuR,boxUr,boxUR,boxv,boxV,boxvh,boxvH,boxVh,boxVH,boxvl,boxvL,boxVl,boxVL,boxvr,boxvR,boxVr,boxVR,bprime,breve,Breve,brvbar,bscr,Bscr,bsemi,bsim,bsime,bsolb,bsol,bsolhsub,bull,bullet,bump,bumpE,bumpe,Bumpeq,bumpeq,Cacute,cacute,capand,capbrcup,capcap,cap,Cap,capcup,capdot,CapitalDifferentialD,caps,caret,caron,Cayleys,ccaps,Ccaron,ccaron,Ccedil,ccedil,Ccirc,ccirc,Cconint,ccups,ccupssm,Cdot,cdot,cedil,Cedilla,cemptyv,cent,centerdot,CenterDot,cfr,Cfr,CHcy,chcy,check,checkmark,Chi,chi,circ,circeq,circlearrowleft,circlearrowright,circledast,circledcirc,circleddash,CircleDot,circledR,circledS,CircleMinus,CirclePlus,CircleTimes,cir,cirE,cire,cirfnint,cirmid,cirscir,ClockwiseContourIntegral,CloseCurlyDoubleQuote,CloseCurlyQuote,clubs,clubsuit,colon,Colon,Colone,colone,coloneq,comma,commat,comp,compfn,complement,complexes,cong,congdot,Congruent,conint,Conint,ContourIntegral,copf,Copf,coprod,Coproduct,copy,COPY,copysr,CounterClockwiseContourIntegral,crarr,cross,Cross,Cscr,cscr,csub,csube,csup,csupe,ctdot,cudarrl,cudarrr,cuepr,cuesc,cularr,cularrp,cupbrcap,cupcap,CupCap,cup,Cup,cupcup,cupdot,cupor,cups,curarr,curarrm,curlyeqprec,curlyeqsucc,curlyvee,curlywedge,curren,curvearrowleft,curvearrowright,cuvee,cuwed,cwconint,cwint,cylcty,dagger,Dagger,daleth,darr,Darr,dArr,dash,Dashv,dashv,dbkarow,dblac,Dcaron,dcaron,Dcy,dcy,ddagger,ddarr,DD,dd,DDotrahd,ddotseq,deg,Del,Delta,delta,demptyv,dfisht,Dfr,dfr,dHar,dharl,dharr,DiacriticalAcute,DiacriticalDot,DiacriticalDoubleAcute,DiacriticalGrave,DiacriticalTilde,diam,diamond,Diamond,diamondsuit,diams,die,DifferentialD,digamma,disin,div,divide,divideontimes,divonx,DJcy,djcy,dlcorn,dlcrop,dollar,Dopf,dopf,Dot,dot,DotDot,doteq,doteqdot,DotEqual,dotminus,dotplus,dotsquare,doublebarwedge,DoubleContourIntegral,DoubleDot,DoubleDownArrow,DoubleLeftArrow,DoubleLeftRightArrow,DoubleLeftTee,DoubleLongLeftArrow,DoubleLongLeftRightArrow,DoubleLongRightArrow,DoubleRightArrow,DoubleRightTee,DoubleUpArrow,DoubleUpDownArrow,DoubleVerticalBar,DownArrowBar,downarrow,DownArrow,Downarrow,DownArrowUpArrow,DownBreve,downdownarrows,downharpoonleft,downharpoonright,DownLeftRightVector,DownLeftTeeVector,DownLeftVectorBar,DownLeftVector,DownRightTeeVector,DownRightVectorBar,DownRightVector,DownTeeArrow,DownTee,drbkarow,drcorn,drcrop,Dscr,dscr,DScy,dscy,dsol,Dstrok,dstrok,dtdot,dtri,dtrif,duarr,duhar,dwangle,DZcy,dzcy,dzigrarr,Eacute,eacute,easter,Ecaron,ecaron,Ecirc,ecirc,ecir,ecolon,Ecy,ecy,eDDot,Edot,edot,eDot,ee,efDot,Efr,efr,eg,Egrave,egrave,egs,egsdot,el,Element:Element$1,elinters,ell,els,elsdot,Emacr,emacr,empty,emptyset,EmptySmallSquare,emptyv,EmptyVerySmallSquare,emsp13,emsp14,emsp,ENG,eng,ensp,Eogon,eogon,Eopf,eopf,epar,eparsl,eplus,epsi,Epsilon,epsilon,epsiv,eqcirc,eqcolon,eqsim,eqslantgtr,eqslantless,Equal,equals,EqualTilde,equest,Equilibrium,equiv,equivDD,eqvparsl,erarr,erDot,escr,Escr,esdot,Esim,esim,Eta,eta,ETH,eth,Euml,euml,euro,excl,exist,Exists,expectation,exponentiale,ExponentialE,fallingdotseq,Fcy,fcy,female,ffilig,fflig,ffllig,Ffr,ffr,filig,FilledSmallSquare,FilledVerySmallSquare,fjlig,flat,fllig,fltns,fnof,Fopf,fopf,forall,ForAll,fork,forkv,Fouriertrf,fpartint,frac12,frac13,frac14,frac15,frac16,frac18,frac23,frac25,frac34,frac35,frac38,frac45,frac56,frac58,frac78,frasl,frown,fscr,Fscr,gacute,Gamma,gamma,Gammad,gammad,gap,Gbreve,gbreve,Gcedil,Gcirc,gcirc,Gcy,gcy,Gdot,gdot,ge,gE,gEl,gel,geq,geqq,geqslant,gescc,ges,gesdot,gesdoto,gesdotol,gesl,gesles,Gfr,gfr,gg,Gg,ggg,gimel,GJcy,gjcy,gla,gl,glE,glj,gnap,gnapprox,gne,gnE,gneq,gneqq,gnsim,Gopf,gopf,grave,GreaterEqual,GreaterEqualLess,GreaterFullEqual,GreaterGreater,GreaterLess,GreaterSlantEqual,GreaterTilde,Gscr,gscr,gsim,gsime,gsiml,gtcc,gtcir,gt,GT,Gt,gtdot,gtlPar,gtquest,gtrapprox,gtrarr,gtrdot,gtreqless,gtreqqless,gtrless,gtrsim,gvertneqq,gvnE,Hacek,hairsp,half,hamilt,HARDcy,hardcy,harrcir,harr,hArr,harrw,Hat,hbar,Hcirc,hcirc,hearts,heartsuit,hellip,hercon,hfr,Hfr,HilbertSpace,hksearow,hkswarow,hoarr,homtht,hookleftarrow,hookrightarrow,hopf,Hopf,horbar,HorizontalLine,hscr,Hscr,hslash,Hstrok,hstrok,HumpDownHump,HumpEqual,hybull,hyphen,Iacute,iacute,ic,Icirc,icirc,Icy,icy,Idot,IEcy,iecy,iexcl,iff,ifr,Ifr,Igrave,igrave,ii,iiiint,iiint,iinfin,iiota,IJlig,ijlig,Imacr,imacr,image:image$1,ImaginaryI,imagline,imagpart,imath,Im,imof,imped,Implies,incare,in:"\u2208",infin,infintie,inodot,intcal,int,Int,integers,Integral,intercal,Intersection,intlarhk,intprod,InvisibleComma,InvisibleTimes,IOcy,iocy,Iogon,iogon,Iopf,iopf,Iota,iota,iprod,iquest,iscr,Iscr,isin,isindot,isinE,isins,isinsv,isinv,it,Itilde,itilde,Iukcy,iukcy,Iuml,iuml,Jcirc,jcirc,Jcy,jcy,Jfr,jfr,jmath,Jopf,jopf,Jscr,jscr,Jsercy,jsercy,Jukcy,jukcy,Kappa,kappa,kappav,Kcedil,kcedil,Kcy,kcy,Kfr,kfr,kgreen,KHcy,khcy,KJcy,kjcy,Kopf,kopf,Kscr,kscr,lAarr,Lacute,lacute,laemptyv,lagran,Lambda,lambda,lang,Lang,langd,langle,lap,Laplacetrf,laquo,larrb,larrbfs,larr,Larr,lArr,larrfs,larrhk,larrlp,larrpl,larrsim,larrtl,latail,lAtail,lat,late,lates,lbarr,lBarr,lbbrk,lbrace,lbrack,lbrke,lbrksld,lbrkslu,Lcaron,lcaron,Lcedil,lcedil,lceil,lcub,Lcy,lcy,ldca,ldquo,ldquor,ldrdhar,ldrushar,ldsh,le,lE,LeftAngleBracket,LeftArrowBar,leftarrow,LeftArrow,Leftarrow,LeftArrowRightArrow,leftarrowtail,LeftCeiling,LeftDoubleBracket,LeftDownTeeVector,LeftDownVectorBar,LeftDownVector,LeftFloor,leftharpoondown,leftharpoonup,leftleftarrows,leftrightarrow,LeftRightArrow,Leftrightarrow,leftrightarrows,leftrightharpoons,leftrightsquigarrow,LeftRightVector,LeftTeeArrow,LeftTee,LeftTeeVector,leftthreetimes,LeftTriangleBar,LeftTriangle,LeftTriangleEqual,LeftUpDownVector,LeftUpTeeVector,LeftUpVectorBar,LeftUpVector,LeftVectorBar,LeftVector,lEg,leg,leq,leqq,leqslant,lescc,les,lesdot,lesdoto,lesdotor,lesg,lesges,lessapprox,lessdot,lesseqgtr,lesseqqgtr,LessEqualGreater,LessFullEqual,LessGreater,lessgtr,LessLess,lesssim,LessSlantEqual,LessTilde,lfisht,lfloor,Lfr,lfr,lg,lgE,lHar,lhard,lharu,lharul,lhblk,LJcy,ljcy,llarr,ll,Ll,llcorner,Lleftarrow,llhard,lltri,Lmidot,lmidot,lmoustache,lmoust,lnap,lnapprox,lne,lnE,lneq,lneqq,lnsim,loang,loarr,lobrk,longleftarrow,LongLeftArrow,Longleftarrow,longleftrightarrow,LongLeftRightArrow,Longleftrightarrow,longmapsto,longrightarrow,LongRightArrow,Longrightarrow,looparrowleft,looparrowright,lopar,Lopf,lopf,loplus,lotimes,lowast,lowbar,LowerLeftArrow,LowerRightArrow,loz,lozenge,lozf,lpar,lparlt,lrarr,lrcorner,lrhar,lrhard,lrm,lrtri,lsaquo,lscr,Lscr,lsh,Lsh,lsim,lsime,lsimg,lsqb,lsquo,lsquor,Lstrok,lstrok,ltcc,ltcir,lt,LT,Lt,ltdot,lthree,ltimes,ltlarr,ltquest,ltri,ltrie,ltrif,ltrPar,lurdshar,luruhar,lvertneqq,lvnE,macr,male,malt,maltese,Map:"\u2905",map,mapsto,mapstodown,mapstoleft,mapstoup,marker,mcomma,Mcy,mcy,mdash,mDDot,measuredangle,MediumSpace,Mellintrf,Mfr,mfr,mho,micro,midast,midcir,mid,middot,minusb,minus,minusd,minusdu,MinusPlus,mlcp,mldr,mnplus,models,Mopf,mopf,mp,mscr,Mscr,mstpos,Mu,mu,multimap,mumap,nabla,Nacute,nacute,nang,nap,napE,napid,napos,napprox,natural,naturals,natur,nbsp,nbump,nbumpe,ncap,Ncaron,ncaron,Ncedil,ncedil,ncong,ncongdot,ncup,Ncy,ncy,ndash,nearhk,nearr,neArr,nearrow,ne,nedot,NegativeMediumSpace,NegativeThickSpace,NegativeThinSpace,NegativeVeryThinSpace,nequiv,nesear,nesim,NestedGreaterGreater,NestedLessLess,NewLine,nexist,nexists,Nfr,nfr,ngE,nge,ngeq,ngeqq,ngeqslant,nges,nGg,ngsim,nGt,ngt,ngtr,nGtv,nharr,nhArr,nhpar,ni,nis,nisd,niv,NJcy,njcy,nlarr,nlArr,nldr,nlE,nle,nleftarrow,nLeftarrow,nleftrightarrow,nLeftrightarrow,nleq,nleqq,nleqslant,nles,nless,nLl,nlsim,nLt,nlt,nltri,nltrie,nLtv,nmid,NoBreak,NonBreakingSpace,nopf,Nopf,Not,not,NotCongruent,NotCupCap,NotDoubleVerticalBar,NotElement,NotEqual,NotEqualTilde,NotExists,NotGreater,NotGreaterEqual,NotGreaterFullEqual,NotGreaterGreater,NotGreaterLess,NotGreaterSlantEqual,NotGreaterTilde,NotHumpDownHump,NotHumpEqual,notin,notindot,notinE,notinva,notinvb,notinvc,NotLeftTriangleBar,NotLeftTriangle,NotLeftTriangleEqual,NotLess,NotLessEqual,NotLessGreater,NotLessLess,NotLessSlantEqual,NotLessTilde,NotNestedGreaterGreater,NotNestedLessLess,notni,notniva,notnivb,notnivc,NotPrecedes,NotPrecedesEqual,NotPrecedesSlantEqual,NotReverseElement,NotRightTriangleBar,NotRightTriangle,NotRightTriangleEqual,NotSquareSubset,NotSquareSubsetEqual,NotSquareSuperset,NotSquareSupersetEqual,NotSubset,NotSubsetEqual,NotSucceeds,NotSucceedsEqual,NotSucceedsSlantEqual,NotSucceedsTilde,NotSuperset,NotSupersetEqual,NotTilde,NotTildeEqual,NotTildeFullEqual,NotTildeTilde,NotVerticalBar,nparallel,npar,nparsl,npart,npolint,npr,nprcue,nprec,npreceq,npre,nrarrc,nrarr,nrArr,nrarrw,nrightarrow,nRightarrow,nrtri,nrtrie,nsc,nsccue,nsce,Nscr,nscr,nshortmid,nshortparallel,nsim,nsime,nsimeq,nsmid,nspar,nsqsube,nsqsupe,nsub,nsubE,nsube,nsubset,nsubseteq,nsubseteqq,nsucc,nsucceq,nsup,nsupE,nsupe,nsupset,nsupseteq,nsupseteqq,ntgl,Ntilde,ntilde,ntlg,ntriangleleft,ntrianglelefteq,ntriangleright,ntrianglerighteq,Nu,nu,num,numero,numsp,nvap,nvdash,nvDash,nVdash,nVDash,nvge,nvgt,nvHarr,nvinfin,nvlArr,nvle,nvlt,nvltrie,nvrArr,nvrtrie,nvsim,nwarhk,nwarr,nwArr,nwarrow,nwnear,Oacute,oacute,oast,Ocirc,ocirc,ocir,Ocy,ocy,odash,Odblac,odblac,odiv,odot,odsold,OElig,oelig,ofcir,Ofr,ofr,ogon,Ograve,ograve,ogt,ohbar,ohm,oint,olarr,olcir,olcross,oline,olt,Omacr,omacr,Omega,omega,Omicron,omicron,omid,ominus,Oopf,oopf,opar,OpenCurlyDoubleQuote,OpenCurlyQuote,operp,oplus,orarr,Or,or,ord,order,orderof,ordf,ordm,origof,oror,orslope,orv,oS,Oscr,oscr,Oslash,oslash,osol,Otilde,otilde,otimesas,Otimes,otimes,Ouml,ouml,ovbar,OverBar,OverBrace,OverBracket,OverParenthesis,para,parallel,par,parsim,parsl,part,PartialD,Pcy,pcy,percnt,period,permil,perp,pertenk,Pfr,pfr,Phi,phi,phiv,phmmat,phone,Pi,pi,pitchfork,piv,planck,planckh,plankv,plusacir,plusb,pluscir,plus,plusdo,plusdu,pluse,PlusMinus,plusmn,plussim,plustwo,pm,Poincareplane,pointint,popf,Popf,pound,prap,Pr,pr,prcue,precapprox,prec,preccurlyeq,Precedes,PrecedesEqual,PrecedesSlantEqual,PrecedesTilde,preceq,precnapprox,precneqq,precnsim,pre,prE,precsim,prime,Prime,primes,prnap,prnE,prnsim,prod,Product,profalar,profline,profsurf,prop,Proportional,Proportion,propto,prsim,prurel,Pscr,pscr,Psi,psi,puncsp,Qfr,qfr,qint,qopf,Qopf,qprime,Qscr,qscr,quaternions,quatint,quest,questeq,quot,QUOT,rAarr,race,Racute,racute,radic,raemptyv,rang,Rang,rangd,range,rangle,raquo,rarrap,rarrb,rarrbfs,rarrc,rarr,Rarr,rArr,rarrfs,rarrhk,rarrlp,rarrpl,rarrsim,Rarrtl,rarrtl,rarrw,ratail,rAtail,ratio,rationals,rbarr,rBarr,RBarr,rbbrk,rbrace,rbrack,rbrke,rbrksld,rbrkslu,Rcaron,rcaron,Rcedil,rcedil,rceil,rcub,Rcy,rcy,rdca,rdldhar,rdquo,rdquor,rdsh,real,realine,realpart,reals,Re,rect,reg,REG,ReverseElement,ReverseEquilibrium,ReverseUpEquilibrium,rfisht,rfloor,rfr,Rfr,rHar,rhard,rharu,rharul,Rho,rho,rhov,RightAngleBracket,RightArrowBar,rightarrow,RightArrow,Rightarrow,RightArrowLeftArrow,rightarrowtail,RightCeiling,RightDoubleBracket,RightDownTeeVector,RightDownVectorBar,RightDownVector,RightFloor,rightharpoondown,rightharpoonup,rightleftarrows,rightleftharpoons,rightrightarrows,rightsquigarrow,RightTeeArrow,RightTee,RightTeeVector,rightthreetimes,RightTriangleBar,RightTriangle,RightTriangleEqual,RightUpDownVector,RightUpTeeVector,RightUpVectorBar,RightUpVector,RightVectorBar,RightVector,ring,risingdotseq,rlarr,rlhar,rlm,rmoustache,rmoust,rnmid,roang,roarr,robrk,ropar,ropf,Ropf,roplus,rotimes,RoundImplies,rpar,rpargt,rppolint,rrarr,Rrightarrow,rsaquo,rscr,Rscr,rsh,Rsh,rsqb,rsquo,rsquor,rthree,rtimes,rtri,rtrie,rtrif,rtriltri,RuleDelayed,ruluhar,rx,Sacute,sacute,sbquo,scap,Scaron,scaron,Sc,sc,sccue,sce,scE,Scedil,scedil,Scirc,scirc,scnap,scnE,scnsim,scpolint,scsim,Scy,scy,sdotb,sdot,sdote,searhk,searr,seArr,searrow,sect,semi,seswar,setminus,setmn,sext,Sfr,sfr,sfrown,sharp,SHCHcy,shchcy,SHcy,shcy,ShortDownArrow,ShortLeftArrow,shortmid,shortparallel,ShortRightArrow,ShortUpArrow,shy,Sigma,sigma,sigmaf,sigmav,sim,simdot,sime,simeq,simg,simgE,siml,simlE,simne,simplus,simrarr,slarr,SmallCircle,smallsetminus,smashp,smeparsl,smid,smile,smt,smte,smtes,SOFTcy,softcy,solbar,solb,sol,Sopf,sopf,spades,spadesuit,spar,sqcap,sqcaps,sqcup,sqcups,Sqrt,sqsub,sqsube,sqsubset,sqsubseteq,sqsup,sqsupe,sqsupset,sqsupseteq,square,Square,SquareIntersection,SquareSubset,SquareSubsetEqual,SquareSuperset,SquareSupersetEqual,SquareUnion,squarf,squ,squf,srarr,Sscr,sscr,ssetmn,ssmile,sstarf,Star,star,starf,straightepsilon,straightphi,strns,sub,Sub,subdot,subE,sube,subedot,submult,subnE,subne,subplus,subrarr,subset,Subset,subseteq,subseteqq,SubsetEqual,subsetneq,subsetneqq,subsim,subsub,subsup,succapprox,succ,succcurlyeq,Succeeds,SucceedsEqual,SucceedsSlantEqual,SucceedsTilde,succeq,succnapprox,succneqq,succnsim,succsim,SuchThat,sum,Sum,sung,sup1,sup2,sup3,sup,Sup,supdot,supdsub,supE,supe,supedot,Superset,SupersetEqual,suphsol,suphsub,suplarr,supmult,supnE,supne,supplus,supset,Supset,supseteq,supseteqq,supsetneq,supsetneqq,supsim,supsub,supsup,swarhk,swarr,swArr,swarrow,swnwar,szlig,Tab,target,Tau,tau,tbrk,Tcaron,tcaron,Tcedil,tcedil,Tcy,tcy,tdot,telrec,Tfr,tfr,there4,therefore,Therefore,Theta,theta,thetasym,thetav,thickapprox,thicksim,ThickSpace,ThinSpace,thinsp,thkap,thksim,THORN,thorn,tilde,Tilde,TildeEqual,TildeFullEqual,TildeTilde,timesbar,timesb,times,timesd,tint,toea,topbot,topcir,top,Topf,topf,topfork,tosa,tprime,trade,TRADE,triangle,triangledown,triangleleft,trianglelefteq,triangleq,triangleright,trianglerighteq,tridot,trie,triminus,TripleDot,triplus,trisb,tritime,trpezium,Tscr,tscr,TScy,tscy,TSHcy,tshcy,Tstrok,tstrok,twixt,twoheadleftarrow,twoheadrightarrow,Uacute,uacute,uarr,Uarr,uArr,Uarrocir,Ubrcy,ubrcy,Ubreve,ubreve,Ucirc,ucirc,Ucy,ucy,udarr,Udblac,udblac,udhar,ufisht,Ufr,ufr,Ugrave,ugrave,uHar,uharl,uharr,uhblk,ulcorn,ulcorner,ulcrop,ultri,Umacr,umacr,uml,UnderBar,UnderBrace,UnderBracket,UnderParenthesis,Union,UnionPlus,Uogon,uogon,Uopf,uopf,UpArrowBar,uparrow,UpArrow,Uparrow,UpArrowDownArrow,updownarrow,UpDownArrow,Updownarrow,UpEquilibrium,upharpoonleft,upharpoonright,uplus,UpperLeftArrow,UpperRightArrow,upsi,Upsi,upsih,Upsilon,upsilon,UpTeeArrow,UpTee,upuparrows,urcorn,urcorner,urcrop,Uring,uring,urtri,Uscr,uscr,utdot,Utilde,utilde,utri,utrif,uuarr,Uuml,uuml,uwangle,vangrt,varepsilon,varkappa,varnothing,varphi,varpi,varpropto,varr,vArr,varrho,varsigma,varsubsetneq,varsubsetneqq,varsupsetneq,varsupsetneqq,vartheta,vartriangleleft,vartriangleright,vBar,Vbar,vBarv,Vcy,vcy,vdash,vDash,Vdash,VDash,Vdashl,veebar,vee,Vee,veeeq,vellip,verbar,Verbar,vert,Vert,VerticalBar,VerticalLine,VerticalSeparator,VerticalTilde,VeryThinSpace,Vfr,vfr,vltri,vnsub,vnsup,Vopf,vopf,vprop,vrtri,Vscr,vscr,vsubnE,vsubne,vsupnE,vsupne,Vvdash,vzigzag,Wcirc,wcirc,wedbar,wedge,Wedge,wedgeq,weierp,Wfr,wfr,Wopf,wopf,wp,wr,wreath,Wscr,wscr,xcap,xcirc,xcup,xdtri,Xfr,xfr,xharr,xhArr,Xi,xi,xlarr,xlArr,xmap,xnis,xodot,Xopf,xopf,xoplus,xotime,xrarr,xrArr,Xscr,xscr,xsqcup,xuplus,xutri,xvee,xwedge,Yacute,yacute,YAcy,yacy,Ycirc,ycirc,Ycy,ycy,yen,Yfr,yfr,YIcy,yicy,Yopf,yopf,Yscr,yscr,YUcy,yucy,yuml,Yuml,Zacute,zacute,Zcaron,zcaron,Zcy,zcy,Zdot,zdot,zeetrf,ZeroWidthSpace,Zeta,zeta,zfr,Zfr,ZHcy,zhcy,zigrarr,zopf,Zopf,Zscr,zscr,zwj,zwnj};(function(t){t.exports=require$$0$1})(entities$1);var regex$4=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,mdurl$1={},encodeCache={};function getEncodeCache(t){var e,n,r=encodeCache[t];if(r)return r;for(r=encodeCache[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)r[t.charCodeAt(e)]=t[e];return r}function encode(t,e,n){var r,o,s,a,c,d="";for(typeof e!="string"&&(n=e,e=encode.defaultChars),typeof n>"u"&&(n=!0),c=getEncodeCache(e),r=0,o=t.length;r<o;r++){if(s=t.charCodeAt(r),n&&s===37&&r+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(r+1,r+3))){d+=t.slice(r,r+3),r+=2;continue}if(s<128){d+=c[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&r+1<o&&(a=t.charCodeAt(r+1),a>=56320&&a<=57343)){d+=encodeURIComponent(t[r]+t[r+1]),r++;continue}d+="%EF%BF%BD";continue}d+=encodeURIComponent(t[r])}return d}encode.defaultChars=";/?:@&=+$,-_.!~*'()#";encode.componentChars="-_.!~*'()";var encode_1=encode,decodeCache={};function getDecodeCache(t){var e,n,r=decodeCache[t];if(r)return r;for(r=decodeCache[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),r.push(n);for(e=0;e<t.length;e++)n=t.charCodeAt(e),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function decode(t,e){var n;return typeof e!="string"&&(e=decode.defaultChars),n=getDecodeCache(e),t.replace(/(%[a-f0-9]{2})+/gi,function(r){var o,s,a,c,d,f,g,v="";for(o=0,s=r.length;o<s;o+=3){if(a=parseInt(r.slice(o+1,o+3),16),a<128){v+=n[a];continue}if((a&224)===192&&o+3<s&&(c=parseInt(r.slice(o+4,o+6),16),(c&192)===128)){g=a<<6&1984|c&63,g<128?v+="\uFFFD\uFFFD":v+=String.fromCharCode(g),o+=3;continue}if((a&240)===224&&o+6<s&&(c=parseInt(r.slice(o+4,o+6),16),d=parseInt(r.slice(o+7,o+9),16),(c&192)===128&&(d&192)===128)){g=a<<12&61440|c<<6&4032|d&63,g<2048||g>=55296&&g<=57343?v+="\uFFFD\uFFFD\uFFFD":v+=String.fromCharCode(g),o+=6;continue}if((a&248)===240&&o+9<s&&(c=parseInt(r.slice(o+4,o+6),16),d=parseInt(r.slice(o+7,o+9),16),f=parseInt(r.slice(o+10,o+12),16),(c&192)===128&&(d&192)===128&&(f&192)===128)){g=a<<18&1835008|c<<12&258048|d<<6&4032|f&63,g<65536||g>1114111?v+="\uFFFD\uFFFD\uFFFD\uFFFD":(g-=65536,v+=String.fromCharCode(55296+(g>>10),56320+(g&1023))),o+=9;continue}v+="\uFFFD"}return v})}decode.defaultChars=";/?:@&=+$,#";decode.componentChars="";var decode_1=decode,format=function t(e){var n="";return n+=e.protocol||"",n+=e.slashes?"//":"",n+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?n+="["+e.hostname+"]":n+=e.hostname||"",n+=e.port?":"+e.port:"",n+=e.pathname||"",n+=e.search||"",n+=e.hash||"",n};function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(t,e){if(t&&t instanceof Url)return t;var n=new Url;return n.parse(t,e),n}Url.prototype.parse=function(t,e){var n,r,o,s,a,c=t;if(c=c.trim(),!e&&t.split("#").length===1){var d=simplePathPattern.exec(c);if(d)return this.pathname=d[1],d[2]&&(this.search=d[2]),this}var f=protocolPattern.exec(c);if(f&&(f=f[0],o=f.toLowerCase(),this.protocol=f,c=c.substr(f.length)),(e||f||c.match(/^\/\/[^@\/]+@[^@\/]+/))&&(a=c.substr(0,2)==="//",a&&!(f&&hostlessProtocol[f])&&(c=c.substr(2),this.slashes=!0)),!hostlessProtocol[f]&&(a||f&&!slashedProtocol[f])){var g=-1;for(n=0;n<hostEndingChars.length;n++)s=c.indexOf(hostEndingChars[n]),s!==-1&&(g===-1||s<g)&&(g=s);var v,_;for(g===-1?_=c.lastIndexOf("@"):_=c.lastIndexOf("@",g),_!==-1&&(v=c.slice(0,_),c=c.slice(_+1),this.auth=v),g=-1,n=0;n<nonHostChars.length;n++)s=c.indexOf(nonHostChars[n]),s!==-1&&(g===-1||s<g)&&(g=s);g===-1&&(g=c.length),c[g-1]===":"&&g--;var y=c.slice(0,g);c=c.slice(g),this.parseHost(y),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C){var S=this.hostname.split(/\./);for(n=0,r=S.length;n<r;n++){var x=S[n];if(!!x&&!x.match(hostnamePartPattern)){for(var A="",T=0,E=x.length;T<E;T++)x.charCodeAt(T)>127?A+="x":A+=x[T];if(!A.match(hostnamePartPattern)){var L=S.slice(0,n),P=S.slice(n+1),O=x.match(hostnamePartStart);O&&(L.push(O[1]),P.unshift(O[2])),P.length&&(c=P.join(".")+c),this.hostname=L.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var D=c.indexOf("#");D!==-1&&(this.hash=c.substr(D),c=c.slice(0,D));var N=c.indexOf("?");return N!==-1&&(this.search=c.substr(N),c=c.slice(0,N)),c&&(this.pathname=c),slashedProtocol[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(t){var e=portPattern.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var parse=urlParse;mdurl$1.encode=encode_1;mdurl$1.decode=decode_1;mdurl$1.format=format;mdurl$1.parse=parse;var uc_micro={},regex$3,hasRequiredRegex$3;function requireRegex$3(){return hasRequiredRegex$3||(hasRequiredRegex$3=1,regex$3=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),regex$3}var regex$2,hasRequiredRegex$2;function requireRegex$2(){return hasRequiredRegex$2||(hasRequiredRegex$2=1,regex$2=/[\0-\x1F\x7F-\x9F]/),regex$2}var regex$1,hasRequiredRegex$1;function requireRegex$1(){return hasRequiredRegex$1||(hasRequiredRegex$1=1,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),regex$1}var regex,hasRequiredRegex;function requireRegex(){return hasRequiredRegex||(hasRequiredRegex=1,regex=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),regex}var hasRequiredUc_micro;function requireUc_micro(){return hasRequiredUc_micro||(hasRequiredUc_micro=1,uc_micro.Any=requireRegex$3(),uc_micro.Cc=requireRegex$2(),uc_micro.Cf=requireRegex$1(),uc_micro.P=regex$4,uc_micro.Z=requireRegex()),uc_micro}(function(t){function e(U){return Object.prototype.toString.call(U)}function n(U){return e(U)==="[object String]"}var r=Object.prototype.hasOwnProperty;function o(U,se){return r.call(U,se)}function s(U){var se=Array.prototype.slice.call(arguments,1);return se.forEach(function(Y){if(!!Y){if(typeof Y!="object")throw new TypeError(Y+"must be object");Object.keys(Y).forEach(function(Q){U[Q]=Y[Q]})}}),U}function a(U,se,Y){return[].concat(U.slice(0,se),Y,U.slice(se+1))}function c(U){return!(U>=55296&&U<=57343||U>=64976&&U<=65007||(U&65535)===65535||(U&65535)===65534||U>=0&&U<=8||U===11||U>=14&&U<=31||U>=127&&U<=159||U>1114111)}function d(U){if(U>65535){U-=65536;var se=55296+(U>>10),Y=56320+(U&1023);return String.fromCharCode(se,Y)}return String.fromCharCode(U)}var f=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,g=/&([a-z#][a-z0-9]{1,31});/gi,v=new RegExp(f.source+"|"+g.source,"gi"),_=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,y=entities$1.exports;function C(U,se){var Y=0;return o(y,se)?y[se]:se.charCodeAt(0)===35&&_.test(se)&&(Y=se[1].toLowerCase()==="x"?parseInt(se.slice(2),16):parseInt(se.slice(1),10),c(Y))?d(Y):U}function S(U){return U.indexOf("\\")<0?U:U.replace(f,"$1")}function x(U){return U.indexOf("\\")<0&&U.indexOf("&")<0?U:U.replace(v,function(se,Y,Q){return Y||C(se,Q)})}var A=/[&<>"]/,T=/[&<>"]/g,E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function L(U){return E[U]}function P(U){return A.test(U)?U.replace(T,L):U}var O=/[.?*+^$[\]\\(){}|-]/g;function D(U){return U.replace(O,"\\$&")}function N(U){switch(U){case 9:case 32:return!0}return!1}function B(U){if(U>=8192&&U<=8202)return!0;switch(U){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var q=regex$4;function G(U){return q.test(U)}function W(U){switch(U){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function J(U){return U=U.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(U=U.replace(/ẞ/g,"\xDF")),U.toLowerCase().toUpperCase()}t.lib={},t.lib.mdurl=mdurl$1,t.lib.ucmicro=requireUc_micro(),t.assign=s,t.isString=n,t.has=o,t.unescapeMd=S,t.unescapeAll=x,t.isValidEntityCode=c,t.fromCodePoint=d,t.escapeHtml=P,t.arrayReplaceAt=a,t.isSpace=N,t.isWhiteSpace=B,t.isMdAsciiPunct=W,t.isPunctChar=G,t.escapeRE=D,t.normalizeReference=J})(utils$1);var helpers$1={},parse_link_label=function t(e,n,r){var o,s,a,c,d=-1,f=e.posMax,g=e.pos;for(e.pos=n+1,o=1;e.pos<f;){if(a=e.src.charCodeAt(e.pos),a===93&&(o--,o===0)){s=!0;break}if(c=e.pos,e.md.inline.skipToken(e),a===91){if(c===e.pos-1)o++;else if(r)return e.pos=g,-1}}return s&&(d=e.pos),e.pos=g,d},unescapeAll$2=utils$1.unescapeAll,parse_link_destination=function t(e,n,r){var o,s,a=0,c=n,d={ok:!1,pos:0,lines:0,str:""};if(e.charCodeAt(n)===60){for(n++;n<r;){if(o=e.charCodeAt(n),o===10||o===60)return d;if(o===62)return d.pos=n+1,d.str=unescapeAll$2(e.slice(c+1,n)),d.ok=!0,d;if(o===92&&n+1<r){n+=2;continue}n++}return d}for(s=0;n<r&&(o=e.charCodeAt(n),!(o===32||o<32||o===127));){if(o===92&&n+1<r){if(e.charCodeAt(n+1)===32)break;n+=2;continue}if(o===40&&(s++,s>32))return d;if(o===41){if(s===0)break;s--}n++}return c===n||s!==0||(d.str=unescapeAll$2(e.slice(c,n)),d.lines=a,d.pos=n,d.ok=!0),d},unescapeAll$1=utils$1.unescapeAll,parse_link_title=function t(e,n,r){var o,s,a=0,c=n,d={ok:!1,pos:0,lines:0,str:""};if(n>=r||(s=e.charCodeAt(n),s!==34&&s!==39&&s!==40))return d;for(n++,s===40&&(s=41);n<r;){if(o=e.charCodeAt(n),o===s)return d.pos=n+1,d.lines=a,d.str=unescapeAll$1(e.slice(c+1,n)),d.ok=!0,d;if(o===40&&s===41)return d;o===10?a++:o===92&&n+1<r&&(n++,e.charCodeAt(n)===10&&a++),n++}return d};helpers$1.parseLinkLabel=parse_link_label;helpers$1.parseLinkDestination=parse_link_destination;helpers$1.parseLinkTitle=parse_link_title;var assign$1=utils$1.assign,unescapeAll=utils$1.unescapeAll,escapeHtml=utils$1.escapeHtml,default_rules={};default_rules.code_inline=function(t,e,n,r,o){var s=t[e];return"<code"+o.renderAttrs(s)+">"+escapeHtml(t[e].content)+"</code>"};default_rules.code_block=function(t,e,n,r,o){var s=t[e];return"<pre"+o.renderAttrs(s)+"><code>"+escapeHtml(t[e].content)+`</code></pre>
`};default_rules.fence=function(t,e,n,r,o){var s=t[e],a=s.info?unescapeAll(s.info).trim():"",c="",d="",f,g,v,_,y;return a&&(v=a.split(/(\s+)/g),c=v[0],d=v.slice(2).join("")),n.highlight?f=n.highlight(s.content,c,d)||escapeHtml(s.content):f=escapeHtml(s.content),f.indexOf("<pre")===0?f+`
`:a?(g=s.attrIndex("class"),_=s.attrs?s.attrs.slice():[],g<0?_.push(["class",n.langPrefix+c]):(_[g]=_[g].slice(),_[g][1]+=" "+n.langPrefix+c),y={attrs:_},"<pre><code"+o.renderAttrs(y)+">"+f+`</code></pre>
`):"<pre><code"+o.renderAttrs(s)+">"+f+`</code></pre>
`};default_rules.image=function(t,e,n,r,o){var s=t[e];return s.attrs[s.attrIndex("alt")][1]=o.renderInlineAsText(s.children,n,r),o.renderToken(t,e,n)};default_rules.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(t,e){return escapeHtml(t[e].content)};default_rules.html_block=function(t,e){return t[e].content};default_rules.html_inline=function(t,e){return t[e].content};function Renderer$1(){this.rules=assign$1({},default_rules)}Renderer$1.prototype.renderAttrs=function t(e){var n,r,o;if(!e.attrs)return"";for(o="",n=0,r=e.attrs.length;n<r;n++)o+=" "+escapeHtml(e.attrs[n][0])+'="'+escapeHtml(e.attrs[n][1])+'"';return o};Renderer$1.prototype.renderToken=function t(e,n,r){var o,s="",a=!1,c=e[n];return c.hidden?"":(c.block&&c.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(c.nesting===-1?"</":"<")+c.tag,s+=this.renderAttrs(c),c.nesting===0&&r.xhtmlOut&&(s+=" /"),c.block&&(a=!0,c.nesting===1&&n+1<e.length&&(o=e[n+1],(o.type==="inline"||o.hidden||o.nesting===-1&&o.tag===c.tag)&&(a=!1))),s+=a?`>
`:">",s)};Renderer$1.prototype.renderInline=function(t,e,n){for(var r,o="",s=this.rules,a=0,c=t.length;a<c;a++)r=t[a].type,typeof s[r]<"u"?o+=s[r](t,a,e,n,this):o+=this.renderToken(t,a,e);return o};Renderer$1.prototype.renderInlineAsText=function(t,e,n){for(var r="",o=0,s=t.length;o<s;o++)t[o].type==="text"?r+=t[o].content:t[o].type==="image"?r+=this.renderInlineAsText(t[o].children,e,n):t[o].type==="softbreak"&&(r+=`
`);return r};Renderer$1.prototype.render=function(t,e,n){var r,o,s,a="",c=this.rules;for(r=0,o=t.length;r<o;r++)s=t[r].type,s==="inline"?a+=this.renderInline(t[r].children,e,n):typeof c[s]<"u"?a+=c[t[r].type](t,r,e,n,this):a+=this.renderToken(t,r,e,n);return a};var renderer=Renderer$1;function Ruler$3(){this.__rules__=[],this.__cache__=null}Ruler$3.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Ruler$3.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach(function(n){!n.enabled||n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){!r.enabled||n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn)})})};Ruler$3.prototype.at=function(t,e,n){var r=this.__find__(t),o=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=o.alt||[],this.__cache__=null};Ruler$3.prototype.before=function(t,e,n,r){var o=this.__find__(t),s=r||{};if(o===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Ruler$3.prototype.after=function(t,e,n,r){var o=this.__find__(t),s=r||{};if(o===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Ruler$3.prototype.push=function(t,e,n){var r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};Ruler$3.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach(function(r){var o=this.__find__(r);if(o<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!0,n.push(r)},this),this.__cache__=null,n};Ruler$3.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Ruler$3.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach(function(r){var o=this.__find__(r);if(o<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!1,n.push(r)},this),this.__cache__=null,n};Ruler$3.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};var ruler=Ruler$3,NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g,normalize=function t(e){var n;n=e.src.replace(NEWLINES_RE,`
`),n=n.replace(NULL_RE,"\uFFFD"),e.src=n},block=function t(e){var n;e.inlineMode?(n=new e.Token("inline","",0),n.content=e.src,n.map=[0,1],n.children=[],e.tokens.push(n)):e.md.block.parse(e.src,e.md,e.env,e.tokens)},inline=function t(e){var n=e.tokens,r,o,s;for(o=0,s=n.length;o<s;o++)r=n[o],r.type==="inline"&&e.md.inline.parse(r.content,e.md,e.env,r.children)},arrayReplaceAt=utils$1.arrayReplaceAt;function isLinkOpen$1(t){return/^<a[>\s]/i.test(t)}function isLinkClose$1(t){return/^<\/a\s*>/i.test(t)}var linkify$1=function t(e){var n,r,o,s,a,c,d,f,g,v,_,y,C,S,x,A,T=e.tokens,E;if(!!e.md.options.linkify){for(r=0,o=T.length;r<o;r++)if(!(T[r].type!=="inline"||!e.md.linkify.pretest(T[r].content)))for(s=T[r].children,C=0,n=s.length-1;n>=0;n--){if(c=s[n],c.type==="link_close"){for(n--;s[n].level!==c.level&&s[n].type!=="link_open";)n--;continue}if(c.type==="html_inline"&&(isLinkOpen$1(c.content)&&C>0&&C--,isLinkClose$1(c.content)&&C++),!(C>0)&&c.type==="text"&&e.md.linkify.test(c.content)){for(g=c.content,E=e.md.linkify.match(g),d=[],y=c.level,_=0,E.length>0&&E[0].index===0&&n>0&&s[n-1].type==="text_special"&&(E=E.slice(1)),f=0;f<E.length;f++)S=E[f].url,x=e.md.normalizeLink(S),e.md.validateLink(x)&&(A=E[f].text,E[f].schema?E[f].schema==="mailto:"&&!/^mailto:/i.test(A)?A=e.md.normalizeLinkText("mailto:"+A).replace(/^mailto:/,""):A=e.md.normalizeLinkText(A):A=e.md.normalizeLinkText("http://"+A).replace(/^http:\/\//,""),v=E[f].index,v>_&&(a=new e.Token("text","",0),a.content=g.slice(_,v),a.level=y,d.push(a)),a=new e.Token("link_open","a",1),a.attrs=[["href",x]],a.level=y++,a.markup="linkify",a.info="auto",d.push(a),a=new e.Token("text","",0),a.content=A,a.level=y,d.push(a),a=new e.Token("link_close","a",-1),a.level=--y,a.markup="linkify",a.info="auto",d.push(a),_=E[f].lastIndex);_<g.length&&(a=new e.Token("text","",0),a.content=g.slice(_),a.level=y,d.push(a)),T[r].children=s=arrayReplaceAt(s,n,d)}}}},RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"\xA9",r:"\xAE",tm:"\u2122"};function replaceFn(t,e){return SCOPED_ABBR[e.toLowerCase()]}function replace_scoped(t){var e,n,r=0;for(e=t.length-1;e>=0;e--)n=t[e],n.type==="text"&&!r&&(n.content=n.content.replace(SCOPED_ABBR_RE,replaceFn)),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}function replace_rare(t){var e,n,r=0;for(e=t.length-1;e>=0;e--)n=t[e],n.type==="text"&&!r&&RARE_RE.test(n.content)&&(n.content=n.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}var replacements=function t(e){var n;if(!!e.md.options.typographer)for(n=e.tokens.length-1;n>=0;n--)e.tokens[n].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(e.tokens[n].content)&&replace_scoped(e.tokens[n].children),RARE_RE.test(e.tokens[n].content)&&replace_rare(e.tokens[n].children))},isWhiteSpace$1=utils$1.isWhiteSpace,isPunctChar$1=utils$1.isPunctChar,isMdAsciiPunct$1=utils$1.isMdAsciiPunct,QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="\u2019";function replaceAt(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function process_inlines(t,e){var n,r,o,s,a,c,d,f,g,v,_,y,C,S,x,A,T,E,L,P,O;for(L=[],n=0;n<t.length;n++){for(r=t[n],d=t[n].level,T=L.length-1;T>=0&&!(L[T].level<=d);T--);if(L.length=T+1,r.type!=="text")continue;o=r.content,a=0,c=o.length;e:for(;a<c&&(QUOTE_RE.lastIndex=a,s=QUOTE_RE.exec(o),!!s);){if(x=A=!0,a=s.index+1,E=s[0]==="'",g=32,s.index-1>=0)g=o.charCodeAt(s.index-1);else for(T=n-1;T>=0&&!(t[T].type==="softbreak"||t[T].type==="hardbreak");T--)if(!!t[T].content){g=t[T].content.charCodeAt(t[T].content.length-1);break}if(v=32,a<c)v=o.charCodeAt(a);else for(T=n+1;T<t.length&&!(t[T].type==="softbreak"||t[T].type==="hardbreak");T++)if(!!t[T].content){v=t[T].content.charCodeAt(0);break}if(_=isMdAsciiPunct$1(g)||isPunctChar$1(String.fromCharCode(g)),y=isMdAsciiPunct$1(v)||isPunctChar$1(String.fromCharCode(v)),C=isWhiteSpace$1(g),S=isWhiteSpace$1(v),S?x=!1:y&&(C||_||(x=!1)),C?A=!1:_&&(S||y||(A=!1)),v===34&&s[0]==='"'&&g>=48&&g<=57&&(A=x=!1),x&&A&&(x=_,A=y),!x&&!A){E&&(r.content=replaceAt(r.content,s.index,APOSTROPHE));continue}if(A){for(T=L.length-1;T>=0&&(f=L[T],!(L[T].level<d));T--)if(f.single===E&&L[T].level===d){f=L[T],E?(P=e.md.options.quotes[2],O=e.md.options.quotes[3]):(P=e.md.options.quotes[0],O=e.md.options.quotes[1]),r.content=replaceAt(r.content,s.index,O),t[f.token].content=replaceAt(t[f.token].content,f.pos,P),a+=O.length-1,f.token===n&&(a+=P.length-1),o=r.content,c=o.length,L.length=T;continue e}}x?L.push({token:n,pos:s.index,single:E,level:d}):A&&E&&(r.content=replaceAt(r.content,s.index,APOSTROPHE))}}}var smartquotes=function t(e){var n;if(!!e.md.options.typographer)for(n=e.tokens.length-1;n>=0;n--)e.tokens[n].type!=="inline"||!QUOTE_TEST_RE.test(e.tokens[n].content)||process_inlines(e.tokens[n].children,e)},text_join=function t(e){var n,r,o,s,a,c,d=e.tokens;for(n=0,r=d.length;n<r;n++)if(d[n].type==="inline"){for(o=d[n].children,a=o.length,s=0;s<a;s++)o[s].type==="text_special"&&(o[s].type="text");for(s=c=0;s<a;s++)o[s].type==="text"&&s+1<a&&o[s+1].type==="text"?o[s+1].content=o[s].content+o[s+1].content:(s!==c&&(o[c]=o[s]),c++);s!==c&&(o.length=c)}};function Token$3(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token$3.prototype.attrIndex=function t(e){var n,r,o;if(!this.attrs)return-1;for(n=this.attrs,r=0,o=n.length;r<o;r++)if(n[r][0]===e)return r;return-1};Token$3.prototype.attrPush=function t(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Token$3.prototype.attrSet=function t(e,n){var r=this.attrIndex(e),o=[e,n];r<0?this.attrPush(o):this.attrs[r]=o};Token$3.prototype.attrGet=function t(e){var n=this.attrIndex(e),r=null;return n>=0&&(r=this.attrs[n][1]),r};Token$3.prototype.attrJoin=function t(e,n){var r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};var token=Token$3,Token$2=token;function StateCore(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}StateCore.prototype.Token=Token$2;var state_core=StateCore,Ruler$2=ruler,_rules$2=[["normalize",normalize],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replacements],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler$2;for(var t=0;t<_rules$2.length;t++)this.ruler.push(_rules$2[t][0],_rules$2[t][1])}Core.prototype.process=function(t){var e,n,r;for(r=this.ruler.getRules(""),e=0,n=r.length;e<n;e++)r[e](t)};Core.prototype.State=state_core;var parser_core=Core,isSpace$a=utils$1.isSpace;function getLine(t,e){var n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function escapedSplit(t){var e=[],n=0,r=t.length,o,s=!1,a=0,c="";for(o=t.charCodeAt(n);n<r;)o===124&&(s?(c+=t.substring(a,n-1),a=n):(e.push(c+t.substring(a,n)),c="",a=n+1)),s=o===92,n++,o=t.charCodeAt(n);return e.push(c+t.substring(a)),e}var table=function t(e,n,r,o){var s,a,c,d,f,g,v,_,y,C,S,x,A,T,E,L,P,O;if(n+2>r||(g=n+1,e.sCount[g]<e.blkIndent)||e.sCount[g]-e.blkIndent>=4||(c=e.bMarks[g]+e.tShift[g],c>=e.eMarks[g])||(P=e.src.charCodeAt(c++),P!==124&&P!==45&&P!==58)||c>=e.eMarks[g]||(O=e.src.charCodeAt(c++),O!==124&&O!==45&&O!==58&&!isSpace$a(O))||P===45&&isSpace$a(O))return!1;for(;c<e.eMarks[g];){if(s=e.src.charCodeAt(c),s!==124&&s!==45&&s!==58&&!isSpace$a(s))return!1;c++}for(a=getLine(e,n+1),v=a.split("|"),C=[],d=0;d<v.length;d++){if(S=v[d].trim(),!S){if(d===0||d===v.length-1)continue;return!1}if(!/^:?-+:?$/.test(S))return!1;S.charCodeAt(S.length-1)===58?C.push(S.charCodeAt(0)===58?"center":"right"):S.charCodeAt(0)===58?C.push("left"):C.push("")}if(a=getLine(e,n).trim(),a.indexOf("|")===-1||e.sCount[n]-e.blkIndent>=4||(v=escapedSplit(a),v.length&&v[0]===""&&v.shift(),v.length&&v[v.length-1]===""&&v.pop(),_=v.length,_===0||_!==C.length))return!1;if(o)return!0;for(T=e.parentType,e.parentType="table",L=e.md.block.ruler.getRules("blockquote"),y=e.push("table_open","table",1),y.map=x=[n,0],y=e.push("thead_open","thead",1),y.map=[n,n+1],y=e.push("tr_open","tr",1),y.map=[n,n+1],d=0;d<v.length;d++)y=e.push("th_open","th",1),C[d]&&(y.attrs=[["style","text-align:"+C[d]]]),y=e.push("inline","",0),y.content=v[d].trim(),y.children=[],y=e.push("th_close","th",-1);for(y=e.push("tr_close","tr",-1),y=e.push("thead_close","thead",-1),g=n+2;g<r&&!(e.sCount[g]<e.blkIndent);g++){for(E=!1,d=0,f=L.length;d<f;d++)if(L[d](e,g,r,!0)){E=!0;break}if(E||(a=getLine(e,g).trim(),!a)||e.sCount[g]-e.blkIndent>=4)break;for(v=escapedSplit(a),v.length&&v[0]===""&&v.shift(),v.length&&v[v.length-1]===""&&v.pop(),g===n+2&&(y=e.push("tbody_open","tbody",1),y.map=A=[n+2,0]),y=e.push("tr_open","tr",1),y.map=[g,g+1],d=0;d<_;d++)y=e.push("td_open","td",1),C[d]&&(y.attrs=[["style","text-align:"+C[d]]]),y=e.push("inline","",0),y.content=v[d]?v[d].trim():"",y.children=[],y=e.push("td_close","td",-1);y=e.push("tr_close","tr",-1)}return A&&(y=e.push("tbody_close","tbody",-1),A[1]=g),y=e.push("table_close","table",-1),x[1]=g,e.parentType=T,e.line=g,!0},code=function t(e,n,r){var o,s,a;if(e.sCount[n]-e.blkIndent<4)return!1;for(s=o=n+1;o<r;){if(e.isEmpty(o)){o++;continue}if(e.sCount[o]-e.blkIndent>=4){o++,s=o;continue}break}return e.line=s,a=e.push("code_block","code",0),a.content=e.getLines(n,s,4+e.blkIndent,!1)+`
`,a.map=[n,e.line],!0},fence=function t(e,n,r,o){var s,a,c,d,f,g,v,_=!1,y=e.bMarks[n]+e.tShift[n],C=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||y+3>C||(s=e.src.charCodeAt(y),s!==126&&s!==96)||(f=y,y=e.skipChars(y,s),a=y-f,a<3)||(v=e.src.slice(f,y),c=e.src.slice(y,C),s===96&&c.indexOf(String.fromCharCode(s))>=0))return!1;if(o)return!0;for(d=n;d++,!(d>=r||(y=f=e.bMarks[d]+e.tShift[d],C=e.eMarks[d],y<C&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(y)===s&&!(e.sCount[d]-e.blkIndent>=4)&&(y=e.skipChars(y,s),!(y-f<a)&&(y=e.skipSpaces(y),!(y<C)))){_=!0;break}return a=e.sCount[n],e.line=d+(_?1:0),g=e.push("fence","code",0),g.info=c,g.content=e.getLines(n+1,d,a,!0),g.markup=v,g.map=[n,e.line],!0},isSpace$9=utils$1.isSpace,blockquote=function t(e,n,r,o){var s,a,c,d,f,g,v,_,y,C,S,x,A,T,E,L,P,O,D,N,B=e.lineMax,q=e.bMarks[n]+e.tShift[n],G=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||e.src.charCodeAt(q++)!==62)return!1;if(o)return!0;for(d=y=e.sCount[n]+1,e.src.charCodeAt(q)===32?(q++,d++,y++,s=!1,L=!0):e.src.charCodeAt(q)===9?(L=!0,(e.bsCount[n]+y)%4===3?(q++,d++,y++,s=!1):s=!0):L=!1,C=[e.bMarks[n]],e.bMarks[n]=q;q<G&&(a=e.src.charCodeAt(q),isSpace$9(a));){a===9?y+=4-(y+e.bsCount[n]+(s?1:0))%4:y++;q++}for(S=[e.bsCount[n]],e.bsCount[n]=e.sCount[n]+1+(L?1:0),g=q>=G,T=[e.sCount[n]],e.sCount[n]=y-d,E=[e.tShift[n]],e.tShift[n]=q-e.bMarks[n],O=e.md.block.ruler.getRules("blockquote"),A=e.parentType,e.parentType="blockquote",_=n+1;_<r&&(N=e.sCount[_]<e.blkIndent,q=e.bMarks[_]+e.tShift[_],G=e.eMarks[_],!(q>=G));_++){if(e.src.charCodeAt(q++)===62&&!N){for(d=y=e.sCount[_]+1,e.src.charCodeAt(q)===32?(q++,d++,y++,s=!1,L=!0):e.src.charCodeAt(q)===9?(L=!0,(e.bsCount[_]+y)%4===3?(q++,d++,y++,s=!1):s=!0):L=!1,C.push(e.bMarks[_]),e.bMarks[_]=q;q<G&&(a=e.src.charCodeAt(q),isSpace$9(a));){a===9?y+=4-(y+e.bsCount[_]+(s?1:0))%4:y++;q++}g=q>=G,S.push(e.bsCount[_]),e.bsCount[_]=e.sCount[_]+1+(L?1:0),T.push(e.sCount[_]),e.sCount[_]=y-d,E.push(e.tShift[_]),e.tShift[_]=q-e.bMarks[_];continue}if(g)break;for(P=!1,c=0,f=O.length;c<f;c++)if(O[c](e,_,r,!0)){P=!0;break}if(P){e.lineMax=_,e.blkIndent!==0&&(C.push(e.bMarks[_]),S.push(e.bsCount[_]),E.push(e.tShift[_]),T.push(e.sCount[_]),e.sCount[_]-=e.blkIndent);break}C.push(e.bMarks[_]),S.push(e.bsCount[_]),E.push(e.tShift[_]),T.push(e.sCount[_]),e.sCount[_]=-1}for(x=e.blkIndent,e.blkIndent=0,D=e.push("blockquote_open","blockquote",1),D.markup=">",D.map=v=[n,0],e.md.block.tokenize(e,n,_),D=e.push("blockquote_close","blockquote",-1),D.markup=">",e.lineMax=B,e.parentType=A,v[1]=e.line,c=0;c<E.length;c++)e.bMarks[c+n]=C[c],e.tShift[c+n]=E[c],e.sCount[c+n]=T[c],e.bsCount[c+n]=S[c];return e.blkIndent=x,!0},isSpace$8=utils$1.isSpace,hr=function t(e,n,r,o){var s,a,c,d,f=e.bMarks[n]+e.tShift[n],g=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||(s=e.src.charCodeAt(f++),s!==42&&s!==45&&s!==95))return!1;for(a=1;f<g;){if(c=e.src.charCodeAt(f++),c!==s&&!isSpace$8(c))return!1;c===s&&a++}return a<3?!1:(o||(e.line=n+1,d=e.push("hr","hr",0),d.map=[n,e.line],d.markup=Array(a+1).join(String.fromCharCode(s))),!0)},isSpace$7=utils$1.isSpace;function skipBulletListMarker(t,e){var n,r,o,s;return r=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],n=t.src.charCodeAt(r++),n!==42&&n!==45&&n!==43||r<o&&(s=t.src.charCodeAt(r),!isSpace$7(s))?-1:r}function skipOrderedListMarker(t,e){var n,r=t.bMarks[e]+t.tShift[e],o=r,s=t.eMarks[e];if(o+1>=s||(n=t.src.charCodeAt(o++),n<48||n>57))return-1;for(;;){if(o>=s)return-1;if(n=t.src.charCodeAt(o++),n>=48&&n<=57){if(o-r>=10)return-1;continue}if(n===41||n===46)break;return-1}return o<s&&(n=t.src.charCodeAt(o),!isSpace$7(n))?-1:o}function markTightParagraphs(t,e){var n,r,o=t.level+2;for(n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===o&&t.tokens[n].type==="paragraph_open"&&(t.tokens[n+2].hidden=!0,t.tokens[n].hidden=!0,n+=2)}var list=function t(e,n,r,o){var s,a,c,d,f,g,v,_,y,C,S,x,A,T,E,L,P,O,D,N,B,q,G,W,J,U,se,Y,Q=!1,ae=!0;if(e.sCount[n]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[n]-e.listIndent>=4&&e.sCount[n]<e.blkIndent)return!1;if(o&&e.parentType==="paragraph"&&e.sCount[n]>=e.blkIndent&&(Q=!0),(G=skipOrderedListMarker(e,n))>=0){if(v=!0,J=e.bMarks[n]+e.tShift[n],A=Number(e.src.slice(J,G-1)),Q&&A!==1)return!1}else if((G=skipBulletListMarker(e,n))>=0)v=!1;else return!1;if(Q&&e.skipSpaces(G)>=e.eMarks[n])return!1;if(x=e.src.charCodeAt(G-1),o)return!0;for(S=e.tokens.length,v?(Y=e.push("ordered_list_open","ol",1),A!==1&&(Y.attrs=[["start",A]])):Y=e.push("bullet_list_open","ul",1),Y.map=C=[n,0],Y.markup=String.fromCharCode(x),E=n,W=!1,se=e.md.block.ruler.getRules("list"),O=e.parentType,e.parentType="list";E<r;){for(q=G,T=e.eMarks[E],g=L=e.sCount[E]+G-(e.bMarks[n]+e.tShift[n]);q<T;){if(s=e.src.charCodeAt(q),s===9)L+=4-(L+e.bsCount[E])%4;else if(s===32)L++;else break;q++}if(a=q,a>=T?f=1:f=L-g,f>4&&(f=1),d=g+f,Y=e.push("list_item_open","li",1),Y.markup=String.fromCharCode(x),Y.map=_=[n,0],v&&(Y.info=e.src.slice(J,G-1)),B=e.tight,N=e.tShift[n],D=e.sCount[n],P=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=d,e.tight=!0,e.tShift[n]=a-e.bMarks[n],e.sCount[n]=L,a>=T&&e.isEmpty(n+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,n,r,!0),(!e.tight||W)&&(ae=!1),W=e.line-n>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=P,e.tShift[n]=N,e.sCount[n]=D,e.tight=B,Y=e.push("list_item_close","li",-1),Y.markup=String.fromCharCode(x),E=n=e.line,_[1]=E,a=e.bMarks[n],E>=r||e.sCount[E]<e.blkIndent||e.sCount[n]-e.blkIndent>=4)break;for(U=!1,c=0,y=se.length;c<y;c++)if(se[c](e,E,r,!0)){U=!0;break}if(U)break;if(v){if(G=skipOrderedListMarker(e,E),G<0)break;J=e.bMarks[E]+e.tShift[E]}else if(G=skipBulletListMarker(e,E),G<0)break;if(x!==e.src.charCodeAt(G-1))break}return v?Y=e.push("ordered_list_close","ol",-1):Y=e.push("bullet_list_close","ul",-1),Y.markup=String.fromCharCode(x),C[1]=E,e.line=E,e.parentType=O,ae&&markTightParagraphs(e,S),!0},normalizeReference$2=utils$1.normalizeReference,isSpace$6=utils$1.isSpace,reference=function t(e,n,r,o){var s,a,c,d,f,g,v,_,y,C,S,x,A,T,E,L,P=0,O=e.bMarks[n]+e.tShift[n],D=e.eMarks[n],N=n+1;if(e.sCount[n]-e.blkIndent>=4||e.src.charCodeAt(O)!==91)return!1;for(;++O<D;)if(e.src.charCodeAt(O)===93&&e.src.charCodeAt(O-1)!==92){if(O+1===D||e.src.charCodeAt(O+1)!==58)return!1;break}for(d=e.lineMax,E=e.md.block.ruler.getRules("reference"),C=e.parentType,e.parentType="reference";N<d&&!e.isEmpty(N);N++)if(!(e.sCount[N]-e.blkIndent>3)&&!(e.sCount[N]<0)){for(T=!1,g=0,v=E.length;g<v;g++)if(E[g](e,N,d,!0)){T=!0;break}if(T)break}for(A=e.getLines(n,N,e.blkIndent,!1).trim(),D=A.length,O=1;O<D;O++){if(s=A.charCodeAt(O),s===91)return!1;if(s===93){y=O;break}else s===10?P++:s===92&&(O++,O<D&&A.charCodeAt(O)===10&&P++)}if(y<0||A.charCodeAt(y+1)!==58)return!1;for(O=y+2;O<D;O++)if(s=A.charCodeAt(O),s===10)P++;else if(!isSpace$6(s))break;if(S=e.md.helpers.parseLinkDestination(A,O,D),!S.ok||(f=e.md.normalizeLink(S.str),!e.md.validateLink(f)))return!1;for(O=S.pos,P+=S.lines,a=O,c=P,x=O;O<D;O++)if(s=A.charCodeAt(O),s===10)P++;else if(!isSpace$6(s))break;for(S=e.md.helpers.parseLinkTitle(A,O,D),O<D&&x!==O&&S.ok?(L=S.str,O=S.pos,P+=S.lines):(L="",O=a,P=c);O<D&&(s=A.charCodeAt(O),!!isSpace$6(s));)O++;if(O<D&&A.charCodeAt(O)!==10&&L)for(L="",O=a,P=c;O<D&&(s=A.charCodeAt(O),!!isSpace$6(s));)O++;return O<D&&A.charCodeAt(O)!==10||(_=normalizeReference$2(A.slice(1,y)),!_)?!1:(o||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[_]>"u"&&(e.env.references[_]={title:L,href:f}),e.parentType=C,e.line=n+P+1),!0)},html_blocks=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],html_re={},attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Z]+\\s+[^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE$1=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE$1=new RegExp("^(?:"+open_tag+"|"+close_tag+")");html_re.HTML_TAG_RE=HTML_TAG_RE$1;html_re.HTML_OPEN_CLOSE_TAG_RE=HTML_OPEN_CLOSE_TAG_RE$1;var block_names=html_blocks,HTML_OPEN_CLOSE_TAG_RE=html_re.HTML_OPEN_CLOSE_TAG_RE,HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]],html_block=function t(e,n,r,o){var s,a,c,d,f=e.bMarks[n]+e.tShift[n],g=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(f)!==60)return!1;for(d=e.src.slice(f,g),s=0;s<HTML_SEQUENCES.length&&!HTML_SEQUENCES[s][0].test(d);s++);if(s===HTML_SEQUENCES.length)return!1;if(o)return HTML_SEQUENCES[s][2];if(a=n+1,!HTML_SEQUENCES[s][1].test(d)){for(;a<r&&!(e.sCount[a]<e.blkIndent);a++)if(f=e.bMarks[a]+e.tShift[a],g=e.eMarks[a],d=e.src.slice(f,g),HTML_SEQUENCES[s][1].test(d)){d.length!==0&&a++;break}}return e.line=a,c=e.push("html_block","",0),c.map=[n,a],c.content=e.getLines(n,a,e.blkIndent,!0),!0},isSpace$5=utils$1.isSpace,heading=function t(e,n,r,o){var s,a,c,d,f=e.bMarks[n]+e.tShift[n],g=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||(s=e.src.charCodeAt(f),s!==35||f>=g))return!1;for(a=1,s=e.src.charCodeAt(++f);s===35&&f<g&&a<=6;)a++,s=e.src.charCodeAt(++f);return a>6||f<g&&!isSpace$5(s)?!1:(o||(g=e.skipSpacesBack(g,f),c=e.skipCharsBack(g,35,f),c>f&&isSpace$5(e.src.charCodeAt(c-1))&&(g=c),e.line=n+1,d=e.push("heading_open","h"+String(a),1),d.markup="########".slice(0,a),d.map=[n,e.line],d=e.push("inline","",0),d.content=e.src.slice(f,g).trim(),d.map=[n,e.line],d.children=[],d=e.push("heading_close","h"+String(a),-1),d.markup="########".slice(0,a)),!0)},lheading=function t(e,n,r){var o,s,a,c,d,f,g,v,_,y=n+1,C,S=e.md.block.ruler.getRules("paragraph");if(e.sCount[n]-e.blkIndent>=4)return!1;for(C=e.parentType,e.parentType="paragraph";y<r&&!e.isEmpty(y);y++)if(!(e.sCount[y]-e.blkIndent>3)){if(e.sCount[y]>=e.blkIndent&&(f=e.bMarks[y]+e.tShift[y],g=e.eMarks[y],f<g&&(_=e.src.charCodeAt(f),(_===45||_===61)&&(f=e.skipChars(f,_),f=e.skipSpaces(f),f>=g)))){v=_===61?1:2;break}if(!(e.sCount[y]<0)){for(s=!1,a=0,c=S.length;a<c;a++)if(S[a](e,y,r,!0)){s=!0;break}if(s)break}}return v?(o=e.getLines(n,y,e.blkIndent,!1).trim(),e.line=y+1,d=e.push("heading_open","h"+String(v),1),d.markup=String.fromCharCode(_),d.map=[n,e.line],d=e.push("inline","",0),d.content=o,d.map=[n,e.line-1],d.children=[],d=e.push("heading_close","h"+String(v),-1),d.markup=String.fromCharCode(_),e.parentType=C,!0):!1},paragraph=function t(e,n){var r,o,s,a,c,d,f=n+1,g=e.md.block.ruler.getRules("paragraph"),v=e.lineMax;for(d=e.parentType,e.parentType="paragraph";f<v&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)&&!(e.sCount[f]<0)){for(o=!1,s=0,a=g.length;s<a;s++)if(g[s](e,f,v,!0)){o=!0;break}if(o)break}return r=e.getLines(n,f,e.blkIndent,!1).trim(),e.line=f,c=e.push("paragraph_open","p",1),c.map=[n,e.line],c=e.push("inline","",0),c.content=r,c.map=[n,e.line],c.children=[],c=e.push("paragraph_close","p",-1),e.parentType=d,!0},Token$1=token,isSpace$4=utils$1.isSpace;function StateBlock(t,e,n,r){var o,s,a,c,d,f,g,v;for(this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",s=this.src,v=!1,a=c=f=g=0,d=s.length;c<d;c++){if(o=s.charCodeAt(c),!v)if(isSpace$4(o)){f++,o===9?g+=4-g%4:g++;continue}else v=!0;(o===10||c===d-1)&&(o!==10&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(f),this.sCount.push(g),this.bsCount.push(0),v=!1,f=0,g=0,a=c+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(t,e,n){var r=new Token$1(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};StateBlock.prototype.isEmpty=function t(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};StateBlock.prototype.skipEmptyLines=function t(e){for(var n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};StateBlock.prototype.skipSpaces=function t(e){for(var n,r=this.src.length;e<r&&(n=this.src.charCodeAt(e),!!isSpace$4(n));e++);return e};StateBlock.prototype.skipSpacesBack=function t(e,n){if(e<=n)return e;for(;e>n;)if(!isSpace$4(this.src.charCodeAt(--e)))return e+1;return e};StateBlock.prototype.skipChars=function t(e,n){for(var r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e};StateBlock.prototype.skipCharsBack=function t(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e};StateBlock.prototype.getLines=function t(e,n,r,o){var s,a,c,d,f,g,v,_=e;if(e>=n)return"";for(g=new Array(n-e),s=0;_<n;_++,s++){for(a=0,v=d=this.bMarks[_],_+1<n||o?f=this.eMarks[_]+1:f=this.eMarks[_];d<f&&a<r;){if(c=this.src.charCodeAt(d),isSpace$4(c))c===9?a+=4-(a+this.bsCount[_])%4:a++;else if(d-v<this.tShift[_])a++;else break;d++}a>r?g[s]=new Array(a-r+1).join(" ")+this.src.slice(d,f):g[s]=this.src.slice(d,f)}return g.join("")};StateBlock.prototype.Token=Token$1;var state_block=StateBlock,Ruler$1=ruler,_rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock$1(){this.ruler=new Ruler$1;for(var t=0;t<_rules$1.length;t++)this.ruler.push(_rules$1[t][0],_rules$1[t][1],{alt:(_rules$1[t][2]||[]).slice()})}ParserBlock$1.prototype.tokenize=function(t,e,n){for(var r,o,s=this.ruler.getRules(""),a=s.length,c=e,d=!1,f=t.md.options.maxNesting;c<n&&(t.line=c=t.skipEmptyLines(c),!(c>=n||t.sCount[c]<t.blkIndent));){if(t.level>=f){t.line=n;break}for(o=0;o<a&&(r=s[o](t,c,n,!1),!r);o++);t.tight=!d,t.isEmpty(t.line-1)&&(d=!0),c=t.line,c<n&&t.isEmpty(c)&&(d=!0,c++,t.line=c)}};ParserBlock$1.prototype.parse=function(t,e,n,r){var o;!t||(o=new this.State(t,e,n,r),this.tokenize(o,o.line,o.lineMax))};ParserBlock$1.prototype.State=state_block;var parser_block=ParserBlock$1;function isTerminatorChar(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var text=function t(e,n){for(var r=e.pos;r<e.posMax&&!isTerminatorChar(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(n||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)},SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,linkify=function t(e,n){var r,o,s,a,c,d,f,g;return!e.md.options.linkify||e.linkLevel>0||(r=e.pos,o=e.posMax,r+3>o)||e.src.charCodeAt(r)!==58||e.src.charCodeAt(r+1)!==47||e.src.charCodeAt(r+2)!==47||(s=e.pending.match(SCHEME_RE),!s)||(a=s[1],c=e.md.linkify.matchAtStart(e.src.slice(r-a.length)),!c)||(d=c.url,d=d.replace(/\*+$/,""),f=e.md.normalizeLink(d),!e.md.validateLink(f))?!1:(n||(e.pending=e.pending.slice(0,-a.length),g=e.push("link_open","a",1),g.attrs=[["href",f]],g.markup="linkify",g.info="auto",g=e.push("text","",0),g.content=e.md.normalizeLinkText(d),g=e.push("link_close","a",-1),g.markup="linkify",g.info="auto"),e.pos+=d.length-a.length,!0)},isSpace$3=utils$1.isSpace,newline=function t(e,n){var r,o,s,a=e.pos;if(e.src.charCodeAt(a)!==10)return!1;if(r=e.pending.length-1,o=e.posMax,!n)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){for(s=r-1;s>=1&&e.pending.charCodeAt(s-1)===32;)s--;e.pending=e.pending.slice(0,s),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(a++;a<o&&isSpace$3(e.src.charCodeAt(a));)a++;return e.pos=a,!0},isSpace$2=utils$1.isSpace,ESCAPED=[];for(var i$1=0;i$1<256;i$1++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){ESCAPED[t.charCodeAt(0)]=1});var _escape=function t(e,n){var r,o,s,a,c,d=e.pos,f=e.posMax;if(e.src.charCodeAt(d)!==92||(d++,d>=f))return!1;if(r=e.src.charCodeAt(d),r===10){for(n||e.push("hardbreak","br",0),d++;d<f&&(r=e.src.charCodeAt(d),!!isSpace$2(r));)d++;return e.pos=d,!0}return a=e.src[d],r>=55296&&r<=56319&&d+1<f&&(o=e.src.charCodeAt(d+1),o>=56320&&o<=57343&&(a+=e.src[d+1],d++)),s="\\"+a,n||(c=e.push("text_special","",0),r<256&&ESCAPED[r]!==0?c.content=a:c.content=s,c.markup=s,c.info="escape"),e.pos=d+1,!0},backticks=function t(e,n){var r,o,s,a,c,d,f,g,v=e.pos,_=e.src.charCodeAt(v);if(_!==96)return!1;for(r=v,v++,o=e.posMax;v<o&&e.src.charCodeAt(v)===96;)v++;if(s=e.src.slice(r,v),f=s.length,e.backticksScanned&&(e.backticks[f]||0)<=r)return n||(e.pending+=s),e.pos+=f,!0;for(c=d=v;(c=e.src.indexOf("`",d))!==-1;){for(d=c+1;d<o&&e.src.charCodeAt(d)===96;)d++;if(g=d-c,g===f)return n||(a=e.push("code_inline","code",0),a.markup=s,a.content=e.src.slice(v,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=d,!0;e.backticks[g]=c}return e.backticksScanned=!0,n||(e.pending+=s),e.pos+=f,!0},strikethrough={};strikethrough.tokenize=function t(e,n){var r,o,s,a,c,d=e.pos,f=e.src.charCodeAt(d);if(n||f!==126||(o=e.scanDelims(e.pos,!0),a=o.length,c=String.fromCharCode(f),a<2))return!1;for(a%2&&(s=e.push("text","",0),s.content=c,a--),r=0;r<a;r+=2)s=e.push("text","",0),s.content=c+c,e.delimiters.push({marker:f,length:0,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0};function postProcess$1(t,e){var n,r,o,s,a,c=[],d=e.length;for(n=0;n<d;n++)o=e[n],o.marker===126&&o.end!==-1&&(s=e[o.end],a=t.tokens[o.token],a.type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",a=t.tokens[s.token],a.type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="",t.tokens[s.token-1].type==="text"&&t.tokens[s.token-1].content==="~"&&c.push(s.token-1));for(;c.length;){for(n=c.pop(),r=n+1;r<t.tokens.length&&t.tokens[r].type==="s_close";)r++;r--,n!==r&&(a=t.tokens[r],t.tokens[r]=t.tokens[n],t.tokens[n]=a)}}strikethrough.postProcess=function t(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(postProcess$1(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&postProcess$1(e,r[n].delimiters)};var emphasis={};emphasis.tokenize=function t(e,n){var r,o,s,a=e.pos,c=e.src.charCodeAt(a);if(n||c!==95&&c!==42)return!1;for(o=e.scanDelims(e.pos,c===42),r=0;r<o.length;r++)s=e.push("text","",0),s.content=String.fromCharCode(c),e.delimiters.push({marker:c,length:o.length,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0};function postProcess(t,e){var n,r,o,s,a,c,d=e.length;for(n=d-1;n>=0;n--)r=e[n],!(r.marker!==95&&r.marker!==42)&&r.end!==-1&&(o=e[r.end],c=n>0&&e[n-1].end===r.end+1&&e[n-1].marker===r.marker&&e[n-1].token===r.token-1&&e[r.end+1].token===o.token+1,a=String.fromCharCode(r.marker),s=t.tokens[r.token],s.type=c?"strong_open":"em_open",s.tag=c?"strong":"em",s.nesting=1,s.markup=c?a+a:a,s.content="",s=t.tokens[o.token],s.type=c?"strong_close":"em_close",s.tag=c?"strong":"em",s.nesting=-1,s.markup=c?a+a:a,s.content="",c&&(t.tokens[e[n-1].token].content="",t.tokens[e[r.end+1].token].content="",n--))}emphasis.postProcess=function t(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(postProcess(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&postProcess(e,r[n].delimiters)};var normalizeReference$1=utils$1.normalizeReference,isSpace$1=utils$1.isSpace,link=function t(e,n){var r,o,s,a,c,d,f,g,v,_="",y="",C=e.pos,S=e.posMax,x=e.pos,A=!0;if(e.src.charCodeAt(e.pos)!==91||(c=e.pos+1,a=e.md.helpers.parseLinkLabel(e,e.pos,!0),a<0))return!1;if(d=a+1,d<S&&e.src.charCodeAt(d)===40){for(A=!1,d++;d<S&&(o=e.src.charCodeAt(d),!(!isSpace$1(o)&&o!==10));d++);if(d>=S)return!1;if(x=d,f=e.md.helpers.parseLinkDestination(e.src,d,e.posMax),f.ok){for(_=e.md.normalizeLink(f.str),e.md.validateLink(_)?d=f.pos:_="",x=d;d<S&&(o=e.src.charCodeAt(d),!(!isSpace$1(o)&&o!==10));d++);if(f=e.md.helpers.parseLinkTitle(e.src,d,e.posMax),d<S&&x!==d&&f.ok)for(y=f.str,d=f.pos;d<S&&(o=e.src.charCodeAt(d),!(!isSpace$1(o)&&o!==10));d++);}(d>=S||e.src.charCodeAt(d)!==41)&&(A=!0),d++}if(A){if(typeof e.env.references>"u")return!1;if(d<S&&e.src.charCodeAt(d)===91?(x=d+1,d=e.md.helpers.parseLinkLabel(e,d),d>=0?s=e.src.slice(x,d++):d=a+1):d=a+1,s||(s=e.src.slice(c,a)),g=e.env.references[normalizeReference$1(s)],!g)return e.pos=C,!1;_=g.href,y=g.title}return n||(e.pos=c,e.posMax=a,v=e.push("link_open","a",1),v.attrs=r=[["href",_]],y&&r.push(["title",y]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,v=e.push("link_close","a",-1)),e.pos=d,e.posMax=S,!0},normalizeReference=utils$1.normalizeReference,isSpace=utils$1.isSpace,image=function t(e,n){var r,o,s,a,c,d,f,g,v,_,y,C,S,x="",A=e.pos,T=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91||(d=e.pos+2,c=e.md.helpers.parseLinkLabel(e,e.pos+1,!1),c<0))return!1;if(f=c+1,f<T&&e.src.charCodeAt(f)===40){for(f++;f<T&&(o=e.src.charCodeAt(f),!(!isSpace(o)&&o!==10));f++);if(f>=T)return!1;for(S=f,v=e.md.helpers.parseLinkDestination(e.src,f,e.posMax),v.ok&&(x=e.md.normalizeLink(v.str),e.md.validateLink(x)?f=v.pos:x=""),S=f;f<T&&(o=e.src.charCodeAt(f),!(!isSpace(o)&&o!==10));f++);if(v=e.md.helpers.parseLinkTitle(e.src,f,e.posMax),f<T&&S!==f&&v.ok)for(_=v.str,f=v.pos;f<T&&(o=e.src.charCodeAt(f),!(!isSpace(o)&&o!==10));f++);else _="";if(f>=T||e.src.charCodeAt(f)!==41)return e.pos=A,!1;f++}else{if(typeof e.env.references>"u")return!1;if(f<T&&e.src.charCodeAt(f)===91?(S=f+1,f=e.md.helpers.parseLinkLabel(e,f),f>=0?a=e.src.slice(S,f++):f=c+1):f=c+1,a||(a=e.src.slice(d,c)),g=e.env.references[normalizeReference(a)],!g)return e.pos=A,!1;x=g.href,_=g.title}return n||(s=e.src.slice(d,c),e.md.inline.parse(s,e.md,e.env,C=[]),y=e.push("image","img",0),y.attrs=r=[["src",x],["alt",""]],y.children=C,y.content=s,_&&r.push(["title",_])),e.pos=f,e.posMax=T,!0},EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,autolink=function t(e,n){var r,o,s,a,c,d,f=e.pos;if(e.src.charCodeAt(f)!==60)return!1;for(c=e.pos,d=e.posMax;;){if(++f>=d||(a=e.src.charCodeAt(f),a===60))return!1;if(a===62)break}return r=e.src.slice(c+1,f),AUTOLINK_RE.test(r)?(o=e.md.normalizeLink(r),e.md.validateLink(o)?(n||(s=e.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=e.push("text","",0),s.content=e.md.normalizeLinkText(r),s=e.push("link_close","a",-1),s.markup="autolink",s.info="auto"),e.pos+=r.length+2,!0):!1):EMAIL_RE.test(r)?(o=e.md.normalizeLink("mailto:"+r),e.md.validateLink(o)?(n||(s=e.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=e.push("text","",0),s.content=e.md.normalizeLinkText(r),s=e.push("link_close","a",-1),s.markup="autolink",s.info="auto"),e.pos+=r.length+2,!0):!1):!1},HTML_TAG_RE=html_re.HTML_TAG_RE;function isLinkOpen(t){return/^<a[>\s]/i.test(t)}function isLinkClose(t){return/^<\/a\s*>/i.test(t)}function isLetter(t){var e=t|32;return e>=97&&e<=122}var html_inline=function t(e,n){var r,o,s,a,c=e.pos;return!e.md.options.html||(s=e.posMax,e.src.charCodeAt(c)!==60||c+2>=s)||(r=e.src.charCodeAt(c+1),r!==33&&r!==63&&r!==47&&!isLetter(r))||(o=e.src.slice(c).match(HTML_TAG_RE),!o)?!1:(n||(a=e.push("html_inline","",0),a.content=e.src.slice(c,c+o[0].length),isLinkOpen(a.content)&&e.linkLevel++,isLinkClose(a.content)&&e.linkLevel--),e.pos+=o[0].length,!0)},entities=entities$1.exports,has=utils$1.has,isValidEntityCode=utils$1.isValidEntityCode,fromCodePoint=utils$1.fromCodePoint,DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i,entity=function t(e,n){var r,o,s,a,c=e.pos,d=e.posMax;if(e.src.charCodeAt(c)!==38||c+1>=d)return!1;if(r=e.src.charCodeAt(c+1),r===35){if(s=e.src.slice(c).match(DIGITAL_RE),s)return n||(o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),a=e.push("text_special","",0),a.content=isValidEntityCode(o)?fromCodePoint(o):fromCodePoint(65533),a.markup=s[0],a.info="entity"),e.pos+=s[0].length,!0}else if(s=e.src.slice(c).match(NAMED_RE),s&&has(entities,s[1]))return n||(a=e.push("text_special","",0),a.content=entities[s[1]],a.markup=s[0],a.info="entity"),e.pos+=s[0].length,!0;return!1};function processDelimiters(t,e){var n,r,o,s,a,c,d,f,g={},v=e.length;if(!!v){var _=0,y=-2,C=[];for(n=0;n<v;n++)if(o=e[n],C.push(0),(e[_].marker!==o.marker||y!==o.token-1)&&(_=n),y=o.token,o.length=o.length||0,!!o.close){for(g.hasOwnProperty(o.marker)||(g[o.marker]=[-1,-1,-1,-1,-1,-1]),a=g[o.marker][(o.open?3:0)+o.length%3],r=_-C[_]-1,c=r;r>a;r-=C[r]+1)if(s=e[r],s.marker===o.marker&&s.open&&s.end<0&&(d=!1,(s.close||o.open)&&(s.length+o.length)%3===0&&(s.length%3!==0||o.length%3!==0)&&(d=!0),!d)){f=r>0&&!e[r-1].open?C[r-1]+1:0,C[n]=n-r+f,C[r]=f,o.open=!1,s.end=n,s.close=!1,c=-1,y=-2;break}c!==-1&&(g[o.marker][(o.open?3:0)+(o.length||0)%3]=c)}}}var balance_pairs=function t(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(processDelimiters(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&processDelimiters(e,r[n].delimiters)},fragments_join=function t(e){var n,r,o=0,s=e.tokens,a=e.tokens.length;for(n=r=0;n<a;n++)s[n].nesting<0&&o--,s[n].level=o,s[n].nesting>0&&o++,s[n].type==="text"&&n+1<a&&s[n+1].type==="text"?s[n+1].content=s[n].content+s[n+1].content:(n!==r&&(s[r]=s[n]),r++);n!==r&&(s.length=r)},Token=token,isWhiteSpace=utils$1.isWhiteSpace,isPunctChar=utils$1.isPunctChar,isMdAsciiPunct=utils$1.isMdAsciiPunct;function StateInline(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){var t=new Token("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};StateInline.prototype.push=function(t,e,n){this.pending&&this.pushPending();var r=new Token(t,e,n),o=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(o),r};StateInline.prototype.scanDelims=function(t,e){var n=t,r,o,s,a,c,d,f,g,v,_=!0,y=!0,C=this.posMax,S=this.src.charCodeAt(t);for(r=t>0?this.src.charCodeAt(t-1):32;n<C&&this.src.charCodeAt(n)===S;)n++;return s=n-t,o=n<C?this.src.charCodeAt(n):32,f=isMdAsciiPunct(r)||isPunctChar(String.fromCharCode(r)),v=isMdAsciiPunct(o)||isPunctChar(String.fromCharCode(o)),d=isWhiteSpace(r),g=isWhiteSpace(o),g?_=!1:v&&(d||f||(_=!1)),d?y=!1:f&&(g||v||(y=!1)),e?(a=_,c=y):(a=_&&(!y||f),c=y&&(!_||v)),{can_open:a,can_close:c,length:s}};StateInline.prototype.Token=Token;var state_inline=StateInline,Ruler=ruler,_rules=[["text",text],["linkify",linkify],["newline",newline],["escape",_escape],["backticks",backticks],["strikethrough",strikethrough.tokenize],["emphasis",emphasis.tokenize],["link",link],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",balance_pairs],["strikethrough",strikethrough.postProcess],["emphasis",emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline$1(){var t;for(this.ruler=new Ruler,t=0;t<_rules.length;t++)this.ruler.push(_rules[t][0],_rules[t][1]);for(this.ruler2=new Ruler,t=0;t<_rules2.length;t++)this.ruler2.push(_rules2[t][0],_rules2[t][1])}ParserInline$1.prototype.skipToken=function(t){var e,n,r=t.pos,o=this.ruler.getRules(""),s=o.length,a=t.md.options.maxNesting,c=t.cache;if(typeof c[r]<"u"){t.pos=c[r];return}if(t.level<a)for(n=0;n<s&&(t.level++,e=o[n](t,!0),t.level--,!e);n++);else t.pos=t.posMax;e||t.pos++,c[r]=t.pos};ParserInline$1.prototype.tokenize=function(t){for(var e,n,r=this.ruler.getRules(""),o=r.length,s=t.posMax,a=t.md.options.maxNesting;t.pos<s;){if(t.level<a)for(n=0;n<o&&(e=r[n](t,!1),!e);n++);if(e){if(t.pos>=s)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};ParserInline$1.prototype.parse=function(t,e,n,r){var o,s,a,c=new this.State(t,e,n,r);for(this.tokenize(c),s=this.ruler2.getRules(""),a=s.length,o=0;o<a;o++)s[o](c)};ParserInline$1.prototype.State=state_inline;var parser_inline=ParserInline$1,re,hasRequiredRe;function requireRe(){return hasRequiredRe||(hasRequiredRe=1,re=function(t){var e={};t=t||{},e.src_Any=requireRegex$3().source,e.src_Cc=requireRegex$2().source,e.src_Z=requireRegex().source,e.src_P=regex$4.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var n="[><\uFF5C]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}),re}function assign(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(n){!n||Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function _class(t){return Object.prototype.toString.call(t)}function isString(t){return _class(t)==="[object String]"}function isObject(t){return _class(t)==="[object Object]"}function isRegExp(t){return _class(t)==="[object RegExp]"}function isFunction(t){return _class(t)==="[object Function]"}function escapeRE(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(t){return Object.keys(t||{}).reduce(function(e,n){return e||defaultOptions.hasOwnProperty(n)},!1)}var defaultSchemas={"http:":{validate:function(t,e,n){var r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function resetScanCache(t){t.__index__=-1,t.__text_cache__=""}function createValidator(t){return function(e,n){var r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function createNormalizer(){return function(t,e){e.normalize(t)}}function compile(t){var e=t.re=requireRe()(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(tlds_2ch_src_re),n.push(e.src_xn),e.src_tlds=n.join("|");function r(c){return c.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");var o=[];t.__compiled__={};function s(c,d){throw new Error('(LinkifyIt) Invalid schema "'+c+'": '+d)}Object.keys(t.__schemas__).forEach(function(c){var d=t.__schemas__[c];if(d!==null){var f={validate:null,link:null};if(t.__compiled__[c]=f,isObject(d)){isRegExp(d.validate)?f.validate=createValidator(d.validate):isFunction(d.validate)?f.validate=d.validate:s(c,d),isFunction(d.normalize)?f.normalize=d.normalize:d.normalize?s(c,d):f.normalize=createNormalizer();return}if(isString(d)){o.push(c);return}s(c,d)}}),o.forEach(function(c){!t.__compiled__[t.__schemas__[c]]||(t.__compiled__[c].validate=t.__compiled__[t.__schemas__[c]].validate,t.__compiled__[c].normalize=t.__compiled__[t.__schemas__[c]].normalize)}),t.__compiled__[""]={validate:null,normalize:createNormalizer()};var a=Object.keys(t.__compiled__).filter(function(c){return c.length>0&&t.__compiled__[c]}).map(escapeRE).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+a+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+a+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),resetScanCache(t)}function Match(t,e){var n=t.__index__,r=t.__last_index__,o=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=o,this.text=o,this.url=o}function createMatch(t,e){var n=new Match(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function LinkifyIt$1(t,e){if(!(this instanceof LinkifyIt$1))return new LinkifyIt$1(t,e);e||isOptionsObj(t)&&(e=t,t={}),this.__opts__=assign({},defaultOptions,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,t),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt$1.prototype.add=function t(e,n){return this.__schemas__[e]=n,compile(this),this};LinkifyIt$1.prototype.set=function t(e){return this.__opts__=assign(this.__opts__,e),this};LinkifyIt$1.prototype.test=function t(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var n,r,o,s,a,c,d,f,g;if(this.re.schema_test.test(e)){for(d=this.re.schema_search,d.lastIndex=0;(n=d.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],d.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(f=e.search(this.re.host_fuzzy_test),f>=0&&(this.__index__<0||f<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=r.index+r[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(g=e.indexOf("@"),g>=0&&(o=e.match(this.re.email_fuzzy))!==null&&(a=o.index+o[1].length,c=o.index+o[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&c>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=c))),this.__index__>=0};LinkifyIt$1.prototype.pretest=function t(e){return this.re.pretest.test(e)};LinkifyIt$1.prototype.testSchemaAt=function t(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};LinkifyIt$1.prototype.match=function t(e){var n=0,r=[];this.__index__>=0&&this.__text_cache__===e&&(r.push(createMatch(this,n)),n=this.__last_index__);for(var o=n?e.slice(n):e;this.test(o);)r.push(createMatch(this,n)),o=o.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};LinkifyIt$1.prototype.matchAtStart=function t(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;var n=this.re.schema_at_start.exec(e);if(!n)return null;var r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,createMatch(this,0)):null};LinkifyIt$1.prototype.tlds=function t(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,o,s){return r!==s[o-1]}).reverse(),compile(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,compile(this),this)};LinkifyIt$1.prototype.normalize=function t(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};LinkifyIt$1.prototype.onCompile=function t(){};var linkifyIt=LinkifyIt$1;const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var _default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},utils=utils$1,helpers=helpers$1,Renderer=renderer,ParserCore=parser_core,ParserBlock=parser_block,ParserInline=parser_inline,LinkifyIt=linkifyIt,mdurl=mdurl$1,punycode=require$$0,config={default:_default,zero,commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(t){var e=t.trim().toLowerCase();return BAD_PROTO_RE.test(e)?!!GOOD_DATA_RE.test(e):!0}var RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(t){var e=mdurl.parse(t,!0);if(e.hostname&&(!e.protocol||RECODE_HOSTNAME_FOR.indexOf(e.protocol)>=0))try{e.hostname=punycode.toASCII(e.hostname)}catch{}return mdurl.encode(mdurl.format(e))}function normalizeLinkText(t){var e=mdurl.parse(t,!0);if(e.hostname&&(!e.protocol||RECODE_HOSTNAME_FOR.indexOf(e.protocol)>=0))try{e.hostname=punycode.toUnicode(e.hostname)}catch{}return mdurl.decode(mdurl.format(e),mdurl.decode.defaultChars+"%")}function MarkdownIt(t,e){if(!(this instanceof MarkdownIt))return new MarkdownIt(t,e);e||utils.isString(t)||(e=t||{},t="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new ParserCore,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=utils.assign({},helpers),this.options={},this.configure(t),e&&this.set(e)}MarkdownIt.prototype.set=function(t){return utils.assign(this.options,t),this};MarkdownIt.prototype.configure=function(t){var e=this,n;if(utils.isString(t)&&(n=t,t=config[n],!t))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(r){t.components[r].rules&&e[r].ruler.enableOnly(t.components[r].rules),t.components[r].rules2&&e[r].ruler2.enableOnly(t.components[r].rules2)}),this};MarkdownIt.prototype.enable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));var r=t.filter(function(o){return n.indexOf(o)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};MarkdownIt.prototype.disable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));var r=t.filter(function(o){return n.indexOf(o)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};MarkdownIt.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};MarkdownIt.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");var n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};MarkdownIt.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};MarkdownIt.prototype.parseInline=function(t,e){var n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};MarkdownIt.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};var lib=MarkdownIt;(function(t){t.exports=lib})(markdownIt$1);const markdownIt=getDefaultExportFromCjs(markdownIt$1.exports),VExpansionPanel$1="",VExpansionPanelSymbol=Symbol.for("vuetify:v-expansion-panel"),allowedVariants=["default","accordion","inset","popout"],VExpansionPanels=defineComponent({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:t=>allowedVariants.includes(t)},readonly:Boolean,...makeGroupProps(),...makeTagProps(),...makeThemeProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;useGroup(t,VExpansionPanelSymbol);const{themeClasses:r}=provideTheme(t),o=computed(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return provideDefaults({VExpansionPanel:{color:toRef(t,"color")},VExpansionPanelTitle:{readonly:toRef(t,"readonly")}}),useRender(()=>createVNode(t.tag,{class:["v-expansion-panels",r.value,o.value]},n)),{}}}),makeVExpansionPanelTitleProps=propsFactory({color:String,expandIcon:{type:IconValue,default:"$expand"},collapseIcon:{type:IconValue,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),VExpansionPanelTitle=defineComponent({name:"VExpansionPanelTitle",directives:{Ripple},props:{...makeVExpansionPanelTitleProps()},setup(t,e){let{slots:n}=e;const r=inject$1(VExpansionPanelSymbol);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(t,"color"),a=computed(()=>({collapseIcon:t.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly}));return useRender(()=>{var c;return withDirectives(createVNode("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value},o.value],style:s.value,type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:t.readonly?void 0:r.toggle},[createVNode("span",{class:"v-expansion-panel-title__overlay"},null),(c=n.default)==null?void 0:c.call(n,a.value),!t.hideActions&&createVNode("span",{class:"v-expansion-panel-title__icon"},[n.actions?n.actions(a.value):createVNode(VIcon,{icon:r.isSelected.value?t.collapseIcon:t.expandIcon},null)])]),[[resolveDirective("ripple"),t.ripple]])}),{}}}),VExpansionPanelText=defineComponent({name:"VExpansionPanelText",props:{...makeLazyProps()},setup(t,e){let{slots:n}=e;const r=inject$1(VExpansionPanelSymbol);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:o,onAfterLeave:s}=useLazy(t,r.isSelected);return useRender(()=>{var a;return createVNode(VExpandTransition,{onAfterLeave:s},{default:()=>[withDirectives(createVNode("div",{class:"v-expansion-panel-text"},[n.default&&o.value&&createVNode("div",{class:"v-expansion-panel-text__wrapper"},[(a=n.default)==null?void 0:a.call(n)])]),[[vShow,r.isSelected.value]])]})}),{}}}),VExpansionPanel=defineComponent({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...makeElevationProps(),...makeGroupItemProps(),...makeLazyProps(),...makeRoundedProps(),...makeTagProps(),...makeVExpansionPanelTitleProps()},emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const r=useGroupItem(t,VExpansionPanelSymbol),{backgroundColorClasses:o,backgroundColorStyles:s}=useBackgroundColor(t,"bgColor"),{elevationClasses:a}=useElevation(t),{roundedClasses:c}=useRounded(t),d=computed(()=>(r==null?void 0:r.disabled.value)||t.disabled),f=computed(()=>r.group.items.value.reduce((_,y,C)=>(r.group.selected.value.includes(y.id)&&_.push(C),_),[])),g=computed(()=>{const _=r.group.items.value.findIndex(y=>y.id===r.id);return!r.isSelected.value&&f.value.some(y=>y-_===1)}),v=computed(()=>{const _=r.group.items.value.findIndex(y=>y.id===r.id);return!r.isSelected.value&&f.value.some(y=>y-_===-1)});return provide(VExpansionPanelSymbol,r),useRender(()=>{var _;const y=!!(n.text||t.text),C=!!(n.title||t.title);return createVNode(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":g.value,"v-expansion-panel--after-active":v.value,"v-expansion-panel--disabled":d.value},c.value,o.value],style:s.value,"aria-expanded":r.isSelected.value},{default:()=>[createVNode("div",{class:["v-expansion-panel__shadow",...a.value]},null),C&&createVNode(VExpansionPanelTitle,{key:"title",collapseIcon:t.collapseIcon,color:t.color,expandIcon:t.expandIcon,hideActions:t.hideActions,ripple:t.ripple},{default:()=>[n.title?n.title():t.title]}),y&&createVNode(VExpansionPanelText,{key:"text",eager:t.eager},{default:()=>[n.text?n.text():t.text]}),(_=n.default)==null?void 0:_.call(n)]})}),{}}}),md=new markdownIt({html:!0,typographer:!0,breaks:!0}),_sfc_main$6={data:()=>({search:null}),computed:{...mapState(useStore,["keywords"]),filteredResults(){return(this.search?this.keywords.filter(({keyword:e})=>e.toLowerCase().includes(this.search.toLowerCase())):this.keywords).map(e=>({...e,title:md.render(e.keyword),text:md.render(e.rule.replace(/\n/,"<br /><br />"))}))}}},_hoisted_1$2={style:{height:"75vh","overflow-y":"scroll"}},_hoisted_2$1=["innerHTML"];function _sfc_render$6(t,e,n,r,o,s){return openBlock(),createElementBlock(Fragment,null,[createVNode(VToolbar,{color:"grey"},{default:withCtx(()=>[createVNode(VBtn,{to:"/dashboard",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[createTextVNode(" mdi-arrow-left-circle ")]),_:1})]),_:1}),createVNode(VTextField,{class:"mt-5",label:"Search",clearable:"",modelValue:t.search,"onUpdate:modelValue":e[0]||(e[0]=a=>t.search=a),onKeydown:e[1]||(e[1]=withKeys(a=>t.search=null,["esc"]))},null,8,["modelValue"])]),_:1}),createVNode(VExpansionPanels,{variant:"inset"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.filteredResults,a=>(openBlock(),createBlock(VExpansionPanel,null,{default:withCtx(()=>[createVNode(VExpansionPanelTitle,{innerHTML:a.title},null,8,["innerHTML"]),createVNode(VExpansionPanelText,null,{default:withCtx(()=>[createBaseVNode("div",{innerHTML:a.text},null,8,_hoisted_2$1)]),_:2},1024)]),_:2},1024))),256))])]),_:1})],64)}const Keywords=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]),_sfc_main$5={};function _sfc_render$5(t,e,n,r,o,s){const a=resolveComponent("router-view");return openBlock(),createElementBlock(Fragment,null,[createVNode(VToolbar,{color:"blue"},{default:withCtx(()=>[createVNode(VBtn,{to:"/admin/add-expansion"},{default:withCtx(()=>[createTextVNode("Add Expansion")]),_:1}),createVNode(VBtn,null,{default:withCtx(()=>[createTextVNode("Expansions")]),_:1}),createVNode(VBtn,{to:"/admin/handlers"},{default:withCtx(()=>[createTextVNode("Handlers")]),_:1}),createVNode(VBtn,null,{default:withCtx(()=>[createTextVNode("Schemes")]),_:1}),createVNode(VBtn,null,{default:withCtx(()=>[createTextVNode("Masterminds")]),_:1}),createVNode(VBtn,null,{default:withCtx(()=>[createTextVNode("Villains")]),_:1}),createVNode(VBtn,null,{default:withCtx(()=>[createTextVNode("Henchmen")]),_:1}),createVNode(VBtn,null,{default:withCtx(()=>[createTextVNode("Heroes")]),_:1}),createVNode(VSpacer),createVNode(VBtn,{to:"/dashboard",icon:"mdi-home-outline"})]),_:1}),createVNode(a)],64)}const Admin=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]);function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uniqid={exports:{}},pid=typeof process<"u"&&process.pid?process.pid.toString(36):"",address="";if(typeof __webpack_require__!="function"&&typeof commonjsRequire<"u"){var mac="",os=require$$0;if(os.networkInterfaces)var networkInterfaces=os.networkInterfaces();if(networkInterfaces){e:for(let t in networkInterfaces){const e=networkInterfaces[t],n=e.length;for(var i=0;i<n;i++)if(e[i]!==void 0&&e[i].mac&&e[i].mac!="00:00:00:00:00:00"){mac=e[i].mac;break e}}address=mac?parseInt(mac.replace(/\:|\D+/gi,"")).toString(36):""}}uniqid.exports=uniqid.exports.default=function(t,e){return(t||"")+address+pid+now().toString(36)+(e||"")};uniqid.exports.process=function(t,e){return(t||"")+pid+now().toString(36)+(e||"")};uniqid.exports.time=function(t,e){return(t||"")+now().toString(36)+(e||"")};function now(){var t=Date.now(),e=now.last||t;return now.last=t>e?t:e+1}const _sfc_main$4={data:()=>({expansion:JSON.parse(sessionStorage.getItem("temporary-expansion-info"))||{name:"",schemes:[],masterminds:[],villains:[],henchmen:[],heroes:[]},newItem:{schemes:"",masterminds:"",villains:"",henchmen:"",heroes:""},schemas:{schemes:{primary:{type:"text",name:"scheme_name"}},masterminds:{primary:{type:"text",name:"mastermind_name"}},villains:{primary:{type:"text",name:"villain_group"}}}}),computed:{fields(){let t=lodash.exports.cloneDeep(tableFields);for(let e in t){const n=t[e];for(let r in n)t[e][r]=lodash.exports.startCase(t[e][r])}return t},sections(){return Object.keys(this.expansion).filter(t=>t!="name").map(t=>({name:t,title:lodash.exports.startCase(t)}))}},methods:{...mapActions(useStore,["addExpansion"]),createItem(t){t=t.toLowerCase();let[e,n,r]=this.newItem[t].split("|");r&&(r=r.split(",").map(o=>lodash.exports.trim(o))),this.expansion[t].push({id:uniqid.exports(),primary:e,secondary:n,colors:r,table:t}),sessionStorage.setItem("temporary-expansion-info",JSON.stringify(this.expansion)),this.newItem[t]=""},updateExpansionName(){sessionStorage.setItem("temporary-expansion-info",JSON.stringify(this.expansion))},clearAll(){this.expansion={name:"",schemes:[],masterminds:[],villains:[],henchmen:[],heroes:[]},sessionStorage.removeItem("temporary-expansion-info")},deleteItem(t){this.expansion[t.table]=this.expansion[t.table].filter(({id:e})=>e!=t.id),sessionStorage.setItem("temporary-expansion-info",JSON.stringify(this.expansion))}}};function _sfc_render$4(t,e,n,r,o,s){return openBlock(),createBlock(VContainer,null,{default:withCtx(()=>[createVNode(VTextField,{label:"Expansion Name",modelValue:t.expansion.name,"onUpdate:modelValue":e[0]||(e[0]=a=>t.expansion.name=a),onChange:s.updateExpansionName},null,8,["modelValue","onChange"]),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.sections,a=>(openBlock(),createBlock(VCol,{cols:"4"},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(VTextField,{modelValue:t.newItem[a.name],"onUpdate:modelValue":c=>t.newItem[a.name]=c,label:`New ${s.fields[a.name].primary}`,"append-icon":"mdi-plus-circle-outline","onClick:append":c=>s.createItem(a.name),onKeypress:[withKeys(c=>s.createItem(a.name),["enter"]),withKeys(c=>t.newItem[a]="",["esc"])],density:"compact",hint:"Use pipe '|' to separate primary, secondary, colors & specify colors as comma-separated list & veiled is secondary for schemes"},null,8,["modelValue","onUpdate:modelValue","label","onClick:append","onKeypress"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.expansion[a.name],c=>(openBlock(),createBlock(VListItem,null,{prepend:withCtx(()=>[createVNode(VBtn,{icon:"mdi-delete",flat:"",onClick:d=>s.deleteItem(c)},null,8,["onClick"])]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(c.primary),1)]),_:2},1024),c.secondary?(openBlock(),createBlock(VListItemSubtitle,{key:0},{default:withCtx(()=>[createTextVNode(toDisplayString(c.secondary),1)]),_:2},1024)):createCommentVNode("",!0),c.colors?(openBlock(),createBlock(VListItemSubtitle,{key:1},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.colors,d=>(openBlock(),createBlock(VIcon,{color:d,size:"small"},{default:withCtx(()=>[createTextVNode(" mdi-circle ")]),_:2},1032,["color"]))),256))]),_:2},1024)):createCommentVNode("",!0)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024))),256)),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createVNode(VBtn,{class:"mr-2",color:"error",onClick:s.clearAll},{default:withCtx(()=>[createTextVNode("Clear")]),_:1},8,["onClick"]),createVNode(VBtn,{color:"success",onClick:e[1]||(e[1]=a=>t.addExpansion(t.expansion))},{default:withCtx(()=>[createTextVNode("Add")]),_:1})]),_:1})]),_:1})]),_:1})}const AdminAddExpansion=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),VNavigationDrawer$1="";function useSticky(t){let{rootEl:e,isSticky:n,layoutItemStyles:r}=t;const o=ref$1(!1),s=ref$1(0),a=computed(()=>{const f=typeof o.value=="boolean"?"top":o.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[f]:convertToUnit(s.value)}:{top:r.value.top}]});onMounted(()=>{watch(n,f=>{f?window.addEventListener("scroll",d,{passive:!0}):window.removeEventListener("scroll",d)},{immediate:!0})}),onBeforeUnmount(()=>{document.removeEventListener("scroll",d)});let c=0;function d(){var C;const f=c>window.scrollY?"up":"down",g=e.value.getBoundingClientRect(),v=parseFloat((C=r.value.top)!=null?C:0),_=window.scrollY-Math.max(0,s.value-v),y=g.height+Math.max(s.value,v)-window.scrollY-window.innerHeight;g.height<window.innerHeight-v?(o.value="top",s.value=v):f==="up"&&o.value==="bottom"||f==="down"&&o.value==="top"?(s.value=window.scrollY+g.top,o.value=!0):f==="down"&&y<=0?(s.value=0,o.value="bottom"):f==="up"&&_<=0&&(s.value=g.top+_,o.value="top"),c=window.scrollY}return{isStuck:o,stickyStyles:a}}const HORIZON=100,HISTORY=20;function kineticEnergyToVelocity(t){const e=1.41421356237;return(t<0?-1:1)*Math.sqrt(Math.abs(t))*e}function calculateImpulseVelocity(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const r=kineticEnergyToVelocity(e),o=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(o-r)*Math.abs(o),n===t.length-1&&(e*=.5)}return kineticEnergyToVelocity(e)*1e3}function useVelocity(){const t={};function e(o){Array.from(o.changedTouches).forEach(s=>{var c;((c=t[s.identifier])!=null?c:t[s.identifier]=new CircularBuffer(HISTORY)).push([o.timeStamp,s])})}function n(o){Array.from(o.changedTouches).forEach(s=>{delete t[s.identifier]})}function r(o){var s;const a=(s=t[o])==null?void 0:s.values().reverse();if(!a)throw new Error(`No samples for touch id ${o}`);const c=a[0],d=[],f=[];for(const g of a){if(c[0]-g[0]>HORIZON)break;d.push({t:g[0],d:g[1].clientX}),f.push({t:g[0],d:g[1].clientY})}return{x:calculateImpulseVelocity(d),y:calculateImpulseVelocity(f),get direction(){const{x:g,y:v}=this,[_,y]=[Math.abs(g),Math.abs(v)];return _>y&&g>=0?"right":_>y&&g<=0?"left":y>_&&v>=0?"down":y>_&&v<=0?"up":oops$1()}}}return{addMovement:e,endTouch:n,getVelocity:r}}function oops$1(){throw new Error}function useTouch(t){let{isActive:e,isTemporary:n,width:r,touchless:o,position:s}=t;onMounted(()=>{window.addEventListener("touchstart",A,{passive:!0}),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("touchend",E,{passive:!0})}),onBeforeUnmount(()=>{window.removeEventListener("touchstart",A),window.removeEventListener("touchmove",T),window.removeEventListener("touchend",E)});const a=computed(()=>s.value!=="bottom"),{addMovement:c,endTouch:d,getVelocity:f}=useVelocity();let g=!1;const v=ref$1(!1),_=ref$1(0),y=ref$1(0);let C;function S(P,O){return(s.value==="left"?P:s.value==="right"?document.documentElement.clientWidth-P:s.value==="bottom"?document.documentElement.clientHeight-P:oops())-(O?r.value:0)}function x(P){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const D=s.value==="left"?(P-y.value)/r.value:s.value==="right"?(document.documentElement.clientWidth-P-y.value)/r.value:s.value==="bottom"?(document.documentElement.clientHeight-P-y.value)/r.value:oops();return O?Math.max(0,Math.min(1,D)):D}function A(P){if(o.value)return;const O=P.changedTouches[0].clientX,D=P.changedTouches[0].clientY,N=25,B=s.value==="left"?O<N:s.value==="right"?O>document.documentElement.clientWidth-N:s.value==="bottom"?D>document.documentElement.clientHeight-N:oops(),q=e.value&&(s.value==="left"?O<r.value:s.value==="right"?O>document.documentElement.clientWidth-r.value:s.value==="bottom"?D>document.documentElement.clientHeight-r.value:oops());(B||q||e.value&&n.value)&&(g=!0,C=[O,D],y.value=S(a.value?O:D,e.value),_.value=x(a.value?O:D),d(P),c(P))}function T(P){const O=P.changedTouches[0].clientX,D=P.changedTouches[0].clientY;if(g){if(!P.cancelable){g=!1;return}const B=Math.abs(O-C[0]),q=Math.abs(D-C[1]);(a.value?B>q&&B>3:q>B&&q>3)?(v.value=!0,g=!1):(a.value?q:B)>3&&(g=!1)}if(!v.value)return;P.preventDefault(),c(P);const N=x(a.value?O:D,!1);_.value=Math.max(0,Math.min(1,N)),N>1?y.value=S(a.value?O:D,!0):N<0&&(y.value=S(a.value?O:D,!1))}function E(P){if(g=!1,!v.value)return;c(P),v.value=!1;const O=f(P.changedTouches[0].identifier),D=Math.abs(O.x),N=Math.abs(O.y);(a.value?D>N&&D>400:N>D&&N>3)?e.value=O.direction===({left:"right",right:"left",bottom:"up"}[s.value]||oops()):e.value=_.value>.5}const L=computed(()=>v.value?{transform:s.value==="left"?`translateX(calc(-100% + ${_.value*r.value}px))`:s.value==="right"?`translateX(calc(100% - ${_.value*r.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${_.value*r.value}px))`:oops(),transition:"none"}:void 0);return{isDragging:v,dragProgress:_,dragStyles:L}}function oops(){throw new Error}const locations=["start","end","left","right","bottom"],VNavigationDrawer=defineComponent({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:Boolean,railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>locations.includes(t)},sticky:Boolean,...makeBorderProps(),...makeElevationProps(),...makeLayoutItemProps(),...makeRoundedProps(),...makeTagProps({tag:"nav"}),...makeThemeProps()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{isRtl:o}=useRtl(),{themeClasses:s}=provideTheme(t),{borderClasses:a}=useBorder(t),{backgroundColorClasses:c,backgroundColorStyles:d}=useBackgroundColor(toRef(t,"color")),{elevationClasses:f}=useElevation(t),{mobile:g}=useDisplay(),{roundedClasses:v}=useRounded(t),_=useRouter(),y=useProxiedModel(t,"modelValue",null,Y=>!!Y),{ssrBootStyles:C}=useSsrBoot(),S=ref$1(),x=ref$1(!1),A=computed(()=>t.rail&&t.expandOnHover&&x.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),T=computed(()=>toPhysical(t.location,o.value)),E=computed(()=>!t.permanent&&(g.value||t.temporary)),L=computed(()=>t.sticky&&!E.value&&T.value!=="bottom");t.disableResizeWatcher||watch(E,Y=>!t.permanent&&(y.value=!Y)),!t.disableRouteWatcher&&_&&watch(_.currentRoute,()=>E.value&&(y.value=!1)),watch(()=>t.permanent,Y=>{Y&&(y.value=!0)}),onBeforeMount(()=>{t.modelValue!=null||E.value||(y.value=t.permanent||!g.value)});const{isDragging:P,dragProgress:O,dragStyles:D}=useTouch({isActive:y,isTemporary:E,width:A,touchless:toRef(t,"touchless"),position:T}),N=computed(()=>{const Y=E.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):A.value;return P.value?Y*O.value:Y}),{layoutItemStyles:B,layoutRect:q,layoutItemScrimStyles:G}=useLayoutItem({id:t.name,order:computed(()=>parseInt(t.order,10)),position:T,layoutSize:N,elementSize:A,active:computed(()=>y.value||P.value),disableTransitions:computed(()=>P.value),absolute:computed(()=>t.absolute||L.value&&typeof W.value!="string")}),{isStuck:W,stickyStyles:J}=useSticky({rootEl:S,isSticky:L,layoutItemStyles:B}),U=useBackgroundColor(computed(()=>typeof t.scrim=="string"?t.scrim:null)),se=computed(()=>({...P.value?{opacity:O.value*.2,transition:"none"}:void 0,...q.value?{left:convertToUnit(q.value.left),right:convertToUnit(q.value.right),top:convertToUnit(q.value.top),bottom:convertToUnit(q.value.bottom)}:void 0,...G.value}));return provideDefaults({VList:{bgColor:"transparent"}}),useRender(()=>{var Y,Q,ae,xe;const ve=r.image||t.image;return createVNode(Fragment,null,[createVNode(t.tag,mergeProps({ref:S,onMouseenter:()=>x.value=!0,onMouseleave:()=>x.value=!1,class:["v-navigation-drawer",`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":E.value,"v-navigation-drawer--active":y.value,"v-navigation-drawer--sticky":L.value},s.value,c.value,a.value,f.value,v.value],style:[d.value,B.value,D.value,C.value,J.value]},n),{default:()=>[ve&&createVNode("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?(Y=r.image)==null?void 0:Y.call(r,{image:t.image}):createVNode("img",{src:t.image,alt:""},null)]),r.prepend&&createVNode("div",{class:"v-navigation-drawer__prepend"},[(Q=r.prepend)==null?void 0:Q.call(r)]),createVNode("div",{class:"v-navigation-drawer__content"},[(ae=r.default)==null?void 0:ae.call(r)]),r.append&&createVNode("div",{class:"v-navigation-drawer__append"},[(xe=r.append)==null?void 0:xe.call(r)])]}),createVNode(Transition,{name:"fade-transition"},{default:()=>[E.value&&(P.value||y.value)&&!!t.scrim&&createVNode("div",{class:["v-navigation-drawer__scrim",U.backgroundColorClasses.value],style:[se.value,U.backgroundColorStyles.value],onClick:()=>y.value=!1},null)]})])}),{isStuck:W}}}),VTextarea$1="",VTextarea=defineComponent({name:"VTextarea",directives:{Intersect:Intersect$1},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,...makeVInputProps(),...makeVFieldProps()},emits:{"click:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const s=useProxiedModel(t,"modelValue"),{isFocused:a,focus:c,blur:d}=useFocus(t),f=computed(()=>typeof t.counterValue=="function"?t.counterValue(s.value):(s.value||"").toString().length),g=computed(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function v(B,q){var G,W;!t.autofocus||!B||(G=q[0].target)==null||(W=G.focus)==null||W.call(G)}const _=ref$1(),y=ref$1(),C=ref$1(""),S=ref$1(),x=computed(()=>a.value||t.persistentPlaceholder),A=computed(()=>t.messages.length?t.messages:x.value||t.persistentHint?t.hint:"");function T(){if(S.value!==document.activeElement){var B;(B=S.value)==null||B.focus()}a.value||c()}function E(B){T(),r("click:control",B)}function L(B){B.stopPropagation(),T(),nextTick(()=>{s.value="",callEvent(t["onClick:clear"],B)})}function P(B){s.value=B.target.value}const O=ref$1();function D(){!t.autoGrow||nextTick(()=>{if(!O.value||!y.value)return;const B=getComputedStyle(O.value),q=getComputedStyle(y.value.$el),G=parseFloat(B.getPropertyValue("--v-field-padding-top"))+parseFloat(B.getPropertyValue("--v-input-padding-top"))+parseFloat(B.getPropertyValue("--v-field-padding-bottom")),W=O.value.scrollHeight,J=parseFloat(B.lineHeight),U=Math.max(parseFloat(t.rows)*J+G,parseFloat(q.getPropertyValue("--v-input-control-height"))),se=parseFloat(t.maxRows)*J+G||1/0;C.value=convertToUnit(clamp(W!=null?W:0,U,se))})}onMounted(D),watch(s,D),watch(()=>t.rows,D),watch(()=>t.maxRows,D),watch(()=>t.density,D);let N;return watch(O,B=>{if(B)N=new ResizeObserver(D),N.observe(O.value);else{var q;(q=N)==null||q.disconnect()}}),onBeforeUnmount(()=>{var B;(B=N)==null||B.disconnect()}),useRender(()=>{const B=!!(o.counter||t.counter||t.counterValue),q=!!(B||o.details),[G,W]=filterInputAttrs(n),[{modelValue:J,...U}]=filterInputProps(t),[se]=filterFieldProps(t);return createVNode(VInput,mergeProps({ref:_,modelValue:s.value,"onUpdate:modelValue":Y=>s.value=Y,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(t.variant)}],"onClick:prepend":t["onClick:prepend"],"onClick:append":t["onClick:append"]},G,U,{focused:a.value,messages:A.value}),{...o,default:Y=>{let{isDisabled:Q,isDirty:ae,isReadonly:xe,isValid:ve}=Y;return createVNode(VField,mergeProps({ref:y,style:{"--v-textarea-control-height":C.value},"onClick:control":E,"onClick:clear":L,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:"textbox"},se,{active:x.value||ae.value,dirty:ae.value||t.dirty,focused:a.value,error:ve.value===!1}),{...o,default:Ce=>{let{props:{class:Oe,...Ze}}=Ce;return createVNode(Fragment,null,[t.prefix&&createVNode("span",{class:"v-text-field__prefix"},[t.prefix]),withDirectives(createVNode("textarea",mergeProps({ref:S,class:Oe,value:s.value,onInput:P,autofocus:t.autofocus,readonly:xe.value,disabled:Q.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:T,onBlur:d},Ze,W),null),[[resolveDirective("intersect"),{handler:v},null,{once:!0}]]),t.autoGrow&&withDirectives(createVNode("textarea",{class:[Oe,"v-textarea__sizer"],"onUpdate:modelValue":ye=>s.value=ye,ref:O,readonly:!0,"aria-hidden":"true"},null),[[vModelText,s.value]]),t.suffix&&createVNode("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:q?Y=>{var Q;return createVNode(Fragment,null,[(Q=o.details)==null?void 0:Q.call(o,Y),B&&createVNode(Fragment,null,[createVNode("span",null,null),createVNode(VCounter,{active:t.persistentCounter||a.value,value:f.value,max:g.value},o.counter)])])}:void 0})}),forwardRefs({},_,y,S)}}),_sfc_main$3={data:()=>({search:null,editing:{key:null,contents:null}}),computed:{...mapState(useStore,["handlers"]),handlerList(){return this.handlers?Object.keys(this.handlers).filter(t=>!this.search||t.toLowerCase().includes(this.search.toLowerCase())).map(t=>({key:t,title:lodash.exports.startCase(t)})):[]}},methods:{...mapActions(useStore,["getUniversalData","updateHandler","set"]),editHandler(t){this.editing={key:t.key,contents:base64.decode(this.handlers[t.key])}},newHandler(){const t=prompt("Enter Handler Name");this.set(`handlers/${lodash.exports.camelCase(t)}`,base64.encode(`({setup})=>{

};`))}},mounted(){this.getUniversalData()}};function _sfc_render$3(t,e,n,r,o,s){return openBlock(),createElementBlock(Fragment,null,[createVNode(VNavigationDrawer,{permanent:""},{default:withCtx(()=>[createVNode(VToolbar,null,{default:withCtx(()=>[createVNode(VTextField,{label:"Search",modelValue:t.search,"onUpdate:modelValue":e[0]||(e[0]=a=>t.search=a),class:"mt-1",clearable:"",onKeydown:e[1]||(e[1]=withKeys(a=>t.search=null,["esc"])),variant:"outlined",density:"compact","hide-details":""},{append:withCtx(()=>[createVNode(VBtn,{icon:"mdi-plus-circle",onClick:s.newHandler},null,8,["onClick"])]),_:1},8,["modelValue"])]),_:1}),createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.handlerList,a=>(openBlock(),createBlock(VListItem,{density:"compact",onClick:c=>s.editHandler(a),active:t.editing.key==a.key},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(a.title),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),256))]),_:1})]),_:1}),createVNode(VContainer,null,{default:withCtx(()=>[t.editing.contents?(openBlock(),createBlock(VCard,{key:0,variant:"flat"},{default:withCtx(()=>[createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VTextarea,{modelValue:t.editing.contents,"onUpdate:modelValue":e[2]||(e[2]=a=>t.editing.contents=a),rows:"20"},null,8,["modelValue"])]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{text:"",onClick:e[3]||(e[3]=a=>t.updateHandler(t.editing))},{default:withCtx(()=>[createTextVNode("Save")]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})],64)}const AdminManageHandlers=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),pagination=({items:t,perPage:e=10,page:n=1})=>{const r=(n-1)*e,o=[...t].splice(r,e),s=Math.ceil(t.length/e),a=n==1,c=n==s;return{items:o,totalPages:s,disablePrev:a,disableNext:c}},VTooltip$1="",VTooltip=genericComponent()({name:"VTooltip",props:{id:String,text:String,...omit(makeVOverlayProps({closeOnBack:!1,location:"end",locationStrategy:"connected",minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent","eager"])},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=useProxiedModel(t,"modelValue"),{scopeId:o}=useScopeId(),s=getUid(),a=computed(()=>t.id||`v-tooltip-${s}`),c=ref$1(),d=computed(()=>t.location.split(" ").length>1?t.location:t.location+" center"),f=computed(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),g=computed(()=>t.transition?t.transition:r.value?"scale-transition":"fade-transition");return useRender(()=>{const[v]=filterVOverlayProps(t);return createVNode(VOverlay,mergeProps({ref:c,class:["v-tooltip"],id:a.value},v,{modelValue:r.value,"onUpdate:modelValue":_=>r.value=_,transition:g.value,absolute:!0,location:d.value,origin:f.value,persistent:!0,role:"tooltip",eager:!0,activatorProps:mergeProps({"aria-describedby":a.value},t.activatorProps)},o),{activator:n.activator,default:function(){var x;for(var _,y=arguments.length,C=new Array(y),S=0;S<y;S++)C[S]=arguments[S];return(x=(_=n.default)==null?void 0:_.call(n,...C))!=null?x:t.text}})}),forwardRefs({},c)}}),_sfc_main$2={props:["items","labelField","type"],data(){return{search:null,perPage:10,page:1,numRandom:5,toolbarButtons:[{location:"bottom",icon:"mdi-check-all",tip:"Check All",action:()=>{this.checkedItems=this.items.map(({id:t})=>t)}},{location:"bottom",icon:"mdi-checkbox-blank-outline",tip:"Clear All",action:()=>{this.checkedItems=null}}]}},computed:{...mapState(useStore,["userSettings"]),checkedItems:{get(){return this.userSettings.portable||[]},set(t){this.type=="scheme",this.type=="mastermind",this.userSettings.portable=t,this.updateSettings()}},itemList(){return this.items.filter(({id:t})=>this.checkedItems.includes(t))},pageInfo(){return this.search?{items:this.items.filter(t=>t[this.labelField].toLowerCase().includes(this.search.toLowerCase())),hidePagination:!0}:pagination({items:this.items.sort((t,e)=>t[this.labelField]>e[this.labelField]?1:-1),page:this.page,perPage:this.perPage})}},methods:{...mapActions(useStore,["updateSettings"]),randomSelection(){let t=lodash.exports.shuffle(this.items).splice(0,this.numRandom).map(({id:r})=>r);const e=this.items.filter(({veiled:r})=>r),n=t.filter(r=>e.map(({id:o})=>o).includes(r));for(let r in n)t.push(lodash.exports.shuffle(e).shift().id);this.checkedItems=t},handleNum(){this.numRandom<1&&(this.numRandom=1),this.numRandom>this.items.length&&(this.numRandom=this.items.length)}}},_hoisted_1$1={key:0,class:"d-flex justify-space-between"},_hoisted_2={class:"mt-3"};function _sfc_render$2(t,e,n,r,o,s){return openBlock(),createBlock(VContainer,null,{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"8"},{default:withCtx(()=>[createVNode(VTextField,{modelValue:o.search,"onUpdate:modelValue":e[0]||(e[0]=a=>o.search=a),clearable:"",label:"Search",onKeydown:e[1]||(e[1]=withKeys(a=>o.search=null,["esc"]))},null,8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[!s.pageInfo.hidePagination&&s.pageInfo.totalPages>0?(openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(VBtn,{icon:"mdi-chevron-left",disabled:s.pageInfo.disablePrev,onClick:e[2]||(e[2]=a=>o.page--)},null,8,["disabled"]),createBaseVNode("div",_hoisted_2,"Page "+toDisplayString(o.page)+" of "+toDisplayString(s.pageInfo.totalPages),1),createVNode(VBtn,{icon:"mdi-chevron-right",disabled:s.pageInfo.disableNext,onClick:e[3]||(e[3]=a=>o.page++)},null,8,["disabled"])])):createCommentVNode("",!0)]),_:1}),createVNode(VCol,null,{default:withCtx(()=>[createVNode(VToolbar,{density:"compact"},{default:withCtx(()=>[createVNode(VBtn,{onClick:s.randomSelection},{default:withCtx(()=>[createTextVNode("Random Selection")]),_:1},8,["onClick"]),createVNode(VTextField,{class:"mt-3",type:"number",min:"1",max:n.items.length,label:"How many",modelValue:o.numRandom,"onUpdate:modelValue":e[4]||(e[4]=a=>o.numRandom=a),onBlur:s.handleNum},null,8,["max","modelValue","onBlur"]),createVNode(VSpacer),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.toolbarButtons,a=>(openBlock(),createBlock(VTooltip,{location:a.location},{activator:withCtx(({props:c})=>[createVNode(VBtn,mergeProps(c,{icon:a.icon,onClick:a.action}),null,16,["icon","onClick"])]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(a.tip),1)]),_:2},1032,["location"]))),256))]),_:1})]),_:1}),createVNode(VCol,{cols:"8"},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.pageInfo.items,a=>(openBlock(),createElementBlock(Fragment,null,[createVNode(VListItem,{height:"1rem"},{append:withCtx(()=>[createVNode(VCheckbox,{modelValue:s.checkedItems,"onUpdate:modelValue":e[5]||(e[5]=c=>s.checkedItems=c),value:a.id,"hide-details":""},null,8,["modelValue","value"])]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(a[n.labelField]),1)]),_:2},1024)]),_:2},1024),createVNode(VDivider)],64))),256))]),_:1})]),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createTextVNode(" Selected ("+toDisplayString(s.itemList.length)+"): ",1),createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VList,{class:"ml-3"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.itemList,a=>(openBlock(),createBlock(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(a[n.labelField]),1)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const PortableItems=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),_sfc_main$1={components:{PortableItems},data:()=>({tab:0}),computed:{...mapState(useStore,["userSettings","expansionList","handlers","henchmen","heroes","keywords","masterminds","schemes","villains"]),windows(){return[{labelField:"scheme_name",items:this.schemes,type:"scheme"},{labelField:"mastermind_name",items:this.masterminds,type:"mastermind"},{labelField:"villain_group",items:this.villains,type:"villain"},{labelField:"henchmen_name",items:this.henchmen,type:"henchmen"},{labelField:"hero_name",items:this.heroes,type:"hero"}]}},methods:{...mapActions(useStore,["getUserData","getUniversalData","buildPortable"]),pullData(){this.getUserData("game").then(()=>{this.getUserData("userSettings")}).then(()=>{this.getUniversalData()})}},mounted(){this.pullData()}},_hoisted_1=createBaseVNode("span",null,"Pull Random Setups",-1);function _sfc_render$1(t,e,n,r,o,s){const a=resolveComponent("portable-items");return openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{density:"compact"},{default:withCtx(()=>[createVNode(VTooltip,{location:"bottom"},{activator:withCtx(({props:c})=>[createVNode(VBtn,mergeProps({icon:"mdi-shuffle-variant"},c,{onClick:t.buildPortable}),null,16,["onClick"])]),default:withCtx(()=>[_hoisted_1]),_:1}),createVNode(VSpacer),createVNode(VTabs,{modelValue:t.tab,"onUpdate:modelValue":e[0]||(e[0]=c=>t.tab=c)},{default:withCtx(()=>[createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Schemes ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Masterminds ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Villains ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Henchmen ")]),_:1}),createVNode(VTab,null,{default:withCtx(()=>[createTextVNode(" Heroes ")]),_:1})]),_:1},8,["modelValue"]),createVNode(VSpacer),createVNode(VBtn,{icon:"mdi-home",to:"/dashboard"})]),_:1}),createVNode(VWindow,{modelValue:t.tab,"onUpdate:modelValue":e[1]||(e[1]=c=>t.tab=c)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.windows,c=>(openBlock(),createBlock(VWindowItem,null,{default:withCtx(()=>[createVNode(a,{items:c.items,"label-field":c.labelField,type:c.type},null,8,["items","label-field","type"])]),_:2},1024))),256))]),_:1},8,["modelValue"])])}const PortableSetup=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main={};function _sfc_render(t,e){return openBlock(),createElementBlock("h1",null,"Oops, it looks like the page you're looking for doesn't exist.")}const NotFound=_export_sfc(_sfc_main,[["render",_sfc_render]]),routes=[{path:"/",name:"Home",component:Home},{path:"/dashboard",name:"Dashboard",component:Dashboard,meta:{requireAuth:!0}},{path:"/settings/:section*",name:"Settings",component:Settings,meta:{requireAuth:!0},props:!0},{path:"/portable",name:"Portable Setup",component:PortableSetup,meta:{requireAuth:!0}},{path:"/admin",name:"Admin",component:Admin,meta:{requireAuth:!0},children:[{path:"add-expansion",name:"Add Expansion",component:AdminAddExpansion,meta:{requireAuth:!0}},{path:"handlers",name:"Manage Handlers",component:AdminManageHandlers,meta:{requireAuth:!0}}]},{path:"/keywords",name:"Keywords",component:Keywords},{path:"/:catchAll(.*)",component:NotFound}],router=createRouter({history:createWebHistory(),routes}),app=createApp(App),pinia=createPinia();app.use(pinia);app.use(router);registerPlugins(app);app.mount("#app");
